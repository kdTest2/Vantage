/*
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
(function(a4,aH){var aj,z,aD=typeof aH,aM=a4.location,n=a4.document,bY=n.documentElement,bk=a4.jQuery,J=a4.$,ab={},a8=[],v="1.10.2",aJ=a8.concat,ap=a8.push,a6=a8.slice,aN=a8.indexOf,B=ab.toString,W=ab.hasOwnProperty,aR=v.trim,bL=function(e,b6){return new bL.fn.init(e,b6,z)},bC=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ad=/\S+/g,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bj=/^[\],:{}\s]*$/,bm=/(?:^|:|,)(?:\s*\[)+/g,bI=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a0=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bU=/^-ms-/,aW=/-([\da-z])/gi,N=function(e,b6){return b6.toUpperCase()},bZ=function(e){if(n.addEventListener||e.type==="load"||n.readyState==="complete"){bn();bL.ready()}},bn=function(){if(n.addEventListener){n.removeEventListener("DOMContentLoaded",bZ,false);a4.removeEventListener("load",bZ,false)}else{n.detachEvent("onreadystatechange",bZ);a4.detachEvent("onload",bZ)}};bL.fn=bL.prototype={jquery:v,constructor:bL,init:function(e,b8,b7){var b6,b9;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b6=[null,e,null]}else{b6=bt.exec(e)}if(b6&&(b6[1]||!b8)){if(b6[1]){b8=b8 instanceof bL?b8[0]:b8;bL.merge(this,bL.parseHTML(b6[1],b8&&b8.nodeType?b8.ownerDocument||b8:n,true));if(a.test(b6[1])&&bL.isPlainObject(b8)){for(b6 in b8){if(bL.isFunction(this[b6])){this[b6](b8[b6])}else{this.attr(b6,b8[b6])}}}return this}else{b9=n.getElementById(b6[2]);if(b9&&b9.parentNode){if(b9.id!==b6[2]){return b7.find(e)}this.length=1;this[0]=b9}this.context=n;this.selector=e;return this}}else{if(!b8||b8.jquery){return(b8||b7).find(e)}else{return this.constructor(b8).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bL.isFunction(e)){return b7.ready(e)}}}if(e.selector!==aH){this.selector=e.selector;this.context=e.context}return bL.makeArray(e,this)},selector:"",length:0,toArray:function(){return a6.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b6=bL.merge(this.constructor(),e);b6.prevObject=this;b6.context=this.context;return b6},each:function(b6,e){return bL.each(this,b6,e)},ready:function(e){bL.ready.promise().done(e);return this},slice:function(){return this.pushStack(a6.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b7){var e=this.length,b6=+b7+(b7<0?e:0);return this.pushStack(b6>=0&&b6<e?[this[b6]]:[])},map:function(e){return this.pushStack(bL.map(this,function(b7,b6){return e.call(b7,b6,b7)}))},end:function(){return this.prevObject||this.constructor(null)},push:ap,sort:[].sort,splice:[].splice};bL.fn.init.prototype=bL.fn;bL.extend=bL.fn.extend=function(){var e,cb,b6,b7,ce,cc,ca=arguments[0]||{},b9=1,b8=arguments.length,cd=false;if(typeof ca==="boolean"){cd=ca;ca=arguments[1]||{};b9=2}if(typeof ca!=="object"&&!bL.isFunction(ca)){ca={}}if(b8===b9){ca=this;--b9}for(;b9<b8;b9++){if((ce=arguments[b9])!=null){for(b7 in ce){e=ca[b7];b6=ce[b7];if(ca===b6){continue}if(cd&&b6&&(bL.isPlainObject(b6)||(cb=bL.isArray(b6)))){if(cb){cb=false;cc=e&&bL.isArray(e)?e:[]}else{cc=e&&bL.isPlainObject(e)?e:{}}ca[b7]=bL.extend(cd,cc,b6)}else{if(b6!==aH){ca[b7]=b6}}}}}return ca};bL.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),noConflict:function(e){if(a4.$===bL){a4.$=J}if(e&&a4.jQuery===bL){a4.jQuery=bk}return bL},isReady:false,readyWait:1,holdReady:function(e){if(e){bL.readyWait++}else{bL.ready(true)}},ready:function(e){if(e===true?--bL.readyWait:bL.isReady){return}if(!n.body){return setTimeout(bL.ready)}bL.isReady=true;if(e!==true&&--bL.readyWait>0){return}aj.resolveWith(n,[bL]);if(bL.fn.trigger){bL(n).trigger("ready").off("ready")}},isFunction:function(e){return bL.type(e)==="function"},isArray:Array.isArray||function(e){return bL.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?ab[B.call(e)]||"object":typeof e},isPlainObject:function(b8){var b6;if(!b8||bL.type(b8)!=="object"||b8.nodeType||bL.isWindow(b8)){return false}try{if(b8.constructor&&!W.call(b8,"constructor")&&!W.call(b8.constructor.prototype,"isPrototypeOf")){return false}}catch(b7){return false}if(bL.support.ownLast){for(b6 in b8){return W.call(b8,b6)}}for(b6 in b8){}return b6===aH||W.call(b8,b6)},isEmptyObject:function(b6){var e;for(e in b6){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b9,b7,b8){if(!b9||typeof b9!=="string"){return null}if(typeof b7==="boolean"){b8=b7;b7=false}b7=b7||n;var b6=a.exec(b9),e=!b8&&[];if(b6){return[b7.createElement(b6[1])]}b6=bL.buildFragment([b9],b7,e);if(e){bL(e).remove()}return bL.merge([],b6.childNodes)},parseJSON:function(e){if(a4.JSON&&a4.JSON.parse){return a4.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bL.trim(e);if(e){if(bj.test(e.replace(bI,"@").replace(a0,"]").replace(bm,""))){return(new Function("return "+e))()}}}bL.error("Invalid JSON: "+e)},parseXML:function(b8){var b6,b7;if(!b8||typeof b8!=="string"){return null}try{if(a4.DOMParser){b7=new DOMParser();b6=b7.parseFromString(b8,"text/xml")}else{b6=new ActiveXObject("Microsoft.XMLDOM");b6.async="false";b6.loadXML(b8)}}catch(b9){b6=aH}if(!b6||!b6.documentElement||b6.getElementsByTagName("parsererror").length){bL.error("Invalid XML: "+b8)}return b6},noop:function(){},globalEval:function(e){if(e&&bL.trim(e)){(a4.execScript||function(b6){a4["eval"].call(a4,b6)})(e)}},camelCase:function(e){return e.replace(bU,"ms-").replace(aW,N)},nodeName:function(b6,e){return b6.nodeName&&b6.nodeName.toLowerCase()===e.toLowerCase()},each:function(ca,cb,b6){var b9,b7=0,b8=ca.length,e=ac(ca);if(b6){if(e){for(;b7<b8;b7++){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}else{for(b7 in ca){b9=cb.apply(ca[b7],b6);if(b9===false){break}}}}else{if(e){for(;b7<b8;b7++){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}else{for(b7 in ca){b9=cb.call(ca[b7],b7,ca[b7]);if(b9===false){break}}}}return ca},trim:aR&&!aR.call("\uFEFF\xA0")?function(e){return e==null?"":aR.call(e)}:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,b7){var b6=b7||[];if(e!=null){if(ac(Object(e))){bL.merge(b6,typeof e==="string"?[e]:e)}else{ap.call(b6,e)}}return b6},inArray:function(b8,b6,b7){var e;if(b6){if(aN){return aN.call(b6,b8,b7)}e=b6.length;b7=b7?b7<0?Math.max(0,e+b7):b7:0;for(;b7<e;b7++){if(b7 in b6&&b6[b7]===b8){return b7}}}return -1},merge:function(b9,b7){var e=b7.length,b8=b9.length,b6=0;if(typeof e==="number"){for(;b6<e;b6++){b9[b8++]=b7[b6]}}else{while(b7[b6]!==aH){b9[b8++]=b7[b6++]}}b9.length=b8;return b9},grep:function(b6,cb,e){var ca,b7=[],b8=0,b9=b6.length;e=!!e;for(;b8<b9;b8++){ca=!!cb(b6[b8],b8);if(e!==ca){b7.push(b6[b8])}}return b7},map:function(b7,cc,e){var cb,b9=0,ca=b7.length,b6=ac(b7),b8=[];if(b6){for(;b9<ca;b9++){cb=cc(b7[b9],b9,e);if(cb!=null){b8[b8.length]=cb}}}else{for(b9 in b7){cb=cc(b7[b9],b9,e);if(cb!=null){b8[b8.length]=cb}}}return aJ.apply([],b8)},guid:1,proxy:function(b9,b8){var e,b7,b6;if(typeof b8==="string"){b6=b9[b8];b8=b9;b9=b6}if(!bL.isFunction(b9)){return aH}e=a6.call(arguments,2);b7=function(){return b9.apply(b8||this,e.concat(a6.call(arguments)))};b7.guid=b9.guid=b9.guid||bL.guid++;return b7},access:function(e,ca,cc,cb,b8,ce,cd){var b7=0,b6=e.length,b9=cc==null;if(bL.type(cc)==="object"){b8=true;for(b7 in cc){bL.access(e,ca,b7,cc[b7],true,ce,cd)}}else{if(cb!==aH){b8=true;if(!bL.isFunction(cb)){cd=true}if(b9){if(cd){ca.call(e,cb);ca=null}else{b9=ca;ca=function(cg,cf,ch){return b9.call(bL(cg),ch)}}}if(ca){for(;b7<b6;b7++){ca(e[b7],cc,cd?cb:cb.call(e[b7],b7,ca(e[b7],cc)))}}}}return b8?e:b9?ca.call(e):b6?ca(e[0],cc):ce},now:function(){return(new Date()).getTime()},swap:function(ca,b9,cb,b8){var b7,b6,e={};for(b6 in b9){e[b6]=ca.style[b6];ca.style[b6]=b9[b6]}b7=cb.apply(ca,b8||[]);for(b6 in b9){ca.style[b6]=e[b6]}return b7}});bL.ready.promise=function(b9){if(!aj){aj=bL.Deferred();if(n.readyState==="complete"){setTimeout(bL.ready)}else{if(n.addEventListener){n.addEventListener("DOMContentLoaded",bZ,false);a4.addEventListener("load",bZ,false)}else{n.attachEvent("onreadystatechange",bZ);a4.attachEvent("onload",bZ);var b8=false;try{b8=a4.frameElement==null&&n.documentElement}catch(b7){}if(b8&&b8.doScroll){(function b6(){if(!bL.isReady){try{b8.doScroll("left")}catch(ca){return setTimeout(b6,50)}bn();bL.ready()}})()}}}}return aj.promise(b9)};bL.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b6,e){ab["[object "+e+"]"]=e.toLowerCase()});function ac(b7){var b6=b7.length,e=bL.type(b7);if(bL.isWindow(b7)){return false}if(b7.nodeType===1&&b6){return true}return e==="array"||e!=="function"&&(b6===0||typeof b6==="number"&&b6>0&&(b6-1) in b7)}z=bL(n);
/*
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
(function(di,ck){var cz,dl,cf,cp,cI,cL,cW,dq,cJ,cZ,cD,cq,db,c6,dj,ce,cG,dd="sizzle"+-(new Date()),cK=di.document,dm=0,c7=0,b9=cB(),dc=cB(),cH=cB(),cX=false,cF=function(dr,e){if(dr===e){cX=true;return 0}return 0},dh=typeof ck,cR=1<<31,cP=({}).hasOwnProperty,df=[],dg=df.pop,cN=df.push,b7=df.push,co=df.slice,cd=df.indexOf||function(ds){var dr=0,e=this.length;for(;dr<e;dr++){if(this[dr]===ds){return dr}}return -1},b8="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cr="[\\x20\\t\\r\\n\\f]",b6="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cM=b6.replace("w","w#"),c9="\\["+cr+"*("+b6+")"+cr+"*(?:([*^$|!~]?=)"+cr+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cM+")|)|)"+cr+"*\\]",cm=":("+b6+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c9.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+cr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cr+"+$","g"),cw=new RegExp("^"+cr+"*,"+cr+"*"),cC=new RegExp("^"+cr+"*([>+~]|"+cr+")"+cr+"*"),c4=new RegExp(cr+"*[+~]"),cv=new RegExp("="+cr+"*([^\\]'\"]*)"+cr+"*\\]","g"),cT=new RegExp(cm),cU=new RegExp("^"+cM+"$"),c5={ID:new RegExp("^#("+b6+")"),CLASS:new RegExp("^\\.("+b6+")"),TAG:new RegExp("^("+b6.replace("w","w*")+")"),ATTR:new RegExp("^"+c9),PSEUDO:new RegExp("^"+cm),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cr+"*(even|odd|(([+-]|)(\\d*)n|)"+cr+"*(?:([+-]|)"+cr+"*(\\d+)|))"+cr+"*\\)|)","i"),bool:new RegExp("^(?:"+b8+")$","i"),needsContext:new RegExp("^"+cr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cr+"*((?:-\\d)?\\d*)"+cr+"*\\)|)(?=[^-]|$)","i")},cQ=/^[^{]+\{\s*\[native \w/,cS=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cc=/^(?:input|select|textarea|button)$/i,cn=/^h\d$/i,cO=/'|\\/g,cu=new RegExp("\\\\([\\da-f]{1,6}"+cr+"?|("+cr+")|.)","ig"),c8=function(e,dt,dr){var ds="0x"+dt-65536;return ds!==ds||dr?dt:ds<0?String.fromCharCode(ds+65536):String.fromCharCode(ds>>10|55296,ds&1023|56320)};try{b7.apply((df=co.call(cK.childNodes)),cK.childNodes);df[cK.childNodes.length].nodeType}catch(cE){b7={apply:df.length?function(dr,e){cN.apply(dr,co.call(e))}:function(dt,ds){var e=dt.length,dr=0;while((dt[e++]=ds[dr++])){}dt.length=e-1}}}function cx(dy,dr,dC,dE){var dD,dv,dw,dA,dB,du,dt,e,ds,dz;if((dr?dr.ownerDocument||dr:cK)!==cD){cZ(dr)}dr=dr||cD;dC=dC||[];if(!dy||typeof dy!=="string"){return dC}if((dA=dr.nodeType)!==1&&dA!==9){return[]}if(db&&!dE){if((dD=cS.exec(dy))){if((dw=dD[1])){if(dA===9){dv=dr.getElementById(dw);if(dv&&dv.parentNode){if(dv.id===dw){dC.push(dv);return dC}}else{return dC}}else{if(dr.ownerDocument&&(dv=dr.ownerDocument.getElementById(dw))&&cG(dr,dv)&&dv.id===dw){dC.push(dv);return dC}}}else{if(dD[2]){b7.apply(dC,dr.getElementsByTagName(dy));return dC}else{if((dw=dD[3])&&dl.getElementsByClassName&&dr.getElementsByClassName){b7.apply(dC,dr.getElementsByClassName(dw));return dC}}}}if(dl.qsa&&(!c6||!c6.test(dy))){e=dt=dd;ds=dr;dz=dA===9&&dy;if(dA===1&&dr.nodeName.toLowerCase()!=="object"){du=ci(dy);if((dt=dr.getAttribute("id"))){e=dt.replace(cO,"\\$&")}else{dr.setAttribute("id",e)}e="[id='"+e+"'] ";dB=du.length;while(dB--){du[dB]=e+cj(du[dB])}ds=c4.test(dy)&&dr.parentNode||dr;dz=du.join(",")}if(dz){try{b7.apply(dC,ds.querySelectorAll(dz));return dC}catch(dx){}finally{if(!dt){dr.removeAttribute("id")}}}}}return dk(dy.replace(ct,"$1"),dr,dC,dE)}function cB(){var dr=[];function e(ds,dt){if(dr.push(ds+=" ")>cp.cacheLength){delete e[dr.shift()]}return(e[ds]=dt)}return e}function cl(e){e[dd]=true;return e}function cg(dr){var dt=cD.createElement("div");try{return !!dr(dt)}catch(ds){return false}finally{if(dt.parentNode){dt.parentNode.removeChild(dt)}dt=null}}function dn(dr,dt){var e=dr.split("|"),ds=dr.length;while(ds--){cp.attrHandle[e[ds]]=dt}}function ca(dr,e){var dt=e&&dr,ds=dt&&dr.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||cR)-(~dr.sourceIndex||cR);if(ds){return ds}if(dt){while((dt=dt.nextSibling)){if(dt===e){return -1}}}return dr?1:-1}function cy(e){return function(ds){var dr=ds.nodeName.toLowerCase();return dr==="input"&&ds.type===e}}function cb(e){return function(ds){var dr=ds.nodeName.toLowerCase();return(dr==="input"||dr==="button")&&ds.type===e}}function da(e){return cl(function(dr){dr=+dr;return cl(function(ds,dw){var du,dt=e([],ds.length,dr),dv=dt.length;while(dv--){if(ds[(du=dt[dv])]){ds[du]=!(dw[du]=ds[du])}}})})}cL=cx.isXML=function(e){var dr=e&&(e.ownerDocument||e).documentElement;return dr?dr.nodeName!=="HTML":false};dl=cx.support={};cZ=cx.setDocument=function(dr){var ds=dr?dr.ownerDocument||dr:cK,e=ds.defaultView;if(ds===cD||ds.nodeType!==9||!ds.documentElement){return cD}cD=ds;cq=ds.documentElement;db=!cL(ds);if(e&&e.attachEvent&&e!==e.top){e.attachEvent("onbeforeunload",function(){cZ()})}dl.attributes=cg(function(dt){dt.className="i";return !dt.getAttribute("className")});dl.getElementsByTagName=cg(function(dt){dt.appendChild(ds.createComment(""));return !dt.getElementsByTagName("*").length});dl.getElementsByClassName=cg(function(dt){dt.innerHTML="<div class='a'></div><div class='a i'></div>";dt.firstChild.className="i";return dt.getElementsByClassName("i").length===2});dl.getById=cg(function(dt){cq.appendChild(dt).id=dd;return !ds.getElementsByName||!ds.getElementsByName(dd).length});if(dl.getById){cp.find.ID=function(dv,du){if(typeof du.getElementById!==dh&&db){var dt=du.getElementById(dv);return dt&&dt.parentNode?[dt]:[]}};cp.filter.ID=function(du){var dt=du.replace(cu,c8);return function(dv){return dv.getAttribute("id")===dt}}}else{delete cp.find.ID;cp.filter.ID=function(du){var dt=du.replace(cu,c8);return function(dw){var dv=typeof dw.getAttributeNode!==dh&&dw.getAttributeNode("id");return dv&&dv.value===dt}}}cp.find.TAG=dl.getElementsByTagName?function(dt,du){if(typeof du.getElementsByTagName!==dh){return du.getElementsByTagName(dt)}}:function(dt,dx){var dy,dw=[],dv=0,du=dx.getElementsByTagName(dt);if(dt==="*"){while((dy=du[dv++])){if(dy.nodeType===1){dw.push(dy)}}return dw}return du};cp.find.CLASS=dl.getElementsByClassName&&function(du,dt){if(typeof dt.getElementsByClassName!==dh&&db){return dt.getElementsByClassName(du)}};dj=[];c6=[];if((dl.qsa=cQ.test(ds.querySelectorAll))){cg(function(dt){dt.innerHTML="<select><option selected=''></option></select>";if(!dt.querySelectorAll("[selected]").length){c6.push("\\["+cr+"*(?:value|"+b8+")")}if(!dt.querySelectorAll(":checked").length){c6.push(":checked")}});cg(function(du){var dt=ds.createElement("input");dt.setAttribute("type","hidden");du.appendChild(dt).setAttribute("t","");if(du.querySelectorAll("[t^='']").length){c6.push("[*^$]="+cr+"*(?:''|\"\")")}if(!du.querySelectorAll(":enabled").length){c6.push(":enabled",":disabled")}du.querySelectorAll("*,:x");c6.push(",.*:")})}if((dl.matchesSelector=cQ.test((ce=cq.webkitMatchesSelector||cq.mozMatchesSelector||cq.oMatchesSelector||cq.msMatchesSelector)))){cg(function(dt){dl.disconnectedMatch=ce.call(dt,"div");ce.call(dt,"[s!='']:x");dj.push("!=",cm)})}c6=c6.length&&new RegExp(c6.join("|"));dj=dj.length&&new RegExp(dj.join("|"));cG=cQ.test(cq.contains)||cq.compareDocumentPosition?function(du,dt){var dw=du.nodeType===9?du.documentElement:du,dv=dt&&dt.parentNode;return du===dv||!!(dv&&dv.nodeType===1&&(dw.contains?dw.contains(dv):du.compareDocumentPosition&&du.compareDocumentPosition(dv)&16))}:function(du,dt){if(dt){while((dt=dt.parentNode)){if(dt===du){return true}}}return false};cF=cq.compareDocumentPosition?function(du,dt){if(du===dt){cX=true;return 0}var dv=dt.compareDocumentPosition&&du.compareDocumentPosition&&du.compareDocumentPosition(dt);if(dv){if(dv&1||(!dl.sortDetached&&dt.compareDocumentPosition(du)===dv)){if(du===ds||cG(cK,du)){return -1}if(dt===ds||cG(cK,dt)){return 1}return cJ?(cd.call(cJ,du)-cd.call(cJ,dt)):0}return dv&4?-1:1}return du.compareDocumentPosition?-1:1}:function(du,dt){var dA,dx=0,dz=du.parentNode,dw=dt.parentNode,dv=[du],dy=[dt];if(du===dt){cX=true;return 0}else{if(!dz||!dw){return du===ds?-1:dt===ds?1:dz?-1:dw?1:cJ?(cd.call(cJ,du)-cd.call(cJ,dt)):0}else{if(dz===dw){return ca(du,dt)}}}dA=du;while((dA=dA.parentNode)){dv.unshift(dA)}dA=dt;while((dA=dA.parentNode)){dy.unshift(dA)}while(dv[dx]===dy[dx]){dx++}return dx?ca(dv[dx],dy[dx]):dv[dx]===cK?-1:dy[dx]===cK?1:0};return ds};cx.matches=function(dr,e){return cx(dr,null,null,e)};cx.matchesSelector=function(ds,du){if((ds.ownerDocument||ds)!==cD){cZ(ds)}du=du.replace(cv,"='$1']");if(dl.matchesSelector&&db&&(!dj||!dj.test(du))&&(!c6||!c6.test(du))){try{var dr=ce.call(ds,du);if(dr||dl.disconnectedMatch||ds.document&&ds.document.nodeType!==11){return dr}}catch(dt){}}return cx(du,cD,null,[ds]).length>0};cx.contains=function(e,dr){if((e.ownerDocument||e)!==cD){cZ(e)}return cG(e,dr)};cx.attr=function(ds,e){if((ds.ownerDocument||ds)!==cD){cZ(ds)}var dr=cp.attrHandle[e.toLowerCase()],dt=dr&&cP.call(cp.attrHandle,e.toLowerCase())?dr(ds,e,!db):ck;return dt===ck?dl.attributes||!db?ds.getAttribute(e):(dt=ds.getAttributeNode(e))&&dt.specified?dt.value:null:dt};cx.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cx.uniqueSort=function(ds){var dt,du=[],e=0,dr=0;cX=!dl.detectDuplicates;cJ=!dl.sortStable&&ds.slice(0);ds.sort(cF);if(cX){while((dt=ds[dr++])){if(dt===ds[dr]){e=du.push(dr)}}while(e--){ds.splice(du[e],1)}}return ds};cI=cx.getText=function(du){var dt,dr="",ds=0,e=du.nodeType;if(!e){for(;(dt=du[ds]);ds++){dr+=cI(dt)}}else{if(e===1||e===9||e===11){if(typeof du.textContent==="string"){return du.textContent}else{for(du=du.firstChild;du;du=du.nextSibling){dr+=cI(du)}}}else{if(e===3||e===4){return du.nodeValue}}}return dr};cp=cx.selectors={cacheLength:50,createPseudo:cl,match:c5,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cu,c8);e[3]=(e[4]||e[5]||"").replace(cu,c8);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cx.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cx.error(e[0])}}return e},PSEUDO:function(dr){var e,ds=!dr[5]&&dr[2];if(c5.CHILD.test(dr[0])){return null}if(dr[3]&&dr[4]!==ck){dr[2]=dr[4]}else{if(ds&&cT.test(ds)&&(e=ci(ds,true))&&(e=ds.indexOf(")",ds.length-e)-ds.length)){dr[0]=dr[0].slice(0,e);dr[2]=ds.slice(0,e)}}return dr.slice(0,3)}},filter:{TAG:function(dr){var e=dr.replace(cu,c8).toLowerCase();return dr==="*"?function(){return true}:function(ds){return ds.nodeName&&ds.nodeName.toLowerCase()===e}},CLASS:function(e){var dr=b9[e+" "];return dr||(dr=new RegExp("(^|"+cr+")"+e+"("+cr+"|$)"))&&b9(e,function(ds){return dr.test(typeof ds.className==="string"&&ds.className||typeof ds.getAttribute!==dh&&ds.getAttribute("class")||"")})},ATTR:function(ds,dr,e){return function(du){var dt=cx.attr(du,ds);if(dt==null){return dr==="!="}if(!dr){return true}dt+="";return dr==="="?dt===e:dr==="!="?dt!==e:dr==="^="?e&&dt.indexOf(e)===0:dr==="*="?e&&dt.indexOf(e)>-1:dr==="$="?e&&dt.slice(-e.length)===e:dr==="~="?(" "+dt+" ").indexOf(e)>-1:dr==="|="?dt===e||dt.slice(0,e.length+1)===e+"-":false}},CHILD:function(dr,du,dt,dv,ds){var dx=dr.slice(0,3)!=="nth",e=dr.slice(-4)!=="last",dw=du==="of-type";return dv===1&&ds===0?function(dy){return !!dy.parentNode}:function(dE,dC,dH){var dy,dK,dF,dJ,dG,dB,dD=dx!==e?"nextSibling":"previousSibling",dI=dE.parentNode,dA=dw&&dE.nodeName.toLowerCase(),dz=!dH&&!dw;if(dI){if(dx){while(dD){dF=dE;while((dF=dF[dD])){if(dw?dF.nodeName.toLowerCase()===dA:dF.nodeType===1){return false}}dB=dD=dr==="only"&&!dB&&"nextSibling"}return true}dB=[e?dI.firstChild:dI.lastChild];if(e&&dz){dK=dI[dd]||(dI[dd]={});dy=dK[dr]||[];dG=dy[0]===dm&&dy[1];dJ=dy[0]===dm&&dy[2];dF=dG&&dI.childNodes[dG];while((dF=++dG&&dF&&dF[dD]||(dJ=dG=0)||dB.pop())){if(dF.nodeType===1&&++dJ&&dF===dE){dK[dr]=[dm,dG,dJ];break}}}else{if(dz&&(dy=(dE[dd]||(dE[dd]={}))[dr])&&dy[0]===dm){dJ=dy[1]}else{while((dF=++dG&&dF&&dF[dD]||(dJ=dG=0)||dB.pop())){if((dw?dF.nodeName.toLowerCase()===dA:dF.nodeType===1)&&++dJ){if(dz){(dF[dd]||(dF[dd]={}))[dr]=[dm,dJ]}if(dF===dE){break}}}}}dJ-=ds;return dJ===dv||(dJ%dv===0&&dJ/dv>=0)}}},PSEUDO:function(dt,ds){var e,dr=cp.pseudos[dt]||cp.setFilters[dt.toLowerCase()]||cx.error("unsupported pseudo: "+dt);if(dr[dd]){return dr(ds)}if(dr.length>1){e=[dt,dt,"",ds];return cp.setFilters.hasOwnProperty(dt.toLowerCase())?cl(function(dw,dy){var dv,du=dr(dw,ds),dx=du.length;while(dx--){dv=cd.call(dw,du[dx]);dw[dv]=!(dy[dv]=du[dx])}}):function(du){return dr(du,0,e)}}return dr}},pseudos:{not:cl(function(e){var dr=[],ds=[],dt=cW(e.replace(ct,"$1"));return dt[dd]?cl(function(dv,dA,dy,dw){var dz,du=dt(dv,null,dw,[]),dx=dv.length;while(dx--){if((dz=du[dx])){dv[dx]=!(dA[dx]=dz)}}}):function(dw,dv,du){dr[0]=dw;dt(dr,null,du,ds);return !ds.pop()}}),has:cl(function(e){return function(dr){return cx(e,dr).length>0}}),contains:cl(function(e){return function(dr){return(dr.textContent||dr.innerText||cI(dr)).indexOf(e)>-1}}),lang:cl(function(e){if(!cU.test(e||"")){cx.error("unsupported lang: "+e)}e=e.replace(cu,c8).toLowerCase();return function(ds){var dr;do{if((dr=db?ds.lang:ds.getAttribute("xml:lang")||ds.getAttribute("lang"))){dr=dr.toLowerCase();return dr===e||dr.indexOf(e+"-")===0}}while((ds=ds.parentNode)&&ds.nodeType===1);return false}}),target:function(e){var dr=di.location&&di.location.hash;return dr&&dr.slice(1)===e.id},root:function(e){return e===cq},focus:function(e){return e===cD.activeElement&&(!cD.hasFocus||cD.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dr=e.nodeName.toLowerCase();return(dr==="input"&&!!e.checked)||(dr==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cp.pseudos.empty(e)},header:function(e){return cn.test(e.nodeName)},input:function(e){return cc.test(e.nodeName)},button:function(dr){var e=dr.nodeName.toLowerCase();return e==="input"&&dr.type==="button"||e==="button"},text:function(dr){var e;return dr.nodeName.toLowerCase()==="input"&&dr.type==="text"&&((e=dr.getAttribute("type"))==null||e.toLowerCase()===dr.type)},first:da(function(){return[0]}),last:da(function(e,dr){return[dr-1]}),eq:da(function(e,ds,dr){return[dr<0?dr+ds:dr]}),even:da(function(e,ds){var dr=0;for(;dr<ds;dr+=2){e.push(dr)}return e}),odd:da(function(e,ds){var dr=1;for(;dr<ds;dr+=2){e.push(dr)}return e}),lt:da(function(e,dt,ds){var dr=ds<0?ds+dt:ds;for(;--dr>=0;){e.push(dr)}return e}),gt:da(function(e,dt,ds){var dr=ds<0?ds+dt:ds;for(;++dr<dt;){e.push(dr)}return e})}};cp.pseudos.nth=cp.pseudos.eq;for(cz in {radio:true,checkbox:true,file:true,password:true,image:true}){cp.pseudos[cz]=cy(cz)}for(cz in {submit:true,reset:true}){cp.pseudos[cz]=cb(cz)}function cV(){}cV.prototype=cp.filters=cp.pseudos;cp.setFilters=new cV();function ci(du,dz){var dr,dv,dx,dy,dw,ds,e,dt=dc[du+" "];if(dt){return dz?0:dt.slice(0)}dw=du;ds=[];e=cp.preFilter;while(dw){if(!dr||(dv=cw.exec(dw))){if(dv){dw=dw.slice(dv[0].length)||dw}ds.push(dx=[])}dr=false;if((dv=cC.exec(dw))){dr=dv.shift();dx.push({value:dr,type:dv[0].replace(ct," ")});dw=dw.slice(dr.length)}for(dy in cp.filter){if((dv=c5[dy].exec(dw))&&(!e[dy]||(dv=e[dy](dv)))){dr=dv.shift();dx.push({value:dr,type:dy,matches:dv});dw=dw.slice(dr.length)}}if(!dr){break}}return dz?dw.length:dw?cx.error(du):dc(du,ds).slice(0)}function cj(dt){var ds=0,dr=dt.length,e="";for(;ds<dr;ds++){e+=dt[ds].value}return e}function cs(du,ds,dt){var e=ds.dir,dv=dt&&e==="parentNode",dr=c7++;return ds.first?function(dy,dx,dw){while((dy=dy[e])){if(dy.nodeType===1||dv){return du(dy,dx,dw)}}}:function(dA,dy,dx){var dC,dw,dz,dB=dm+" "+dr;if(dx){while((dA=dA[e])){if(dA.nodeType===1||dv){if(du(dA,dy,dx)){return true}}}}else{while((dA=dA[e])){if(dA.nodeType===1||dv){dz=dA[dd]||(dA[dd]={});if((dw=dz[e])&&dw[0]===dB){if((dC=dw[1])===true||dC===cf){return dC===true}}else{dw=dz[e]=[dB];dw[1]=du(dA,dy,dx)||cf;if(dw[1]===true){return true}}}}}}}function dp(e){return e.length>1?function(du,dt,dr){var ds=e.length;while(ds--){if(!e[ds](du,dt,dr)){return false}}return true}:e[0]}function c0(e,dr,ds,dt,dw){var du,dz=[],dv=0,dx=e.length,dy=dr!=null;for(;dv<dx;dv++){if((du=e[dv])){if(!ds||ds(du,dt,dw)){dz.push(du);if(dy){dr.push(dv)}}}}return dz}function ch(ds,dr,du,dt,dv,e){if(dt&&!dt[dd]){dt=ch(dt)}if(dv&&!dv[dd]){dv=ch(dv,e)}return cl(function(dG,dD,dy,dF){var dI,dE,dA,dz=[],dH=[],dx=dD.length,dw=dG||cA(dr||"*",dy.nodeType?[dy]:dy,[]),dB=ds&&(dG||!dr)?c0(dw,dz,ds,dy,dF):dw,dC=du?dv||(dG?ds:dx||dt)?[]:dD:dB;if(du){du(dB,dC,dy,dF)}if(dt){dI=c0(dC,dH);dt(dI,[],dy,dF);dE=dI.length;while(dE--){if((dA=dI[dE])){dC[dH[dE]]=!(dB[dH[dE]]=dA)}}}if(dG){if(dv||ds){if(dv){dI=[];dE=dC.length;while(dE--){if((dA=dC[dE])){dI.push((dB[dE]=dA))}}dv(null,(dC=[]),dI,dF)}dE=dC.length;while(dE--){if((dA=dC[dE])&&(dI=dv?cd.call(dG,dA):dz[dE])>-1){dG[dI]=!(dD[dI]=dA)}}}}else{dC=c0(dC===dD?dC.splice(dx,dC.length):dC);if(dv){dv(null,dD,dC,dF)}else{b7.apply(dD,dC)}}})}function de(dw){var dr,du,ds,dv=dw.length,dz=cp.relative[dw[0].type],dA=dz||cp.relative[" "],dt=dz?1:0,dx=cs(function(dB){return dB===dr},dA,true),dy=cs(function(dB){return cd.call(dr,dB)>-1},dA,true),e=[function(dD,dC,dB){return(!dz&&(dB||dC!==dq))||((dr=dC).nodeType?dx(dD,dC,dB):dy(dD,dC,dB))}];for(;dt<dv;dt++){if((du=cp.relative[dw[dt].type])){e=[cs(dp(e),du)]}else{du=cp.filter[dw[dt].type].apply(null,dw[dt].matches);if(du[dd]){ds=++dt;for(;ds<dv;ds++){if(cp.relative[dw[ds].type]){break}}return ch(dt>1&&dp(e),dt>1&&cj(dw.slice(0,dt-1).concat({value:dw[dt-2].type===" "?"*":""})).replace(ct,"$1"),du,dt<ds&&de(dw.slice(dt,ds)),ds<dv&&de((dw=dw.slice(ds))),ds<dv&&cj(dw))}e.push(du)}}return dp(e)}function cY(dt,ds){var dv=0,e=ds.length>0,du=dt.length>0,dr=function(dF,dz,dE,dD,dL){var dA,dB,dG,dK=[],dJ=0,dC="0",dw=dF&&[],dH=dL!=null,dI=dq,dy=dF||du&&cp.find.TAG("*",dL&&dz.parentNode||dz),dx=(dm+=dI==null?1:Math.random()||0.1);if(dH){dq=dz!==cD&&dz;cf=dv}for(;(dA=dy[dC])!=null;dC++){if(du&&dA){dB=0;while((dG=dt[dB++])){if(dG(dA,dz,dE)){dD.push(dA);break}}if(dH){dm=dx;cf=++dv}}if(e){if((dA=!dG&&dA)){dJ--}if(dF){dw.push(dA)}}}dJ+=dC;if(e&&dC!==dJ){dB=0;while((dG=ds[dB++])){dG(dw,dK,dz,dE)}if(dF){if(dJ>0){while(dC--){if(!(dw[dC]||dK[dC])){dK[dC]=dg.call(dD)}}}dK=c0(dK)}b7.apply(dD,dK);if(dH&&!dF&&dK.length>0&&(dJ+ds.length)>1){cx.uniqueSort(dD)}}if(dH){dm=dx;dq=dI}return dw};return e?cl(dr):dr}cW=cx.compile=function(e,dv){var ds,dr=[],du=[],dt=cH[e+" "];if(!dt){if(!dv){dv=ci(e)}ds=dv.length;while(ds--){dt=de(dv[ds]);if(dt[dd]){dr.push(dt)}else{du.push(dt)}}dt=cH(e,cY(du,dr))}return dt};function cA(dr,du,dt){var ds=0,e=du.length;for(;ds<e;ds++){cx(dr,du[ds],dt)}return dt}function dk(ds,e,dt,dw){var du,dy,dr,dz,dx,dv=ci(ds);if(!dw){if(dv.length===1){dy=dv[0]=dv[0].slice(0);if(dy.length>2&&(dr=dy[0]).type==="ID"&&dl.getById&&e.nodeType===9&&db&&cp.relative[dy[1].type]){e=(cp.find.ID(dr.matches[0].replace(cu,c8),e)||[])[0];if(!e){return dt}ds=ds.slice(dy.shift().value.length)}du=c5.needsContext.test(ds)?0:dy.length;while(du--){dr=dy[du];if(cp.relative[(dz=dr.type)]){break}if((dx=cp.find[dz])){if((dw=dx(dr.matches[0].replace(cu,c8),c4.test(dy[0].type)&&e.parentNode||e))){dy.splice(du,1);ds=dw.length&&cj(dy);if(!ds){b7.apply(dt,dw);return dt}break}}}}}cW(ds,dv)(dw,e,!db,dt,c4.test(ds));return dt}dl.sortStable=dd.split("").sort(cF).join("")===dd;dl.detectDuplicates=cX;cZ();dl.sortDetached=cg(function(e){return e.compareDocumentPosition(cD.createElement("div"))&1});if(!cg(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){dn("type|href|height|width",function(dr,e,ds){if(!ds){return dr.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!dl.attributes||!cg(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){dn("value",function(dr,e,ds){if(!ds&&dr.nodeName.toLowerCase()==="input"){return dr.defaultValue}})}if(!cg(function(e){return e.getAttribute("disabled")==null})){dn(b8,function(dr,e,dt){var ds;if(!dt){return(ds=dr.getAttributeNode(e))&&ds.specified?ds.value:dr[e]===true?e.toLowerCase():null}})}bL.find=cx;bL.expr=cx.selectors;bL.expr[":"]=bL.expr.pseudos;bL.unique=cx.uniqueSort;bL.text=cx.getText;bL.isXMLDoc=cx.isXML;bL.contains=cx.contains})(a4);var b1={};function af(b6){var e=b1[b6]={};bL.each(b6.match(ad)||[],function(b8,b7){e[b7]=true});return e}bL.Callbacks=function(cf){cf=typeof cf==="string"?(b1[cf]||af(cf)):bL.extend({},cf);var b9,b8,e,ca,cb,b7,cc=[],cd=!cf.once&&[],b6=function(cg){b8=cf.memory&&cg;e=true;cb=b7||0;b7=0;ca=cc.length;b9=true;for(;cc&&cb<ca;cb++){if(cc[cb].apply(cg[0],cg[1])===false&&cf.stopOnFalse){b8=false;break}}b9=false;if(cc){if(cd){if(cd.length){b6(cd.shift())}}else{if(b8){cc=[]}else{ce.disable()}}}},ce={add:function(){if(cc){var ch=cc.length;(function cg(ci){bL.each(ci,function(ck,cj){var cl=bL.type(cj);if(cl==="function"){if(!cf.unique||!ce.has(cj)){cc.push(cj)}}else{if(cj&&cj.length&&cl!=="string"){cg(cj)}}})})(arguments);if(b9){ca=cc.length}else{if(b8){b7=ch;b6(b8)}}}return this},remove:function(){if(cc){bL.each(arguments,function(ci,cg){var ch;while((ch=bL.inArray(cg,cc,ch))>-1){cc.splice(ch,1);if(b9){if(ch<=ca){ca--}if(ch<=cb){cb--}}}})}return this},has:function(cg){return cg?bL.inArray(cg,cc)>-1:!!(cc&&cc.length)},empty:function(){cc=[];ca=0;return this},disable:function(){cc=cd=b8=aH;return this},disabled:function(){return !cc},lock:function(){cd=aH;if(!b8){ce.disable()}return this},locked:function(){return !cd},fireWith:function(ch,cg){if(cc&&(!e||cd)){cg=cg||[];cg=[ch,cg.slice?cg.slice():cg];if(b9){cd.push(cg)}else{b6(cg)}}return this},fire:function(){ce.fireWith(this,arguments);return this},fired:function(){return !!e}};return ce};bL.extend({Deferred:function(b7){var b6=[["resolve","done",bL.Callbacks("once memory"),"resolved"],["reject","fail",bL.Callbacks("once memory"),"rejected"],["notify","progress",bL.Callbacks("memory")]],b8="pending",b9={state:function(){return b8},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var ca=arguments;return bL.Deferred(function(cb){bL.each(b6,function(cd,cc){var cf=cc[0],ce=bL.isFunction(ca[cd])&&ca[cd];e[cc[1]](function(){var cg=ce&&ce.apply(this,arguments);if(cg&&bL.isFunction(cg.promise)){cg.promise().done(cb.resolve).fail(cb.reject).progress(cb.notify)}else{cb[cf+"With"](this===b9?cb.promise():this,ce?[cg]:arguments)}})});ca=null}).promise()},promise:function(ca){return ca!=null?bL.extend(ca,b9):b9}},e={};b9.pipe=b9.then;bL.each(b6,function(cb,ca){var cd=ca[2],cc=ca[3];b9[ca[1]]=cd.add;if(cc){cd.add(function(){b8=cc},b6[cb^1][2].disable,b6[2][2].lock)}e[ca[0]]=function(){e[ca[0]+"With"](this===e?b9:this,arguments);return this};e[ca[0]+"With"]=cd.fireWith});b9.promise(e);if(b7){b7.call(e,e)}return e},when:function(b9){var b7=0,cb=a6.call(arguments),e=cb.length,b6=e!==1||(b9&&bL.isFunction(b9.promise))?e:0,ce=b6===1?b9:bL.Deferred(),b8=function(cg,ch,cf){return function(ci){ch[cg]=this;cf[cg]=arguments.length>1?a6.call(arguments):ci;if(cf===cd){ce.notifyWith(ch,cf)}else{if(!(--b6)){ce.resolveWith(ch,cf)}}}},cd,ca,cc;if(e>1){cd=new Array(e);ca=new Array(e);cc=new Array(e);for(;b7<e;b7++){if(cb[b7]&&bL.isFunction(cb[b7].promise)){cb[b7].promise().done(b8(b7,cc,cb)).fail(ce.reject).progress(b8(b7,ca,cd))}else{--b6}}}if(!b6){ce.resolveWith(cc,cb)}return ce.promise()}});bL.support=(function(ch){var cg,ce,cd,cf,cc,b8,ca,b7,b9,b6=n.createElement("div");b6.setAttribute("className","t");b6.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cg=b6.getElementsByTagName("*")||[];ce=b6.getElementsByTagName("a")[0];if(!ce||!ce.style||!cg.length){return ch}cf=n.createElement("select");b8=cf.appendChild(n.createElement("option"));cd=b6.getElementsByTagName("input")[0];ce.style.cssText="top:1px;float:left;opacity:.5";ch.getSetAttribute=b6.className!=="t";ch.leadingWhitespace=b6.firstChild.nodeType===3;ch.tbody=!b6.getElementsByTagName("tbody").length;ch.htmlSerialize=!!b6.getElementsByTagName("link").length;ch.style=/top/.test(ce.getAttribute("style"));ch.hrefNormalized=ce.getAttribute("href")==="/a";ch.opacity=/^0.5/.test(ce.style.opacity);ch.cssFloat=!!ce.style.cssFloat;ch.checkOn=!!cd.value;ch.optSelected=b8.selected;ch.enctype=!!n.createElement("form").enctype;ch.html5Clone=n.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";ch.inlineBlockNeedsLayout=false;ch.shrinkWrapBlocks=false;ch.pixelPosition=false;ch.deleteExpando=true;ch.noCloneEvent=true;ch.reliableMarginRight=true;ch.boxSizingReliable=true;cd.checked=true;ch.noCloneChecked=cd.cloneNode(true).checked;cf.disabled=true;ch.optDisabled=!b8.disabled;try{delete b6.test}catch(cb){ch.deleteExpando=false}cd=n.createElement("input");cd.setAttribute("value","");ch.input=cd.getAttribute("value")==="";cd.value="t";cd.setAttribute("type","radio");ch.radioValue=cd.value==="t";cd.setAttribute("checked","t");cd.setAttribute("name","t");cc=n.createDocumentFragment();cc.appendChild(cd);ch.appendChecked=cd.checked;ch.checkClone=cc.cloneNode(true).cloneNode(true).lastChild.checked;if(b6.attachEvent){b6.attachEvent("onclick",function(){ch.noCloneEvent=false});b6.cloneNode(true).click()}for(b9 in {submit:true,change:true,focusin:true}){b6.setAttribute(ca="on"+b9,"t");ch[b9+"Bubbles"]=ca in a4||b6.attributes[ca].expando===false}b6.style.backgroundClip="content-box";b6.cloneNode(true).style.backgroundClip="";ch.clearCloneStyle=b6.style.backgroundClip==="content-box";for(b9 in bL(ch)){break}ch.ownLast=b9!=="0";bL(function(){var ci,cl,ck,cj="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=n.getElementsByTagName("body")[0];if(!e){return}ci=n.createElement("div");ci.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(ci).appendChild(b6);b6.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ck=b6.getElementsByTagName("td");ck[0].style.cssText="padding:0;margin:0;border:0;display:none";b7=(ck[0].offsetHeight===0);ck[0].style.display="";ck[1].style.display="none";ch.reliableHiddenOffsets=b7&&(ck[0].offsetHeight===0);b6.innerHTML="";b6.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";bL.swap(e,e.style.zoom!=null?{zoom:1}:{},function(){ch.boxSizing=b6.offsetWidth===4});if(a4.getComputedStyle){ch.pixelPosition=(a4.getComputedStyle(b6,null)||{}).top!=="1%";ch.boxSizingReliable=(a4.getComputedStyle(b6,null)||{width:"4px"}).width==="4px";cl=b6.appendChild(n.createElement("div"));cl.style.cssText=b6.style.cssText=cj;cl.style.marginRight=cl.style.width="0";b6.style.width="1px";ch.reliableMarginRight=!parseFloat((a4.getComputedStyle(cl,null)||{}).marginRight)}if(typeof b6.style.zoom!==aD){b6.innerHTML="";b6.style.cssText=cj+"width:1px;padding:1px;display:inline;zoom:1";ch.inlineBlockNeedsLayout=(b6.offsetWidth===3);b6.style.display="block";b6.innerHTML="<div></div>";b6.firstChild.style.width="5px";ch.shrinkWrapBlocks=(b6.offsetWidth!==3);if(ch.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(ci);ci=b6=ck=cl=null});cg=cf=cc=b8=ce=cd=null;return ch})({});var by=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aO=/([A-Z])/g;function bc(b8,b6,ca,b9){if(!bL.acceptData(b8)){return}var cc,cb,cd=bL.expando,ce=b8.nodeType,e=ce?bL.cache:b8,b7=ce?b8[cd]:b8[cd]&&cd;if((!b7||!e[b7]||(!b9&&!e[b7].data))&&ca===aH&&typeof b6==="string"){return}if(!b7){if(ce){b7=b8[cd]=a8.pop()||bL.guid++}else{b7=cd}}if(!e[b7]){e[b7]=ce?{}:{toJSON:bL.noop}}if(typeof b6==="object"||typeof b6==="function"){if(b9){e[b7]=bL.extend(e[b7],b6)}else{e[b7].data=bL.extend(e[b7].data,b6)}}cb=e[b7];if(!b9){if(!cb.data){cb.data={}}cb=cb.data}if(ca!==aH){cb[bL.camelCase(b6)]=ca}if(typeof b6==="string"){cc=cb[b6];if(cc==null){cc=cb[bL.camelCase(b6)]}}else{cc=cb}return cc}function aa(b9,b7,e){if(!bL.acceptData(b9)){return}var cb,b8,ca=b9.nodeType,b6=ca?bL.cache:b9,cc=ca?b9[bL.expando]:bL.expando;if(!b6[cc]){return}if(b7){cb=e?b6[cc]:b6[cc].data;if(cb){if(!bL.isArray(b7)){if(b7 in cb){b7=[b7]}else{b7=bL.camelCase(b7);if(b7 in cb){b7=[b7]}else{b7=b7.split(" ")}}}else{b7=b7.concat(bL.map(b7,bL.camelCase))}b8=b7.length;while(b8--){delete cb[b7[b8]]}if(e?!O(cb):!bL.isEmptyObject(cb)){return}}}if(!e){delete b6[cc].data;if(!O(b6[cc])){return}}if(ca){bL.cleanData([b9],true)}else{if(bL.support.deleteExpando||b6!=b6.window){delete b6[cc]}else{b6[cc]=null}}}bL.extend({cache:{},noData:{applet:true,embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?bL.cache[e[bL.expando]]:e[bL.expando];return !!e&&!O(e)},data:function(b6,e,b7){return bc(b6,e,b7)},removeData:function(b6,e){return aa(b6,e)},_data:function(b6,e,b7){return bc(b6,e,b7,true)},_removeData:function(b6,e){return aa(b6,e,true)},acceptData:function(b6){if(b6.nodeType&&b6.nodeType!==1&&b6.nodeType!==9){return false}var e=b6.nodeName&&bL.noData[b6.nodeName.toLowerCase()];return !e||e!==true&&b6.getAttribute("classid")===e}});bL.fn.extend({data:function(b8,cb){var b6,e,ca=null,b7=0,b9=this[0];if(b8===aH){if(this.length){ca=bL.data(b9);if(b9.nodeType===1&&!bL._data(b9,"parsedAttrs")){b6=b9.attributes;for(;b7<b6.length;b7++){e=b6[b7].name;if(e.indexOf("data-")===0){e=bL.camelCase(e.slice(5));bA(b9,e,ca[e])}}bL._data(b9,"parsedAttrs",true)}}return ca}if(typeof b8==="object"){return this.each(function(){bL.data(this,b8)})}return arguments.length>1?this.each(function(){bL.data(this,b8,cb)}):b9?bA(b9,b8,bL.data(b9,b8)):null},removeData:function(e){return this.each(function(){bL.removeData(this,e)})}});function bA(b8,b7,b9){if(b9===aH&&b8.nodeType===1){var b6="data-"+b7.replace(aO,"-$1").toLowerCase();b9=b8.getAttribute(b6);if(typeof b9==="string"){try{b9=b9==="true"?true:b9==="false"?false:b9==="null"?null:+b9+""===b9?+b9:by.test(b9)?bL.parseJSON(b9):b9}catch(ca){}bL.data(b8,b7,b9)}else{b9=aH}}return b9}function O(b6){var e;for(e in b6){if(e==="data"&&bL.isEmptyObject(b6[e])){continue}if(e!=="toJSON"){return false}}return true}bL.extend({queue:function(b7,b6,b8){var e;if(b7){b6=(b6||"fx")+"queue";e=bL._data(b7,b6);if(b8){if(!e||bL.isArray(b8)){e=bL._data(b7,b6,bL.makeArray(b8))}else{e.push(b8)}}return e||[]}},dequeue:function(ca,b9){b9=b9||"fx";var b6=bL.queue(ca,b9),cb=b6.length,b8=b6.shift(),e=bL._queueHooks(ca,b9),b7=function(){bL.dequeue(ca,b9)};if(b8==="inprogress"){b8=b6.shift();cb--}if(b8){if(b9==="fx"){b6.unshift("inprogress")}delete e.stop;b8.call(ca,b7,e)}if(!cb&&e){e.empty.fire()}},_queueHooks:function(b7,b6){var e=b6+"queueHooks";return bL._data(b7,e)||bL._data(b7,e,{empty:bL.Callbacks("once memory").add(function(){bL._removeData(b7,b6+"queue");bL._removeData(b7,e)})})}});bL.fn.extend({queue:function(e,b6){var b7=2;if(typeof e!=="string"){b6=e;e="fx";b7--}if(arguments.length<b7){return bL.queue(this[0],e)}return b6===aH?this:this.each(function(){var b8=bL.queue(this,e,b6);bL._queueHooks(this,e);if(e==="fx"&&b8[0]!=="inprogress"){bL.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bL.dequeue(this,e)})},delay:function(b6,e){b6=bL.fx?bL.fx.speeds[b6]||b6:b6;e=e||"fx";return this.queue(e,function(b8,b7){var b9=setTimeout(b8,b6);b7.stop=function(){clearTimeout(b9)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b7,cb){var b6,b8=1,cc=bL.Deferred(),ca=this,e=this.length,b9=function(){if(!(--b8)){cc.resolveWith(ca,[ca])}};if(typeof b7!=="string"){cb=b7;b7=aH}b7=b7||"fx";while(e--){b6=bL._data(ca[e],b7+"queueHooks");if(b6&&b6.empty){b8++;b6.empty.add(b9)}}b9();return cc.promise(cb)}});var ba,b2,bO=/[\t\r\n\f]/g,ak=/\r/g,aG=/^(?:input|select|textarea|button|object)$/i,F=/^(?:a|area)$/i,ar=/^(?:checked|selected)$/i,bR=bL.support.getSetAttribute,bH=bL.support.input;bL.fn.extend({attr:function(e,b6){return bL.access(this,bL.attr,e,b6,arguments.length>1)},removeAttr:function(e){return this.each(function(){bL.removeAttr(this,e)})},prop:function(e,b6){return bL.access(this,bL.prop,e,b6,arguments.length>1)},removeProp:function(e){e=bL.propFix[e]||e;return this.each(function(){try{this[e]=aH;delete this[e]}catch(b6){}})},addClass:function(cc){var b6,e,cd,b9,b7,b8=0,ca=this.length,cb=typeof cc==="string"&&cc;if(bL.isFunction(cc)){return this.each(function(ce){bL(this).addClass(cc.call(this,ce,this.className))})}if(cb){b6=(cc||"").match(ad)||[];for(;b8<ca;b8++){e=this[b8];cd=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bO," "):" ");if(cd){b7=0;while((b9=b6[b7++])){if(cd.indexOf(" "+b9+" ")<0){cd+=b9+" "}}e.className=bL.trim(cd)}}}return this},removeClass:function(cc){var b6,e,cd,b9,b7,b8=0,ca=this.length,cb=arguments.length===0||typeof cc==="string"&&cc;if(bL.isFunction(cc)){return this.each(function(ce){bL(this).removeClass(cc.call(this,ce,this.className))})}if(cb){b6=(cc||"").match(ad)||[];for(;b8<ca;b8++){e=this[b8];cd=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bO," "):"");if(cd){b7=0;while((b9=b6[b7++])){while(cd.indexOf(" "+b9+" ")>=0){cd=cd.replace(" "+b9+" "," ")}}e.className=cc?bL.trim(cd):""}}}return this},toggleClass:function(b7,e){var b6=typeof b7;if(typeof e==="boolean"&&b6==="string"){return e?this.addClass(b7):this.removeClass(b7)}if(bL.isFunction(b7)){return this.each(function(b8){bL(this).toggleClass(b7.call(this,b8,this.className,e),e)})}return this.each(function(){if(b6==="string"){var ca,b9=0,b8=bL(this),cb=b7.match(ad)||[];while((ca=cb[b9++])){if(b8.hasClass(ca)){b8.removeClass(ca)}else{b8.addClass(ca)}}}else{if(b6===aD||b6==="boolean"){if(this.className){bL._data(this,"__className__",this.className)}this.className=this.className||b7===false?"":bL._data(this,"__className__")||""}}})},hasClass:function(e){var b8=" "+e+" ",b7=0,b6=this.length;for(;b7<b6;b7++){if(this[b7].nodeType===1&&(" "+this[b7].className+" ").replace(bO," ").indexOf(b8)>=0){return true}}return false},val:function(b8){var b6,e,b9,b7=this[0];if(!arguments.length){if(b7){e=bL.valHooks[b7.type]||bL.valHooks[b7.nodeName.toLowerCase()];if(e&&"get" in e&&(b6=e.get(b7,"value"))!==aH){return b6}b6=b7.value;return typeof b6==="string"?b6.replace(ak,""):b6==null?"":b6}return}b9=bL.isFunction(b8);return this.each(function(ca){var cb;if(this.nodeType!==1){return}if(b9){cb=b8.call(this,ca,bL(this).val())}else{cb=b8}if(cb==null){cb=""}else{if(typeof cb==="number"){cb+=""}else{if(bL.isArray(cb)){cb=bL.map(cb,function(cc){return cc==null?"":cc+""})}}}e=bL.valHooks[this.type]||bL.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,cb,"value")===aH){this.value=cb}})}});bL.extend({valHooks:{option:{get:function(e){var b6=bL.find.attr(e,"value");return b6!=null?b6:e.text}},select:{get:function(e){var cb,b7,cd=e.options,b9=e.selectedIndex,b8=e.type==="select-one"||b9<0,cc=b8?null:[],ca=b8?b9+1:cd.length,b6=b9<0?ca:b8?b9:0;for(;b6<ca;b6++){b7=cd[b6];if((b7.selected||b6===b9)&&(bL.support.optDisabled?!b7.disabled:b7.getAttribute("disabled")===null)&&(!b7.parentNode.disabled||!bL.nodeName(b7.parentNode,"optgroup"))){cb=bL(b7).val();if(b8){return cb}cc.push(cb)}}return cc},set:function(b9,ca){var cb,b8,b6=b9.options,e=bL.makeArray(ca),b7=b6.length;while(b7--){b8=b6[b7];if((b8.selected=bL.inArray(bL(b8).val(),e)>=0)){cb=true}}if(!cb){b9.selectedIndex=-1}return e}}},attr:function(b9,b8,ca){var e,b7,b6=b9.nodeType;if(!b9||b6===3||b6===8||b6===2){return}if(typeof b9.getAttribute===aD){return bL.prop(b9,b8,ca)}if(b6!==1||!bL.isXMLDoc(b9)){b8=b8.toLowerCase();e=bL.attrHooks[b8]||(bL.expr.match.bool.test(b8)?b2:ba)}if(ca!==aH){if(ca===null){bL.removeAttr(b9,b8)}else{if(e&&"set" in e&&(b7=e.set(b9,ca,b8))!==aH){return b7}else{b9.setAttribute(b8,ca+"");return ca}}}else{if(e&&"get" in e&&(b7=e.get(b9,b8))!==null){return b7}else{b7=bL.find.attr(b9,b8);return b7==null?aH:b7}}},removeAttr:function(b7,b9){var e,b8,b6=0,ca=b9&&b9.match(ad);if(ca&&b7.nodeType===1){while((e=ca[b6++])){b8=bL.propFix[e]||e;if(bL.expr.match.bool.test(e)){if(bH&&bR||!ar.test(e)){b7[b8]=false}else{b7[bL.camelCase("default-"+e)]=b7[b8]=false}}else{bL.attr(b7,e,"")}b7.removeAttribute(bR?e:b8)}}},attrHooks:{type:{set:function(e,b6){if(!bL.support.radioValue&&b6==="radio"&&bL.nodeName(e,"input")){var b7=e.value;e.setAttribute("type",b6);if(b7){e.value=b7}return b6}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(ca,b8,cb){var b7,e,b9,b6=ca.nodeType;if(!ca||b6===3||b6===8||b6===2){return}b9=b6!==1||!bL.isXMLDoc(ca);if(b9){b8=bL.propFix[b8]||b8;e=bL.propHooks[b8]}if(cb!==aH){return e&&"set" in e&&(b7=e.set(ca,cb,b8))!==aH?b7:(ca[b8]=cb)}else{return e&&"get" in e&&(b7=e.get(ca,b8))!==null?b7:ca[b8]}},propHooks:{tabIndex:{get:function(b6){var e=bL.find.attr(b6,"tabindex");return e?parseInt(e,10):aG.test(b6.nodeName)||F.test(b6.nodeName)&&b6.href?0:-1}}}});b2={set:function(b6,b7,e){if(b7===false){bL.removeAttr(b6,e)}else{if(bH&&bR||!ar.test(e)){b6.setAttribute(!bR&&bL.propFix[e]||e,e)}else{b6[bL.camelCase("default-"+e)]=b6[e]=true}}return e}};bL.each(bL.expr.match.bool.source.match(/\w+/g),function(b7,b6){var e=bL.expr.attrHandle[b6]||bL.find.attr;bL.expr.attrHandle[b6]=bH&&bR||!ar.test(b6)?function(cb,b9,cc){var ca=bL.expr.attrHandle[b9],b8=cc?aH:(bL.expr.attrHandle[b9]=aH)!=e(cb,b9,cc)?b9.toLowerCase():null;bL.expr.attrHandle[b9]=ca;return b8}:function(b9,b8,ca){return ca?aH:b9[bL.camelCase("default-"+b8)]?b8.toLowerCase():null}});if(!bH||!bR){bL.attrHooks.value={set:function(b6,b7,e){if(bL.nodeName(b6,"input")){b6.defaultValue=b7}else{return ba&&ba.set(b6,b7,e)}}}}if(!bR){ba={set:function(b7,b8,b6){var e=b7.getAttributeNode(b6);if(!e){b7.setAttributeNode((e=b7.ownerDocument.createAttribute(b6)))}e.value=b8+="";return b6==="value"||b8===b7.getAttribute(b6)?b8:aH}};bL.expr.attrHandle.id=bL.expr.attrHandle.name=bL.expr.attrHandle.coords=function(b7,b6,b8){var e;return b8?aH:(e=b7.getAttributeNode(b6))&&e.value!==""?e.value:null};bL.valHooks.button={get:function(b7,b6){var e=b7.getAttributeNode(b6);return e&&e.specified?e.value:aH},set:ba.set};bL.attrHooks.contenteditable={set:function(b6,b7,e){ba.set(b6,b7===""?false:b7,e)}};bL.each(["width","height"],function(b6,e){bL.attrHooks[e]={set:function(b7,b8){if(b8===""){b7.setAttribute(e,"auto");return b8}}}})}if(!bL.support.hrefNormalized){bL.each(["href","src"],function(b6,e){bL.propHooks[e]={get:function(b7){return b7.getAttribute(e,4)}}})}if(!bL.support.style){bL.attrHooks.style={get:function(e){return e.style.cssText||aH},set:function(e,b6){return(e.style.cssText=b6+"")}}}if(!bL.support.optSelected){bL.propHooks.selected={get:function(b6){var e=b6.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}}}bL.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bL.propFix[this.toLowerCase()]=this});if(!bL.support.enctype){bL.propFix.enctype="encoding"}bL.each(["radio","checkbox"],function(){bL.valHooks[this]={set:function(e,b6){if(bL.isArray(b6)){return(e.checked=bL.inArray(bL(e).val(),b6)>=0)}}};if(!bL.support.checkOn){bL.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var bJ=/^(?:input|select|textarea)$/i,a5=/^key/,bP=/^(?:mouse|contextmenu)|click/,bD=/^(?:focusinfocus|focusoutblur)$/,bw=/^([^.]*)(?:\.(.+)|)$/;function S(){return true}function Y(){return false}function al(){try{return n.activeElement}catch(e){}}bL.event={global:{},add:function(b9,ce,cj,cb,ca){var cc,ck,cl,b7,cg,cd,ci,b8,ch,e,b6,cf=bL._data(b9);if(!cf){return}if(cj.handler){b7=cj;cj=b7.handler;ca=b7.selector}if(!cj.guid){cj.guid=bL.guid++}if(!(ck=cf.events)){ck=cf.events={}}if(!(cd=cf.handle)){cd=cf.handle=function(cm){return typeof bL!==aD&&(!cm||bL.event.triggered!==cm.type)?bL.event.dispatch.apply(cd.elem,arguments):aH};cd.elem=b9}ce=(ce||"").match(ad)||[""];cl=ce.length;while(cl--){cc=bw.exec(ce[cl])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){continue}cg=bL.event.special[ch]||{};ch=(ca?cg.delegateType:cg.bindType)||ch;cg=bL.event.special[ch]||{};ci=bL.extend({type:ch,origType:b6,data:cb,handler:cj,guid:cj.guid,selector:ca,needsContext:ca&&bL.expr.match.needsContext.test(ca),namespace:e.join(".")},b7);if(!(b8=ck[ch])){b8=ck[ch]=[];b8.delegateCount=0;if(!cg.setup||cg.setup.call(b9,cb,e,cd)===false){if(b9.addEventListener){b9.addEventListener(ch,cd,false)}else{if(b9.attachEvent){b9.attachEvent("on"+ch,cd)}}}}if(cg.add){cg.add.call(b9,ci);if(!ci.handler.guid){ci.handler.guid=cj.guid}}if(ca){b8.splice(b8.delegateCount++,0,ci)}else{b8.push(ci)}bL.event.global[ch]=true}b9=null},remove:function(b8,ce,cl,b9,cd){var cb,ci,cc,ca,ck,cj,cg,b7,ch,e,b6,cf=bL.hasData(b8)&&bL._data(b8);if(!cf||!(cj=cf.events)){return}ce=(ce||"").match(ad)||[""];ck=ce.length;while(ck--){cc=bw.exec(ce[ck])||[];ch=b6=cc[1];e=(cc[2]||"").split(".").sort();if(!ch){for(ch in cj){bL.event.remove(b8,ch+ce[ck],cl,b9,true)}continue}cg=bL.event.special[ch]||{};ch=(b9?cg.delegateType:cg.bindType)||ch;b7=cj[ch]||[];cc=cc[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");ca=cb=b7.length;while(cb--){ci=b7[cb];if((cd||b6===ci.origType)&&(!cl||cl.guid===ci.guid)&&(!cc||cc.test(ci.namespace))&&(!b9||b9===ci.selector||b9==="**"&&ci.selector)){b7.splice(cb,1);if(ci.selector){b7.delegateCount--}if(cg.remove){cg.remove.call(b8,ci)}}}if(ca&&!b7.length){if(!cg.teardown||cg.teardown.call(b8,e,cf.handle)===false){bL.removeEvent(b8,ch,cf.handle)}delete cj[ch]}}if(bL.isEmptyObject(cj)){delete cf.handle;bL._removeData(b8,"events")}},trigger:function(b6,cd,b9,ck){var ce,b8,ci,cj,cg,cc,cb,ca=[b9||n],ch=W.call(b6,"type")?b6.type:b6,b7=W.call(b6,"namespace")?b6.namespace.split("."):[];ci=cc=b9=b9||n;if(b9.nodeType===3||b9.nodeType===8){return}if(bD.test(ch+bL.event.triggered)){return}if(ch.indexOf(".")>=0){b7=ch.split(".");ch=b7.shift();b7.sort()}b8=ch.indexOf(":")<0&&"on"+ch;b6=b6[bL.expando]?b6:new bL.Event(ch,typeof b6==="object"&&b6);b6.isTrigger=ck?2:3;b6.namespace=b7.join(".");b6.namespace_re=b6.namespace?new RegExp("(^|\\.)"+b7.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b6.result=aH;if(!b6.target){b6.target=b9}cd=cd==null?[b6]:bL.makeArray(cd,[b6]);cg=bL.event.special[ch]||{};if(!ck&&cg.trigger&&cg.trigger.apply(b9,cd)===false){return}if(!ck&&!cg.noBubble&&!bL.isWindow(b9)){cj=cg.delegateType||ch;if(!bD.test(cj+ch)){ci=ci.parentNode}for(;ci;ci=ci.parentNode){ca.push(ci);cc=ci}if(cc===(b9.ownerDocument||n)){ca.push(cc.defaultView||cc.parentWindow||a4)}}cb=0;while((ci=ca[cb++])&&!b6.isPropagationStopped()){b6.type=cb>1?cj:cg.bindType||ch;ce=(bL._data(ci,"events")||{})[b6.type]&&bL._data(ci,"handle");if(ce){ce.apply(ci,cd)}ce=b8&&ci[b8];if(ce&&bL.acceptData(ci)&&ce.apply&&ce.apply(ci,cd)===false){b6.preventDefault()}}b6.type=ch;if(!ck&&!b6.isDefaultPrevented()){if((!cg._default||cg._default.apply(ca.pop(),cd)===false)&&bL.acceptData(b9)){if(b8&&b9[ch]&&!bL.isWindow(b9)){cc=b9[b8];if(cc){b9[b8]=null}bL.event.triggered=ch;try{b9[ch]()}catch(cf){}bL.event.triggered=aH;if(cc){b9[b8]=cc}}}}return b6.result},dispatch:function(e){e=bL.event.fix(e);var b9,ca,ce,b6,b8,cd=[],cc=a6.call(arguments),b7=(bL._data(this,"events")||{})[e.type]||[],cb=bL.event.special[e.type]||{};cc[0]=e;e.delegateTarget=this;if(cb.preDispatch&&cb.preDispatch.call(this,e)===false){return}cd=bL.event.handlers.call(this,e,b7);b9=0;while((b6=cd[b9++])&&!e.isPropagationStopped()){e.currentTarget=b6.elem;b8=0;while((ce=b6.handlers[b8++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(ce.namespace)){e.handleObj=ce;e.data=ce.data;ca=((bL.event.special[ce.origType]||{}).handle||ce.handler).apply(b6.elem,cc);if(ca!==aH){if((e.result=ca)===false){e.preventDefault();e.stopPropagation()}}}}}if(cb.postDispatch){cb.postDispatch.call(this,e)}return e.result},handlers:function(e,b7){var b6,cc,ca,b9,cb=[],b8=b7.delegateCount,cd=e.target;if(b8&&cd.nodeType&&(!e.button||e.type!=="click")){for(;cd!=this;cd=cd.parentNode||this){if(cd.nodeType===1&&(cd.disabled!==true||e.type!=="click")){ca=[];for(b9=0;b9<b8;b9++){cc=b7[b9];b6=cc.selector+" ";if(ca[b6]===aH){ca[b6]=cc.needsContext?bL(b6,this).index(cd)>=0:bL.find(b6,this,null,[cd]).length}if(ca[b6]){ca.push(cc)}}if(ca.length){cb.push({elem:cd,handlers:ca})}}}}if(b8<b7.length){cb.push({elem:this,handlers:b7.slice(b8)})}return cb},fix:function(b8){if(b8[bL.expando]){return b8}var b6,cb,ca,b7=b8.type,e=b8,b9=this.fixHooks[b7];if(!b9){this.fixHooks[b7]=b9=bP.test(b7)?this.mouseHooks:a5.test(b7)?this.keyHooks:{}}ca=b9.props?this.props.concat(b9.props):this.props;b8=new bL.Event(e);b6=ca.length;while(b6--){cb=ca[b6];b8[cb]=e[cb]}if(!b8.target){b8.target=e.srcElement||n}if(b8.target.nodeType===3){b8.target=b8.target.parentNode}b8.metaKey=!!b8.metaKey;return b9.filter?b9.filter(b8,e):b8},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b6,e){if(b6.which==null){b6.which=e.charCode!=null?e.charCode:e.keyCode}return b6}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b8,b7){var e,b9,ca,b6=b7.button,cb=b7.fromElement;if(b8.pageX==null&&b7.clientX!=null){b9=b8.target.ownerDocument||n;ca=b9.documentElement;e=b9.body;b8.pageX=b7.clientX+(ca&&ca.scrollLeft||e&&e.scrollLeft||0)-(ca&&ca.clientLeft||e&&e.clientLeft||0);b8.pageY=b7.clientY+(ca&&ca.scrollTop||e&&e.scrollTop||0)-(ca&&ca.clientTop||e&&e.clientTop||0)}if(!b8.relatedTarget&&cb){b8.relatedTarget=cb===b8.target?b7.toElement:cb}if(!b8.which&&b6!==aH){b8.which=(b6&1?1:(b6&2?3:(b6&4?2:0)))}return b8}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==al()&&this.focus){try{this.focus();return false}catch(b6){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===al()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bL.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return bL.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==aH){e.originalEvent.returnValue=e.result}}}},simulate:function(b7,b9,b8,b6){var ca=bL.extend(new bL.Event(),b8,{type:b7,isSimulated:true,originalEvent:{}});if(b6){bL.event.trigger(ca,null,b9)}else{bL.event.dispatch.call(b9,ca)}if(ca.isDefaultPrevented()){b8.preventDefault()}}};bL.removeEvent=n.removeEventListener?function(b6,e,b7){if(b6.removeEventListener){b6.removeEventListener(e,b7,false)}}:function(b7,b6,b8){var e="on"+b6;if(b7.detachEvent){if(typeof b7[e]===aD){b7[e]=null}b7.detachEvent(e,b8)}};bL.Event=function(b6,e){if(!(this instanceof bL.Event)){return new bL.Event(b6,e)}if(b6&&b6.type){this.originalEvent=b6;this.type=b6.type;this.isDefaultPrevented=(b6.defaultPrevented||b6.returnValue===false||b6.getPreventDefault&&b6.getPreventDefault())?S:Y}else{this.type=b6}if(e){bL.extend(this,e)}this.timeStamp=b6&&b6.timeStamp||bL.now();this[bL.expando]=true};bL.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var b6=this.originalEvent;this.isDefaultPrevented=S;if(!b6){return}if(b6.preventDefault){b6.preventDefault()}else{b6.returnValue=false}},stopPropagation:function(){var b6=this.originalEvent;this.isPropagationStopped=S;if(!b6){return}if(b6.stopPropagation){b6.stopPropagation()}b6.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S;this.stopPropagation()}};bL.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b6,e){bL.event.special[b6]={delegateType:e,bindType:e,handle:function(b9){var b7,cb=this,ca=b9.relatedTarget,b8=b9.handleObj;if(!ca||(ca!==cb&&!bL.contains(cb,ca))){b9.type=b8.origType;b7=b8.handler.apply(this,arguments);b9.type=e}return b7}}});if(!bL.support.submitBubbles){bL.event.special.submit={setup:function(){if(bL.nodeName(this,"form")){return false}bL.event.add(this,"click._submit keypress._submit",function(b8){var b7=b8.target,b6=bL.nodeName(b7,"input")||bL.nodeName(b7,"button")?b7.form:aH;if(b6&&!bL._data(b6,"submitBubbles")){bL.event.add(b6,"submit._submit",function(e){e._submit_bubble=true});bL._data(b6,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bL.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bL.nodeName(this,"form")){return false}bL.event.remove(this,"._submit")}}}if(!bL.support.changeBubbles){bL.event.special.change={setup:function(){if(bJ.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bL.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bL.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bL.event.simulate("change",this,e,true)})}return false}bL.event.add(this,"beforeactivate._change",function(b7){var b6=b7.target;if(bJ.test(b6.nodeName)&&!bL._data(b6,"changeBubbles")){bL.event.add(b6,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bL.event.simulate("change",this.parentNode,e,true)}});bL._data(b6,"changeBubbles",true)}})},handle:function(b6){var e=b6.target;if(this!==e||b6.isSimulated||b6.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b6.handleObj.handler.apply(this,arguments)}},teardown:function(){bL.event.remove(this,"._change");return !bJ.test(this.nodeName)}}}if(!bL.support.focusinBubbles){bL.each({focus:"focusin",blur:"focusout"},function(b8,e){var b6=0,b7=function(b9){bL.event.simulate(e,b9.target,bL.event.fix(b9),true)};bL.event.special[e]={setup:function(){if(b6++===0){n.addEventListener(b8,b7,true)}},teardown:function(){if(--b6===0){n.removeEventListener(b8,b7,true)}}}})}bL.fn.extend({on:function(b7,e,ca,b9,b6){var b8,cb;if(typeof b7==="object"){if(typeof e!=="string"){ca=ca||e;e=aH}for(b8 in b7){this.on(b8,e,ca,b7[b8],b6)}return this}if(ca==null&&b9==null){b9=e;ca=e=aH}else{if(b9==null){if(typeof e==="string"){b9=ca;ca=aH}else{b9=ca;ca=e;e=aH}}}if(b9===false){b9=Y}else{if(!b9){return this}}if(b6===1){cb=b9;b9=function(cc){bL().off(cc);return cb.apply(this,arguments)};b9.guid=cb.guid||(cb.guid=bL.guid++)}return this.each(function(){bL.event.add(this,b7,b9,ca,e)})},one:function(b6,e,b8,b7){return this.on(b6,e,b8,b7,1)},off:function(b7,e,b9){var b6,b8;if(b7&&b7.preventDefault&&b7.handleObj){b6=b7.handleObj;bL(b7.delegateTarget).off(b6.namespace?b6.origType+"."+b6.namespace:b6.origType,b6.selector,b6.handler);return this}if(typeof b7==="object"){for(b8 in b7){this.off(b8,e,b7[b8])}return this}if(e===false||typeof e==="function"){b9=e;e=aH}if(b9===false){b9=Y}return this.each(function(){bL.event.remove(this,b7,b9,e)})},trigger:function(e,b6){return this.each(function(){bL.event.trigger(e,b6,this)})},triggerHandler:function(e,b7){var b6=this[0];if(b6){return bL.event.trigger(e,b7,b6,true)}}});var ao=/^.[^:#\[\.,]*$/,bv=/^(?:parents|prev(?:Until|All))/,A=bL.expr.match.needsContext,bz={children:true,contents:true,next:true,prev:true};bL.fn.extend({find:function(b6){var b9,b8=[],b7=this,e=b7.length;if(typeof b6!=="string"){return this.pushStack(bL(b6).filter(function(){for(b9=0;b9<e;b9++){if(bL.contains(b7[b9],this)){return true}}}))}for(b9=0;b9<e;b9++){bL.find(b6,b7[b9],b8)}b8=this.pushStack(e>1?bL.unique(b8):b8);b8.selector=this.selector?this.selector+" "+b6:b6;return b8},has:function(b8){var b7,b6=bL(b8,this),e=b6.length;return this.filter(function(){for(b7=0;b7<e;b7++){if(bL.contains(this,b6[b7])){return true}}})},not:function(e){return this.pushStack(aP(this,e||[],true))},filter:function(e){return this.pushStack(aP(this,e||[],false))},is:function(e){return !!aP(this,typeof e==="string"&&A.test(e)?bL(e):e||[],false).length},closest:function(b9,b8){var ca,b7=0,e=this.length,b6=[],cb=A.test(b9)||typeof b9!=="string"?bL(b9,b8||this.context):0;for(;b7<e;b7++){for(ca=this[b7];ca&&ca!==b8;ca=ca.parentNode){if(ca.nodeType<11&&(cb?cb.index(ca)>-1:ca.nodeType===1&&bL.find.matchesSelector(ca,b9))){ca=b6.push(ca);break}}}return this.pushStack(b6.length>1?bL.unique(b6):b6)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bL.inArray(this[0],bL(e))}return bL.inArray(e.jquery?e[0]:e,this)},add:function(e,b6){var b8=typeof e==="string"?bL(e,b6):bL.makeArray(e&&e.nodeType?[e]:e),b7=bL.merge(this.get(),b8);return this.pushStack(bL.unique(b7))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function aY(b6,e){do{b6=b6[e]}while(b6&&b6.nodeType!==1);return b6}bL.each({parent:function(b6){var e=b6.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bL.dir(e,"parentNode")},parentsUntil:function(b6,e,b7){return bL.dir(b6,"parentNode",b7)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return bL.dir(e,"nextSibling")},prevAll:function(e){return bL.dir(e,"previousSibling")},nextUntil:function(b6,e,b7){return bL.dir(b6,"nextSibling",b7)},prevUntil:function(b6,e,b7){return bL.dir(b6,"previousSibling",b7)},siblings:function(e){return bL.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bL.sibling(e.firstChild)},contents:function(e){return bL.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bL.merge([],e.childNodes)}},function(e,b6){bL.fn[e]=function(b9,b7){var b8=bL.map(this,b6,b9);if(e.slice(-5)!=="Until"){b7=b9}if(b7&&typeof b7==="string"){b8=bL.filter(b7,b8)}if(this.length>1){if(!bz[e]){b8=bL.unique(b8)}if(bv.test(e)){b8=b8.reverse()}}return this.pushStack(b8)}});bL.extend({filter:function(b8,e,b7){var b6=e[0];if(b7){b8=":not("+b8+")"}return e.length===1&&b6.nodeType===1?bL.find.matchesSelector(b6,b8)?[b6]:[]:bL.find.matches(b8,bL.grep(e,function(b9){return b9.nodeType===1}))},dir:function(b7,b6,b9){var e=[],b8=b7[b6];while(b8&&b8.nodeType!==9&&(b9===aH||b8.nodeType!==1||!bL(b8).is(b9))){if(b8.nodeType===1){e.push(b8)}b8=b8[b6]}return e},sibling:function(b7,b6){var e=[];for(;b7;b7=b7.nextSibling){if(b7.nodeType===1&&b7!==b6){e.push(b7)}}return e}});function aP(b7,e,b6){if(bL.isFunction(e)){return bL.grep(b7,function(b9,b8){return !!e.call(b9,b8,b9)!==b6})}if(e.nodeType){return bL.grep(b7,function(b8){return(b8===e)!==b6})}if(typeof e==="string"){if(ao.test(e)){return bL.filter(e,b7,b6)}e=bL.filter(e,b7)}return bL.grep(b7,function(b8){return(bL.inArray(b8,e)>=0)!==b6})}function C(e){var b7=d.split("|"),b6=e.createDocumentFragment();if(b6.createElement){while(b7.length){b6.createElement(b7.pop())}}return b6}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aB=/ jQuery\d+="(?:null|\d+)"/g,L=new RegExp("<(?:"+d+")[\\s/>]","i"),b5=/^\s+/,aE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,o=/<([\w:]+)/,b0=/<tbody/i,K=/<|&#?\w+;/,am=/<(?:script|style|link)/i,t=/^(?:checkbox|radio)$/i,bW=/checked\s*(?:[^=]|=\s*.checked.)/i,bB=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,aL=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,U={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bL.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aT=C(n),l=aT.appendChild(n.createElement("div"));U.optgroup=U.option;U.tbody=U.tfoot=U.colgroup=U.caption=U.thead;U.th=U.td;bL.fn.extend({text:function(e){return bL.access(this,function(b6){return b6===aH?bL.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(b6))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a2(this,e);b6.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b6=a2(this,e);b6.insertBefore(e,b6.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b9){var b8,b6=e?bL.filter(e,this):this,b7=0;for(;(b8=b6[b7])!=null;b7++){if(!b9&&b8.nodeType===1){bL.cleanData(m(b8))}if(b8.parentNode){if(b9&&bL.contains(b8.ownerDocument,b8)){bu(m(b8,"script"))}b8.parentNode.removeChild(b8)}}return this},empty:function(){var b6,e=0;for(;(b6=this[e])!=null;e++){if(b6.nodeType===1){bL.cleanData(m(b6,false))}while(b6.firstChild){b6.removeChild(b6.firstChild)}if(b6.options&&bL.nodeName(b6,"select")){b6.options.length=0}}return this},clone:function(b6,e){b6=b6==null?false:b6;e=e==null?b6:e;return this.map(function(){return bL.clone(this,b6,e)})},html:function(e){return bL.access(this,function(b9){var b8=this[0]||{},b7=0,b6=this.length;if(b9===aH){return b8.nodeType===1?b8.innerHTML.replace(aB,""):aH}if(typeof b9==="string"&&!am.test(b9)&&(bL.support.htmlSerialize||!L.test(b9))&&(bL.support.leadingWhitespace||!b5.test(b9))&&!U[(o.exec(b9)||["",""])[1].toLowerCase()]){b9=b9.replace(aE,"<$1></$2>");try{for(;b7<b6;b7++){b8=this[b7]||{};if(b8.nodeType===1){bL.cleanData(m(b8,false));b8.innerHTML=b9}}b8=0}catch(ca){}}if(b8){this.empty().append(b9)}},null,e,arguments.length)},replaceWith:function(){var e=bL.map(this,function(b7){return[b7.nextSibling,b7.parentNode]}),b6=0;this.domManip(arguments,function(b9){var b8=e[b6++],b7=e[b6++];if(b7){if(b8&&b8.parentNode!==b7){b8=this.nextSibling}bL(this).remove();b7.insertBefore(b9,b8)}},true);return b6?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(ce,cj,b7){ce=aJ.apply([],ce);var cc,b8,e,ca,ch,cd,cb=0,b9=this.length,cg=this,ci=b9-1,cf=ce[0],b6=bL.isFunction(cf);if(b6||!(b9<=1||typeof cf!=="string"||bL.support.checkClone||!bW.test(cf))){return this.each(function(cl){var ck=cg.eq(cl);if(b6){ce[0]=cf.call(this,cl,ck.html())}ck.domManip(ce,cj,b7)})}if(b9){cd=bL.buildFragment(ce,this[0].ownerDocument,false,!b7&&this);cc=cd.firstChild;if(cd.childNodes.length===1){cd=cc}if(cc){ca=bL.map(m(cd,"script"),w);e=ca.length;for(;cb<b9;cb++){b8=cd;if(cb!==ci){b8=bL.clone(b8,true,true);if(e){bL.merge(ca,m(b8,"script"))}}cj.call(this[cb],b8,cb)}if(e){ch=ca[ca.length-1].ownerDocument;bL.map(ca,bf);for(cb=0;cb<e;cb++){b8=ca[cb];if(bB.test(b8.type||"")&&!bL._data(b8,"globalEval")&&bL.contains(ch,b8)){if(b8.src){bL._evalUrl(b8.src)}else{bL.globalEval((b8.text||b8.textContent||b8.innerHTML||"").replace(aL,""))}}}}cd=cc=null}}return this}});function a2(b6,e){return bL.nodeName(b6,"table")&&bL.nodeName(e.nodeType===1?e:e.firstChild,"tr")?b6.getElementsByTagName("tbody")[0]||b6.appendChild(b6.ownerDocument.createElement("tbody")):b6}function w(e){e.type=(bL.find.attr(e,"type")!==null)+"/"+e.type;return e}function bf(b6){var e=at.exec(b6.type);if(e){b6.type=e[1]}else{b6.removeAttribute("type")}return b6}function bu(e,b7){var b8,b6=0;for(;(b8=e[b6])!=null;b6++){bL._data(b8,"globalEval",!b7||bL._data(b7[b6],"globalEval"))}}function au(cc,b6){if(b6.nodeType!==1||!bL.hasData(cc)){return}var b9,b8,e,cb=bL._data(cc),ca=bL._data(b6,cb),b7=cb.events;if(b7){delete ca.handle;ca.events={};for(b9 in b7){for(b8=0,e=b7[b9].length;b8<e;b8++){bL.event.add(b6,b9,b7[b9][b8])}}}if(ca.data){ca.data=bL.extend({},ca.data)}}function R(b9,b6){var ca,b8,b7;if(b6.nodeType!==1){return}ca=b6.nodeName.toLowerCase();if(!bL.support.noCloneEvent&&b6[bL.expando]){b7=bL._data(b6);for(b8 in b7.events){bL.removeEvent(b6,b8,b7.handle)}b6.removeAttribute(bL.expando)}if(ca==="script"&&b6.text!==b9.text){w(b6).text=b9.text;bf(b6)}else{if(ca==="object"){if(b6.parentNode){b6.outerHTML=b9.outerHTML}if(bL.support.html5Clone&&(b9.innerHTML&&!bL.trim(b6.innerHTML))){b6.innerHTML=b9.innerHTML}}else{if(ca==="input"&&t.test(b9.type)){b6.defaultChecked=b6.checked=b9.checked;if(b6.value!==b9.value){b6.value=b9.value}}else{if(ca==="option"){b6.defaultSelected=b6.selected=b9.defaultSelected}else{if(ca==="input"||ca==="textarea"){b6.defaultValue=b9.defaultValue}}}}}}bL.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b6){bL.fn[e]=function(b7){var b8,ca=0,b9=[],cc=bL(b7),cb=cc.length-1;for(;ca<=cb;ca++){b8=ca===cb?this:this.clone(true);bL(cc[ca])[b6](b8);ap.apply(b9,b8.get())}return this.pushStack(b9)}});function m(b8,e){var b6,b9,b7=0,ca=typeof b8.getElementsByTagName!==aD?b8.getElementsByTagName(e||"*"):typeof b8.querySelectorAll!==aD?b8.querySelectorAll(e||"*"):aH;if(!ca){for(ca=[],b6=b8.childNodes||b8;(b9=b6[b7])!=null;b7++){if(!e||bL.nodeName(b9,e)){ca.push(b9)}else{bL.merge(ca,m(b9,e))}}}return e===aH||e&&bL.nodeName(b8,e)?bL.merge([b8],ca):ca}function bX(e){if(t.test(e.type)){e.defaultChecked=e.checked}}bL.extend({clone:function(b6,b8,e){var ca,b7,cd,b9,cb,cc=bL.contains(b6.ownerDocument,b6);if(bL.support.html5Clone||bL.isXMLDoc(b6)||!L.test("<"+b6.nodeName+">")){cd=b6.cloneNode(true)}else{l.innerHTML=b6.outerHTML;l.removeChild(cd=l.firstChild)}if((!bL.support.noCloneEvent||!bL.support.noCloneChecked)&&(b6.nodeType===1||b6.nodeType===11)&&!bL.isXMLDoc(b6)){ca=m(cd);cb=m(b6);for(b9=0;(b7=cb[b9])!=null;++b9){if(ca[b9]){R(b7,ca[b9])}}}if(b8){if(e){cb=cb||m(b6);ca=ca||m(cd);for(b9=0;(b7=cb[b9])!=null;b9++){au(b7,ca[b9])}}else{au(b6,cd)}}ca=m(cd,"script");if(ca.length>0){bu(ca,!cc&&m(b6,"script"))}ca=cb=b7=null;return cd},buildFragment:function(b6,b8,cd,ci){var ce,ca,cc,ch,cj,cg,b7,cb=b6.length,b9=C(b8),e=[],cf=0;for(;cf<cb;cf++){ca=b6[cf];if(ca||ca===0){if(bL.type(ca)==="object"){bL.merge(e,ca.nodeType?[ca]:ca)}else{if(!K.test(ca)){e.push(b8.createTextNode(ca))}else{ch=ch||b9.appendChild(b8.createElement("div"));cj=(o.exec(ca)||["",""])[1].toLowerCase();b7=U[cj]||U._default;ch.innerHTML=b7[1]+ca.replace(aE,"<$1></$2>")+b7[2];ce=b7[0];while(ce--){ch=ch.lastChild}if(!bL.support.leadingWhitespace&&b5.test(ca)){e.push(b8.createTextNode(b5.exec(ca)[0]))}if(!bL.support.tbody){ca=cj==="table"&&!b0.test(ca)?ch.firstChild:b7[1]==="<table>"&&!b0.test(ca)?ch:0;ce=ca&&ca.childNodes.length;while(ce--){if(bL.nodeName((cg=ca.childNodes[ce]),"tbody")&&!cg.childNodes.length){ca.removeChild(cg)}}}bL.merge(e,ch.childNodes);ch.textContent="";while(ch.firstChild){ch.removeChild(ch.firstChild)}ch=b9.lastChild}}}}if(ch){b9.removeChild(ch)}if(!bL.support.appendChecked){bL.grep(m(e,"input"),bX)}cf=0;while((ca=e[cf++])){if(ci&&bL.inArray(ca,ci)!==-1){continue}cc=bL.contains(ca.ownerDocument,ca);ch=m(b9.appendChild(ca),"script");if(cc){bu(ch)}if(cd){ce=0;while((ca=ch[ce++])){if(bB.test(ca.type||"")){cd.push(ca)}}}}ch=null;return b9},cleanData:function(b6,ce){var b8,cd,b7,b9,ca=0,cf=bL.expando,e=bL.cache,cb=bL.support.deleteExpando,cc=bL.event.special;for(;(b8=b6[ca])!=null;ca++){if(ce||bL.acceptData(b8)){b7=b8[cf];b9=b7&&e[b7];if(b9){if(b9.events){for(cd in b9.events){if(cc[cd]){bL.event.remove(b8,cd)}else{bL.removeEvent(b8,cd,b9.handle)}}}if(e[b7]){delete e[b7];if(cb){delete b8[cf]}else{if(typeof b8.removeAttribute!==aD){b8.removeAttribute(cf)}else{b8[cf]=null}}a8.push(b7)}}}}},_evalUrl:function(e){return bL.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})}});bL.fn.extend({wrapAll:function(e){if(bL.isFunction(e)){return this.each(function(b7){bL(this).wrapAll(e.call(this,b7))})}if(this[0]){var b6=bL(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b6.insertBefore(this[0])}b6.map(function(){var b7=this;while(b7.firstChild&&b7.firstChild.nodeType===1){b7=b7.firstChild}return b7}).append(this)}return this},wrapInner:function(e){if(bL.isFunction(e)){return this.each(function(b6){bL(this).wrapInner(e.call(this,b6))})}return this.each(function(){var b6=bL(this),b7=b6.contents();if(b7.length){b7.wrapAll(e)}else{b6.append(e)}})},wrap:function(e){var b6=bL.isFunction(e);return this.each(function(b7){bL(this).wrapAll(b6?e.call(this,b7):e)})},unwrap:function(){return this.parent().each(function(){if(!bL.nodeName(this,"body")){bL(this).replaceWith(this.childNodes)}}).end()}});var aF,bq,G,bi=/alpha\([^)]*\)/i,aU=/opacity\s*=\s*([^)]*)/,bp=/^(top|right|bottom|left)$/,H=/^(none|table(?!-c[ea]).+)/,aZ=/^margin/,bb=new RegExp("^("+bC+")(.*)$","i"),X=new RegExp("^("+bC+")(?!px)[a-z%]+$","i"),T=new RegExp("^([+-])=("+bC+")","i"),bl={BODY:"block"},be={position:"absolute",visibility:"hidden",display:"block"},bE={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],aw=["Webkit","O","Moz","ms"];function b(b8,b6){if(b6 in b8){return b6}var b9=b6.charAt(0).toUpperCase()+b6.slice(1),e=b6,b7=aw.length;while(b7--){b6=aw[b7]+b9;if(b6 in b8){return b6}}return e}function Q(b6,e){b6=e||b6;return bL.css(b6,"display")==="none"||!bL.contains(b6.ownerDocument,b6)}function s(cb,e){var cc,b9,ca,b6=[],b7=0,b8=cb.length;for(;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}b6[b7]=bL._data(b9,"olddisplay");cc=b9.style.display;if(e){if(!b6[b7]&&cc==="none"){b9.style.display=""}if(b9.style.display===""&&Q(b9)){b6[b7]=bL._data(b9,"olddisplay",bG(b9.nodeName))}}else{if(!b6[b7]){ca=Q(b9);if(cc&&cc!=="none"||!ca){bL._data(b9,"olddisplay",ca?cc:bL.css(b9,"display"))}}}}for(b7=0;b7<b8;b7++){b9=cb[b7];if(!b9.style){continue}if(!e||b9.style.display==="none"||b9.style.display===""){b9.style.display=e?b6[b7]||"":"none"}}return cb}bL.fn.extend({css:function(e,b6){return bL.access(this,function(cb,b8,cc){var b7,ca,cd={},b9=0;if(bL.isArray(b8)){ca=bq(cb);b7=b8.length;for(;b9<b7;b9++){cd[b8[b9]]=bL.css(cb,b8[b9],false,ca)}return cd}return cc!==aH?bL.style(cb,b8,cc):bL.css(cb,b8)},e,b6,arguments.length>1)},show:function(){return s(this,true)},hide:function(){return s(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(Q(this)){bL(this).show()}else{bL(this).hide()}})}});bL.extend({cssHooks:{opacity:{get:function(b7,b6){if(b6){var e=G(b7,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bL.support.cssFloat?"cssFloat":"styleFloat"},style:function(b8,b7,ce,b9){if(!b8||b8.nodeType===3||b8.nodeType===8||!b8.style){return}var cc,cd,cf,ca=bL.camelCase(b7),b6=b8.style;b7=bL.cssProps[ca]||(bL.cssProps[ca]=b(b6,ca));cf=bL.cssHooks[b7]||bL.cssHooks[ca];if(ce!==aH){cd=typeof ce;if(cd==="string"&&(cc=T.exec(ce))){ce=(cc[1]+1)*cc[2]+parseFloat(bL.css(b8,b7));cd="number"}if(ce==null||cd==="number"&&isNaN(ce)){return}if(cd==="number"&&!bL.cssNumber[ca]){ce+="px"}if(!bL.support.clearCloneStyle&&ce===""&&b7.indexOf("background")===0){b6[b7]="inherit"}if(!cf||!("set" in cf)||(ce=cf.set(b8,ce,b9))!==aH){try{b6[b7]=ce}catch(cb){}}}else{if(cf&&"get" in cf&&(cc=cf.get(b8,false,b9))!==aH){return cc}return b6[b7]}},css:function(cb,b9,b6,ca){var b8,cc,e,b7=bL.camelCase(b9);b9=bL.cssProps[b7]||(bL.cssProps[b7]=b(cb.style,b7));e=bL.cssHooks[b9]||bL.cssHooks[b7];if(e&&"get" in e){cc=e.get(cb,true,b6)}if(cc===aH){cc=G(cb,b9,ca)}if(cc==="normal"&&b9 in bE){cc=bE[b9]}if(b6===""||b6){b8=parseFloat(cc);return b6===true||bL.isNumeric(b8)?b8||0:cc}return cc}});if(a4.getComputedStyle){bq=function(e){return a4.getComputedStyle(e,null)};G=function(b9,b7,cb){var b8,b6,cd,ca=cb||bq(b9),cc=ca?ca.getPropertyValue(b7)||ca[b7]:aH,e=b9.style;if(ca){if(cc===""&&!bL.contains(b9.ownerDocument,b9)){cc=bL.style(b9,b7)}if(X.test(cc)&&aZ.test(b7)){b8=e.width;b6=e.minWidth;cd=e.maxWidth;e.minWidth=e.maxWidth=e.width=cc;cc=ca.width;e.width=b8;e.minWidth=b6;e.maxWidth=cd}}return cc}}else{if(n.documentElement.currentStyle){bq=function(e){return e.currentStyle};G=function(b8,b6,cb){var b7,ca,cc,b9=cb||bq(b8),cd=b9?b9[b6]:aH,e=b8.style;if(cd==null&&e&&e[b6]){cd=e[b6]}if(X.test(cd)&&!bp.test(b6)){b7=e.left;ca=b8.runtimeStyle;cc=ca&&ca.left;if(cc){ca.left=b8.currentStyle.left}e.left=b6==="fontSize"?"1em":cd;cd=e.pixelLeft+"px";e.left=b7;if(cc){ca.left=cc}}return cd===""?"auto":cd}}}function aK(e,b7,b8){var b6=bb.exec(b7);return b6?Math.max(0,b6[1]-(b8||0))+(b6[2]||"px"):b7}function ax(b9,b6,e,cb,b8){var b7=e===(cb?"border":"content")?4:b6==="width"?1:0,ca=0;for(;b7<4;b7+=2){if(e==="margin"){ca+=bL.css(b9,e+bV[b7],true,b8)}if(cb){if(e==="content"){ca-=bL.css(b9,"padding"+bV[b7],true,b8)}if(e!=="margin"){ca-=bL.css(b9,"border"+bV[b7]+"Width",true,b8)}}else{ca+=bL.css(b9,"padding"+bV[b7],true,b8);if(e!=="padding"){ca+=bL.css(b9,"border"+bV[b7]+"Width",true,b8)}}}return ca}function x(b9,b6,e){var b8=true,ca=b6==="width"?b9.offsetWidth:b9.offsetHeight,b7=bq(b9),cb=bL.support.boxSizing&&bL.css(b9,"boxSizing",false,b7)==="border-box";if(ca<=0||ca==null){ca=G(b9,b6,b7);if(ca<0||ca==null){ca=b9.style[b6]}if(X.test(ca)){return ca}b8=cb&&(bL.support.boxSizingReliable||ca===b9.style[b6]);ca=parseFloat(ca)||0}return(ca+ax(b9,b6,e||(cb?"border":"content"),b8,b7))+"px"}function bG(b7){var b6=n,e=bl[b7];if(!e){e=a3(b7,b6);if(e==="none"||!e){aF=(aF||bL("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b6.documentElement);b6=(aF[0].contentWindow||aF[0].contentDocument).document;b6.write("<!doctype html><html><body>");b6.close();e=a3(b7,b6);aF.detach()}bl[b7]=e}return e}function a3(e,b8){var b6=bL(b8.createElement(e)).appendTo(b8.body),b7=bL.css(b6[0],"display");b6.remove();return b7}bL.each(["height","width"],function(b6,e){bL.cssHooks[e]={get:function(b9,b8,b7){if(b8){return b9.offsetWidth===0&&H.test(bL.css(b9,"display"))?bL.swap(b9,be,function(){return x(b9,e,b7)}):x(b9,e,b7)}},set:function(b9,ca,b7){var b8=b7&&bq(b9);return aK(b9,ca,b7?ax(b9,e,b7,bL.support.boxSizing&&bL.css(b9,"boxSizing",false,b8)==="border-box",b8):0)}}});if(!bL.support.opacity){bL.cssHooks.opacity={get:function(b6,e){return aU.test((e&&b6.currentStyle?b6.currentStyle.filter:b6.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b9,ca){var b8=b9.style,b6=b9.currentStyle,e=bL.isNumeric(ca)?"alpha(opacity="+ca*100+")":"",b7=b6&&b6.filter||b8.filter||"";b8.zoom=1;if((ca>=1||ca==="")&&bL.trim(b7.replace(bi,""))===""&&b8.removeAttribute){b8.removeAttribute("filter");if(ca===""||b6&&!b6.filter){return}}b8.filter=bi.test(b7)?b7.replace(bi,e):b7+" "+e}}}bL(function(){if(!bL.support.reliableMarginRight){bL.cssHooks.marginRight={get:function(b6,e){if(e){return bL.swap(b6,{display:"inline-block"},G,[b6,"marginRight"])}}}}if(!bL.support.pixelPosition&&bL.fn.position){bL.each(["top","left"],function(e,b6){bL.cssHooks[b6]={get:function(b8,b7){if(b7){b7=G(b8,b6);return X.test(b7)?bL(b8).position()[b6]+"px":b7}}}})}});if(bL.expr&&bL.expr.filters){bL.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bL.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bL.css(e,"display"))==="none")};bL.expr.filters.visible=function(e){return !bL.expr.filters.hidden(e)}}bL.each({margin:"",padding:"",border:"Width"},function(e,b6){bL.cssHooks[e+b6]={expand:function(b9){var b8=0,b7={},ca=typeof b9==="string"?b9.split(" "):[b9];for(;b8<4;b8++){b7[e+bV[b8]+b6]=ca[b8]||ca[b8-2]||ca[0]}return b7}};if(!aZ.test(e)){bL.cssHooks[e+b6].set=aK}});var bx=/%20/g,aS=/\[\]$/,V=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,av=/^(?:input|select|textarea|keygen)/i;bL.fn.extend({serialize:function(){return bL.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bL.prop(this,"elements");return e?bL.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bL(this).is(":disabled")&&av.test(this.nodeName)&&!c.test(e)&&(this.checked||!t.test(e))}).map(function(e,b6){var b7=bL(this).val();return b7==null?null:bL.isArray(b7)?bL.map(b7,function(b8){return{name:b6.name,value:b8.replace(V,"\r\n")}}):{name:b6.name,value:b7.replace(V,"\r\n")}}).get()}});bL.param=function(e,b7){var b8,b6=[],b9=function(ca,cb){cb=bL.isFunction(cb)?cb():(cb==null?"":cb);b6[b6.length]=encodeURIComponent(ca)+"="+encodeURIComponent(cb)};if(b7===aH){b7=bL.ajaxSettings&&bL.ajaxSettings.traditional}if(bL.isArray(e)||(e.jquery&&!bL.isPlainObject(e))){bL.each(e,function(){b9(this.name,this.value)})}else{for(b8 in e){k(b8,e[b8],b7,b9)}}return b6.join("&").replace(bx,"+")};function k(b7,b9,b6,b8){var e;if(bL.isArray(b9)){bL.each(b9,function(cb,ca){if(b6||aS.test(b7)){b8(b7,ca)}else{k(b7+"["+(typeof ca==="object"?cb:"")+"]",ca,b6,b8)}})}else{if(!b6&&bL.type(b9)==="object"){for(e in b9){k(b7+"["+e+"]",b9[e],b6,b8)}}else{b8(b7,b9)}}}bL.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b6,e){bL.fn[e]=function(b8,b7){return arguments.length>0?this.on(e,null,b8,b7):this.trigger(e)}});bL.fn.extend({hover:function(e,b6){return this.mouseenter(e).mouseleave(b6||e)},bind:function(e,b7,b6){return this.on(e,null,b7,b6)},unbind:function(e,b6){return this.off(e,null,b6)},delegate:function(e,b6,b8,b7){return this.on(b6,e,b8,b7)},undelegate:function(e,b6,b7){return arguments.length===1?this.off(e,"**"):this.off(b6,e||"**",b7)}});var b4,Z,bQ=bL.now(),aA=/\?/,aq=/#.*$/,P=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,D=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q=/^(?:GET|HEAD)$/,aI=/^\/\//,aV=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b3=bL.fn.load,y={},a9={},aX="*/".concat("*");try{Z=aM.href}catch(bh){Z=n.createElement("a");Z.href="";Z=Z.href}b4=aV.exec(Z.toLowerCase())||[];function bN(e){return function(b9,ca){if(typeof b9!=="string"){ca=b9;b9="*"}var b6,b7=0,b8=b9.toLowerCase().match(ad)||[];if(bL.isFunction(ca)){while((b6=b8[b7++])){if(b6[0]==="+"){b6=b6.slice(1)||"*";(e[b6]=e[b6]||[]).unshift(ca)}else{(e[b6]=e[b6]||[]).push(ca)}}}}}function p(e,b7,cb,b8){var b6={},b9=(e===a9);function ca(cc){var cd;b6[cc]=true;bL.each(e[cc]||[],function(cf,ce){var cg=ce(b7,cb,b8);if(typeof cg==="string"&&!b9&&!b6[cg]){b7.dataTypes.unshift(cg);ca(cg);return false}else{if(b9){return !(cd=cg)}}});return cd}return ca(b7.dataTypes[0])||!b6["*"]&&ca("*")}function u(b7,b8){var e,b6,b9=bL.ajaxSettings.flatOptions||{};for(b6 in b8){if(b8[b6]!==aH){(b9[b6]?b7:(e||(e={})))[b6]=b8[b6]}}if(e){bL.extend(true,b7,e)}return b7}bL.fn.load=function(b8,cb,cc){if(typeof b8!=="string"&&b3){return b3.apply(this,arguments)}var e,b7,b9,b6=this,ca=b8.indexOf(" ");if(ca>=0){e=b8.slice(ca,b8.length);b8=b8.slice(0,ca)}if(bL.isFunction(cb)){cc=cb;cb=aH}else{if(cb&&typeof cb==="object"){b9="POST"}}if(b6.length>0){bL.ajax({url:b8,type:b9,dataType:"html",data:cb}).done(function(cd){b7=arguments;b6.html(e?bL("<div>").append(bL.parseHTML(cd)).find(e):cd)}).complete(cc&&function(ce,cd){b6.each(cc,b7||[ce.responseText,cd,ce])})}return this};bL.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b6){bL.fn[b6]=function(b7){return this.on(b6,b7)}});bL.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Z,type:"GET",isLocal:D.test(b4[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aX,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bL.parseJSON,"text xml":bL.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b6,e){return e?u(u(b6,bL.ajaxSettings),e):u(bL.ajaxSettings,b6)},ajaxPrefilter:bN(y),ajaxTransport:bN(a9),ajax:function(ca,b7){if(typeof ca==="object"){b7=ca;ca=aH}b7=b7||{};var cj,cl,cb,cq,cf,b6,cm,b8,ce=bL.ajaxSetup({},b7),cs=ce.context||ce,ch=ce.context&&(cs.nodeType||cs.jquery)?bL(cs):bL.event,cr=bL.Deferred(),co=bL.Callbacks("once memory"),cc=ce.statusCode||{},ci={},cp={},b9=0,cd="canceled",ck={readyState:0,getResponseHeader:function(ct){var e;if(b9===2){if(!b8){b8={};while((e=ah.exec(cq))){b8[e[1].toLowerCase()]=e[2]}}e=b8[ct.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b9===2?cq:null},setRequestHeader:function(ct,cu){var e=ct.toLowerCase();if(!b9){ct=cp[e]=cp[e]||ct;ci[ct]=cu}return this},overrideMimeType:function(e){if(!b9){ce.mimeType=e}return this},statusCode:function(ct){var e;if(ct){if(b9<2){for(e in ct){cc[e]=[cc[e],ct[e]]}}else{ck.always(ct[ck.status])}}return this},abort:function(ct){var e=ct||cd;if(cm){cm.abort(e)}cg(0,e);return this}};cr.promise(ck).complete=co.add;ck.success=ck.done;ck.error=ck.fail;ce.url=((ca||ce.url||Z)+"").replace(aq,"").replace(aI,b4[1]+"//");ce.type=b7.method||b7.type||ce.method||ce.type;ce.dataTypes=bL.trim(ce.dataType||"*").toLowerCase().match(ad)||[""];if(ce.crossDomain==null){cj=aV.exec(ce.url.toLowerCase());ce.crossDomain=!!(cj&&(cj[1]!==b4[1]||cj[2]!==b4[2]||(cj[3]||(cj[1]==="http:"?"80":"443"))!==(b4[3]||(b4[1]==="http:"?"80":"443"))))}if(ce.data&&ce.processData&&typeof ce.data!=="string"){ce.data=bL.param(ce.data,ce.traditional)}p(y,ce,b7,ck);if(b9===2){return ck}b6=ce.global;if(b6&&bL.active++===0){bL.event.trigger("ajaxStart")}ce.type=ce.type.toUpperCase();ce.hasContent=!q.test(ce.type);cb=ce.url;if(!ce.hasContent){if(ce.data){cb=(ce.url+=(aA.test(cb)?"&":"?")+ce.data);delete ce.data}if(ce.cache===false){ce.url=P.test(cb)?cb.replace(P,"$1_="+bQ++):cb+(aA.test(cb)?"&":"?")+"_="+bQ++}}if(ce.ifModified){if(bL.lastModified[cb]){ck.setRequestHeader("If-Modified-Since",bL.lastModified[cb])}if(bL.etag[cb]){ck.setRequestHeader("If-None-Match",bL.etag[cb])}}if(ce.data&&ce.hasContent&&ce.contentType!==false||b7.contentType){ck.setRequestHeader("Content-Type",ce.contentType)}ck.setRequestHeader("Accept",ce.dataTypes[0]&&ce.accepts[ce.dataTypes[0]]?ce.accepts[ce.dataTypes[0]]+(ce.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):ce.accepts["*"]);for(cl in ce.headers){ck.setRequestHeader(cl,ce.headers[cl])}if(ce.beforeSend&&(ce.beforeSend.call(cs,ck,ce)===false||b9===2)){return ck.abort()}cd="abort";for(cl in {success:1,error:1,complete:1}){ck[cl](ce[cl])}cm=p(a9,ce,b7,ck);if(!cm){cg(-1,"No Transport")}else{ck.readyState=1;if(b6){ch.trigger("ajaxSend",[ck,ce])}if(ce.async&&ce.timeout>0){cf=setTimeout(function(){ck.abort("timeout")},ce.timeout)}try{b9=1;cm.send(ci,cg)}catch(cn){if(b9<2){cg(-1,cn)}else{throw cn}}}function cg(cx,ct,cy,cv){var e,cB,cz,cw,cA,cu=ct;if(b9===2){return}b9=2;if(cf){clearTimeout(cf)}cm=aH;cq=cv||"";ck.readyState=cx>0?4:0;e=cx>=200&&cx<300||cx===304;if(cy){cw=g(ce,ck,cy)}cw=ag(ce,cw,ck,e);if(e){if(ce.ifModified){cA=ck.getResponseHeader("Last-Modified");if(cA){bL.lastModified[cb]=cA}cA=ck.getResponseHeader("etag");if(cA){bL.etag[cb]=cA}}if(cx===204||ce.type==="HEAD"){cu="nocontent"}else{if(cx===304){cu="notmodified"}else{cu=cw.state;cB=cw.data;cz=cw.error;e=!cz}}}else{cz=cu;if(cx||!cu){cu="error";if(cx<0){cx=0}}}ck.status=cx;ck.statusText=(ct||cu)+"";if(e){cr.resolveWith(cs,[cB,cu,ck])}else{cr.rejectWith(cs,[ck,cu,cz])}ck.statusCode(cc);cc=aH;if(b6){ch.trigger(e?"ajaxSuccess":"ajaxError",[ck,ce,e?cB:cz])}co.fireWith(cs,[ck,cu]);if(b6){ch.trigger("ajaxComplete",[ck,ce]);if(!(--bL.active)){bL.event.trigger("ajaxStop")}}}return ck},getJSON:function(e,b6,b7){return bL.get(e,b6,b7,"json")},getScript:function(e,b6){return bL.get(e,aH,b6,"script")}});bL.each(["get","post"],function(e,b6){bL[b6]=function(b7,b9,ca,b8){if(bL.isFunction(b9)){b8=b8||ca;ca=b9;b9=aH}return bL.ajax({url:b7,type:b6,dataType:b8,data:b9,success:ca})}});function g(cd,cc,b9){var e,b8,b7,ca,b6=cd.contents,cb=cd.dataTypes;while(cb[0]==="*"){cb.shift();if(b8===aH){b8=cd.mimeType||cc.getResponseHeader("Content-Type")}}if(b8){for(ca in b6){if(b6[ca]&&b6[ca].test(b8)){cb.unshift(ca);break}}}if(cb[0] in b9){b7=cb[0]}else{for(ca in b9){if(!cb[0]||cd.converters[ca+" "+cb[0]]){b7=ca;break}if(!e){e=ca}}b7=b7||e}if(b7){if(b7!==cb[0]){cb.unshift(b7)}return b9[b7]}}function ag(ch,b9,ce,b7){var b6,cc,cf,ca,b8,cg={},cd=ch.dataTypes.slice();if(cd[1]){for(cf in ch.converters){cg[cf.toLowerCase()]=ch.converters[cf]}}cc=cd.shift();while(cc){if(ch.responseFields[cc]){ce[ch.responseFields[cc]]=b9}if(!b8&&b7&&ch.dataFilter){b9=ch.dataFilter(b9,ch.dataType)}b8=cc;cc=cd.shift();if(cc){if(cc==="*"){cc=b8}else{if(b8!=="*"&&b8!==cc){cf=cg[b8+" "+cc]||cg["* "+cc];if(!cf){for(b6 in cg){ca=b6.split(" ");if(ca[1]===cc){cf=cg[b8+" "+ca[0]]||cg["* "+ca[0]];if(cf){if(cf===true){cf=cg[b6]}else{if(cg[b6]!==true){cc=ca[0];cd.unshift(ca[1])}}break}}}}if(cf!==true){if(cf&&ch["throws"]){b9=cf(b9)}else{try{b9=cf(b9)}catch(cb){return{state:"parsererror",error:cf?cb:"No conversion from "+b8+" to "+cc}}}}}}}}return{state:"success",data:b9}}bL.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bL.globalEval(e);return e}}});bL.ajaxPrefilter("script",function(e){if(e.cache===aH){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bL.ajaxTransport("script",function(b7){if(b7.crossDomain){var e,b6=n.head||bL("head")[0]||n.documentElement;return{send:function(b8,b9){e=n.createElement("script");e.async=true;if(b7.scriptCharset){e.charset=b7.scriptCharset}e.src=b7.url;e.onload=e.onreadystatechange=function(cb,ca){if(ca||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!ca){b9(200,"success")}}};b6.insertBefore(e,b6.firstChild)},abort:function(){if(e){e.onload(aH,true)}}}}});var bs=[],a7=/(=)\?(?=&|$)|\?\?/;bL.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bs.pop()||(bL.expando+"_"+(bQ++));this[e]=true;return e}});bL.ajaxPrefilter("json jsonp",function(b8,e,b9){var cb,b6,b7,ca=b8.jsonp!==false&&(a7.test(b8.url)?"url":typeof b8.data==="string"&&!(b8.contentType||"").indexOf("application/x-www-form-urlencoded")&&a7.test(b8.data)&&"data");if(ca||b8.dataTypes[0]==="jsonp"){cb=b8.jsonpCallback=bL.isFunction(b8.jsonpCallback)?b8.jsonpCallback():b8.jsonpCallback;if(ca){b8[ca]=b8[ca].replace(a7,"$1"+cb)}else{if(b8.jsonp!==false){b8.url+=(aA.test(b8.url)?"&":"?")+b8.jsonp+"="+cb}}b8.converters["script json"]=function(){if(!b7){bL.error(cb+" was not called")}return b7[0]};b8.dataTypes[0]="json";b6=a4[cb];a4[cb]=function(){b7=arguments};b9.always(function(){a4[cb]=b6;if(b8[cb]){b8.jsonpCallback=e.jsonpCallback;bs.push(cb)}if(b7&&bL.isFunction(b6)){b6(b7[0])}b7=b6=aH});return"script"}});var ai,ay,az=0,aQ=a4.ActiveXObject&&function(){var e;for(e in ai){ai[e](aH,true)}};function bF(){try{return new a4.XMLHttpRequest()}catch(b6){}}function bg(){try{return new a4.ActiveXObject("Microsoft.XMLHTTP")}catch(b6){}}bL.ajaxSettings.xhr=a4.ActiveXObject?function(){return !this.isLocal&&bF()||bg()}:bF;ay=bL.ajaxSettings.xhr();bL.support.cors=!!ay&&("withCredentials" in ay);ay=bL.support.ajax=!!ay;if(ay){bL.ajaxTransport(function(e){if(!e.crossDomain||bL.support.cors){var b6;return{send:function(cc,b7){var ca,b8,cb=e.xhr();if(e.username){cb.open(e.type,e.url,e.async,e.username,e.password)}else{cb.open(e.type,e.url,e.async)}if(e.xhrFields){for(b8 in e.xhrFields){cb[b8]=e.xhrFields[b8]}}if(e.mimeType&&cb.overrideMimeType){cb.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!cc["X-Requested-With"]){cc["X-Requested-With"]="XMLHttpRequest"}try{for(b8 in cc){cb.setRequestHeader(b8,cc[b8])}}catch(b9){}cb.send((e.hasContent&&e.data)||null);b6=function(cf,ce){var cd,cg,cj,ch;try{if(b6&&(ce||cb.readyState===4)){b6=aH;if(ca){cb.onreadystatechange=bL.noop;if(aQ){delete ai[ca]}}if(ce){if(cb.readyState!==4){cb.abort()}}else{ch={};cd=cb.status;cg=cb.getAllResponseHeaders();if(typeof cb.responseText==="string"){ch.text=cb.responseText}try{cj=cb.statusText}catch(ci){cj=""}if(!cd&&e.isLocal&&!e.crossDomain){cd=ch.text?200:404}else{if(cd===1223){cd=204}}}}}catch(ck){if(!ce){b7(-1,ck)}}if(ch){b7(cd,cj,ch,cg)}};if(!e.async){b6()}else{if(cb.readyState===4){setTimeout(b6)}else{ca=++az;if(aQ){if(!ai){ai={};bL(a4).unload(aQ)}ai[ca]=b6}cb.onreadystatechange=b6}}},abort:function(){if(b6){b6(aH,true)}}}}})}var M,ae,bT=/^(?:toggle|show|hide)$/,bM=new RegExp("^(?:([+-])=|)("+bC+")([a-z%]*)$","i"),bS=/queueHooks$/,aC=[h],a1={"*":[function(e,cb){var cd=this.createTween(e,cb),b9=cd.cur(),b8=bM.exec(cb),cc=b8&&b8[3]||(bL.cssNumber[e]?"":"px"),b6=(bL.cssNumber[e]||cc!=="px"&&+b9)&&bM.exec(bL.css(cd.elem,e)),b7=1,ca=20;if(b6&&b6[3]!==cc){cc=cc||b6[3];b8=b8||[];b6=+b9||1;do{b7=b7||".5";b6=b6/b7;bL.style(cd.elem,e,b6+cc)}while(b7!==(b7=cd.cur()/b9)&&b7!==1&&--ca)}if(b8){b6=cd.start=+b6||+b9||0;cd.unit=cc;cd.end=b8[1]?b6+(b8[1]+1)*b8[2]:+b8[2]}return cd}]};function bo(){setTimeout(function(){M=aH});return(M=bL.now())}function bd(b9,cb,b8){var b6,ca=(a1[cb]||[]).concat(a1["*"]),e=0,b7=ca.length;for(;e<b7;e++){if((b6=ca[e].call(b8,cb,b9))){return b6}}}function f(b7,cb,ce){var cf,e,ca=0,b6=aC.length,cd=bL.Deferred().always(function(){delete b9.elem}),b9=function(){if(e){return false}var cl=M||bo(),ci=Math.max(0,b8.startTime+b8.duration-cl),cg=ci/b8.duration||0,ck=1-cg,ch=0,cj=b8.tweens.length;for(;ch<cj;ch++){b8.tweens[ch].run(ck)}cd.notifyWith(b7,[b8,ck,ci]);if(ck<1&&cj){return ci}else{cd.resolveWith(b7,[b8]);return false}},b8=cd.promise({elem:b7,props:bL.extend({},cb),opts:bL.extend(true,{specialEasing:{}},ce),originalProperties:cb,originalOptions:ce,startTime:M||bo(),duration:ce.duration,tweens:[],createTween:function(ci,cg){var ch=bL.Tween(b7,b8.opts,ci,cg,b8.opts.specialEasing[ci]||b8.opts.easing);b8.tweens.push(ch);return ch},stop:function(ch){var cg=0,ci=ch?b8.tweens.length:0;if(e){return this}e=true;for(;cg<ci;cg++){b8.tweens[cg].run(1)}if(ch){cd.resolveWith(b7,[b8,ch])}else{cd.rejectWith(b7,[b8,ch])}return this}}),cc=b8.props;an(cc,b8.opts.specialEasing);for(;ca<b6;ca++){cf=aC[ca].call(b8,b7,cc,b8.opts);if(cf){return cf}}bL.map(cc,bd,b8);if(bL.isFunction(b8.opts.start)){b8.opts.start.call(b7,b8)}bL.fx.timer(bL.extend(b9,{elem:b7,anim:b8,queue:b8.opts.queue}));return b8.progress(b8.opts.progress).done(b8.opts.done,b8.opts.complete).fail(b8.opts.fail).always(b8.opts.always)}function an(b8,ca){var b7,b6,cb,b9,e;for(b7 in b8){b6=bL.camelCase(b7);cb=ca[b6];b9=b8[b7];if(bL.isArray(b9)){cb=b9[1];b9=b8[b7]=b9[0]}if(b7!==b6){b8[b6]=b9;delete b8[b7]}e=bL.cssHooks[b6];if(e&&"expand" in e){b9=e.expand(b9);delete b8[b6];for(b7 in b9){if(!(b7 in b8)){b8[b7]=b9[b7];ca[b7]=cb}}}else{ca[b6]=cb}}}bL.Animation=bL.extend(f,{tweener:function(b6,b9){if(bL.isFunction(b6)){b9=b6;b6=["*"]}else{b6=b6.split(" ")}var b8,e=0,b7=b6.length;for(;e<b7;e++){b8=b6[e];a1[b8]=a1[b8]||[];a1[b8].unshift(b9)}},prefilter:function(b6,e){if(e){aC.unshift(b6)}else{aC.push(b6)}}});function h(b8,cc,e){var b7,ce,ca,ch,ci,cf,b9=this,cd={},b6=b8.style,cb=b8.nodeType&&Q(b8),cg=bL._data(b8,"fxshow");if(!e.queue){ci=bL._queueHooks(b8,"fx");if(ci.unqueued==null){ci.unqueued=0;cf=ci.empty.fire;ci.empty.fire=function(){if(!ci.unqueued){cf()}}}ci.unqueued++;b9.always(function(){b9.always(function(){ci.unqueued--;if(!bL.queue(b8,"fx").length){ci.empty.fire()}})})}if(b8.nodeType===1&&("height" in cc||"width" in cc)){e.overflow=[b6.overflow,b6.overflowX,b6.overflowY];if(bL.css(b8,"display")==="inline"&&bL.css(b8,"float")==="none"){if(!bL.support.inlineBlockNeedsLayout||bG(b8.nodeName)==="inline"){b6.display="inline-block"}else{b6.zoom=1}}}if(e.overflow){b6.overflow="hidden";if(!bL.support.shrinkWrapBlocks){b9.always(function(){b6.overflow=e.overflow[0];b6.overflowX=e.overflow[1];b6.overflowY=e.overflow[2]})}}for(b7 in cc){ce=cc[b7];if(bT.exec(ce)){delete cc[b7];ca=ca||ce==="toggle";if(ce===(cb?"hide":"show")){continue}cd[b7]=cg&&cg[b7]||bL.style(b8,b7)}}if(!bL.isEmptyObject(cd)){if(cg){if("hidden" in cg){cb=cg.hidden}}else{cg=bL._data(b8,"fxshow",{})}if(ca){cg.hidden=!cb}if(cb){bL(b8).show()}else{b9.done(function(){bL(b8).hide()})}b9.done(function(){var cj;bL._removeData(b8,"fxshow");for(cj in cd){bL.style(b8,cj,cd[cj])}});for(b7 in cd){ch=bd(cb?cg[b7]:0,b7,b9);if(!(b7 in cg)){cg[b7]=ch.start;if(cb){ch.end=ch.start;ch.start=b7==="width"||b7==="height"?1:0}}}}}function I(b7,b6,b9,e,b8){return new I.prototype.init(b7,b6,b9,e,b8)}bL.Tween=I;I.prototype={constructor:I,init:function(b8,b6,ca,e,b9,b7){this.elem=b8;this.prop=ca;this.easing=b9||"swing";this.options=b6;this.start=this.now=this.cur();this.end=e;this.unit=b7||(bL.cssNumber[ca]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(b7){var b6,e=I.propHooks[this.prop];if(this.options.duration){this.pos=b6=bL.easing[this.easing](b7,this.options.duration*b7,0,1,this.options.duration)}else{this.pos=b6=b7}this.now=(this.end-this.start)*b6+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{I.propHooks._default.set(this)}return this}};I.prototype.init.prototype=I.prototype;I.propHooks={_default:{get:function(b6){var e;if(b6.elem[b6.prop]!=null&&(!b6.elem.style||b6.elem.style[b6.prop]==null)){return b6.elem[b6.prop]}e=bL.css(b6.elem,b6.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bL.fx.step[e.prop]){bL.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bL.cssProps[e.prop]]!=null||bL.cssHooks[e.prop])){bL.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bL.each(["toggle","show","hide"],function(b6,e){var b7=bL.fn[e];bL.fn[e]=function(b8,ca,b9){return b8==null||typeof b8==="boolean"?b7.apply(this,arguments):this.animate(bK(e,true),b8,ca,b9)}});bL.fn.extend({fadeTo:function(e,b8,b7,b6){return this.filter(Q).css("opacity",0).show().end().animate({opacity:b8},e,b7,b6)},animate:function(cb,b8,ca,b9){var b7=bL.isEmptyObject(cb),e=bL.speed(b8,ca,b9),b6=function(){var cc=f(this,bL.extend({},cb),e);if(b7||bL._data(this,"finish")){cc.stop(true)}};b6.finish=b6;return b7||e.queue===false?this.each(b6):this.queue(e.queue,b6)},stop:function(b7,b6,e){var b8=function(b9){var ca=b9.stop;delete b9.stop;ca(e)};if(typeof b7!=="string"){e=b6;b6=b7;b7=aH}if(b6&&b7!==false){this.queue(b7||"fx",[])}return this.each(function(){var cc=true,b9=b7!=null&&b7+"queueHooks",cb=bL.timers,ca=bL._data(this);if(b9){if(ca[b9]&&ca[b9].stop){b8(ca[b9])}}else{for(b9 in ca){if(ca[b9]&&ca[b9].stop&&bS.test(b9)){b8(ca[b9])}}}for(b9=cb.length;b9--;){if(cb[b9].elem===this&&(b7==null||cb[b9].queue===b7)){cb[b9].anim.stop(e);cc=false;cb.splice(b9,1)}}if(cc||!e){bL.dequeue(this,b7)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b8,cb=bL._data(this),b7=cb[e+"queue"],b6=cb[e+"queueHooks"],ca=bL.timers,b9=b7?b7.length:0;cb.finish=true;bL.queue(this,e,[]);if(b6&&b6.stop){b6.stop.call(this,true)}for(b8=ca.length;b8--;){if(ca[b8].elem===this&&ca[b8].queue===e){ca[b8].anim.stop(true);ca.splice(b8,1)}}for(b8=0;b8<b9;b8++){if(b7[b8]&&b7[b8].finish){b7[b8].finish.call(this)}}delete cb.finish})}});function bK(b7,b9){var b8,e={height:b7},b6=0;b9=b9?1:0;for(;b6<4;b6+=2-b9){b8=bV[b6];e["margin"+b8]=e["padding"+b8]=b7}if(b9){e.opacity=e.width=b7}return e}bL.each({slideDown:bK("show"),slideUp:bK("hide"),slideToggle:bK("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b6){bL.fn[e]=function(b7,b9,b8){return this.animate(b6,b7,b9,b8)}});bL.speed=function(b7,b8,b6){var e=b7&&typeof b7==="object"?bL.extend({},b7):{complete:b6||!b6&&b8||bL.isFunction(b7)&&b7,duration:b7,easing:b6&&b8||b8&&!bL.isFunction(b8)&&b8};e.duration=bL.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bL.fx.speeds?bL.fx.speeds[e.duration]:bL.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bL.isFunction(e.old)){e.old.call(this)}if(e.queue){bL.dequeue(this,e.queue)}};return e};bL.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bL.timers=[];bL.fx=I.prototype.init;bL.fx.tick=function(){var b7,b6=bL.timers,e=0;M=bL.now();for(;e<b6.length;e++){b7=b6[e];if(!b7()&&b6[e]===b7){b6.splice(e--,1)}}if(!b6.length){bL.fx.stop()}M=aH};bL.fx.timer=function(e){if(e()&&bL.timers.push(e)){bL.fx.start()}};bL.fx.interval=13;bL.fx.start=function(){if(!ae){ae=setInterval(bL.fx.tick,bL.fx.interval)}};bL.fx.stop=function(){clearInterval(ae);ae=null};bL.fx.speeds={slow:600,fast:200,_default:400};bL.fx.step={};if(bL.expr&&bL.expr.filters){bL.expr.filters.animated=function(e){return bL.grep(bL.timers,function(b6){return e===b6.elem}).length}}bL.fn.offset=function(b6){if(arguments.length){return b6===aH?this:this.each(function(cb){bL.offset.setOffset(this,b6,cb)})}var e,ca,b8={top:0,left:0},b7=this[0],b9=b7&&b7.ownerDocument;if(!b9){return}e=b9.documentElement;if(!bL.contains(e,b7)){return b8}if(typeof b7.getBoundingClientRect!==aD){b8=b7.getBoundingClientRect()}ca=br(b9);return{top:b8.top+(ca.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b8.left+(ca.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bL.offset={setOffset:function(b8,ch,cb){var cc=bL.css(b8,"position");if(cc==="static"){b8.style.position="relative"}var ca=bL(b8),b6=ca.offset(),e=bL.css(b8,"top"),cf=bL.css(b8,"left"),cg=(cc==="absolute"||cc==="fixed")&&bL.inArray("auto",[e,cf])>-1,ce={},cd={},b7,b9;if(cg){cd=ca.position();b7=cd.top;b9=cd.left}else{b7=parseFloat(e)||0;b9=parseFloat(cf)||0}if(bL.isFunction(ch)){ch=ch.call(b8,cb,b6)}if(ch.top!=null){ce.top=(ch.top-b6.top)+b7}if(ch.left!=null){ce.left=(ch.left-b6.left)+b9}if("using" in ch){ch.using.call(b8,ce)}else{ca.css(ce)}}};bL.fn.extend({position:function(){if(!this[0]){return}var b7,b8,e={top:0,left:0},b6=this[0];if(bL.css(b6,"position")==="fixed"){b8=b6.getBoundingClientRect()}else{b7=this.offsetParent();b8=this.offset();if(!bL.nodeName(b7[0],"html")){e=b7.offset()}e.top+=bL.css(b7[0],"borderTopWidth",true);e.left+=bL.css(b7[0],"borderLeftWidth",true)}return{top:b8.top-e.top-bL.css(b6,"marginTop",true),left:b8.left-e.left-bL.css(b6,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||bY;while(e&&(!bL.nodeName(e,"html")&&bL.css(e,"position")==="static")){e=e.offsetParent}return e||bY})}});bL.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b7,b6){var e=/Y/.test(b6);bL.fn[b7]=function(b8){return bL.access(this,function(b9,cc,cb){var ca=br(b9);if(cb===aH){return ca?(b6 in ca)?ca[b6]:ca.document.documentElement[cc]:b9[cc]}if(ca){ca.scrollTo(!e?cb:bL(ca).scrollLeft(),e?cb:bL(ca).scrollTop())}else{b9[cc]=cb}},b7,b8,arguments.length,null)}});function br(e){return bL.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bL.each({Height:"height",Width:"width"},function(e,b6){bL.each({padding:"inner"+e,content:b6,"":"outer"+e},function(b7,b8){bL.fn[b8]=function(cc,cb){var ca=arguments.length&&(b7||typeof cc!=="boolean"),b9=b7||(cc===true||cb===true?"margin":"border");return bL.access(this,function(ce,cd,cf){var cg;if(bL.isWindow(ce)){return ce.document.documentElement["client"+e]}if(ce.nodeType===9){cg=ce.documentElement;return Math.max(ce.body["scroll"+e],cg["scroll"+e],ce.body["offset"+e],cg["offset"+e],cg["client"+e])}return cf===aH?bL.css(ce,cd,b9):bL.style(ce,cd,cf,b9)},b6,ca?cc:aH,ca,null)}})});bL.fn.size=function(){return this.length};bL.fn.andSelf=bL.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=bL}else{a4.jQuery=a4.$=bL;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bL})}}})(window);
/* jQuery number 2.1.5 (c) github.com/teamdf/jquery-number | opensource.teamdf.com/license */
(function(f){function b(k,h){if(this.createTextRange){var l=this.createTextRange();l.collapse(true);l.moveStart("character",k);l.moveEnd("character",h-k);l.select()}else{if(this.setSelectionRange){this.focus();this.setSelectionRange(k,h)}}}function g(o){var k=this.value.length;o=o.toLowerCase()=="start"?"Start":"End";if(document.selection){var p=document.selection.createRange(),m,h,l;m=p.duplicate();m.expand("textedit");m.setEndPoint("EndToEnd",p);h=m.text.length-p.text.length;l=h+p.text.length;return o=="Start"?h:l}else{if(typeof this["selection"+o]!="undefined"){k=this["selection"+o]}}return k}var d={codes:{46:127,188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};f.fn.number=function(m,n,q,k){k=typeof k==="undefined"?",":k;q=typeof q==="undefined"?".":q;n=typeof n==="undefined"?0:n;var h="\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4),p=new RegExp("[^"+h+"0-9]","g"),e=new RegExp(h,"g");if(m===true){if(this.is("input:text")){return this.on({"keydown.format":function(u){var A=f(this),x=A.data("numFormat"),t=u.keyCode?u.keyCode:u.which,z="",w=g.apply(this,["start"]),o=g.apply(this,["end"]),y="",B=false;if(d.codes.hasOwnProperty(t)){t=d.codes[t]}if(!u.shiftKey&&t>=65&&t<=90){t+=32}else{if(!u.shiftKey&&t>=69&&t<=105){t-=48}else{if(u.shiftKey&&d.shifts.hasOwnProperty(t)){z=d.shifts[t]}}}if(z==""){z=String.fromCharCode(t)}if(t!=8&&t!=45&&t!=127&&z!=q&&!z.match(/[0-9]/)){var s=u.keyCode?u.keyCode:u.which;if(s==46||s==8||s==127||s==9||s==27||s==13||(s==65||s==82||s==80||s==83||s==70||s==72||s==66||s==74||s==84||s==90||s==61||s==173||s==48)&&(u.ctrlKey||u.metaKey)===true||(s==86||s==67||s==88)&&(u.ctrlKey||u.metaKey)===true||s>=35&&s<=39||s>=112&&s<=123){return}u.preventDefault();return false}if(w==0&&o==this.value.length||A.val()==0){if(t==8){w=o=1;this.value="";x.init=n>0?-1:0;x.c=n>0?-(n+1):0;b.apply(this,[0,0])}else{if(z==q){w=o=1;this.value="0"+q+(new Array(n+1)).join("0");x.init=n>0?1:0;x.c=n>0?-(n+1):0}else{if(t==45){w=o=2;this.value="-0"+q+(new Array(n+1)).join("0");x.init=n>0?1:0;x.c=n>0?-(n+1):0;b.apply(this,[2,2])}else{x.init=n>0?-1:0;x.c=n>0?-n:0}}}}else{x.c=o-this.value.length}x.isPartialSelection=w==o?false:true;if(n>0&&z==q&&w==this.value.length-n-1){x.c++;x.init=Math.max(0,x.init);u.preventDefault();B=this.value.length+x.c}else{if(t==45&&(w!=0||this.value.indexOf("-")==0)){u.preventDefault()}else{if(z==q){x.init=Math.max(0,x.init);u.preventDefault()}else{if(n>0&&t==127&&w==this.value.length-n-1){u.preventDefault()}else{if(n>0&&t==8&&w==this.value.length-n){u.preventDefault();x.c--;B=this.value.length+x.c}else{if(n>0&&t==127&&w>this.value.length-n-1){if(this.value===""){return}if(this.value.slice(w,w+1)!="0"){y=this.value.slice(0,w)+"0"+this.value.slice(w+1);A.val(y)}u.preventDefault();B=this.value.length+x.c}else{if(n>0&&t==8&&w>this.value.length-n){if(this.value===""){return}if(this.value.slice(w-1,w)!="0"){y=this.value.slice(0,w-1)+"0"+this.value.slice(w);A.val(y)}u.preventDefault();x.c--;B=this.value.length+x.c}else{if(t==127&&this.value.slice(w,w+1)==k){u.preventDefault()}else{if(t==8&&this.value.slice(w-1,w)==k){u.preventDefault();x.c--;B=this.value.length+x.c}else{if(n>0&&w==o&&this.value.length>n+1&&w>this.value.length-n-1&&isFinite(+z)&&!u.metaKey&&!u.ctrlKey&&!u.altKey&&z.length===1){if(o===this.value.length){y=this.value.slice(0,w-1)}else{y=this.value.slice(0,w)+this.value.slice(w+1)}this.value=y;B=w}}}}}}}}}}if(B!==false){b.apply(this,[B,B])}A.data("numFormat",x)},"keyup.format":function(x){var w=f(this),z=w.data("numFormat"),v=x.keyCode?x.keyCode:x.which,t=g.apply(this,["start"]),y=g.apply(this,["end"]),s;if(t===0&&y===0&&(v===189||v===109)){w.val("-"+w.val());t=1;z.c=1-this.value.length;z.init=1;w.data("numFormat",z);s=this.value.length+z.c;b.apply(this,[s,s])}if(this.value===""||(v<48||v>57)&&(v<96||v>105)&&v!==8&&v!==46&&v!==110){return}w.val(w.val());if(n>0){if(z.init<1){t=this.value.length-n-(z.init<0?1:0);z.c=t-this.value.length;z.init=1;w.data("numFormat",z)}else{if(t>this.value.length-n&&v!=8){z.c++;w.data("numFormat",z)}}}if(v==46&&!z.isPartialSelection){z.c++;w.data("numFormat",z)}s=this.value.length+z.c;b.apply(this,[s,s])},"paste.format":function(o){var u=f(this),s=o.originalEvent,l=null;if(window.clipboardData&&window.clipboardData.getData){l=window.clipboardData.getData("Text")}else{if(s.clipboardData&&s.clipboardData.getData){l=s.clipboardData.getData("text/plain")}}u.val(l);o.preventDefault();return false}}).each(function(){var l=f(this).data("numFormat",{c:-(n+1),decimals:n,thousands_sep:k,dec_point:q,regex_dec_num:p,regex_dec:e,init:this.value.indexOf(".")?true:false});if(this.value===""){return}l.val(l.val())})}else{return this.each(function(){var l=f(this),o=+l.text().replace(p,"").replace(e,".");l.number(!isFinite(o)?0:+o,n,q,k)})}}return this.text(f.number.apply(window,arguments))};var a=null,c=null;if(f.isPlainObject(f.valHooks.text)){if(f.isFunction(f.valHooks.text.get)){a=f.valHooks.text.get}if(f.isFunction(f.valHooks.text.set)){c=f.valHooks.text.set}}else{f.valHooks.text={}}f.valHooks.text.get=function(e){var m=f(e),k,h,l=m.data("numFormat");if(!l){if(f.isFunction(a)){return a(e)}else{return undefined}}else{if(e.value===""){return""}k=+e.value.replace(l.regex_dec_num,"").replace(l.regex_dec,".");return(e.value.indexOf("-")===0?"-":"")+(isFinite(k)?k:0)}};f.valHooks.text.set=function(h,m){var k=f(h),e=k.data("numFormat");if(!e){if(f.isFunction(c)){return c(h,m)}else{return undefined}}else{var l=f.number(m,e.decimals,e.dec_point,e.thousands_sep);return h.value=l}};f.number=function(p,w,l,h){h=typeof h==="undefined"?",":h;l=typeof l==="undefined"?".":l;w=!isFinite(+w)?0:Math.abs(w);var m="\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4);var x="\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4);p=(p+"").replace(".",l).replace(new RegExp(x,"g"),"").replace(new RegExp(m,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var k=!isFinite(+p)?0:+p,v="",q=function(s,o){var u=Math.pow(10,o);return""+Math.round(s*u)/u};v=(w?q(k,w):""+Math.round(k)).split(".");if(v[0].length>3){v[0]=v[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,h)}if((v[1]||"").length<w){v[1]=v[1]||"";v[1]+=(new Array(w-v[1].length+1)).join("0")}return v.join(l)}})(jQuery);(function(c,e){var d=window.$v=window.$v||{};if(d.version){return}function a(){}a.prototype={constructor:a,init:function(){this._cus_events={}},bind:function(n,l,m){var o=this,p,g=typeof n==="string"?[n]:n,h,k,s,f=typeof l==="function",q;for(p=0,h=g.length;p<h;p++){n=g[p];s=f?l:l[n];if(s){if(m){k=s;s=function(){o.unbind(n,s);k.apply(o,arguments)}}q=o._cus_events[n]=o._cus_events[n]||[];q.push(s)}}return o},one:function(g,f){return this.bind(g,f,true)},first:function(l,k){var m=this,n,f=typeof l==="string"?[l]:l,g,p,h=typeof k==="function",o;for(n=0,g=f.length;n<g;n++){l=f[n];p=h?k:k[l];if(p){o=m._cus_events[l]=m._cus_events[l]||[];o.unshift(p)}}return m},trigger:function(g,n){var m=this,h=m._cus_events[g],f,l,k=false;if(h){n=n||{};n.sender=m;n.preventDefault=function(){k=true};n.isDefaultPrevented=function(){return k};h=h.slice();for(f=0,l=h.length;f<l;f++){h[f].call(m,n)}}return k},unbind:function(g,k){var m=this,h=m._cus_events[g],f,l;if(h){if(k){for(f=0,l=h.length;f<l;f++){if(h[f]===k){h.splice(f,1)}}}else{m._cus_events[g]=[]}}return m}};function b(){}b.fn=b.prototype=c.extend({},a.prototype,{constructor:b,init:function(g,f){var h=this;h.options=c.extend(true,{},h.options,f);h.host=c(g);a.prototype.init.call(h);h.bind(h.events,h.options)},events:[],setOptions:function(f){c.extend(this.options,f);this.bind(this.events,f)}});d.ui={};c.extend(d.ui,{Widget:b,plugin:function(l,h,k){var g=l.prototype.name,f;k=k||"";g=""+k+g;h=h||d.ui;h[g]=l;c.fn[g]=function(n){var o=this,m;if(typeof n==="string"){m=Array.prototype.slice.call(arguments,1);this.each(function(){var q=c.data(this,g),s,p;if(!q){throw new Error("Cannot call method '{0}' of {1} before it is initialized".format(n,g))}s=q[n];if(typeof s!=="function"){throw new Error("Cannot find method '{0}' of {1}".format(n,g))}p=s.apply(q,m);if(p!==e){o=p;return false}})}else{this.each(function(){var p=c.data(this,g,new l());b.fn.init.call(p,this,n);p.init()})}return o}},createPlugin:function(f,h,k){function g(){}g.prototype=c.extend({constructor:g},(h&&h.prototype)||this.Widget.fn,f);this.plugin(g,h,k)}})}(jQuery));(function($,undefined){var addCSS=function(cssText){var style=document.createElement("style"),head=document.head||document.getElementsByTagName("head")[0];style.type="text/css";if(style.styleSheet){var func=function(){try{style.styleSheet.cssText=cssText}catch(e){}};if(style.styleSheet.disabled){setTimeout(func,10)}else{func()}}else{var textNode=document.createTextNode(cssText);style.appendChild(textNode)}head.appendChild(style)};addCSS(".xss-error{ border:red 1px solid;padding:2px 1px;}");$v.ui.createPlugin({name:"XSSValidator",init:function(){var that=this;this.defineInstance();this.createInstance();this.trigger("click")},events:[],options:{numOnly:"",allowXSSChars:[".","&","'","_"," ",",","-"],allowChars:"",allowCharsForNum:"",selector:[]},defineInstance:function(){var that=this;this.rules=null;this.scroll=true;this.focus=true;this.scrollDuration=300;this.scrollCallback=null;this.position="right";this.arrow=true;this.animation="fade";this.animationDuration=150;this.closeOnClick=true;this.onError=null;this.onSuccess=null;this.ownerElement=null;this._events=["validationError","validationSuccess"];this.hintPositionOffset=5;this._inputHint=[];this.rtl=false;this.hintType="tooltip";$.each(this.options,function(i,val){that[i]=val})},createInstance:function(){var that=this;this._xssFilter(this);if(this.hintType=="label"&&this.animationDuration==150){this.animationDuration=0}this._configureInputs();this._removeEventListeners();this._addEventListeners()},addElement:function(options){var _rules=(options.rules||[]).concat().concat(this._xssFilter(options,this));for(var i=0;i<_rules.length;i+=1){rule=_rules[i];rule.hintRender=this._hintRender;this._handleRule(rule);input=$(rule.input);this._addListenerTo(input,rule)}this.rules=this.rules.concat(_rules)},_xssFilter:function(that,root){that.rules=that.rules||[];if(that.numOnly){var allowKeyCodeForNum=[];var allowCharsForNum=[].concat(that.allowCharsForNum||[".","-"]);$.each(allowCharsForNum,function(i,value){allowKeyCodeForNum.push(value.charCodeAt(0))});allowCharsForNum=allowCharsForNum.join("")||(root&&root.allowCharsForNum&&root.allowCharsForNum.concat([".","-"]).join(""));$(that.numOnly).each(function(){$(this).data("numOnly",true);$(this).bind("keypress",function(event){var $that=$(this);var code=event.charCode?event.charCode:event.keyCode?event.keyCode:0;if((code==8)||(code==9)||(code>=48&&code<=57)||$(allowKeyCodeForNum).index(code)>-1){if(code==109||code==77){$that.val((Number($that.val().replace(/,/g,""))||1)*1000);return false}return true}return false}).bind("paste",function(){var $that=$(this);var oldValue=$that.val();setTimeout(function(){var value=Number($that.val());$that.val(value||oldValue)},0)});that.rules.push({input:this,message:"number",action:"blur",rule:"number"});that.rules.push({input:this,message:"Input contain forbidden characters.Please try again",action:"blur",rule:"allowSpecialChars="+allowCharsForNum})})}if(that.selector){var allowKeyCode=[];var allowChars=that.allowChars||that.allowXSSChars||root.allowXSSChars;$.each(allowChars,function(i,value){allowKeyCode.push(value.charCodeAt(0))});$(that.selector).each(function(i,value){if($(value).data("numOnly")){return}$(value).bind("keypress",function(event){var code=event.charCode?event.charCode:event.keyCode?event.keyCode:0;if((code==8)||(code==9)||(code>=48&&code<=57)||(code>=65&&code<=90)||(code>=97&&code<=122)||$(allowKeyCode).index(code)>-1){return true}return false}).bind("paste",function(){var $that=$(this);setTimeout(function(){$that.val($.trim($that.val().replace(eval("/[^A-Za-z0-9\\"+(allowChars.join("//"))+" ]|select|insert|update|delete|exec|count/g"),"")))},0)});that.rules.push({input:value,message:"Any SQL keywords can not be accepted.",action:"blur",rule:"filterSql"});if(allowChars[allowChars.length-1]==","){allowChars.splice(1,0,",")}that.rules.push({input:value,message:"Input contain forbidden characters.Please try again",action:"blur",rule:"allowSpecialChars="+allowChars.join("")})})}return that.rules},_filterSql:function(input,param){return this._validateText(input,function(value){var re=/select|insert|update|delete|exec|count/gi;return !re.test(value)})},_allowSpecialChars:function(input,param,param2){param2&&(param=(param||"")+param2+",");return this._validateText(input,function(value){var valueNum=Number(value.replace(/N\/a|,|%/gi,""));value=valueNum||value;if(param=="false"){return/ ^[A - Za - z0 - 9] + $ /.test(value)}else{param=param.split("")}if(param.length){return eval("/^[A-Za-z0-9 "+param.join("\\")+"]+$/").test(value||" ")}return false})},addHandler:function(source,event,func,data){switch(event){case"mousewheel":if(window.addEventListener){if($.browser.mozilla){source[0].addEventListener("DOMMouseScroll",func,false)}else{source[0].addEventListener("mousewheel",func,false)}return false}break;case"mousemove":if(window.addEventListener&&!data){source[0].addEventListener("mousemove",func,false);return false}break}if(data==undefined||data==null){if(source.on){source.bind(event,func)}else{source.bind(event,func)}}else{if(source.on){source.bind(event,data,func)}else{source.bind(event,data,func)}}},removeHandler:function(source,event,func){switch(event){case"mousewheel":if(window.removeEventListener){if($.browser.mozilla){source[0].removeEventListener("DOMMouseScroll",func,false)}else{source[0].removeEventListener("mousewheel",func,false)}return false}break;case"mousemove":if(func){if(window.removeEventListener){source[0].removeEventListener("mousemove",func,false)}}break}if(event==undefined){if(source.off){source.off()}else{source.unbind()}return}if(func==undefined){if(source.off){source.off(event)}else{source.unbind(event)}}else{if(source.off){source.off(event,func)}else{source.unbind(event,func)}}},toThemeProperty:function(propertyName,override){if(this.theme==""){return propertyName}if(override!=null&&override){return propertyName+"-"+this.theme}return propertyName+" "+propertyName+"-"+this.theme},_validateRule:function(rule,validate){var input=$(rule.input),hint,valid=true;if(!input.length){return valid}var me=this;var commit=function(isValid){if(!isValid){var temp=me.animation;me.animation=null;if(rule.hint){me._hideHintByRule(rule)}hint=rule.hintRender.apply(me,[rule.message,input]);rule.hint=hint;me._removeLowPriorityHints(rule);if(validate){validate(false,rule)}me.animation=temp}else{me._hideHintByRule(rule);if(validate){validate(true,rule)}}};var ruleResult=false;if(typeof rule.rule==="function"){ruleResult=rule.rule.call(this,input,commit);if(ruleResult==true&&validate){validate(true,rule)}}if(typeof rule.rule==="function"&&ruleResult==false){if(typeof rule.hintRender==="function"&&!rule.hint&&!this._higherPriorityActive(rule)&&input.is(":visible")){hint=rule.hintRender.apply(this,[rule.message,input]);rule.hint=hint;this._removeLowPriorityHints(rule)}valid=false;if(validate){validate(false,rule)}}else{this._hideHintByRule(rule)}return valid},_hintRender:function(message,input){$(input).addClass("xss-error").attr("title",message);return $("<div>")},_hideHintByRule:function(rule){var input=$(rule.input);var self=this,hint;var removeErrorClass=function(){if(self.hintType!="label"){return}var that=self;if(that.position=="top"||that.position=="left"){if(input.prev().hasClass(".jqxCus-validator-error-label")){return}}else{if(input.next().hasClass(".jqxCus-validator-error-label")){return}}if(input[0].nodeName.toLowerCase()!="input"){if(input.find("input").length>0){if(input.find(".jqxCus-input").length>0){input.find(".jqxCus-input").removeClass(that.toThemeProperty("jqx-validator-error-element"))}else{if(input.is(".jqxCus-checkbox")){input.find(".jqxCus-checkbox-default").removeClass(that.toThemeProperty("jqx-validator-error-element"))}}if(input.is(".jqxCus-radiobutton")){input.find(".jqxCus-radiobutton-default").removeClass(that.toThemeProperty("jqx-validator-error-element"))}else{input.removeClass(that.toThemeProperty("jqx-validator-error-element"))}}}else{input.removeClass(that.toThemeProperty("jqx-validator-error-element"))}};if(rule){hint=rule.hint;if(hint){input.removeClass("xss-error").attr("title","")}rule.hint=null}},destroy:function(){this._removeEventListeners();this.hide()},validate:function(result){var valid=true,temp,minTop=Infinity,currentTop,topElement,tempElement,invalid=[],minTopElement;this.updatePosition();var me=this;var ruleFuncsCount=0;for(var i=0;i<this.rules.length;i+=1){if(typeof this.rules[i].rule==="function"){ruleFuncsCount++}}this.positions=new Array();for(var i=0;i<this.rules.length;i+=1){var input=$(this.rules[i].input);if(typeof this.rules[i].rule==="function"){var validate=function(isValid,rule){temp=isValid;if(false==temp){valid=false;var input=$(rule.input);tempElement=$(rule.input);invalid.push(tempElement);currentTop=tempElement.offset().top;if(minTop>currentTop){minTop=currentTop;topElement=tempElement}}ruleFuncsCount--;if(ruleFuncsCount==0){if(typeof result==="function"){me._handleValidation(valid,minTop,topElement,invalid);if(result){result(valid)}}}};this._validateRule(this.rules[i],validate)}else{temp=this._validateRule(this.rules[i])}if(false==temp){valid=false;tempElement=$(this.rules[i].input);invalid.push(tempElement);currentTop=tempElement.offset().top;if(minTop>currentTop){minTop=currentTop;topElement=tempElement}}}if(ruleFuncsCount==0){this._handleValidation(valid,minTop,topElement,invalid);return valid}else{return undefined}},validateInput:function(input){var rules=this._getRulesForInput(input),valid=true;for(var i=0;i<rules.length;i+=1){if(!this._validateRule(rules[i])){valid=false}}return valid},hideHint:function(input){var rules=this._getRulesForInput(input);for(var i=0;i<rules.length;i+=1){this._hideHintByRule(rules[i])}},hide:function(){var rule;for(var i=0;i<this.rules.length;i+=1){rule=this.rules[i];this._hideHintByRule(this.rules[i])}},updatePosition:function(){},_getRulesForInput:function(input){var rules=[];for(var i=0;i<this.rules.length;i+=1){if(this.rules[i].input===input){rules.push(this.rules[i])}}return rules},_handleValidation:function(valid,minTop,topElement,invalid){if(!valid){this._scrollHandler(minTop);if(this.focus){topElement.focus()}this._raiseEvent(0,{invalidInputs:invalid});if(typeof this.onError==="function"){this.onError(invalid)}}else{this._raiseEvent(1);if(typeof this.onSuccess==="function"){this.onSuccess()}}},_scrollHandler:function(minTop){if(this.scroll){var self=this;$("html,body").animate({scrollTop:minTop},this.scrollDuration,function(){if(typeof self.scrollCallback==="function"){self.scrollCallback.call(self)}})}},_higherPriorityActive:function(rule){var reach=false,current;for(var i=this.rules.length-1;i>=0;i-=1){current=this.rules[i];if(reach&&current.input===rule.input&&current.hint){return true}if(current===rule){reach=true}}return false},_removeLowPriorityHints:function(rule){var reach=false,current;for(var i=0;i<this.rules.length;i+=1){current=this.rules[i];if(reach&&current.input===rule.input){this._hideHintByRule(current)}if(current===rule){reach=true}}},_getHintRuleByInput:function(input){var current;for(var i=0;i<this.rules.length;i+=1){current=this.rules[i];if($(current.input)[0]===input[0]&&current.hint){return current}}return null},_removeEventListeners:function(){var rule,input,listeners;for(var i=0;i<this.rules.length;i+=1){rule=this.rules[i];listeners=rule.action.split(",");input=$(rule.input);for(var j=0;j<listeners.length;j+=1){this.removeHandler(input,$.trim(listeners[j])+".jqxCus-validator")}}},_addEventListeners:function(){var rule,input;if(this.host.parents(".jqxCus-window").length>0){var self=this;var update=function(){self.updatePosition()};var window=this.host.parents(".jqxCus-window");this.addHandler(window,"closed",function(){self.hide()});this.addHandler(window,"moved",update);this.addHandler(window,"moving",update);this.addHandler(window,"resized",update);this.addHandler(window,"resizing",update);this.addHandler($(document.parentWindow),"scroll",function(){update()})}for(var i=0;i<this.rules.length;i+=1){rule=this.rules[i];input=$(rule.input);this._addListenerTo(input,rule)}},_addListenerTo:function(input,rule){var self=this,listeners=rule.action.split(",");var isJQWidget=false;if(this._isjQWidget(input)){isJQWidget=true}for(var i=0;i<listeners.length;i+=1){var event=$.trim(listeners[i]);if(isJQWidget&&(event=="blur"||event=="focus")){input=input.find("input")}this.addHandler(input,event+".jqxCus-validator",function(event){self._validateRule(rule)})}},_configureInputs:function(){var input,count;this.rules=this.rules||[];for(var i=0;i<this.rules.length;i+=1){this._handleInput(i)}},_handleInput:function(ruleId){var rule=this.rules[ruleId];if(!rule.position){rule.position=this.position}if(!rule.message){rule.message="Validation Failed!"}if(!rule.action){rule.action="blur"}if(!rule.hintRender){rule.hintRender=this._hintRender}if(!rule.rule){rule.rule=null}else{this._handleRule(rule)}},_handleRule:function(rule){var validation=rule.rule,func,parameters,wrongParameter=false;if(typeof validation==="string"){if(validation.indexOf("=")>=0){validation=validation.split("=");parameters=validation[1].split(",");validation=validation[0]}func=this["_"+validation];if(func){rule.rule=function(input,commit){return func.apply(this,[input].concat(parameters))}}else{wrongParameter=true}}else{if(typeof validation!=="function"){wrongParameter=true}else{rule.rule=validation}}if(wrongParameter){throw new Error("Wrong parameter!")}},_required:function(input){switch(this._getType(input)){case"textarea":case"password":case"jqx-input":case"text":var data=$.data(input[0]);if(data.jqxMaskedInput){var promptChar=input.jqxMaskedInput("promptChar"),value=input.jqxMaskedInput("value");return value&&value.indexOf(promptChar)<0}else{if(data.jqxNumberInput){return input.jqxNumberInput("inputValue")!==""}else{if(data.jqxDateTimeInput){return true}else{return $.trim(input.val())!==""}}}case"checkbox":return input.is(":checked");case"radio":return input.is(":checked");case"div":if(input.is(".jqxCus-checkbox")){return input.jqxCheckBox("checked")}if(input.is(".jqxCus-radiobutton")){return input.jqxRadioButton("checked")}return false}return false},_number:function(input){return this._validateText(input,function(text){if(text==""){return true}text=text.split("%")[0];var index=text.indexOf("/");var value=new Number(text.replace(/N\/a|,|%/gi,""));if(index>-1&&value&&value!=0){return false}return !isNaN(value)&&isFinite(value)})},_length:function(input,min,max){return this._minLength(input,min)&&this._maxLength(input,max)},_maxLength:function(input,len){len=parseInt(len,10);return this._validateText(input,function(text){return text.length<=len})},_minLength:function(input,len){len=parseInt(len,10);return this._validateText(input,function(text){return text.length>=len})},_validateText:function(input,condition){var value;if(this._isTextInput(input)){if(this._isjQWidget(input)){value=input.find("input").val()}else{value=input.val()}return condition(value)}return false},_isjQWidget:function(input){var data=$.data(input[0]);if(data.jqxMaskedInput||data.jqxNumberInput||data.jqxDateTimeInput){return true}return false},_isTextInput:function(input){var type=this._getType(input);return type==="text"||type==="textarea"||type==="password"||input.is(".jqxCus-input")},_getType:function(input){var tag=input[0].tagName.toLowerCase(),type;if(tag==="textarea"){return"textarea"}else{if(input.is(".jqxCus-input")){return"jqx-input"}else{if(tag==="input"){type=$(input).attr("type")?$(input).attr("type").toLowerCase():"text";return type}}}return tag},_raiseEvent:function(eventId,data){var event=$.Event(this._events[eventId]);event.args=data;return this.host.trigger(event)},propertyChangedHandler:function(object,key,oldvalue,value){if(key==="rules"){this._configureInputs();this._removeEventListeners();this._addEventListeners()}}})}(jQuery));(function(a){a.fn.mask=function(c,b){a(this).each(function(){if(b!==undefined&&b>0){var d=a(this);d.data("_mask_timeout",setTimeout(function(){a.maskElement(d,c)},b))}else{a.maskElement(a(this),c)}})};a.fn.unmask=function(){a(this).each(function(){a.unmaskElement(a(this))})};a.fn.isMasked=function(){return this.hasClass("masked")};a.maskElement=function(d,c){if(d.data("_mask_timeout")!==undefined){clearTimeout(d.data("_mask_timeout"));d.removeData("_mask_timeout")}if(d.isMasked()){a.unmaskElement(d)}if(d.css("position")=="static"){d.addClass("masked-relative")}d.addClass("masked");var e=a('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){e.height(d.height()+parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom")));e.width(d.width()+parseInt(d.css("padding-left"))+parseInt(d.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){d.find("select").addClass("masked-hidden")}d.append(e);if(c!==undefined){var b=a('<div class="loadmask-msg" style="display:none;"></div>');b.append("<div>"+c+"</div>");d.append(b);b.css("top",Math.round(d.height()/2-(b.height()-parseInt(b.css("padding-top"))-parseInt(b.css("padding-bottom")))/2)+"px");b.css("left",Math.round(d.width()/2-(b.width()-parseInt(b.css("padding-left"))-parseInt(b.css("padding-right")))/2)+"px");b.show()}};a.unmaskElement=function(b){if(b.data("_mask_timeout")!==undefined){clearTimeout(b.data("_mask_timeout"));b.removeData("_mask_timeout")}b.find(".loadmask-msg,.loadmask").remove();b.removeClass("masked");b.removeClass("masked-relative");b.find("select").removeClass("masked-hidden")}})(jQuery);Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var l=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var k=Math.floor((b-e+7)/7);if(k===l){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){k=53}else{k=52}}return k};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(k){return function(){if(this._is){this._is=false;return this.getDay()==k}return this.moveToDayOfWeek(k,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(k){return function(){if(this._is){this._is=false;return this.getMonth()===k}return this.moveToMonth(k,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(k){return function(){if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var b=function(k){return function(){this._dateElement=k;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(k){this.message="Parse error at '"+k.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(k){return function(l){var m=l.match(k);if(m){return([m[0],l.substring(m[0].length)])}else{throw new a.Exception(l)}}},token:function(k){return function(l){return c.rtoken(new RegExp("^s*"+l+"s*"))(l)}},stoken:function(k){return c.rtoken(new RegExp("^"+k))},until:function(k){return function(l){var m=[],o=null;while(l.length){try{o=k.call(this,l)}catch(n){m.push(o[0]);l=o[1];continue}break}return[m,l]}},many:function(k){return function(l){var o=[],m=null;while(l.length){try{m=k.call(this,l)}catch(n){return[o,l]}o.push(m[0]);l=m[1]}return[o,l]}},optional:function(k){return function(l){var m=null;try{m=k.call(this,l)}catch(n){return[null,l]}return[m[0],m[1]]}},not:function(k){return function(l){try{k.call(this,l)}catch(m){return[null,l]}throw new a.Exception(l)}},ignore:function(k){return k?function(l){var m=null;m=k.call(this,l);return[null,m[1]]}:null},product:function(){var l=arguments[0],m=Array.prototype.slice.call(arguments,1),n=[];for(var k=0;k<l.length;k++){n.push(c.each(l[k],m))}return n},cache:function(m){var k={},l=null;return function(n){try{l=k[n]=(k[n]||m.call(this,n))}catch(o){l=k[n]=o}if(l instanceof a.Exception){throw l}else{return l}}},any:function(){var k=arguments;return function(m){var n=null;for(var l=0;l<k.length;l++){if(k[l]==null){continue}try{n=(k[l].call(this,m))}catch(o){n=null}if(n){return n}}throw new a.Exception(m)}},each:function(){var k=arguments;return function(m){var p=[],n=null;for(var l=0;l<k.length;l++){if(k[l]==null){continue}try{n=(k[l].call(this,m))}catch(o){throw new a.Exception(m)}p.push(n[0]);m=n[1]}return[p,m]}},all:function(){var l=arguments,k=k;return k.each(k.optional(l))},sequence:function(k,l,m){l=l||c.rtoken(/^\s*/);m=m||null;if(k.length==1){return k[0]}return function(t){var u=null,v=null;var x=[];for(var p=0;p<k.length;p++){try{u=k[p].call(this,t)}catch(w){break}x.push(u[0]);try{v=l.call(this,u[1])}catch(o){v=null;break}t=v[1]}if(!u){throw new a.Exception(t)}if(v){throw new a.Exception(v[1])}if(m){try{u=m.call(this,u[1])}catch(n){throw new a.Exception(u[1])}}return[x,(u?u[1]:t)]}},between:function(l,m,k){k=k||l;var n=c.each(c.ignore(l),m,c.ignore(k));return function(o){var p=n.call(this,o);return[[p[0][0],r[0][2]],p[1]]}},list:function(k,l,m){l=l||c.rtoken(/^\s*/);m=m||null;return(k instanceof Array?c.each(c.product(k.slice(0,-1),c.ignore(l)),k.slice(-1),c.ignore(m)):c.each(c.many(c.each(k,c.ignore(l))),px,c.ignore(m)))},set:function(k,l,m){l=l||c.rtoken(/^\s*/);m=m||null;return function(D){var n=null,t=null,o=null,u=null,v=[[],D],C=false;for(var x=0;x<k.length;x++){o=null;t=null;n=null;C=(k.length==1);try{n=k[x].call(this,D)}catch(A){continue}u=[[n[0]],n[1]];if(n[1].length>0&&!C){try{o=l.call(this,n[1])}catch(B){C=true}}else{C=true}if(!C&&o[1].length===0){C=true}if(!C){var y=[];for(var w=0;w<k.length;w++){if(x!=w){y.push(k[w])}}t=c.set(y,l).call(this,o[1]);if(t[0].length>0){u[0]=u[0].concat(t[0]);u[1]=t[1]}}if(u[1].length<v[1].length){v=u}if(v[1].length===0){break}}if(v[0].length===0){return v}if(m){try{o=m.call(this,v[1])}catch(z){throw new a.Exception(v[1])}v[1]=o[1]}return v}},forward:function(k,l){return function(m){return k[l].call(this,m)}},replace:function(l,k){return function(m){var n=l.call(this,m);return[k,n[1]]}},process:function(l,k){return function(m){var n=l.call(this,m);return[k.call(this,n[0]),n[1]]}},min:function(k,l){return function(m){var n=l.call(this,m);if(n[0].length<k){throw new a.Exception(m)}return n}}};var h=function(k){return function(){var l=null,o=[];if(arguments.length>1){l=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){l=arguments[0]}}if(l){for(var n=0,m=l.shift();n<m.length;n++){l.unshift(m[n]);o.push(k.apply(null,l));l.shift();return o}}else{return k.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(k){return function(){if(arguments[0] instanceof Array){return k.apply(null,arguments[0])}else{return k.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(l){var m=[];for(var g=0;g<l.length;g++){if(l[g] instanceof Array){m=m.concat(f(l[g]))}else{if(l[g]){m.push(l[g])}}}return m};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var l=g.replace(/[^\d\+\-]/g,"");if(l.length){this.timezoneOffset=Number(l)}else{this.timezone=g.toLowerCase()}}},day:function(g){var l=g[0];return function(){this.day=Number(l.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var l=Number(g);this.year=((g.length>2)?l:(l+(((l+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var l=new Date();this.year=l.getFullYear();this.month=l.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var m=0;m<g.length;m++){if(g[m]){g[m].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){n.set({timezone:this.timezone})}else{if(this.timezoneOffset){n.set({timezoneOffset:this.timezoneOffset})}}return n},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var o=0;o<g.length;o++){if(typeof g[o]=="function"){g[o].call(this)}}if(this.now){return new Date()}var l=Date.today();var s=null;var p=!!(this.days!=null||this.orient||this.operator);if(p){var q,n,m;m=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";q=(Date.getDayNumberFromName(this.weekday)-l.getDay());n=7;this.days=q?((q+(m*n))%n):(m*n)}if(this.month){this.unit="month";q=(this.month-l.getMonth());n=12;this.months=q?((q+(m*n))%n):(m*n);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*m}return l.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(l.addDays((Date.getDayNumberFromName(this.weekday)-l.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return l.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,k;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(o){var n=a[o];if(!n){var p=Date.CultureInfo.regexPatterns;var m=o.split(/\s+/),l=[];for(var g=0;g<m.length;g++){l.push(b.replace(b.rtoken(p[m[g]]),m[g]))}n=a[o]=b.any.apply(null,l)}return n};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));k=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=k(e.d,e.dd);e.month=k(e.M,e.MMM);e.year=k(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);k=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=k(e.ddd,e.month,e.day,e.year);e.ymd=k(e.ddd,e.year,e.month,e.day);e.dmy=k(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(l){if(l instanceof Array){var m=[];for(var g=0;g<l.length;g++){m.push(c(l[g]))}return b.any.apply(null,m)}else{return c(l)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var l=e._formats.call({},g);if(l[1].length===0){return l}}catch(m){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var l,h,f,k,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){l=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);k=l>>2;g=((l&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(k)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var l,h,f;var k,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){k=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));l=(k<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(l);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};(function($){$.toJSON=function(o){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof(o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);
/* jQuery UI - v1.10.4 - 2015-03-31
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.datepicker.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,k){return typeof h==="number"?this.each(function(){var l=this;setTimeout(function(){b(l).focus();if(k){k.call(l)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(l){if(l!==f){return this.css("zIndex",l)}if(this.length){var h=b(this[0]),g,k;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){k=parseInt(h.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(k,g){var m,l,h,n=k.nodeName.toLowerCase();if("area"===n){m=k.parentNode;l=m.name;if(!k.href||!l||m.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+l+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(n)?!k.disabled:"a"===n?k.href||g:g)&&c(k)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(k,h,g){return !!b.data(k,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(k){var g=b.attr(k,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(k,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(k,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],l=g.toLowerCase(),n={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function m(q,p,o,s){b.each(h,function(){p-=parseFloat(b.css(q,"padding"+this))||0;if(o){p-=parseFloat(b.css(q,"border"+this+"Width"))||0}if(s){p-=parseFloat(b.css(q,"margin"+this))||0}});return p}b.fn["inner"+g]=function(o){if(o===f){return n["inner"+g].call(this)}return this.each(function(){b(this).css(l,m(this,o)+"px")})};b.fn["outer"+g]=function(o,p){if(typeof o!=="number"){return n["outer"+g].call(this,o)}return this.each(function(){b(this).css(l,m(this,o,true,p)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,k,m){var g,l=b.ui[h].prototype;for(g in m){l.plugins[g]=l.plugins[g]||[];l.plugins[g].push([k,m[g]])}},call:function(g,k,h){var l,m=g.plugins[k];if(!m||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(l=0;l<m.length;l++){if(g.options[m[l][0]]){m[l][1].apply(g.element,h)}}}},hasScroll:function(l,h){if(b(l).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",k=false;if(l[g]>0){return true}l[g]=1;k=(l[g]>0);l[g]=0;return k}})})(jQuery);(function(e,g){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var f="datepicker",c;function b(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=d(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},_attachDatepicker:function(m,h){var n,l,k;n=m.nodeName.toLowerCase();l=(n==="div"||n==="span");if(!m.id){this.uuid+=1;m.id="dp"+this.uuid}k=this._newInst(e(m),l);k.settings=e.extend({},h||{});if(n==="input"){this._connectDatepicker(m,k)}else{if(l){this._inlineDatepicker(m,k)}}},_newInst:function(k,h){var l=k[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:l,input:k,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:d(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(l,k){var h=e(l);k.append=e([]);k.trigger=e([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,k);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(k);e.data(l,f,k);if(k.settings.disabled){this._disableDatepicker(l)}},_attachments:function(l,o){var k,n,h,p=this._get(o,"appendText"),m=this._get(o,"isRTL");if(o.append){o.append.remove()}if(p){o.append=e("<span class='"+this._appendClass+"'>"+p+"</span>");l[m?"before":"after"](o.append)}l.unbind("focus",this._showDatepicker);if(o.trigger){o.trigger.remove()}k=this._get(o,"showOn");if(k==="focus"||k==="both"){l.focus(this._showDatepicker)}if(k==="button"||k==="both"){n=this._get(o,"buttonText");h=this._get(o,"buttonImage");o.trigger=e(this._get(o,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:h,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(!h?n:e("<img/>").attr({src:h,alt:n,title:n})));l[m?"before":"after"](o.trigger);o.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===l[0]){e.datepicker._hideDatepicker()}else{if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==l[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(l[0])}else{e.datepicker._showDatepicker(l[0])}}return false})}},_autoSize:function(p){if(this._get(p,"autoSize")&&!p.inline){var m,k,l,o,n=new Date(2009,12-1,20),h=this._get(p,"dateFormat");if(h.match(/[DM]/)){m=function(q){k=0;l=0;for(o=0;o<q.length;o++){if(q[o].length>k){k=q[o].length;l=o}}return l};n.setMonth(m(this._get(p,(h.match(/MM/)?"monthNames":"monthNamesShort"))));n.setDate(m(this._get(p,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-n.getDay())}p.input.attr("size",this._formatDate(p,n).length)}},_inlineDatepicker:function(k,h){var l=e(k);if(l.hasClass(this.markerClassName)){return}l.addClass(this.markerClassName).append(h.dpDiv);e.data(k,f,h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(k)}h.dpDiv.css("display","block")},_dialogDatepicker:function(q,k,o,l,p){var h,u,n,t,s,m=this._dialogInst;if(!m){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);m=this._dialogInst=this._newInst(this._dialogInput,false);m.settings={};e.data(this._dialogInput[0],f,m)}a(m.settings,l||{});k=(k&&k.constructor===Date?this._formatDate(m,k):k);this._dialogInput.val(k);this._pos=(p?(p.length?p:[p.pageX,p.pageY]):null);if(!this._pos){u=document.documentElement.clientWidth;n=document.documentElement.clientHeight;t=document.documentElement.scrollLeft||document.body.scrollLeft;s=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(u/2)-100+t,(n/2)-150+s]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");m.settings.onSelect=o;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],f,m);return this},_destroyDatepicker:function(l){var m,h=e(l),k=e.data(l,f);if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();e.removeData(l,f);if(m==="input"){k.append.remove();k.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(m==="div"||m==="span"){h.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(m){var n,l,h=e(m),k=e.data(m,f);if(!h.hasClass(this.markerClassName)){return}n=m.nodeName.toLowerCase();if(n==="input"){m.disabled=false;k.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(n==="div"||n==="span"){l=h.children("."+this._inlineClass);l.children().removeClass("ui-state-disabled");l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=e.map(this._disabledInputs,function(o){return(o===m?null:o)})},_disableDatepicker:function(m){var n,l,h=e(m),k=e.data(m,f);if(!h.hasClass(this.markerClassName)){return}n=m.nodeName.toLowerCase();if(n==="input"){m.disabled=true;k.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(n==="div"||n==="span"){l=h.children("."+this._inlineClass);l.children().addClass("ui-state-disabled");l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=e.map(this._disabledInputs,function(o){return(o===m?null:o)});this._disabledInputs[this._disabledInputs.length]=m},_isDisabledDatepicker:function(k){if(!k){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===k){return true}}return false},_getInst:function(k){try{return e.data(k,f)}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(p,k,o){var l,h,n,q,m=this._getInst(p);if(arguments.length===2&&typeof k==="string"){return(k==="defaults"?e.extend({},e.datepicker._defaults):(m?(k==="all"?e.extend({},m.settings):this._get(m,k)):null))}l=k||{};if(typeof k==="string"){l={};l[k]=o}if(m){if(this._curInst===m){this._hideDatepicker()}h=this._getDateDatepicker(p,true);n=this._getMinMaxDate(m,"min");q=this._getMinMaxDate(m,"max");a(m.settings,l);if(n!==null&&l.dateFormat!==g&&l.minDate===g){m.settings.minDate=this._formatDate(m,n)}if(q!==null&&l.dateFormat!==g&&l.maxDate===g){m.settings.maxDate=this._formatDate(m,q)}if("disabled" in l){if(l.disabled){this._disableDatepicker(p)}else{this._enableDatepicker(p)}}this._attachments(e(p),m);this._autoSize(m);this._setDate(m,h);this._updateAlternate(m);this._updateDatepicker(m)}},_changeDatepicker:function(l,h,k){this._optionDatepicker(l,h,k)},_refreshDatepicker:function(k){var h=this._getInst(k);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(l,h){var k=this._getInst(l);if(k){this._setDate(k,h);this._updateDatepicker(k);this._updateAlternate(k)}},_getDateDatepicker:function(l,h){var k=this._getInst(l);if(k&&!k.inline){this._setDateFromField(k,h)}return(k?this._getDate(k):null)},_doKeyDown:function(m){var k,h,o,n=e.datepicker._getInst(m.target),p=true,l=n.dpDiv.is(".ui-datepicker-rtl");n._keyEvent=true;if(e.datepicker._datepickerShowing){switch(m.keyCode){case 9:e.datepicker._hideDatepicker();p=false;break;case 13:o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv);if(o[0]){e.datepicker._selectDay(m.target,n.selectedMonth,n.selectedYear,o[0])}k=e.datepicker._get(n,"onSelect");if(k){h=e.datepicker._formatDate(n);k.apply((n.input?n.input[0]:null),[h,n])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(m.target,(m.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths")),"M");break;case 34:e.datepicker._adjustDate(m.target,(m.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths")),"M");break;case 35:if(m.ctrlKey||m.metaKey){e.datepicker._clearDate(m.target)}p=m.ctrlKey||m.metaKey;break;case 36:if(m.ctrlKey||m.metaKey){e.datepicker._gotoToday(m.target)}p=m.ctrlKey||m.metaKey;break;case 37:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,(l?+1:-1),"D")}p=m.ctrlKey||m.metaKey;if(m.originalEvent.altKey){e.datepicker._adjustDate(m.target,(m.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths")),"M")}break;case 38:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,-7,"D")}p=m.ctrlKey||m.metaKey;break;case 39:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,(l?-1:+1),"D")}p=m.ctrlKey||m.metaKey;if(m.originalEvent.altKey){e.datepicker._adjustDate(m.target,(m.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths")),"M")}break;case 40:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,+7,"D")}p=m.ctrlKey||m.metaKey;break;default:p=false}}else{if(m.keyCode===36&&m.ctrlKey){e.datepicker._showDatepicker(this)}else{p=false}}if(p){m.preventDefault();m.stopPropagation()}},_doKeyPress:function(l){var k,h,m=e.datepicker._getInst(l.target);if(e.datepicker._get(m,"constrainInput")){k=e.datepicker._possibleChars(e.datepicker._get(m,"dateFormat"));h=String.fromCharCode(l.charCode==null?l.keyCode:l.charCode);return l.ctrlKey||l.metaKey||(h<" "||!k||k.indexOf(h)>-1)}},_doKeyUp:function(l){var h,m=e.datepicker._getInst(l.target);if(m.input.val()!==m.lastVal){try{h=e.datepicker.parseDate(e.datepicker._get(m,"dateFormat"),(m.input?m.input.val():null),e.datepicker._getFormatConfig(m));if(h){e.datepicker._setDateFromField(m);e.datepicker._updateAlternate(m);e.datepicker._updateDatepicker(m)}}catch(k){}}return true},_showDatepicker:function(k){k=k.target||k;if(k.nodeName.toLowerCase()!=="input"){k=e("input",k.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(k)||e.datepicker._lastInput===k){return}var m,q,l,o,p,h,n;m=e.datepicker._getInst(k);if(e.datepicker._curInst&&e.datepicker._curInst!==m){e.datepicker._curInst.dpDiv.stop(true,true);if(m&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}q=e.datepicker._get(m,"beforeShow");l=q?q.apply(k,[k,m]):{};if(l===false){return}a(m.settings,l);m.lastVal=null;e.datepicker._lastInput=k;e.datepicker._setDateFromField(m);if(e.datepicker._inDialog){k.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(k);e.datepicker._pos[1]+=k.offsetHeight}o=false;e(k).parents().each(function(){o|=e(this).css("position")==="fixed";return !o});p={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;m.dpDiv.empty();m.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(m);p=e.datepicker._checkOffset(m,p,o);m.dpDiv.css({position:(e.datepicker._inDialog&&e.blockUI?"static":(o?"fixed":"absolute")),display:"none",left:p.left+"px",top:p.top+"px"});if(!m.inline){h=e.datepicker._get(m,"showAnim");n=e.datepicker._get(m,"duration");m.dpDiv.zIndex(e(k).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[h]){m.dpDiv.show(h,e.datepicker._get(m,"showOptions"),n)}else{m.dpDiv[h||"show"](h?n:null)}if(e.datepicker._shouldFocusInput(m)){m.input.focus()}e.datepicker._curInst=m}},_updateDatepicker:function(l){this.maxRows=4;c=l;l.dpDiv.empty().append(this._generateHTML(l));this._attachHandlers(l);l.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,h=this._getNumberOfMonths(l),m=h[1],k=17;l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(m>1){l.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",(k*m)+"em")}l.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(l===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(l)){l.input.focus()}if(l.yearshtml){n=l.yearshtml;setTimeout(function(){if(n===l.yearshtml&&l.yearshtml){l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml)}n=l.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(o,m,l){var n=o.dpDiv.outerWidth(),s=o.dpDiv.outerHeight(),q=o.input?o.input.outerWidth():0,h=o.input?o.input.outerHeight():0,p=document.documentElement.clientWidth+(l?0:e(document).scrollLeft()),k=document.documentElement.clientHeight+(l?0:e(document).scrollTop());m.left-=(this._get(o,"isRTL")?(n-q):0);m.left-=(l&&m.left===o.input.offset().left)?e(document).scrollLeft():0;m.top-=(l&&m.top===(o.input.offset().top+h))?e(document).scrollTop():0;m.left-=Math.min(m.left,(m.left+n>p&&p>n)?Math.abs(m.left+n-p):0);m.top-=Math.min(m.top,(m.top+s>k&&k>s)?Math.abs(s+h):0);return m},_findPos:function(m){var h,l=this._getInst(m),k=this._get(l,"isRTL");while(m&&(m.type==="hidden"||m.nodeType!==1||e.expr.filters.hidden(m))){m=m[k?"previousSibling":"nextSibling"]}h=e(m).offset();return[h.left,h.top]},_hideDatepicker:function(l){var k,o,n,h,m=this._curInst;if(!m||(l&&m!==e.data(l,f))){return}if(this._datepickerShowing){k=this._get(m,"showAnim");o=this._get(m,"duration");n=function(){e.datepicker._tidyDialog(m)};if(e.effects&&(e.effects.effect[k]||e.effects[k])){m.dpDiv.hide(k,e.datepicker._get(m,"showOptions"),o,n)}else{m.dpDiv[(k==="slideDown"?"slideUp":(k==="fadeIn"?"fadeOut":"hide"))]((k?o:null),n)}if(!k){n()}this._datepickerShowing=false;h=this._get(m,"onClose");if(h){h.apply((m.input?m.input[0]:null),[(m.input?m.input.val():""),m])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(k){if(!e.datepicker._curInst){return}var h=e(k.target),l=e.datepicker._getInst(h[0]);if(((h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)))||(h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==l)){e.datepicker._hideDatepicker()}},_adjustDate:function(n,m,l){var k=e(n),h=this._getInst(k[0]);if(this._isDisabledDatepicker(k[0])){return}this._adjustInstDate(h,m+(l==="M"?this._get(h,"showCurrentAtPos"):0),l);this._updateDatepicker(h)},_gotoToday:function(m){var h,l=e(m),k=this._getInst(l[0]);if(this._get(k,"gotoCurrent")&&k.currentDay){k.selectedDay=k.currentDay;k.drawMonth=k.selectedMonth=k.currentMonth;k.drawYear=k.selectedYear=k.currentYear}else{h=new Date();k.selectedDay=h.getDate();k.drawMonth=k.selectedMonth=h.getMonth();k.drawYear=k.selectedYear=h.getFullYear()}this._notifyChange(k);this._adjustDate(l)},_selectMonthYear:function(n,h,m){var l=e(n),k=this._getInst(l[0]);k["selected"+(m==="M"?"Month":"Year")]=k["draw"+(m==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(k);this._adjustDate(l)},_selectDay:function(o,m,h,n){var k,l=e(o);if(e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])){return}k=this._getInst(l[0]);k.selectedDay=k.currentDay=e("a",n).html();k.selectedMonth=k.currentMonth=m;k.selectedYear=k.currentYear=h;this._selectDate(o,this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear))},_clearDate:function(k){var h=e(k);this._selectDate(h,"")},_selectDate:function(n,h){var k,m=e(n),l=this._getInst(m[0]);h=(h!=null?h:this._formatDate(l));if(l.input){l.input.val(h)}this._updateAlternate(l);k=this._get(l,"onSelect");if(k){k.apply((l.input?l.input[0]:null),[h,l])}else{if(l.input){l.input.trigger("change")}}if(l.inline){this._updateDatepicker(l)}else{this._hideDatepicker();this._lastInput=l.input[0];if(typeof(l.input[0])!=="object"){l.input.focus()}this._lastInput=null}},_updateAlternate:function(n){var m,l,h,k=this._get(n,"altField");if(k){m=this._get(n,"altFormat")||this._get(n,"dateFormat");l=this._getDate(n);h=this.formatDate(m,l,this._getFormatConfig(n));e(k).each(function(){e(this).val(h)})}},noWeekends:function(k){var h=k.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var k,l=new Date(h.getTime());l.setDate(l.getDate()+4-(l.getDay()||7));k=l.getTime();l.setMonth(0);l.setDate(1);return Math.floor(Math.round((k-l)/86400000)/7)+1},parseDate:function(A,v,C){if(A==null||v==null){throw"Invalid arguments"}v=(typeof v==="object"?v.toString():v+"");if(v===""){return null}var m,x,k,B=0,p=(C?C.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=(typeof p!=="string"?p:new Date().getFullYear()%100+parseInt(p,10)),t=(C?C.dayNamesShort:null)||this._defaults.dayNamesShort,E=(C?C.dayNames:null)||this._defaults.dayNames,h=(C?C.monthNamesShort:null)||this._defaults.monthNamesShort,n=(C?C.monthNames:null)||this._defaults.monthNames,o=-1,F=-1,z=-1,s=-1,y=false,D,u=function(H){var I=(m+1<A.length&&A.charAt(m+1)===H);if(I){m++}return I},G=function(J){var H=u(J),K=(J==="@"?14:(J==="!"?20:(J==="y"&&H?4:(J==="o"?3:2)))),L=new RegExp("^\\d{1,"+K+"}"),I=v.substring(B).match(L);if(!I){throw"Missing number at position "+B}B+=I[0].length;return parseInt(I[0],10)},q=function(I,J,L){var H=-1,K=e.map(u(I)?L:J,function(N,M){return[[M,N]]}).sort(function(N,M){return -(N[1].length-M[1].length)});e.each(K,function(N,O){var M=O[1];if(v.substr(B,M.length).toLowerCase()===M.toLowerCase()){H=O[0];B+=M.length;return false}});if(H!==-1){return H+1}else{throw"Unknown name at position "+B}},w=function(){if(v.charAt(B)!==A.charAt(m)){throw"Unexpected literal at position "+B}B++};for(m=0;m<A.length;m++){if(y){if(A.charAt(m)==="'"&&!u("'")){y=false}else{w()}}else{switch(A.charAt(m)){case"d":z=G("d");break;case"D":q("D",t,E);break;case"o":s=G("o");break;case"m":F=G("m");break;case"M":F=q("M",h,n);break;case"y":o=G("y");break;case"@":D=new Date(G("@"));o=D.getFullYear();F=D.getMonth()+1;z=D.getDate();break;case"!":D=new Date((G("!")-this._ticksTo1970)/10000);o=D.getFullYear();F=D.getMonth()+1;z=D.getDate();break;case"'":if(u("'")){w()}else{y=true}break;default:w()}}}if(B<v.length){k=v.substr(B);if(!/^\s+/.test(k)){throw"Extra/unparsed characters found in date: "+k}}if(o===-1){o=new Date().getFullYear()}else{if(o<100){o+=new Date().getFullYear()-new Date().getFullYear()%100+(o<=l?0:-100)}}if(s>-1){F=1;z=s;do{x=this._getDaysInMonth(o,F-1);if(z<=x){break}F++;z-=x}while(true)}D=this._daylightSavingAdjust(new Date(o,F-1,z));if(D.getFullYear()!==o||D.getMonth()+1!==F||D.getDate()!==z){throw"Invalid date"}return D},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(t,m,n){if(!m){return""}var v,w=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,k=(n?n.dayNames:null)||this._defaults.dayNames,q=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(x){var y=(v+1<t.length&&t.charAt(v+1)===x);if(y){v++}return y},h=function(z,A,x){var y=""+A;if(u(z)){while(y.length<x){y="0"+y}}return y},p=function(x,z,y,A){return(u(x)?A[z]:y[z])},l="",s=false;if(m){for(v=0;v<t.length;v++){if(s){if(t.charAt(v)==="'"&&!u("'")){s=false}else{l+=t.charAt(v)}}else{switch(t.charAt(v)){case"d":l+=h("d",m.getDate(),2);break;case"D":l+=p("D",m.getDay(),w,k);break;case"o":l+=h("o",Math.round((new Date(m.getFullYear(),m.getMonth(),m.getDate()).getTime()-new Date(m.getFullYear(),0,0).getTime())/86400000),3);break;case"m":l+=h("m",m.getMonth()+1,2);break;case"M":l+=p("M",m.getMonth(),q,o);break;case"y":l+=(u("y")?m.getFullYear():(m.getYear()%100<10?"0":"")+m.getYear()%100);break;case"@":l+=m.getTime();break;case"!":l+=m.getTime()*10000+this._ticksTo1970;break;case"'":if(u("'")){l+="'"}else{s=true}break;default:l+=t.charAt(v)}}}}return l},_possibleChars:function(n){var m,l="",k=false,h=function(o){var p=(m+1<n.length&&n.charAt(m+1)===o);if(p){m++}return p};for(m=0;m<n.length;m++){if(k){if(n.charAt(m)==="'"&&!h("'")){k=false}else{l+=n.charAt(m)}}else{switch(n.charAt(m)){case"d":case"m":case"y":case"@":l+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){l+="'"}else{k=true}break;default:l+=n.charAt(m)}}}return l},_get:function(k,h){return k.settings[h]!==g?k.settings[h]:this._defaults[h]},_setDateFromField:function(o,l){if(o.input.val()===o.lastVal){return}var h=this._get(o,"dateFormat"),q=o.lastVal=o.input?o.input.val():null,p=this._getDefaultDate(o),k=p,m=this._getFormatConfig(o);try{k=this.parseDate(h,q,m)||p}catch(n){q=(l?"":q)}o.selectedDay=k.getDate();o.drawMonth=o.selectedMonth=k.getMonth();o.drawYear=o.selectedYear=k.getFullYear();o.currentDay=(q?k.getDate():0);o.currentMonth=(q?k.getMonth():0);o.currentYear=(q?k.getFullYear():0);this._adjustInstDate(o)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(n,k,o){var m=function(q){var p=new Date();p.setDate(p.getDate()+q);return p},l=function(x){try{return e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),x,e.datepicker._getFormatConfig(n))}catch(w){}var q=(x.toLowerCase().match(/^c/)?e.datepicker._getDate(n):null)||new Date(),s=q.getFullYear(),v=q.getMonth(),p=q.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,t=u.exec(x);while(t){switch(t[2]||"d"){case"d":case"D":p+=parseInt(t[1],10);break;case"w":case"W":p+=parseInt(t[1],10)*7;break;case"m":case"M":v+=parseInt(t[1],10);p=Math.min(p,e.datepicker._getDaysInMonth(s,v));break;case"y":case"Y":s+=parseInt(t[1],10);p=Math.min(p,e.datepicker._getDaysInMonth(s,v));break}t=u.exec(x)}return new Date(s,v,p)},h=(k==null||k===""?o:(typeof k==="string"?l(k):(typeof k==="number"?(isNaN(k)?o:m(k)):new Date(k.getTime()))));h=(h&&h.toString()==="Invalid Date"?o:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(p,m,o){var h=!m,l=p.selectedMonth,n=p.selectedYear,k=this._restrictMinMax(p,this._determineDate(p,m,new Date()));p.selectedDay=p.currentDay=k.getDate();p.drawMonth=p.selectedMonth=p.currentMonth=k.getMonth();p.drawYear=p.selectedYear=p.currentYear=k.getFullYear();if((l!==p.selectedMonth||n!==p.selectedYear)&&!o){this._notifyChange(p)}this._adjustInstDate(p);if(p.input){p.input.val(h?"":this._formatDate(p))}},_getDate:function(k){var h=(!k.currentYear||(k.input&&k.input.val()==="")?null:this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay)));return h},_attachHandlers:function(k){var h=this._get(k,"stepMonths"),l="#"+k.id.replace(/\\\\/g,"\\");k.dpDiv.find("[data-handler]").map(function(){var m={prev:function(){e.datepicker._adjustDate(l,-h,"M")},next:function(){e.datepicker._adjustDate(l,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(l)},selectDay:function(){e.datepicker._selectDay(l,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(l,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(l,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),m[this.getAttribute("data-handler")])})},_generateHTML:function(aa){var D,C,V,N,n,ae,Y,R,ah,L,al,v,x,w,k,ad,t,G,ag,T,am,F,K,u,o,W,P,S,Q,s,I,y,Z,ac,m,af,aj,O,z,ab=new Date(),E=this._daylightSavingAdjust(new Date(ab.getFullYear(),ab.getMonth(),ab.getDate())),ai=this._get(aa,"isRTL"),ak=this._get(aa,"showButtonPanel"),U=this._get(aa,"hideIfNoPrevNext"),J=this._get(aa,"navigationAsDateFormat"),A=this._getNumberOfMonths(aa),q=this._get(aa,"showCurrentAtPos"),M=this._get(aa,"stepMonths"),H=(A[0]!==1||A[1]!==1),l=this._daylightSavingAdjust((!aa.currentDay?new Date(9999,9,9):new Date(aa.currentYear,aa.currentMonth,aa.currentDay))),p=this._getMinMaxDate(aa,"min"),B=this._getMinMaxDate(aa,"max"),h=aa.drawMonth-q,X=aa.drawYear;if(h<0){h+=12;X--}if(B){D=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth()-(A[0]*A[1])+1,B.getDate()));D=(p&&D<p?p:D);while(this._daylightSavingAdjust(new Date(X,h,1))>D){h--;if(h<0){h=11;X--}}}aa.drawMonth=h;aa.drawYear=X;C=this._get(aa,"prevText");C=(!J?C:this.formatDate(C,this._daylightSavingAdjust(new Date(X,h-M,1)),this._getFormatConfig(aa)));V=(this._canAdjustMonth(aa,-1,X,h)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+C+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"e":"w")+"'>"+C+"</span></a>":(U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+C+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"e":"w")+"'>"+C+"</span></a>"));N=this._get(aa,"nextText");N=(!J?N:this.formatDate(N,this._daylightSavingAdjust(new Date(X,h+M,1)),this._getFormatConfig(aa)));n=(this._canAdjustMonth(aa,+1,X,h)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+N+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"w":"e")+"'>"+N+"</span></a>":(U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+N+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"w":"e")+"'>"+N+"</span></a>"));ae=this._get(aa,"currentText");Y=(this._get(aa,"gotoCurrent")&&aa.currentDay?l:E);ae=(!J?ae:this.formatDate(ae,Y,this._getFormatConfig(aa)));R=(!aa.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aa,"closeText")+"</button>":"");ah=(ak)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ai?R:"")+(this._isInRange(aa,Y)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+ae+"</button>":"")+(ai?"":R)+"</div>":"";L=parseInt(this._get(aa,"firstDay"),10);L=(isNaN(L)?0:L);al=this._get(aa,"showWeek");v=this._get(aa,"dayNames");x=this._get(aa,"dayNamesMin");w=this._get(aa,"monthNames");k=this._get(aa,"monthNamesShort");ad=this._get(aa,"beforeShowDay");t=this._get(aa,"showOtherMonths");G=this._get(aa,"selectOtherMonths");ag=this._getDefaultDate(aa);T="";am;for(F=0;F<A[0];F++){K="";this.maxRows=4;for(u=0;u<A[1];u++){o=this._daylightSavingAdjust(new Date(X,h,aa.selectedDay));W=" ui-corner-all";P="";if(H){P+="<div class='ui-datepicker-group";if(A[1]>1){switch(u){case 0:P+=" ui-datepicker-group-first";W=" ui-corner-"+(ai?"right":"left");break;case A[1]-1:P+=" ui-datepicker-group-last";W=" ui-corner-"+(ai?"left":"right");break;default:P+=" ui-datepicker-group-middle";W="";break}}P+="'>"}P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+W+"'>"+(/all|left/.test(W)&&F===0?(ai?n:V):"")+(/all|right/.test(W)&&F===0?(ai?V:n):"")+this._generateMonthYearHeader(aa,h,X,p,B,F>0||u>0,w,k)+"</div><table class='ui-datepicker-calendar'><thead><tr>";S=(al?"<th class='ui-datepicker-week-col'>"+this._get(aa,"weekHeader")+"</th>":"");for(am=0;am<7;am++){Q=(am+L)%7;S+="<th"+((am+L+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+v[Q]+"'>"+x[Q]+"</span></th>"}P+=S+"</tr></thead><tbody>";s=this._getDaysInMonth(X,h);if(X===aa.selectedYear&&h===aa.selectedMonth){aa.selectedDay=Math.min(aa.selectedDay,s)}I=(this._getFirstDayOfMonth(X,h)-L+7)%7;y=Math.ceil((I+s)/7);Z=(H?this.maxRows>y?this.maxRows:y:y);this.maxRows=Z;ac=this._daylightSavingAdjust(new Date(X,h,1-I));for(m=0;m<Z;m++){P+="<tr>";af=(!al?"":"<td class='ui-datepicker-week-col'>"+this._get(aa,"calculateWeek")(ac)+"</td>");for(am=0;am<7;am++){aj=(ad?ad.apply((aa.input?aa.input[0]:null),[ac]):[true,""]);O=(ac.getMonth()!==h);z=(O&&!G)||!aj[0]||(p&&ac<p)||(B&&ac>B);af+="<td class='"+((am+L+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+((ac.getTime()===o.getTime()&&h===aa.selectedMonth&&aa._keyEvent)||(ag.getTime()===ac.getTime()&&ag.getTime()===o.getTime())?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!t?"":" "+aj[1]+(ac.getTime()===l.getTime()?" "+this._currentClass:"")+(ac.getTime()===E.getTime()?" ui-datepicker-today":""))+"'"+((!O||t)&&aj[2]?" title='"+aj[2].replace(/'/g,"&#39;")+"'":"")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+ac.getMonth()+"' data-year='"+ac.getFullYear()+"'")+">"+(O&&!t?"&#xa0;":(z?"<span class='ui-state-default'>"+ac.getDate()+"</span>":"<a class='ui-state-default"+(ac.getTime()===E.getTime()?" ui-state-highlight":"")+(ac.getTime()===l.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+ac.getDate()+"</a>"))+"</td>";ac.setDate(ac.getDate()+1);ac=this._daylightSavingAdjust(ac)}P+=af+"</tr>"}h++;if(h>11){h=0;X++}P+="</tbody></table>"+(H?"</div>"+((A[0]>0&&u===A[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");K+=P}T+=K}T+=ah;aa._keyEvent=false;return T},_generateMonthYearHeader:function(n,l,w,p,u,x,s,h){var B,k,C,z,o,y,v,q,m=this._get(n,"changeMonth"),D=this._get(n,"changeYear"),E=this._get(n,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",A="";if(x||!m){A+="<span class='ui-datepicker-month'>"+s[l]+"</span>"}else{B=(p&&p.getFullYear()===w);k=(u&&u.getFullYear()===w);A+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(C=0;C<12;C++){if((!B||C>=p.getMonth())&&(!k||C<=u.getMonth())){A+="<option value='"+C+"'"+(C===l?" selected='selected'":"")+">"+h[C]+"</option>"}}A+="</select>"}if(!E){t+=A+(x||!(m&&D)?"&#xa0;":"")}if(!n.yearshtml){n.yearshtml="";if(x||!D){t+="<span class='ui-datepicker-year'>"+w+"</span>"}else{z=this._get(n,"yearRange").split(":");o=new Date().getFullYear();y=function(G){var F=(G.match(/c[+\-].*/)?w+parseInt(G.substring(1),10):(G.match(/[+\-].*/)?o+parseInt(G,10):parseInt(G,10)));return(isNaN(F)?o:F)};v=y(z[0]);q=Math.max(v,y(z[1]||""));v=(p?Math.max(v,p.getFullYear()):v);q=(u?Math.min(q,u.getFullYear()):q);n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;v<=q;v++){n.yearshtml+="<option value='"+v+"'"+(v===w?" selected='selected'":"")+">"+v+"</option>"}n.yearshtml+="</select>";t+=n.yearshtml;n.yearshtml=null}}t+=this._get(n,"yearSuffix");if(E){t+=(x||!(m&&D)?"&#xa0;":"")+A}t+="</div>";return t},_adjustInstDate:function(m,p,o){var l=m.drawYear+(o==="Y"?p:0),n=m.drawMonth+(o==="M"?p:0),h=Math.min(m.selectedDay,this._getDaysInMonth(l,n))+(o==="D"?p:0),k=this._restrictMinMax(m,this._daylightSavingAdjust(new Date(l,n,h)));m.selectedDay=k.getDate();m.drawMonth=m.selectedMonth=k.getMonth();m.drawYear=m.selectedYear=k.getFullYear();if(o==="M"||o==="Y"){this._notifyChange(m)}},_restrictMinMax:function(m,k){var l=this._getMinMaxDate(m,"min"),n=this._getMinMaxDate(m,"max"),h=(l&&k<l?l:k);return(n&&h>n?n:h)},_notifyChange:function(k){var h=this._get(k,"onChangeMonthYear");if(h){h.apply((k.input?k.input[0]:null),[k.selectedYear,k.selectedMonth+1,k])}},_getNumberOfMonths:function(k){var h=this._get(k,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(k,h){return this._determineDate(k,this._get(k,h+"Date"),null)},_getDaysInMonth:function(h,k){return 32-this._daylightSavingAdjust(new Date(h,k,32)).getDate()},_getFirstDayOfMonth:function(h,k){return new Date(h,k,1).getDay()},_canAdjustMonth:function(m,o,l,n){var h=this._getNumberOfMonths(m),k=this._daylightSavingAdjust(new Date(l,n+(o<0?o:h[0]*h[1]),1));if(o<0){k.setDate(this._getDaysInMonth(k.getFullYear(),k.getMonth()))}return this._isInRange(m,k)},_isInRange:function(n,l){var k,q,m=this._getMinMaxDate(n,"min"),h=this._getMinMaxDate(n,"max"),s=null,o=null,p=this._get(n,"yearRange");if(p){k=p.split(":");q=new Date().getFullYear();s=parseInt(k[0],10);o=parseInt(k[1],10);if(k[0].match(/[+\-].*/)){s+=q}if(k[1].match(/[+\-].*/)){o+=q}}return((!m||l.getTime()>=m.getTime())&&(!h||l.getTime()<=h.getTime())&&(!s||l.getFullYear()>=s)&&(!o||l.getFullYear()<=o))},_getFormatConfig:function(h){var k=this._get(h,"shortYearCutoff");k=(typeof k!=="string"?k:new Date().getFullYear()%100+parseInt(k,10));return{shortYearCutoff:k,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(m,h,n,l){if(!h){m.currentDay=m.selectedDay;m.currentMonth=m.selectedMonth;m.currentYear=m.selectedYear}var k=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(l,n,h))):this._daylightSavingAdjust(new Date(m.currentYear,m.currentMonth,m.currentDay)));return this.formatDate(this._get(m,"dateFormat"),k,this._getFormatConfig(m))}});function d(k){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return k.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(h,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(c.inline?k.parent()[0]:c.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function a(l,k){e.extend(l,k);for(var h in k){if(k[h]==null){l[h]=k[h]}}return l}e.fn.datepicker=function(k){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof k==="string"&&(k==="isDisabled"||k==="getDate"||k==="widget")){return e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}if(k==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}return this.each(function(){typeof k==="string"?e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,k)})};e.datepicker=new b();e.datepicker.initialized=false;e.datepicker.uuid=new Date().getTime();e.datepicker.version="1.10.4"})(jQuery);(function(a){a.fn.daterangepicker=function(v){var d=a(this);var e=a.extend({presetRanges:[{text:"Today",dateStart:"today",dateEnd:"today"},{text:"Last 7 days",dateStart:"today-7days",dateEnd:"today"},{text:"Month to date",dateStart:function(){return Date.parse("today").moveToFirstDayOfMonth()},dateEnd:"today"},{text:"Year to date",dateStart:function(){var z=Date.parse("today");z.setMonth(0);z.setDate(1);return z},dateEnd:"today"},{text:"The previous Month",dateStart:function(){return Date.parse("1 month ago").moveToFirstDayOfMonth()},dateEnd:function(){return Date.parse("1 month ago").moveToLastDayOfMonth()}}],presets:{specificDate:"Specific Date",allDatesBefore:"All Dates Before",allDatesAfter:"All Dates After",dateRange:"Date Range"},rangeStartTitle:"Start date",rangeEndTitle:"End date",nextLinkText:"Next",prevLinkText:"Prev",target:d,doneButtonText:"Done",constrainDates:true,rangeSplitter:"-",dateFormat:"mm/dd/yy",closeOnSelect:true,arrows:false,appendTo:"body",onClose:function(){},onOpen:function(){},onChange:function(){},datepickerOptions:null},v);var g={onSelect:function(E,C){var B=l.find(".range-start");var F=l.find(".range-end");if(l.find(".ui-daterangepicker-specificDate").is(".ui-state-active")){F.datepicker("setDate",B.datepicker("getDate"))}a(this).trigger("constrainOtherPicker");var A=b(B.datepicker("getDate"));var z=b(F.datepicker("getDate"));if(d.length==2){d.eq(0).val(A);d.eq(1).val(z)}else{var D=l.find("li.ui-state-active").data("display");d.data("range",[A,z]);d.val(D||((A!=z)?A+" "+e.rangeSplitter+" "+z:A))}if(e.closeOnSelect){if(!l.find("li.ui-state-active").is(".ui-daterangepicker-dateRange")&&!l.is(":animated")){m()}a(this).trigger("constrainOtherPicker");e.onChange()}},defaultDate:+0};d.bind("change",e.onChange);e.datepickerOptions=(v)?a.extend(g,v.datepickerOptions):g;var o,n=Date.parse("today");var q,k;if(d.size()==2){q=Date.parse(d.eq(0).val());k=Date.parse(d.eq(1).val());if(q==null){q=k}if(k==null){k=q}}else{q=Date.parse(d.val().split(e.rangeSplitter)[0]);k=Date.parse(d.val().split(e.rangeSplitter)[1]);if(k==null){k=q}}if(q!=null){o=q}if(k!=null){n=k}var l=a('<div class="ui-daterangepicker ui-widget ui-helper-clearfix ui-widget-content ui-corner-all"></div>');var x=(function(){var A=a('<ul class="ui-widget-content"></ul>').appendTo(l);a.each(e.presetRanges,function(){a('<li class="ui-daterangepicker-'+this.text.replace(/ /g,"")+' ui-corner-all"><a href="#">'+this.text+"</a></li>").data("dateStart",this.dateStart).data("display",this.display).data("dateEnd",this.dateEnd).appendTo(A)});var z=0;a.each(e.presets,function(B,C){a('<li class="ui-daterangepicker-'+B+" preset_"+z+' ui-helper-clearfix ui-corner-all"><span class="ui-icon ui-icon-triangle-1-e"></span><a href="#">'+C+"</a></li>").appendTo(A);z++});A.find("li").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).click(function(){l.find(".ui-state-active").removeClass("ui-state-active");a(this).addClass("ui-state-active");t(a(this),l,p,f);return false});return A})();function b(B){if(!B.getDate()){return""}var A=B.getDate();var D=B.getMonth();var C=B.getFullYear();D++;var z=e.dateFormat;return a.datepicker.formatDate(z,B)}a.fn.restoreDateFromData=function(){if(a(this).data("saveDate")){a(this).datepicker("setDate",a(this).data("saveDate")).removeData("saveDate")}return this};a.fn.saveDateToData=function(){if(!a(this).data("saveDate")){a(this).data("saveDate",a(this).datepicker("getDate"))}return this};function w(){if(l.data("state")=="closed"){y();l.fadeIn(300).data("state","open");e.onOpen()}}function m(){if(l.data("state")=="open"){l.fadeOut(300).data("state","closed");e.onClose()}}function c(){if(l.data("state")=="open"){m()}else{w()}}function y(){var z=s||d;var D=z.offset(),B="left",C=D.left,A=a(window).width()-C-z.outerWidth();if(C>A){B="right",C=A}l.parent().css(B,C).css("top",D.top+z.outerHeight())}function t(C,B,D,z){if(C.is(".ui-daterangepicker-specificDate")){z.hide();D.show();B.find(".title-start").text(e.presets.specificDate);B.find(".range-start").restoreDateFromData().css("opacity",1).show(400);B.find(".range-end").restoreDateFromData().css("opacity",0).hide(400);setTimeout(function(){z.fadeIn()},400)}else{if(C.is(".ui-daterangepicker-allDatesBefore")){z.hide();D.show();B.find(".title-end").text(e.presets.allDatesBefore);B.find(".range-start").saveDateToData().datepicker("setDate",e.earliestDate).css("opacity",0).hide(400);B.find(".range-end").restoreDateFromData().css("opacity",1).show(400);setTimeout(function(){z.fadeIn()},400)}else{if(C.is(".ui-daterangepicker-allDatesAfter")){z.hide();D.show();B.find(".title-start").text(e.presets.allDatesAfter);B.find(".range-start").restoreDateFromData().css("opacity",1).show(400);B.find(".range-end").saveDateToData().datepicker("setDate",e.latestDate).css("opacity",0).hide(400);setTimeout(function(){z.fadeIn()},400)}else{if(C.is(".ui-daterangepicker-dateRange")){z.hide();D.show();B.find(".title-start").text(e.rangeStartTitle);B.find(".title-end").text(e.rangeEndTitle);B.find(".range-start").restoreDateFromData().css("opacity",1).show(400);B.find(".range-end").restoreDateFromData().css("opacity",1).show(400);setTimeout(function(){z.fadeIn()},400)}else{z.hide();B.find(".range-start, .range-end").css("opacity",0).hide(400,function(){D.hide()});var E=(typeof C.data("dateStart")=="string")?Date.parse(C.data("dateStart")):C.data("dateStart")();var A=(typeof C.data("dateEnd")=="string")?Date.parse(C.data("dateEnd")):C.data("dateEnd")();B.find(".range-start").datepicker("setDate",E).find(".ui-datepicker-current-day").trigger("click");B.find(".range-end").datepicker("setDate",A).find(".ui-datepicker-current-day").trigger("click")}}}}return false}var p=a('<div class="ranges ui-widget-header ui-corner-all ui-helper-clearfix"><div class="range-start"><span class="title-start">Start Date</span></div><div class="range-end"><span class="title-end">End Date</span></div></div>').appendTo(l);p.find(".range-start, .range-end").datepicker(e.datepickerOptions);p.find(".range-start").datepicker("setDate",o);p.find(".range-end").datepicker("setDate",n);p.find(".range-start, .range-end").bind("constrainOtherPicker",function(){if(e.constrainDates){if(a(this).is(".range-start")){l.find(".range-end").datepicker("option","minDate",a(this).datepicker("getDate"))}else{l.find(".range-start").datepicker("option","maxDate",a(this).datepicker("getDate"))}}}).trigger("constrainOtherPicker");var f=a('<button class="btnDone ui-state-default ui-corner-all">'+e.doneButtonText+"</button>").click(function(){l.find(".ui-datepicker-current-day").trigger("click");m()}).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).appendTo(p);a(this).click(function(){c();return false});p.hide().find(".range-start, .range-end, .btnDone").hide();l.data("state","closed");p.find(".ui-datepicker").css("display","block");a(e.appendTo).append(l);l.wrap('<div class="ui-daterangepickercontain"></div>');if(e.arrows&&d.size()==1){var h=a('<a href="#" class="ui-daterangepicker-prev ui-corner-all" title="'+e.prevLinkText+'"><span class="ui-icon ui-icon-circle-triangle-w">'+e.prevLinkText+"</span></a>");var u=a('<a href="#" class="ui-daterangepicker-next ui-corner-all" title="'+e.nextLinkText+'"><span class="ui-icon ui-icon-circle-triangle-e">'+e.nextLinkText+"</span></a>");a(this).addClass("ui-rangepicker-input ui-widget-content").wrap('<div class="ui-daterangepicker-arrows ui-widget ui-widget-header ui-helper-clearfix ui-corner-all"></div>').before(h).before(u).parent().find("a").click(function(){var A=p.find(".range-start").datepicker("getDate");var z=p.find(".range-end").datepicker("getDate");var B=Math.abs(new TimeSpan(A-z).getTotalMilliseconds())+86400000;if(a(this).is(".ui-daterangepicker-prev")){B=-B}p.find(".range-start, .range-end ").each(function(){var C=a(this).datepicker("getDate");if(C==null){return false}a(this).datepicker("setDate",C.add({milliseconds:B})).find(".ui-datepicker-current-day").trigger("click")});return false}).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});var s=d.parent()}a(document).click(function(){if(l.is(":visible")){m()}});l.click(function(){return false}).hide();return this}})(jQuery);(function(b){b.jqx=b.jqx||{};b.jqx.define=function(a,f,e){a[f]=function(){if(this.baseType){this.base=new a[this.baseType]();this.base.defineInstance()}this.defineInstance()};a[f].prototype.defineInstance=function(){};a[f].prototype.base=null;a[f].prototype.baseType=undefined;if(e&&a[e]){a[f].prototype.baseType=e}};b.jqx.invoke=function(h,k){if(k.length==0){return}var g=typeof(k)==Array||k.length>0?k[0]:k;var l=typeof(k)==Array||k.length>1?Array.prototype.slice.call(k,1):b({}).toArray();while(h[g]==undefined&&h.base!=null){if(h[g]!=undefined&&b.isFunction(h[g])){return h[g].apply(h,l)}if(typeof g=="string"){var a=g.toLowerCase();if(h[a]!=undefined&&b.isFunction(h[a])){return h[a].apply(h,l)}}h=h.base}if(h[g]!=undefined&&b.isFunction(h[g])){return h[g].apply(h,l)}if(typeof g=="string"){var a=g.toLowerCase();if(h[a]!=undefined&&b.isFunction(h[a])){return h[a].apply(h,l)}}return};b.jqx.hasProperty=function(h,a){if(typeof(a)=="object"){for(var f in a){var g=h;while(g){if(g.hasOwnProperty(f)){return true}if(g.hasOwnProperty(f.toLowerCase())){return true}g=g.base}return false}}else{while(h){if(h.hasOwnProperty(a)){return true}if(h.hasOwnProperty(a.toLowerCase())){return true}h=h.base}}return false};b.jqx.hasFunction=function(h,k){if(k.length==0){return false}if(h==undefined){return false}var g=typeof(k)==Array||k.length>0?k[0]:k;var l=typeof(k)==Array||k.length>1?Array.prototype.slice.call(k,1):{};while(h[g]==undefined&&h.base!=null){if(h[g]&&b.isFunction(h[g])){return true}if(typeof g=="string"){var a=g.toLowerCase();if(h[a]&&b.isFunction(h[a])){return true}}h=h.base}if(h[g]&&b.isFunction(h[g])){return true}if(typeof g=="string"){var a=g.toLowerCase();if(h[a]&&b.isFunction(h[a])){return true}}return false};b.jqx.isPropertySetter=function(d,a){if(a.length==1&&typeof(a[0])=="object"){return true}if(a.length==2&&typeof(a[0])=="string"&&!b.jqx.hasFunction(d,a)){return true}return false};b.jqx.validatePropertySetter=function(k,m,a){if(!b.jqx.propertySetterValidation){return true}if(m.length==1&&typeof(m[0])=="object"){for(var l in m[0]){var h=k;while(!h.hasOwnProperty(l)&&h.base){h=h.base}if(!h||!h.hasOwnProperty(l)){if(!a){var n=h.hasOwnProperty(l.toString().toLowerCase());if(!n){throw"Invalid property: "+l}else{return true}}return false}}return true}if(m.length!=2){if(!a){throw"Invalid property: "+m.length>=0?m[0]:""}return false}while(!k.hasOwnProperty(m[0])&&k.base){k=k.base}if(!k||!k.hasOwnProperty(m[0])){if(!a){throw"Invalid property: "+m[0]}return false}return true};b.jqx.set=function(d,a){if(a.length==1&&typeof(a[0])=="object"){b.each(a[0],function(h,g){var c=d;while(!c.hasOwnProperty(h)&&c.base!=null){c=c.base}if(c.hasOwnProperty(h)){b.jqx.setvalueraiseevent(c,h,g)}else{if(c.hasOwnProperty(h.toLowerCase())){b.jqx.setvalueraiseevent(c,h.toLowerCase(),g)}else{if(b.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+h+"'"}}}})}else{if(a.length==2){while(!d.hasOwnProperty(a[0])&&d.base){d=d.base}if(d.hasOwnProperty(a[0])){b.jqx.setvalueraiseevent(d,a[0],a[1])}else{if(d.hasOwnProperty(a[0].toLowerCase())){b.jqx.setvalueraiseevent(d,a[0].toLowerCase(),a[1])}else{if(b.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+a[0]+"'"}}}}}};b.jqx.setvalueraiseevent=function(h,g,f){var a=h[g];h[g]=f;if(!h.isInitialized){return}if(h.propertyChangedHandler!=undefined){h.propertyChangedHandler(h,g,a,f)}if(h.propertyChangeMap!=undefined&&h.propertyChangeMap[g]!=undefined){h.propertyChangeMap[g](h,g,a,f)}};b.jqx.get=function(f,g){if(g==undefined||g==null){return undefined}if(f.propertyMap){var h=f.propertyMap(g);if(h!=null){return h}}if(f.hasOwnProperty(g)){return f[g]}if(f.hasOwnProperty(g.toLowerCase())){return f[g.toLowerCase()]}var a=undefined;if(typeof(g)==Array){if(g.length!=1){return undefined}a=g[0]}else{if(typeof(g)=="string"){a=g}}while(!f.hasOwnProperty(a)&&f.base){f=f.base}if(f){return f[a]}return undefined};b.jqx.serialize=function(f){var a="";if(b.isArray(f)){a="[";for(var g=0;g<f.length;g++){if(g>0){a+=", "}a+=b.jqx.serialize(f[g])}a+="]"}else{if(typeof(f)=="object"){a="{";var h=0;for(var g in f){if(h++>0){a+=", "}a+=g+": "+b.jqx.serialize(f[g])}a+="}"}else{a=f.toString()}}return a};b.jqx.propertySetterValidation=true;b.jqx.jqxWidgetProxy=function(h,n,a){var m=b(n);var k=b.data(n,h);if(k==undefined){return undefined}var l=k.instance;if(b.jqx.hasFunction(l,a)){return b.jqx.invoke(l,a)}if(b.jqx.isPropertySetter(l,a)){if(b.jqx.validatePropertySetter(l,a)){b.jqx.set(l,a);return undefined}}else{if(typeof(a)=="object"&&a.length==0){return}else{if(typeof(a)=="object"&&a.length==1&&b.jqx.hasProperty(l,a[0])){return b.jqx.get(l,a[0])}else{if(typeof(a)=="string"&&b.jqx.hasProperty(l,a[0])){return b.jqx.get(l,a)}}}}throw"jqxCore: Invalid parameter '"+b.jqx.serialize(a)+"' does not exist.";return undefined};b.jqx.applyWidget=function(u,t,n,e){var q=false;try{q=window.MSApp!=undefined}catch(s){}var a=b(u);if(!e){e=new b.jqx["_"+t]()}else{e.host=a;e.element=u}if(u.id==""){u.id=b.jqx.utilities.createId()}var o={host:a,element:u,instance:e};e.widgetName=t;b.data(u,t,o);b.data(u,"jqxWidget",o.instance);var p=new Array();var e=o.instance;while(e){e.isInitialized=false;p.push(e);e=e.base}p.reverse();p[0].theme=b.jqx.theme||"";b.jqx.jqxWidgetProxy(t,u,n);for(var v in p){e=p[v];if(v==0){e.host=a;e.element=u;e.WinJS=q}if(e!=undefined){if(e.createInstance!=null){if(q){MSApp.execUnsafeLocalFunction(function(){e.createInstance(n)})}else{if(n&&n[0]){}e.createInstance(n)}}}}for(var v in p){if(p[v]!=undefined){p[v].isInitialized=true}}if(q){MSApp.execUnsafeLocalFunction(function(){o.instance.refresh(true)})}else{o.instance.refresh(true)}};b.jqx.jqxWidget=function(a,n,e){var o=false;try{jqxArgs=Array.prototype.slice.call(e,0)}catch(k){jqxArgs=""}try{o=window.MSApp!=undefined}catch(k){}var l=a;var m="";if(n){m="_"+n}b.jqx.define(b.jqx,"_"+l,m);b.fn[l]=function(){var f=Array.prototype.slice.call(arguments,0);if(f.length==0||(f.length==1&&typeof(f[0])=="object")){if(this.length==0){if(this.selector){throw new Error("Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.")}}return this.each(function(){var p=b(this);var g=this;var h=b.data(g,l);if(h==null){b.jqx.applyWidget(g,l,f,undefined)}else{b.jqx.jqxWidgetProxy(l,this,f)}})}else{if(this.length==0){if(this.selector){throw new Error("Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.")}}var c=null;var d=0;this.each(function(){var g=b.jqx.jqxWidgetProxy(l,this,f);if(d==0){c=g;d++}else{if(d==1){var h=[];h.push(c);c=h}c.push(g)}})}return c};try{b.extend(b.jqx["_"+l].prototype,Array.prototype.slice.call(e,0)[0])}catch(k){}b.extend(b.jqx["_"+l].prototype,{toThemeProperty:function(d,c){if(this.theme==""){return d}if(c!=null&&c){return d+"-"+this.theme}return d+" "+d+"-"+this.theme}});b.jqx["_"+l].prototype.refresh=function(){if(this.base){this.base.refresh(true)}};b.jqx["_"+l].prototype.createInstance=function(){};b.jqx["_"+l].prototype.applyTo=function(c,d){if(!(d instanceof Array)){var f=[];f.push(d);d=f}b.jqx.applyWidget(c,l,d,this)};b.jqx["_"+l].prototype.getInstance=function(){return this};b.jqx["_"+l].prototype.propertyChangeMap={};b.jqx["_"+l].prototype.addHandler=function(c,f,g,d){switch(f){case"mousewheel":if(window.addEventListener){if(b.jqx.browser.mozilla){c[0].addEventListener("DOMMouseScroll",g,false)}else{c[0].addEventListener("mousewheel",g,false)}return false}break;case"mousemove":if(window.addEventListener&&!d){c[0].addEventListener("mousemove",g,false);return false}break}if(d==undefined||d==null){if(c.on){c.on(f,g)}else{c.bind(f,g)}}else{if(c.on){c.on(f,d,g)}else{c.bind(f,d,g)}}};b.jqx["_"+l].prototype.removeHandler=function(c,d,f){switch(d){case"mousewheel":if(window.removeEventListener){if(b.jqx.browser.mozilla){c[0].removeEventListener("DOMMouseScroll",f,false)}else{c[0].removeEventListener("mousewheel",f,false)}return false}break;case"mousemove":if(f){if(window.removeEventListener){c[0].removeEventListener("mousemove",f,false)}}break}if(d==undefined){if(c.off){c.off()}else{c.unbind()}return}if(f==undefined){if(c.off){c.off(d)}else{c.unbind(d)}}else{if(c.off){c.off(d,f)}else{c.unbind(d,f)}}}};b.jqx.theme=b.jqx.theme||"";b.jqx.ready=function(){b(window).trigger("jqxReady")};b.jqx.init=function(){b.each(arguments[0],function(a,d){if(a=="theme"){b.jqx.theme=d}if(a=="scrollBarSize"){b.jqx.utilities.scrollBarSize=d}if(a=="touchScrollBarSize"){b.jqx.utilities.touchScrollBarSize=d}if(a=="scrollBarButtonsVisibility"){b.jqx.utilities.scrollBarButtonsVisibility=d}})};b.jqx.utilities=b.jqx.utilities||{};b.extend(b.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(n,m,o){if(typeof o==="undefined"){return}var l=o[0].className.split(" "),a=[],k=[],p=o.children();for(var q=0;q<l.length;q+=1){if(l[q].indexOf(n)>=0){if(n.length>0){a.push(l[q]);k.push(l[q].replace(n,m))}else{k.push(l[q]+"-"+m)}}}this._removeOldClasses(a,o);this._addNewClasses(k,o);for(var q=0;q<p.length;q+=1){this.setTheme(n,m,b(p[q]))}},_removeOldClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.removeClass(e[a])}},_addNewClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.addClass(e[a])}},getOffset:function(a){var e=b.jqx.mobile.getLeftPos(a[0]);var f=b.jqx.mobile.getTopPos(a[0]);return{top:f,left:e}},resize:function(v,a,n,o){if(o===undefined){o=true}var s=-1;var t=this;var w=function(d){if(!t.hiddenWidgets){return -1}var c=-1;for(var e=0;e<t.hiddenWidgets.length;e++){if(d.id){if(t.hiddenWidgets[e].id==d.id){c=e;break}}else{if(t.hiddenWidgets[e].id==d[0].id){c=e;break}}}return c};if(this.resizeHandlers){for(var u=0;u<this.resizeHandlers.length;u++){if(v.id){if(this.resizeHandlers[u].id==v.id){s=u;break}}else{if(this.resizeHandlers[u].id==v[0].id){s=u;break}}}if(n===true){if(s!=-1){this.resizeHandlers.splice(s,1)}if(this.resizeHandlers.length==0){var p=b(window);if(p.off){p.off("resize.jqx");p.off("orientationchange.jqx");p.off("orientationchanged.jqx")}else{p.unbind("resize.jqx");p.unbind("orientationchange.jqx");p.unbind("orientationchanged.jqx")}this.resizeHandlers=null}var x=w(v);if(x!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(x,1)}return}}else{if(n===true){var x=w(v);if(x!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(x,1)}return}}var t=this;var q=function(e,m){if(!t.resizeHandlers){return}var l=function(C){var D=-1;var B=C.parentNode;while(B){D++;B=B.parentNode}return D};var f=function(J,H){if(!J.widget||!H.widget){return 0}var E=l(J.widget[0]);var I=l(H.widget[0]);try{if(E<I){return -1}if(E>I){return 1}}catch(G){var F=G}return 0};t.hiddenWidgets=new Array();t.resizeHandlers.sort(f);for(var c=0;c<t.resizeHandlers.length;c++){var h=t.resizeHandlers[c];var y=h.widget;var d=h.data;if(!d){continue}if(!d.jqxWidget){continue}var g=d.jqxWidget.width;var k=d.jqxWidget.height;if(d.jqxWidget.base){if(g==undefined){g=d.jqxWidget.base.width}if(k==undefined){k=d.jqxWidget.base.height}}var z=false;if(g!=null&&g.toString().indexOf("%")!=-1){z=true}if(k!=null&&k.toString().indexOf("%")!=-1){z=true}if(b.jqx.isHidden(y)){if(w(y)===-1){if(z||e===true){if(h.data.nestedWidget!==true){t.hiddenWidgets.push(h)}}}}else{if(e===undefined||e!==true){if(z){h.callback(m);if(t.hiddenWidgets.indexOf(h)>=0){t.hiddenWidgets.splice(t.hiddenWidgets.indexOf(h),1)}}}}}if(t.hiddenWidgets.length>0){t.hiddenWidgets.sort(f);if(t.__resizeInterval){clearInterval(t.__resizeInterval)}t.__resizeInterval=setInterval(function(){var D=false;var F=new Array();for(var C=0;C<t.hiddenWidgets.length;C++){var E=t.hiddenWidgets[C];if(b.jqx.isHidden(E.widget)){D=true;F.push(E)}else{if(E.callback){E.callback(m)}}}t.hiddenWidgets=F;if(!D){clearInterval(t.__resizeInterval)}},100)}};if(!this.resizeHandlers){this.resizeHandlers=new Array();var p=b(window);if(p.on){this._resizeTimer=null;p.on("resize.jqx",function(c){if(t._resizeTimer!=undefined){clearTimeout(t._resizeTimer)}t._resizeTimer=setTimeout(function(){q(null,"resize")},10)});p.on("orientationchange.jqx",function(c){q(null,"orientationchange")});p.on("orientationchanged.jqx",function(c){q(null,"orientationchange")})}else{p.bind("resize.jqx",function(c){q(null,"orientationchange")});p.bind("orientationchange.jqx",function(c){q(null,"orientationchange")});p.bind("orientationchanged.jqx",function(c){q(null,"orientationchange")})}}if(o){if(s===-1){this.resizeHandlers.push({id:v[0].id,widget:v,callback:a,data:v.data()})}}if(b.jqx.isHidden(v)&&o===true){q(true)}},html:function(f,e){if(!b(f).on){return b(f).html(e)}try{return jQuery.access(f,function(D){var B=f[0]||{},w=0,y=f.length;if(D===undefined){return B.nodeType===1?B.innerHTML.replace(rinlinejQuery,""):undefined}var c=/<(?:script|style|link)/i,v="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,l=/<([\w:]+)/,A=/<(?:script|object|embed|option|style)/i,x=new RegExp("<(?:"+v+")[\\s/>]","i"),d=/^\s+/,C={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(typeof D==="string"&&!c.test(D)&&(jQuery.support.htmlSerialize||!x.test(D))&&(jQuery.support.leadingWhitespace||!d.test(D))&&!C[(l.exec(D)||["",""])[1].toLowerCase()]){D=D.replace(z,"<$1></$2>");try{for(;w<y;w++){B=this[w]||{};if(B.nodeType===1){jQuery.cleanData(B.getElementsByTagName("*"));B.innerHTML=D}}B=0}catch(u){}}if(B){f.empty().append(D)}},null,e,arguments.length)}catch(a){return b(f).html(e)}},hasTransform:function(e){var f="";f=e.css("transform");if(f==""||f=="none"){f=e.parents().css("transform");if(f==""||f=="none"){var a=b.jqx.utilities.getBrowser();if(a.browser=="msie"){f=e.css("-ms-transform");if(f==""||f=="none"){f=e.parents().css("-ms-transform")}}else{if(a.browser=="chrome"){f=e.css("-webkit-transform");if(f==""||f=="none"){f=e.parents().css("-webkit-transform")}}else{if(a.browser=="opera"){f=e.css("-o-transform");if(f==""||f=="none"){f=e.parents().css("-o-transform")}}else{if(a.browser=="mozilla"){f=e.css("-moz-transform");if(f==""||f=="none"){f=e.parents().css("-moz-transform")}}}}}}else{return f!=""&&f!="none"}}if(f==""||f=="none"){f=b(document.body).css("transform")}return f!=""&&f!="none"&&f!=null},getBrowser:function(){var f=navigator.userAgent.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(f)||[];var e={browser:a[1]||"",version:a[2]||"0"};if(f.indexOf("rv:11.0")>=0&&f.indexOf(".net4.0c")>=0){e.browser="msie";e.version="11";a[1]="msie"}e[a[1]]=a[1];return e}});b.jqx.browser=b.jqx.utilities.getBrowser();b.jqx.isHidden=function(g){try{var a=g[0].offsetWidth,f=g[0].offsetHeight;if(a===0||f===0){return true}else{return false}}catch(h){return false}};b.jqx.ariaEnabled=true;b.jqx.aria=function(h,f,g){if(!b.jqx.ariaEnabled){return}if(f==undefined){b.each(h.aria,function(l,e){var c=!h.base?h.host.attr(l):h.base.host.attr(l);if(c!=undefined&&!b.isFunction(c)){var d=c;switch(e.type){case"number":d=new Number(c);if(isNaN(d)){d=c}break;case"boolean":d=c=="true"?true:false;break;case"date":d=new Date(c);if(d=="Invalid Date"||isNaN(d)){d=c}break}h[e.name]=d}else{var c=h[e.name];if(b.isFunction(c)){c=h[e.name]()}if(c==undefined){c=""}try{!h.base?h.host.attr(l,c.toString()):h.base.host.attr(l,c.toString())}catch(m){}}})}else{try{if(h.host){if(!h.base){if(h.host){if(h.element.setAttribute){h.element.setAttribute(f,g.toString())}else{h.host.attr(f,g.toString())}}else{h.attr(f,g.toString())}}else{if(h.base.host){h.base.host.attr(f,g.toString())}else{h.attr(f,g.toString())}}}else{if(h.setAttribute){h.setAttribute(f,g.toString())}}}catch(a){}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(f){var a=this.length;var e=Number(arguments[1])||0;e=(e<0)?Math.ceil(e):Math.floor(e);if(e<0){e+=a}for(;e<a;e++){if(e in this&&this[e]===f){return e}}return -1}}b.jqx.mobile=b.jqx.mobile||{};b.jqx.position=function(a){var h=parseInt(a.pageX);var k=parseInt(a.pageY);if(b.jqx.mobile.isTouchDevice()){var l=b.jqx.mobile.getTouches(a);var g=l[0];h=parseInt(g.pageX);k=parseInt(g.pageY)}return{left:h,top:k}};b.extend(b.jqx.mobile,{_touchListener:function(e,l){var a=function(f,c){var d=document.createEvent("MouseEvents");d.initMouseEvent(f,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget);d._pageX=c.pageX;d._pageY=c.pageY;return d};var k={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var m=a(k[e.type],e);e.target.dispatchEvent(m);var n=e.target["on"+k[e.type]];if(typeof n==="function"){n(e)}},setMobileSimulator:function(l,h){if(this.isTouchDevice()){return}this.simulatetouches=true;if(h==false){this.simulatetouches=false}var k={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var a=this;if(window.addEventListener){var g=function(){for(var c in k){if(l.addEventListener){l.removeEventListener(c,a._touchListener);l.addEventListener(c,a._touchListener,false)}}};if(b.jqx.browser.msie){g()}else{g()}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var h="Browser CodeName: "+navigator.appCodeName+"";h+="Browser Name: "+navigator.appName+"";h+="Browser Version: "+navigator.appVersion+"";h+="Platform: "+navigator.platform+"";h+="User-agent header: "+navigator.userAgent+"";if(h.indexOf("Android")!=-1){return true}if(h.indexOf("IEMobile")!=-1){return true}if(h.indexOf("Windows Phone")!=-1){return true}if(h.indexOf("WPDesktop")!=-1){return true}if(h.indexOf("ZuneWP7")!=-1){return true}if(h.indexOf("BlackBerry")!=-1&&h.indexOf("Mobile Safari")!=-1){return true}if(h.indexOf("ipod")!=-1){return true}if(h.indexOf("nokia")!=-1||h.indexOf("Nokia")!=-1){return true}if(h.indexOf("Chrome/17")!=-1){return false}if(h.indexOf("CrOS")!=-1){return false}if(h.indexOf("Opera")!=-1&&h.indexOf("Mobi")==-1&&h.indexOf("Mini")==-1&&h.indexOf("Platform: Win")!=-1){return false}if(h.indexOf("Opera")!=-1&&h.indexOf("Mobi")!=-1&&h.indexOf("Opera Mobi")!=-1){return true}var g={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined){return this.touchDevice}this.touchDevice=false;for(i in g){if(g.hasOwnProperty(i)){prefix=g[i];match=h.match(new RegExp("(?:"+prefix+")([^\\s;]+)"));if(match){if(i.toString()=="blackberry"){this.touchDevice=false;return false}this.touchDevice=true;return true}}}if(navigator.platform.toLowerCase().indexOf("win")!=-1){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0){this.touchDevice=true;return true}else{if(navigator.userAgent.indexOf("Touch")>=0){var a=("MSPointerDown" in window)||("pointerdown" in window);if(a){this.touchDevice=true;return true}if(navigator.userAgent.indexOf("ARM")>=0){this.touchDevice=true;return true}this.touchDevice=false;return false}}}if(navigator.platform.toLowerCase().indexOf("win")!=-1){this.touchDevice=false;return false}if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){this.touchDevice=true}return this.touchDevice}catch(e){this.touchDevice=false;return false}},getLeftPos:function(a){var d=a.offsetLeft;while((a=a.offsetParent)!=null){if(a.tagName!="HTML"){d+=a.offsetLeft;if(document.all){d+=a.clientLeft}}}return d},getTopPos:function(l){var h=l.offsetTop;var a=b(l).coord();while((l=l.offsetParent)!=null){if(l.tagName!="HTML"){h+=(l.offsetTop-l.scrollTop);if(document.all){h+=l.clientTop}}}var k=navigator.userAgent.toLowerCase();var g=(k.indexOf("windows phone")!=-1||k.indexOf("WPDesktop")!=-1||k.indexOf("ZuneWP7")!=-1||k.indexOf("msie 9")!=-1||k.indexOf("msie 11")!=-1||k.indexOf("msie 10")!=-1)&&k.indexOf("touch")!=-1;if(g){return a.top}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return h}if(k.indexOf("version/7")!=-1){return a.top}h=h+b(window).scrollTop()}return h},isChromeMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("android")!=-1;return a},isOperaMiniMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("opera mini")!=-1||d.indexOf("opera mobi")!=-1;return a},isOperaMiniBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("opera mini")!=-1;return a},isNewSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;a=a&&(d.indexOf("version/5")!=-1);return a},isSafari4MobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;a=a&&(d.indexOf("version/4")!=-1);return a},isWindowsPhone:function(){var d=navigator.userAgent.toLowerCase();var a=(d.indexOf("windows phone")!=-1||d.indexOf("WPDesktop")!=-1||d.indexOf("ZuneWP7")!=-1||d.indexOf("msie 9")!=-1||d.indexOf("msie 11")!=-1||d.indexOf("msie 10")!=-1);return a},isSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;return a},isIPadSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1;return a},isMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("android")!=-1;return a},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length){return a.originalEvent.touches}else{if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length){return a.originalEvent.changedTouches}}}if(!a.touches){a.touches=new Array();a.touches[0]=a.originalEvent!=undefined?a.originalEvent:a;if(a.originalEvent!=undefined&&a.pageX){a.touches[0]=a}if(a.type=="mousemove"){a.touches[0]=a}}return a.touches},getTouchEventName:function(a){if(this.isWindowsPhone()){var d=navigator.userAgent.toLowerCase();if(d.indexOf("windows phone 8.1")!=-1){if(a.toLowerCase().indexOf("start")!=-1){return"pointerdown"}if(a.toLowerCase().indexOf("move")!=-1){return"pointermove"}if(a.toLowerCase().indexOf("end")!=-1){return"pointerup"}}if(a.toLowerCase().indexOf("start")!=-1){return"MSPointerDown"}if(a.toLowerCase().indexOf("move")!=-1){return"MSPointerMove"}if(a.toLowerCase().indexOf("end")!=-1){return"MSPointerUp"}}else{return a}},dispatchMouseEvent:function(a,e,g){if(this.simulatetouches){return}var h=document.createEvent("MouseEvent");h.initMouseEvent(a,true,true,e.view,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);if(g!=null){g.dispatchEvent(h)}},getRootNode:function(a){while(a.nodeType!==1){a=a.parentNode}return a},setTouchScroll:function(a,d){if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[d]=a},touchScroll:function(ac,E,Z,L,ae,W){if(ac==null){return}var O=this;var J=0;var X=0;var V=0;var I=0;var U=0;var T=0;if(!this.scrolling){this.scrolling=[]}this.scrolling[L]=false;var Y=false;var P=b(ac);var H=["select","input","textarea"];var ad=0;var ab=0;if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[L]=true;var L=L;var N=this.getTouchEventName("touchstart")+".touchScroll";var R=this.getTouchEventName("touchend")+".touchScroll";var Q=this.getTouchEventName("touchmove")+".touchScroll";var ad=function(e){if(!O.enableScrolling[L]){return true}if(b.inArray(e.target.tagName.toLowerCase(),H)!==-1){return}var d=O.getTouches(e);var c=d[0];if(d.length==1){O.dispatchMouseEvent("mousedown",c,O.getRootNode(c.target))}Y=false;X=c.pageY;U=c.pageX;if(O.simulatetouches){X=c._pageY;U=c._pageX}O.scrolling[L]=true;J=0;I=0;return true};if(P.on){P.on(N,ad)}else{P.bind(N,ad)}var F=function(e){if(!O.enableScrolling[L]){return true}if(!O.scrolling[L]){return true}var c=O.getTouches(e);if(c.length>1){return true}var g=c[0].pageY;var f=c[0].pageX;if(O.simulatetouches){g=c[0]._pageY;f=c[0]._pageX}var l=g-X;var k=f-U;ab=g;touchHorizontalEnd=f;V=l-J;T=k-I;Y=true;J=l;I=k;var h=ae!=null?ae[0].style.visibility!="hidden":true;var d=W!=null?W[0].style.visibility!="hidden":true;if(h||d){if((T!==0&&h)||(V!==0&&d)){Z(-T*1,-V*1,k,l,e);e.preventDefault();e.stopPropagation();if(e.preventManipulation){e.preventManipulation()}return false}}};if(P.on){P.on(Q,F)}else{P.bind(Q,F)}if(this.simulatetouches){var S=b(window).on!=undefined||b(window).bind;var a=function(c){O.scrolling[L]=false};b(window).on!=undefined?b(document).on("mouseup.touchScroll",a):b(document).bind("mouseup.touchScroll",a);if(window.frameElement){if(window.top!=null){var M=function(c){O.scrolling[L]=false};if(window.top.document){b(window.top.document).on?b(window.top.document).on("mouseup",M):b(window.top.document).bind("mouseup",M)}}}var K=b(document).on!=undefined||b(document).bind;var G=function(e){if(!O.scrolling[L]){return true}O.scrolling[L]=false;var c=O.getTouches(e)[0],d=O.getRootNode(c.target);O.dispatchMouseEvent("mouseup",c,d);O.dispatchMouseEvent("click",c,d)};b(document).on!=undefined?b(document).on("touchend",G):b(document).bind("touchend",G)}var aa=function(e){if(!O.enableScrolling[L]){return true}var c=O.getTouches(e)[0];if(!O.scrolling[L]){return true}O.scrolling[L]=false;if(Y){O.dispatchMouseEvent("mouseup",c,d)}else{var c=O.getTouches(e)[0],d=O.getRootNode(c.target);O.dispatchMouseEvent("mouseup",c,d);O.dispatchMouseEvent("click",c,d);return true}};if(P.on){P.on("dragstart",function(c){c.preventDefault()});P.on("selectstart",function(c){c.preventDefault()})}P.on?P.on(R+" touchcancel.touchScroll",aa):P.bind(R+" touchcancel.touchScroll",aa)}});b.jqx.cookie=b.jqx.cookie||{};b.extend(b.jqx.cookie,{cookie:function(n,m,p){if(arguments.length>1&&String(m)!=="[object Object]"){p=jQuery.extend({},p);if(m===null||m===undefined){p.expires=-1}if(typeof p.expires==="number"){var k=p.expires,o=p.expires=new Date();o.setDate(o.getDate()+k)}m=String(m);return(document.cookie=[encodeURIComponent(n),"=",p.raw?m:encodeURIComponent(m),p.expires?"; expires="+p.expires.toUTCString():"",p.path?"; path="+p.path:"",p.domain?"; domain="+p.domain:"",p.secure?"; secure":""].join(""))}p=m||{};var a,l=p.raw?function(c){return c}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(n)+"=([^;]*)").exec(document.cookie))?l(a[1]):null}});b.jqx.string=b.jqx.string||{};b.extend(b.jqx.string,{replace:function(g,k,h){if(k===h){return this}var a=g;var l=a.indexOf(k);while(l!=-1){a=a.replace(k,h);l=a.indexOf(k)}return a},contains:function(a,d){if(a==null||d==null){return false}return a.indexOf(d)!=-1},containsIgnoreCase:function(a,d){if(a==null||d==null){return false}return a.toUpperCase().indexOf(d.toUpperCase())!=-1},equals:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);if(d.length==a.length){return a.slice(0,d.length)==d}return false},equalsIgnoreCase:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);if(d.length==a.length){return a.toUpperCase().slice(0,d.length)==d.toUpperCase()}return false},startsWith:function(a,d){if(a==null||d==null){return false}return a.slice(0,d.length)==d},startsWithIgnoreCase:function(a,d){if(a==null||d==null){return false}return a.toUpperCase().slice(0,d.length)==d.toUpperCase()},normalize:function(a){if(a.charCodeAt(a.length-1)==65279){a=a.substring(0,a.length-1)}return a},endsWith:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);return a.slice(-d.length)==d},endsWithIgnoreCase:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);return a.toUpperCase().slice(-d.length)==d.toUpperCase()}});b.extend(jQuery.easing,{easeOutBack:function(m,l,n,a,c,d){if(d==undefined){d=1.70158}return a*((l=l/c-1)*l*((d+1)*l+d)+1)+n},easeInQuad:function(k,d,l,a,c){return a*(d/=c)*d+l},easeInOutCirc:function(k,d,l,a,c){if((d/=c/2)<1){return -a/2*(Math.sqrt(1-d*d)-1)+l}return a/2*(Math.sqrt(1-(d-=2)*d)+1)+l},easeInOutSine:function(k,d,l,a,c){return -a/2*(Math.cos(Math.PI*d/c)-1)+l},easeInCubic:function(k,d,l,a,c){return a*(d/=c)*d*d+l},easeOutCubic:function(k,d,l,a,c){return a*((d=d/c-1)*d*d+1)+l},easeInOutCubic:function(k,d,l,a,c){if((d/=c/2)<1){return a/2*d*d*d+l}return a/2*((d-=2)*d*d+2)+l},easeInSine:function(k,d,l,a,c){return -a*Math.cos(d/c*(Math.PI/2))+a+l},easeOutSine:function(k,d,l,a,c){return a*Math.sin(d/c*(Math.PI/2))+l},easeInOutSine:function(k,d,l,a,c){return -a/2*(Math.cos(Math.PI*d/c)-1)+l}})})(jQuery);(function(c){c.extend(jQuery.event.special,{close:{noBubble:true},open:{noBubble:true},cellclick:{noBubble:true},rowclick:{noBubble:true},tabclick:{noBubble:true},selected:{noBubble:true},expanded:{noBubble:true},collapsed:{noBubble:true},valuechanged:{noBubble:true},expandedItem:{noBubble:true},collapsedItem:{noBubble:true},expandingItem:{noBubble:true},collapsingItem:{noBubble:true}});c.fn.extend({ischildof:function(a){var g=c(this).parents().get();for(var h=0;h<g.length;h++){if(typeof a!="string"){var b=g[h];if(a!==undefined){if(b==a[0]){return true}}}else{if(a!==undefined){if(c(g[h]).is(a)){return true}}}}return false}});c.fn.jqxProxy=function(){var a=c(this).data().jqxWidget;var b=Array.prototype.slice.call(arguments,0);return c.jqx.jqxWidgetProxy(a.widgetName,a.element,b)};var d=this.originalVal=c.fn.val;c.fn.val=function(a){if(typeof a=="undefined"){if(c(this).hasClass("jqx-widget")){var b=c(this).data().jqxWidget;if(b&&b.val){return b.val()}}return d.call(this)}else{if(c(this).hasClass("jqx-widget")){var b=c(this).data().jqxWidget;if(b&&b.val){if(arguments.length!=2){return b.val(a)}else{return b.val(a,arguments[1])}}}return d.call(this,a)}};c.fn.coord=function(a){var x,s,t={top:0,left:0},w=this[0],p=w&&w.ownerDocument;if(!p){return}x=p.documentElement;if(!jQuery.contains(x,w)){return t}if(typeof w.getBoundingClientRect!==undefined){t=w.getBoundingClientRect()}var y=function(e){return jQuery.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false};s=y(p);var u=0;var z=0;var v=navigator.userAgent.toLowerCase();var b=v.indexOf("ipad")!=-1||v.indexOf("iphone")!=-1;if(b){u=2}if(true==a){if(c(document.body).css("position")!="static"){var q=c(document.body).coord();u=-q.left;z=-q.top}}return{top:z+t.top+(s.pageYOffset||x.scrollTop)-(x.clientTop||0),left:u+t.left+(s.pageXOffset||x.scrollLeft)-(x.clientLeft||0)}}})(jQuery);(function(b){b.jqx.cssroundedcorners=function(a){var d={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in d){if(!d.hasOwnProperty(prop)){continue}if(a==prop){return d[prop]}}};b.jqx.jqxWidget("jqxButton","",{});b.extend(b.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow";this.roundedCorners="all";this.disabled=false;this.height=null;this.width=null;this.overrideTheme=false;this.enableHover=true;this.enableDefault=true;this.enablePressed=true;this.rtl=false;this._ariaDisabled=false;this._scrollAreaButton=false;this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(m){var a=this;this._setSize();if(!this._ariaDisabled){this.host.attr("role","button")}if(!this.overrideTheme){this.host.addClass(this.toThemeProperty(b.jqx.cssroundedcorners(this.roundedCorners)));if(this.enableDefault){this.host.addClass(this.toThemeProperty("jqx-button"))}this.host.addClass(this.toThemeProperty("jqx-widget"))}this.isTouchDevice=b.jqx.mobile.isTouchDevice();if(!this._ariaDisabled){b.jqx.aria(this)}if(this.cursor!="arrow"){if(!this.disabled){this.host.css({cursor:this.cursor})}else{this.host.css({cursor:"arrow"})}}var h="mouseenter mouseleave mousedown focus blur";if(this._scrollAreaButton){var h="mousedown"}if(this.isTouchDevice){this.addHandler(this.host,b.jqx.mobile.getTouchEventName("touchstart"),function(c){a.isPressed=true;a.refresh()});this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id,function(c){a.isPressed=false;a.refresh()})}this.addHandler(this.host,h,function(c){switch(c.type){case"mouseenter":if(!this.isTouchDevice){if(!a.disabled&&a.enableHover){a.isMouseOver=true;a.refresh()}}break;case"mouseleave":if(!this.isTouchDevice){if(!a.disabled&&a.enableHover){a.isMouseOver=false;a.refresh()}}break;case"mousedown":if(!a.disabled){a.isPressed=true;a.refresh()}break;case"focus":if(!a.disabled){a.isFocused=true;a.refresh()}break;case"blur":if(!a.disabled){a.isFocused=false;a.refresh()}break}});this.mouseupfunc=function(c){if(!a.disabled){a.isPressed=false;a.refresh()}};this.addHandler(b(document),"mouseup.button"+this.element.id,this.mouseupfunc);try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var k="";if(window.parent&&document.referrer){k=document.referrer}if(k.indexOf(document.location.host)!=-1){var l=function(c){a.isPressed=false;a.refresh()};if(window.top.document){this.addHandler(b(window.top.document),"mouseup",l)}}}}}catch(n){}this.propertyChangeMap.roundedCorners=function(f,d,e,c){f.host.removeClass(f.toThemeProperty(b.jqx.cssroundedcorners(e)));f.host.addClass(f.toThemeProperty(b.jqx.cssroundedcorners(c)))};this.propertyChangeMap.width=function(f,d,e,c){f._setSize();f.refresh()};this.propertyChangeMap.height=function(f,d,e,c){f._setSize();f.refresh()};this.propertyChangeMap.disabled=function(f,d,e,c){if(e!=c){f.host[0].disabled=c;f.host.attr("disabled",c);f.refresh();if(!c){f.host.css({cursor:f.cursor})}else{f.host.css({cursor:"default"})}b.jqx.aria(f,"aria-disabled",f.disabled)}};this.propertyChangeMap.rtl=function(f,d,e,c){if(e!=c){f.refresh()}};this.propertyChangeMap.theme=function(f,d,e,c){f.host.removeClass();if(f.enableDefault){f.host.addClass(f.toThemeProperty("jqx-button"))}f.host.addClass(f.toThemeProperty("jqx-widget"));if(!f.overrideTheme){f.host.addClass(f.toThemeProperty(b.jqx.cssroundedcorners(f.roundedCorners)))}f._oldCSSCurrent=null;f.refresh()};if(this.disabled){this.element.disabled=true;this.host.attr("disabled",true)}},resize:function(d,a){this.width=d;this.height=a;this._setSize()},val:function(){var a=this.host.find("input");if(a.length>0){if(arguments.length==0||typeof(value)=="object"){return a.val()}a.val(value);this.refresh();return a.val()}if(arguments.length==0||typeof(value)=="object"){if(this.element.nodeName.toLowerCase()=="button"){return b(this.element).text()}return this.element.value}this.element.value=arguments[0];if(this.element.nodeName.toLowerCase()=="button"){b(this.element).text(arguments[0])}this.refresh()},_setSize:function(){if(this.width!=null&&(this.width.toString().indexOf("px")!=-1||this.width.toString().indexOf("%")!=-1)){this.host.css("width",this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.css("width",this.width)}}if(this.height!=null&&(this.height.toString().indexOf("px")!=-1||this.height.toString().indexOf("%")!=-1)){this.host.css("height",this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.css("height",parseInt(this.height))}}},_removeHandlers:function(){this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"click");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(b(document),"mouseup.button"+this.element.id,this.mouseupfunc);if(this.isTouchDevice){this.removeHandler(this.host,b.jqx.mobile.getTouchEventName("touchstart"));this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)}this.mouseupfunc=null;delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var a=b.data(this.element,"jqxButton");if(a){delete a.instance}this.host.removeClass();this.host.removeData();this.host.remove();delete this.set;delete this.get;delete this.call;delete this.propertyChangeMap.roundedCorners;delete this.propertyChangeMap.width;delete this.propertyChangeMap.height;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.rtl;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;delete this.element;delete this.host},render:function(){this.refresh()},refresh:function(){if(this.overrideTheme){return}var o=this.toThemeProperty("jqx-fill-state-focus");var k=this.toThemeProperty("jqx-fill-state-disabled");var a=this.toThemeProperty("jqx-fill-state-normal");if(!this.enableDefault){a=""}var l=this.toThemeProperty("jqx-fill-state-hover");var n=this.toThemeProperty("jqx-fill-state-pressed");var m=this.toThemeProperty("jqx-fill-state-pressed");if(!this.enablePressed){n=""}var p="";if(!this.host){return}this.host[0].disabled=this.disabled;if(this.disabled){p=a+" "+k;this.host.addClass(p);this._oldCSSCurrent=p;return}else{if(this.isMouseOver&&!this.isTouchDevice){if(this.isPressed){p=m}else{p=l}}else{if(this.isPressed){p=n}else{p=a}}}if(this.isFocused){p+=" "+o}if(p!=this._oldCSSCurrent){if(this._oldCSSCurrent){this.host.removeClass(this._oldCSSCurrent)}this.host.addClass(p);this._oldCSSCurrent=p}if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"));this.host.css("direction","rtl")}}});b.jqx.jqxWidget("jqxLinkButton","",{});b.extend(b.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=false;this.height=null;this.width=null;this.rtl=false;this.href=null},createInstance:function(m){var n=this;this.host.onselectstart=function(){return false};this.host.attr("role","button");var a=this.height||this.host.height();var l=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var k=this.host.find("input");k.addClass(this.toThemeProperty("jqx-reset"));k.width(l);k.height(a);k.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));k.css({width:l});k.css({height:a});var h=m==undefined?{}:m[0]||{};k.jqxButton(h);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(f,d,e,c){f.host[0].disabled=c;f.host.find("input").jqxButton({disabled:c})};this.addHandler(k,"click",function(c){if(!this.disabled){n.onclick(c)}return false})},onclick:function(a){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});b.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});b.extend(b.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(h){var l=this;var k=b.jqx.mobile.isTouchDevice();var a=!k?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var g=!k?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.addHandler(b(document),a,function(c){if(l.timeout!=null){clearTimeout(l.timeout);l.timeout=null;l.refresh()}if(l.timer!=undefined){clearInterval(l.timer);l.timer=null;l.refresh()}});this.addHandler(this.base.host,g,function(c){if(l.timer!=null){clearInterval(l.timer)}l.timeout=setTimeout(function(){clearInterval(l.timer);l.timer=setInterval(function(d){l.ontimer(d)},l.delay)},150)});this.mousemovefunc=function(c){if(!k){if(c.which==0){if(l.timer!=null){clearInterval(l.timer);l.timer=null}}}};this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var h=b.jqx.mobile.isTouchDevice();var a=!h?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var f=!h?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc);this.removeHandler(this.base.host,f);this.removeHandler(b(document),a);this.timer=null;delete this.mousemovefunc;delete this.timer;var g=b.data(this.base.element,"jqxRepeatButton");if(g){delete g.instance}b(this.base.element).removeData();this.base.destroy();delete this.base},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(a){var a=new jQuery.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(a)}}});b.jqx.jqxWidget("jqxToggleButton","jqxButton",{});b.extend(b.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false;this.uiToggle=true;this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(d){var a=this;this.base.overrideTheme=true;this.isTouchDevice=b.jqx.mobile.isTouchDevice();b.jqx.aria(this);this.propertyChangeMap.toggled=function(l,h,k,c){l.refresh()};this.propertyChangeMap.disabled=function(l,h,k,c){l.base.disabled=c;l.refresh()};this.addHandler(this.base.host,"click",function(c){if(!a.base.disabled&&a.uiToggle){a.toggle()}});if(!this.isTouchDevice){this.addHandler(this.base.host,"mouseenter",function(c){if(!a.base.disabled){a.refresh()}});this.addHandler(this.base.host,"mouseleave",function(c){if(!a.base.disabled){a.refresh()}})}this.addHandler(this.base.host,"mousedown",function(c){if(!a.base.disabled){a.refresh()}});this.addHandler(b(document),"mouseup.togglebutton"+this.base.element.id,function(c){if(!a.base.disabled){a.refresh()}})},destroy:function(){this._removeHandlers();this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(b(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled;this.refresh();b.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=false;this.refresh()},check:function(){this.toggled=true;this.refresh()},refresh:function(){var h=this.base.toThemeProperty("jqx-fill-state-disabled");var a=this.base.toThemeProperty("jqx-fill-state-normal");if(!this.base.enableDefault){a=""}var k=this.base.toThemeProperty("jqx-fill-state-hover");var m=this.base.toThemeProperty("jqx-fill-state-pressed");var l=this.base.toThemeProperty("jqx-fill-state-pressed");var n="";this.base.host[0].disabled=this.base.disabled;if(this.base.disabled){n=a+" "+h;this.base.host.addClass(n);return}else{if(this.base.isMouseOver&&!this.isTouchDevice){if(this.base.isPressed||this.toggled){n=l}else{n=k}}else{if(this.base.isPressed||this.toggled){n=m}else{n=a}}}if(this.base.host.hasClass(h)&&h!=n){this.base.host.removeClass(h)}if(this.base.host.hasClass(a)&&a!=n){this.base.host.removeClass(a)}if(this.base.host.hasClass(k)&&k!=n){this.base.host.removeClass(k)}if(this.base.host.hasClass(m)&&m!=n){this.base.host.removeClass(m)}if(this.base.host.hasClass(l)&&l!=n){this.base.host.removeClass(l)}if(!this.base.host.hasClass(n)){this.base.host.addClass(n)}}})})(jQuery);(function(b){b.jqx.jqxWidget("jqxCalendar","",{});b.extend(b.jqx._jqxCalendar.prototype,{defineInstance:function(){this.disabled=false;this.multipleMonthRows=1;this.multipleMonthColumns=1;if(this.minDate==undefined){this.minDate=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(0);this.minDate._setMinutes(0);this.minDate._setSeconds(0);this.minDate._setMilliseconds(0)}if(this.maxDate==undefined){this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(0);this.maxDate._setMinutes(0);this.maxDate._setSeconds(0);this.maxDate._setMilliseconds(0)}this.min=new Date(1900,0,1);this.max=new Date(2100,0,1);this.navigationDelay=400;if(this.stepMonths===undefined){this.stepMonths=1}this.width=null;this.height=null;if(this.value===undefined){this.value=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}this.firstDayOfWeek=0;this.showWeekNumbers=false;this.showDayNames=true;this.enableWeekend=false;this.enableOtherMonthDays=true;this.showOtherMonthDays=true;this.rowHeaderWidth=25;this.columnHeaderHeight=20;this.titleHeight=25;this.dayNameFormat="firstTwoLetters";this.monthNameFormat="default";this.titleFormat=["MMMM yyyy","yyyy","yyyy","yyyy"];this.enableViews=true;if(this.readOnly===undefined){this.readOnly=false}if(this.culture==undefined){this.culture="default"}if(this.enableFastNavigation==undefined){this.enableFastNavigation=true}if(this.enableHover==undefined){this.enableHover=true}if(this.enableAutoNavigation==undefined){this.enableAutoNavigation=true}if(this.enableTooltips===undefined){this.enableTooltips=false}this.backText="Back";this.forwardText="Forward";if(this.specialDates===undefined){this.specialDates=new Array()}this.keyboardNavigation=true;this.selectionMode="default";this.selectableDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.todayString="Today";this.clearString="Clear";this.showFooter=false;this.selection={from:null,to:null};this.canRender=true;this._checkForHiddenParent=true;this.height=null;this.rtl=false;this.view="month";this.views=["month","year","decade"];this.changing=null;this.change=null;this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}};this.events=["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]},createInstance:function(o){this.setCalendarSize();if(this.element.id===""){this.element.id=b.jqx.utilities.createId()}this.element.innerHTML="";this.host.attr("data-role","calendar");var k=this.element.id;var l=this;this.propertyChangeMap.width=function(f,d,e,c){l.setCalendarSize()};this.propertyChangeMap.height=function(f,d,e,c){l.setCalendarSize()};if(b.global){b.global.preferCulture(this.culture)}if(this.culture!="default"){if(b.global){b.global.preferCulture(this.culture);this.localization.calendar=b.global.culture.calendar}else{if(Globalize){var q=Globalize.culture(this.culture);this.localization.calendar=q.calendar}}this.firstDayOfWeek=this.localization.calendar.firstDay}if(this.localization.backString!="Back"){this.backText=this.localization.backString}if(this.localization.forwardString!="Forward"){this.forwardText=this.localization.forwardString}if(this.localization.todayString!="Today"&&this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString!="Clear"&&this.localization.clearString){this.clearString=this.localization.clearString}this.setMaxDate(this.max,false);this.setMinDate(this.min,false);if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0)}this.host.css("outline","none");this.host.addClass(this.toThemeProperty("jqx-calendar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this._addInput();if(this.views.indexOf("month")==-1){this.view="year"}if(this.views.indexOf("year")==-1&&this.views.indexOf("month")==-1){this.view="decade"}this.addHandler(this.host,"keydown",function(c){var d=true;if(l.keyboardNavigation){if(l._handleKey!=undefined){d=l._handleKey(c);if(!d){if(c.stopPropagation){c.stopPropagation()}if(c.preventDefault){c.preventDefault()}}}}return d});var p=false;var m=this;var a=false;if(l.width!=null&&l.width.toString().indexOf("%")!=-1){a=true}if(l.height!=null&&l.height.toString().indexOf("%")!=-1){a=true}b.jqx.utilities.resize(this.host,function(){var c=m.host.find("#View"+l.element.id);if(!p){p=true;m.render()}else{m.refreshTitle(c)}if(a){if(l.refreshTimer){clearTimeout(l.refreshTimer)}l.refreshTimer=setTimeout(function(){l.refreshControl()},1)}},false,this._checkForHiddenParent);var n="View";this.propertyChangeMap.disabled=function(f,d,e,c){if(c){f.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"))}else{f.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"))}l.refreshControl()}},_addInput:function(){var a=this.host.attr("name");this.input=b("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}this.input.val(this.getDate().toString())},setCalendarSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.css("width",this.width)}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.css("height",this.height)}},_getYearAndMonthPart:function(d){if(!d){return new Date(1900,0,1)}var a=new Date(d.getFullYear(),d.getMonth(),1);return a},_handleKey:function(L){if(this.readOnly){return true}var K=L.keyCode;var B=this;var Y=this._getSelectedDate();if(Y==undefined){return true}if(L.altKey){return true}if(this._animating){return false}if(this.view!="month"&&K==13){var W=this._getSelectedCell();this._setDateAndSwitchViews(W,L,"keyboard")}if(this.view=="year"){var D=Y.getMonth();var R=this._getYearAndMonthPart(this.getMinDate());var O=this._getYearAndMonthPart(this.getMaxDate());switch(K){case 37:if(D==0){var S=new Date(Y.getFullYear()-1,11,1);if(S>=R){this.selectedDate=S;this.navigateBackward()}else{if(this.selectedDate!=R){this.selectedDate=R;this.navigateBackward()}}}else{var S=new Date(Y.getFullYear(),D-1,1);if(S>=R){this._selectDate(S,"key")}}return false;case 38:var S=new Date(Y.getFullYear(),D-4,1);if(S<R){S=R}if(D-4<0){this.selectedDate=S;this.navigateBackward()}else{this._selectDate(S,"key")}return false;case 40:var S=new Date(Y.getFullYear(),D+4,1);if(S>O){S=O}if(D+4>11){this.selectedDate=S;this.navigateForward()}else{this._selectDate(S,"key")}return false;case 39:if(D==11){var S=new Date(Y.getFullYear()+1,0,1);if(S<=O){this.selectedDate=S;this.navigateForward()}else{if(this.selectedDate!=O){this.selectedDate=O;this.navigateForward()}}}else{var S=new Date(Y.getFullYear(),D+1,1);if(S<=O){this._selectDate(S,"key")}}return false}return true}if(this.view=="decade"){var M=this._renderStartDate.getFullYear();var Q=this._renderEndDate.getFullYear();var N=Y.getFullYear();var E=this.getMinDate().getFullYear();var X=this.getMaxDate().getFullYear();switch(K){case 37:if(N-1>=E){if(N<=M){this.selectedDate=new Date(N-1,Y.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(N-1,Y.getMonth(),1),"key")}}return false;case 38:var C=N-4;if(N-4<E){C=E}if(C<M){this.selectedDate=new Date(C,Y.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(C,Y.getMonth(),1),"key")}return false;case 40:var C=N+4;if(C>X){C=X}if(C>Q){this.selectedDate=new Date(C,Y.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(C,Y.getMonth(),1),"key")}return false;case 39:if(N+1<=X){if(N==Q){this.selectedDate=new Date(N+1,Y.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(N+1,Y.getMonth(),1),"key")}}return false}return true}var F=new b.jqx._jqxDateTimeInput.getDateTime(Y);var U=this.getViewStart();var V=this.getViewEnd();var G=F;var H=b.data(this.element,"View"+this.element.id);if(H==undefined||H==null){return true}if(K==36){F._setDay(1);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");return false}if(K==35){var I=this.value._daysInMonth(this.value.year,this.value.month);F._setDay(I);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");return false}var T=1;if(L.ctrlKey){T=12}if(K==34){var a=this.navigateForward(T);if(a){F._addMonths(T);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key")}return false}if(K==33){var a=this.navigateBackward(T);if(a){F._addMonths(-T);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key")}return false}if(K==38){F._addDays(-7);if(F.dateTime<this.getMinDate()){return false}if(F.dateTime<U){var a=this.navigateBackward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P<=F.dateTime){this.value.day=P.getDate();this.navigateBackward();this._selectDate(F.dateTime,"key");break}}return false}else{if(K==40){F._addDays(7);if(F.dateTime>this.getMaxDate()){return false}if(F.dateTime>V){var a=this.navigateForward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P>=F.dateTime){this.value.day=P.getDate();this.navigateForward();this._selectDate(F.dateTime,"key");break}}return false}}if(K==37){F._addDays(-1);if(F.dateTime<this.getMinDate()){return false}if(F.dateTime<U){var a=this.navigateBackward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P<=F.dateTime){if(F.dateTime<this.getMinDate()||F.dateTime>this.getMaxDate()){return false}if(this._isDisabled(F.dateTime)){return false}this.navigateBackward();this._selectDate(F.dateTime,"key");break}}return false}else{if(K==39){F._addDays(1);if(F.dateTime>this.getMaxDate()){return false}if(F.dateTime>V){var a=this.navigateForward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P>=F.dateTime){if(F.dateTime<this.getMinDate()||F.dateTime>this.getMaxDate()){return false}this.navigateForward();this._selectDate(F.dateTime,"key");break}}return false}}return true},render:function(){if(!this.canRender){return}this.host.children().remove();var d=this._renderSingleCalendar("View"+this.element.id);var a=this;this.host.append(d)},addSpecialDate:function(a,h,g){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var f=this.specialDates.length;this.specialDates[f]={Date:a,Class:h,Tooltip:g};this.refreshControl()}},refresh:function(a){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){this.refreshSingleCalendar("View"+this.element.id,null)}},getViewStart:function(){var d=this.getVisibleDate();var a=this.getFirstDayOfWeek(d);return a.dateTime},getViewEnd:function(){var d=this.getViewStart();var a=new b.jqx._jqxDateTimeInput.getDateTime(d);a._addDays(41);return a.dateTime},refreshSingleCalendar:function(n,o){if(!this.canRender){return}var l=this.host.find("#"+n);var p=this.getVisibleDate();var a=this.getFirstDayOfWeek(p);this.refreshCalendarCells(l,a,n);this.refreshTitle(l);this.refreshRowHeader(l,n);if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var m=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){m=this.host.height()-this.titleHeight}if(this.showFooter){m-=20}var q=l.find("#cellsTable"+n);var k=l.find("#calendarRowHeader"+n);q.height(m);k.height(m)},refreshRowHeader:function(u,A){if(!this.showWeekNumbers){return}var J=this.getVisibleDate();var E=this.getFirstDayOfWeek(J);var z=E.dayOfWeek;var a=this.getWeekOfYear(E);var G=new b.jqx._jqxDateTimeInput.getDateTime(new Date(E.dateTime));G._addDays(5);G.dayOfWeek=G.dateTime.getDay();var C=this.getWeekOfYear(G);var H=this.rowHeader.find("table");H.width(this.rowHeaderWidth);var F=E;var w=new Array();for(var x=0;x<6;x++){var y=a.toString();var K=new b.jqx._jqxCalendar.cell(F.dateTime);var B=x+1+this.element.id;var D=b(H[0].rows[x].cells[0]);K.element=D;K.row=x;K.column=0;var I=D.find("#headerCellContent"+B);I.addClass(this.toThemeProperty("jqx-calendar-row-cell"));I[0].innerHTML=a;w[x]=K;F=new b.jqx._jqxDateTimeInput.getDateTime(new Date(F._addWeeks(1)));a=this.getWeekOfYear(F)}var v=b.data(this.element,u[0].id);v.rowCells=w;this._refreshOtherMonthRows(v,A)},_refreshOtherMonthRows:function(k,l){if(this.showOtherMonthDays){return}this._displayLastRow(true,l);this._displayFirstRow(true,l);var m=false;var h=false;for(var n=0;n<k.cells.length;n++){var a=k.cells[n];if(a.isVisible&&n<7){m=true}else{if(a.isVisible&&n>=k.cells.length-7){h=true}}}if(!m){this._displayFirstRow(false,l)}if(!h){this._displayLastRow(false,l)}},_displayLastRow:function(a,n){var h=this.host.find("#"+n);var k=h.find("#calendarRowHeader"+h[0].id).find("table");var m=null;if(this.showWeekNumbers){if(k[0].cells){var m=b(k[0].rows[5])}}var l=b(h.find("#cellTable"+h[0].id)[0].rows[5]);if(a){if(this.showWeekNumbers&&m){m.css("display","table-row")}l.css("display","table-row")}else{if(this.showWeekNumbers&&m){m.css("display","none")}l.css("display","none")}},_displayFirstRow:function(a,n){var l=this.host.find("#"+n);var m=l.find("#calendarRowHeader"+l[0].id).find("table");var k=null;if(this.showWeekNumbers){if(m[0].cells){var k=b(m[0].rows[0])}}var h=b(l.find("#cellTable"+l[0].id)[0].rows[0]);if(a){if(this.showWeekNumbers&&k){k.css("display","table-row")}h.css("display","table-row")}else{if(this.showWeekNumbers&&k){k.css("display","none")}h.css("display","none")}},_renderSingleCalendar:function(z,E){if(!this.canRender){return}var C=this.host.find("#"+z.toString());if(C!=null){C.remove()}var w=b("<div id='"+z.toString()+"'></div>");var N=this.getVisibleDate();var D=this.getFirstDayOfWeek(N);var K=new b.jqx._jqxDateTimeInput.getDateTime(D.dateTime);K._addMonths(1);var x=b.jqx._jqxCalendar.monthView(D,K,null,null,null,w);if(E==undefined||E==null){this.host.append(w);if(this.height!=undefined&&!isNaN(this.height)){w.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){w.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){w.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){w.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){w.width("100%")}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){w.height("100%")}}else{E.append(w)}b.data(this.element,z,x);var y=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){y=this.host.height()-this.titleHeight}if(this.showFooter){y-=20}if(this.rowHeaderWidth<0){this.rowHeaderWidth=0}if(this.columnHeaderHeight<0){this.columnHeaderHeight=0}if(this.titleHeight<0){this.titleHeight=0}var I=this.rowHeaderWidth;var F=this.columnHeaderHeight;if(!this.showWeekNumbers){I=0}if(!this.showDayNames){F=0}var a="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>";var M="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+F+"'><td role='gridcell' id='selectCell' width='"+I+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+y+"' width='"+I+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+y+"'></td></tr></table>";var A="<div id='footer' style='margin: 0px; display: none; height:"+L+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";w[0].innerHTML=a+M+A;this.header=w.find("#calendarHeader");this.header[0].id="calendarHeader"+z;this.header.addClass(this.toThemeProperty("calendar-header"));this.columnHeader=w.find("#calendarColumnHeader");this.columnHeader[0].id="calendarColumnHeader"+z;this.table=w.find("#cellsTable");this.table[0].id="cellsTable"+z;this.rowHeader=w.find("#calendarRowHeader");this.rowHeader[0].id="calendarRowHeader"+z;this.selectCell=w.find("#selectCell");this.selectCell[0].id="selectCell"+z;this.title=w.find("#calendarTitle");this.title[0].id="calendarTitle"+z;this.leftButton=w.find("#leftNavigationArrow");this.leftButton[0].id="leftNavigationArrow"+z;this.titleHeader=w.find("#calendarTitleHeader");this.titleHeader[0].id="calendarTitleHeader"+z;this.rightButton=w.find("#rightNavigationArrow");this.rightButton[0].id="rightNavigationArrow"+z;this.footer=w.find("#calendarFooter");this._footer=w.find("#footer");this._footer[0].id="footer"+z;this.footer[0].id="calendarFooter"+z;this.todayButton=w.find("#todayButton");this.todayButton[0].id="todayButton"+z;this.doneButton=w.find("#doneButton");this.doneButton[0].id="doneButton"+z;this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var L=20;if(this.showFooter){this._footer.css("display","block")}w.find("tr").addClass(this.toThemeProperty("jqx-reset"));w.addClass(this.toThemeProperty("jqx-widget-content"));w.addClass(this.toThemeProperty("jqx-calendar-month-container"));this.month=w;this.selectCell.addClass(this.toThemeProperty("jqx-reset"));this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header"));if(this.showWeekNumbers){this._renderRowHeader(w)}else{this.table[0].colSpan=3;this.columnHeader[0].colSpan=3;this.rowHeader.css("display","none");this.selectCell.css("display","none")}if(this.showFooter){this.footer.height(20);var G=b("<a href='javascript:;'>"+this.todayString+"</a>");G.appendTo(this.todayButton);var H=b("<a href='javascript:;'>"+this.clearString+"</a>");H.appendTo(this.doneButton);H.addClass(this.toThemeProperty("jqx-calendar-footer"));G.addClass(this.toThemeProperty("jqx-calendar-footer"));var B=this;var J="mousedown";if(b.jqx.mobile.isTouchDevice()){J=b.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(G,J,function(){if(B.today){B.today()}else{B.setDate(new Date(),"mouse")}return false});this.addHandler(H,J,function(){if(B.clear){B.clear()}else{B.setDate(null,"mouse")}return false})}if(this.view!="month"){this.header.hide()}if(this.showDayNames&&this.view=="month"){this.renderColumnHeader(w)}this.oldView=this.view;this.renderCalendarCells(w,D,z);if(E==undefined||E==null){this.renderTitle(w)}this._refreshOtherMonthRows(x,z);w.find("tbody").css({border:"none",background:"transparent"});if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var v=this;this.addHandler(this.host,"focus",function(){v.focus()});return w},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(x){var G=b("<div role='button' style='float: left;'></div>");var F=b("<div role='button' style='float: right;'></div>");var C=this.title;C.addClass(this.toThemeProperty("jqx-reset"));C.addClass(this.toThemeProperty("jqx-widget-header"));C.addClass(this.toThemeProperty("jqx-calendar-title-header"));var M=C.find("td");if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(M.css("background-color")!="transparent"){var K=C.css("background-color");M.css("background-color",K)}if(M.css("background-image")!="transparent"){var N=C.css("background-image");var B=C.css("background-repeat");var O=C.css("background-position");M.css("background-image",N);M.css("background-repeat",B);M.css("background-position","left center scroll")}}else{M.css("background-color","transparent")}if(this.disabled){C.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled"))}G.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));G.addClass(this.toThemeProperty("jqx-icon-arrow-left"));G.appendTo(this.leftButton);var E=this.leftButton;F.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));F.addClass(this.toThemeProperty("jqx-icon-arrow-right"));F.appendTo(this.rightButton);var P=this.rightButton;if(this.enableTooltips){if(b(E).jqxTooltip){b(E).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText});b(P).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})}}var D=this.titleHeader;var a=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var A=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var H=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);a=A+" - "+H}else{if(this.view=="centuries"){var A=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var H=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);a=A+" - "+H}}var L=b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+a+"</div>");D.append(L);L.addClass(this.toThemeProperty("jqx-calendar-title-content"));var y=parseInt(G.width());var I=x.width()-2*y;var z=D.find(".jqx-calendar-title-content").width(I);b.data(G,"navigateLeft",this);b.data(F,"navigateRight",this);var J=b.jqx.mobile.isTouchDevice();if(!this.disabled){var w=this;this.addHandler(D,"mousedown",function(d){if(w.enableViews){if(!w._viewAnimating&&!w._animating){var c=w.view;w.oldView=c;switch(w.view){case"month":w.view="year";break;case"year":w.view="decade";break}if(w.views.indexOf("year")==-1&&w.view=="year"){w.view="decade"}if(w.views.indexOf("decade")==-1&&w.view=="decade"){w.view=c}if(c!=w.view){var f="View"+w.element.id;var h=w.host.find("#"+f);var g=w.getVisibleDate();var e=w.getFirstDayOfWeek(g);w.renderCalendarCells(h,e,f,true);w.refreshTitle(h);w._raiseEvent("8")}}return false}});this.addHandler(G,"mousedown",function(c){if(!w._animating){b.data(G,"navigateLeftRepeat",true);var d=b.data(G,"navigateLeft");if(d.enableFastNavigation&&!J){d.startRepeat(d,G,true,w.navigationDelay+200)}d.navigateBackward(1,"arrow");return d._raiseEvent(0,c)}else{return false}});this.addHandler(G,"mouseup",function(c){b.data(G,"navigateLeftRepeat",false)});this.addHandler(G,"mouseleave",function(c){b.data(G,"navigateLeftRepeat",false)});this.addHandler(F,"mousedown",function(c){if(!w._animating){b.data(F,"navigateRightRepeat",true);var d=b.data(F,"navigateRight");if(d.enableFastNavigation&&!J){d.startRepeat(d,F,false,w.navigationDelay+200)}d.navigateForward(1,"arrow");return d._raiseEvent(1,c)}else{return false}});this.addHandler(F,"mouseup",function(c){b.data(F,"navigateRightRepeat",false)});this.addHandler(F,"mouseleave",function(c){b.data(F,"navigateRightRepeat",false)})}},refreshTitle:function(m){var l=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var o=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var a=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);l=o+" - "+a}else{if(this.view=="centuries"){var o=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var a=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);l=o+" - "+a}}var n=this.titleHeader;if(this.titleHeader){var p=n.find(".jqx-calendar-title-content");var k=b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+l+"</div>");n.append(k);k.addClass(this.toThemeProperty("jqx-calendar-title-content"));if(p!=null){p.remove()}}},startRepeat:function(k,a,g,h){var l=window.setTimeout(function(){var c=b.data(a,"navigateLeftRepeat");if(!g){c=b.data(a,"navigateRightRepeat")}if(c){if(h<25){h=25}if(g){k.navigateBackward(1,"arrow");k.startRepeat(k,a,true,h)}else{k.navigateForward(1,"arrow");l=k.startRepeat(k,a,false,h)}}else{window.clearTimeout(l);return}},h)},navigateForward:function(l,m){if(l==undefined||l==null){l=this.stepMonths}var n=this.value.year;if(this.view=="decade"){n=this._renderStartDate.getFullYear()+12;if(this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear()){return}}else{if(this.view=="year"){n=this.value.year+1}else{if(this.view=="centuries"){n=this.value.year+100}}}if(this.view!="month"){var a=this.getMaxDate().getFullYear();if(a<n||n>a){n=a}if(this.value.year==n){return}this.value.year=n;this.value.month=1;this.value.day=1}var q=this.value.day;var k=this.value.month;if(k+l<=12){var o=this.value._daysInMonth(this.value.year,this.value.month+l);if(q>o){q=o}}if(this.view=="month"){var p=new Date(this.value.year,this.value.month-1+l,q);if(m=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"){this.selectedDate=new Date(this.value.year,this.value.month-1+l,1)}}else{var p=new Date(this.value.year,this.value.month-1,q)}return this.navigateTo(p)},navigateBackward:function(m,n){if(m==undefined||m==null){m=this.stepMonths}var o=this.value.year;if(this.view=="decade"){o=this._renderStartDate.getFullYear()-12}else{if(this.view=="year"){o=this.value.year-1}else{if(this.view=="centuries"){o=this.value.year-100}}}if(this.view!="month"){var k=this.getMinDate().getFullYear();if(o<k){o=k}if(this.view=="decade"){if(this._renderStartDate){if(this._renderStartDate.getFullYear()==o){return}}}this.value.year=o;this.value.month=1;this.value.day=1}var a=this.value.day;var l=this.value.month;if(l-m>=1){var p=this.value._daysInMonth(this.value.year,this.value.month-m);if(a>p){a=p}}if(this.view=="month"){var q=new Date(this.value.year,this.value.month-1-m,a);if(n=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"){this.selectedDate=new Date(this.value.year,this.value.month-1-m,1)}}else{var q=new Date(this.value.year,this.value.month-1,a)}return this.navigateTo(q)},_isDisabled:function(g){var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var a=g.getDay();var h=f[a];if(this.selectableDays.indexOf(h)==-1){return true}return false},refreshCalendarCells:function(a,K,G){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.refreshViews(a,K,G);return}var B=this.table;var C=B.find("#cellTable"+G.toString());var L=K;var N=new Array();var F=0;var z=new b.jqx._jqxDateTimeInput.getDateTime(new Date());for(var D=0;D<6;D++){for(var E=0;E<7;E++){var M=D+1;var I=E;if(this.rtl){I=6-I}var A=I+1;var H="#cell"+M+A+this.element.id;var k=new Date(L.dateTime.getFullYear(),L.dateTime.getMonth(),L.dateTime.getDate());var O=new b.jqx._jqxCalendar.cell(k);var J=b(C[0].rows[D].cells[A-1]);J[0].id=H.substring(1);O.element=J;O.row=D;O.column=E;O.isVisible=true;O.isOtherMonth=false;O.isToday=false;O.isWeekend=false;O.isHighlighted=false;O.isSelected=false;if(L.month!=this.value.month){O.isOtherMonth=true;O.isVisible=this.showOtherMonthDays}if(k<this.getMinDate()||k>this.getMaxDate()||this._isDisabled(k)){O.isDisabled=true}if(L.month==z.month&&L.day==z.day&&L.year==z.year){O.isToday=true}if(L.isWeekend()){O.isWeekend=true}b.data(this.element,"cellContent"+H.substring(1),O);b.data(this.element,H.substring(1),O);N[F]=O;F++;b.jqx.utilities.html(J,L.day);this._applyCellStyle(O,J,J);L=new b.jqx._jqxDateTimeInput.getDateTime(new Date(L._addDays(1)))}}var y=b.data(this.element,a[0].id);if(y!=undefined&&y!=null){y.cells=N}this.renderedCells=N;this._refreshOtherMonthRows(y,G)},_getDecadeAndCenturiesData:function(){var v=new Array();var a=new Array();var B=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();if(B<12){B=12}var y=this.getMinDate();var C=this.getMaxDate();var u=this.value.dateTime.getFullYear();if(this.view=="decade"){if(u+12>C.getFullYear()){u=C.getFullYear()-11}if(u<y.getFullYear()){u=y.getFullYear()}for(var w=0;w<B;w++){var A=new Date(y.getFullYear()+w,0,1);if(y.getFullYear()<=u&&u<=A.getFullYear()){var x=new Date(A.getFullYear(),A.getMonth(),1);for(var z=0;z<12;z++){var q=new Date(x.getFullYear()+z,this.value.dateTime.getMonth(),this.value.dateTime.getDate());var t=q.getFullYear();if(y.getFullYear()<=t&&t<=C.getFullYear()){v.push(t);a.push(q);if(z==0){this._renderStartDate=q}this._renderEndDate=q}else{v.push(t);a.push(q)}}break}}}else{if(this.view=="centuries"){for(var w=0;w<B;w+=120){var A=new Date(y.getFullYear()+w+120,0,1);if(y.getFullYear()<=u&&u<=A.getFullYear()){var x=new Date(A.getFullYear()-130,A.getMonth(),1);if(x<y){x=y}for(var z=0;z<12;z++){var s=new Date(x.getFullYear()+z*10,x.getMonth(),1);if(x.getFullYear()>=y.getFullYear()&&s.getFullYear()<=C.getFullYear()){v.push("<span style='visibility: hidden;'>-</span>"+s.getFullYear()+"-"+(s.getFullYear()+9));a.push(s);if(z==0){this._renderCenturyStartDate=s}this._renderCenturyEndDate=new Date(s.getFullYear()+9,0,1)}}break}}}}return{years:v,dates:a}},refreshViews:function(P,S,J){var M=this;var Z=new Array();var F=P.find("#cellTable"+J.toString());var K=this._getDecadeAndCenturiesData();var T=K.years;var L=K.dates;var I=0;var W=this.getMinDate();var R=this.getMaxDate();for(var G=0;G<3;G++){for(var H=0;H<4;H++){var Y=G+1;var N=H;if(this.rtl){N=3-N}var E=N+1;var a=new Date(this.value.dateTime);a.setDate(1);a.setMonth(G*4+N);var aa=new b.jqx._jqxCalendar.cell(a);var X=F[0].rows["row"+(1+G)+this.element.id];var Q=b(X.cells[H]);aa.isSelected=false;aa.isVisible=true;aa.element=Q;aa.row=G;aa.column=H;aa.index=Z.length;var O="";if(this.view=="year"){var U=this.localization.calendar.months.names;var V=U[G*4+N];switch(this.monthNameFormat){case"default":V=this.localization.calendar.months.namesAbbr[G*4+N];break;case"shortest":V=this.localization.calendar.months.namesShort[G*4+N];break;case"firstTwoLetters":V=V.substring(0,2);break;case"firstLetter":V=V.substring(0,1);break}O=V}else{if(this.view=="decade"||this.view=="centuries"){O=T[G*4+N];if(undefined==O){O="<span style='cursor: default; visibility: hidden;'>2013</span>"}aa.setDate(L[G*4+N])}}var a=aa.getDate();if(this.view=="year"){if(a.getMonth()==this.getDate().getMonth()&&a.getFullYear()==this.getDate().getFullYear()){aa.isSelected=true}}else{if(a.getFullYear()==this.getDate().getFullYear()){aa.isSelected=true}}if(this.view=="year"){if(this._getYearAndMonthPart(a)<this._getYearAndMonthPart(W)){aa.isDisabled=true}if(this._getYearAndMonthPart(a)>this._getYearAndMonthPart(R)){aa.isDisabled=true}}else{if(a.getFullYear()<W.getFullYear()){aa.isDisabled=true}if(a.getFullYear()>R.getFullYear()){aa.isDisabled=true}}b.jqx.utilities.html(Q,O);Z[I]=aa;I++}}var k=b.data(this.element,P[0].id);if(k!=undefined&&k!=null){k.cells=Z}this.renderedCells=Z;this._applyCellStyles()},_createViewClone:function(){var a=this.host.find(".jqx-calendar-month");var d=a.clone();d.css("position","absolute");d.css("top",a.position().top);return d},_addCellsTable:function(k,l){var n=this;var p=this.showFooter?20:0;if(this.view!="month"){l.height(this.host.height()-this.titleHeight)}else{l.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-p)}this._viewAnimating=true;var a=this.host.find(".jqx-calendar-month-container");a.css("position","relative");var o=this.host.find(".jqx-calendar-month");var m=this._createViewClone();a.append(m);if(this.view!="month"){this.header.fadeOut(0);if(this.showWeekNumbers){this.rowHeader.fadeOut(0)}if(this.showFooter){this._footer.fadeOut(0)}}else{this.header.fadeIn(this.navigationDelay+200);if(this.showWeekNumbers){this.rowHeader.fadeIn(this.navigationDelay+200)}if(this.showFooter){this._footer.fadeIn(this.navigationDelay+200)}}k.children().remove();k.append(l);this._animateViews(m,l,function(){if(!n.selectedDate){n.selectedDate=n.renderedCells[0].getDate()}try{n.renderedCells[0].element.focus();setTimeout(function(){n.renderedCells[0].element.focus()},10)}catch(c){}n._viewAnimating=false});l.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(h,a,f){var g=this;g._viewAnimating=true;if(g.oldView==g.view){h.remove();a.fadeOut(0);a.fadeIn(0);f();return}h.fadeOut(this.navigationDelay+100,function(){h.remove()});a.fadeOut(0);a.fadeIn(this.navigationDelay+200,function(){f()})},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;var f=false;if(!e.selectedDate&&e.selectionMode!="range"){this.setDate(new Date(),"mouse")}this.element.focus()}}catch(a){}},renderViews:function(Q,Y,M){var O=this;var ae=new Array();var k=b("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+M.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");var V=this.host.find(".jqx-calendar-month-container");V.css("position","relative");var a=Q.find("#cellsTable"+Q[0].id);a[0].style.borderColor="transparent";var J=this._getDecadeAndCenturiesData();var Z=J.years;var L=J.dates;var K=0;var ac=this.getMinDate();var X=this.getMaxDate();var P=new Date(this.value.dateTime);P.setDate(1);for(var H=0;H<3;H++){for(var I=0;I<4;I++){var af=H+1;var N=I;if(this.rtl){N=3-N}var U=N+1;var ad=k[0].rows["row"+(1+H)+this.element.id];var R=new Date(P);R.setMonth(H*4+N);var ag=new b.jqx._jqxCalendar.cell(R);var W=b(ad.cells[I]);ag.isVisible=true;ag.element=W;ag.row=H;ag.column=I;ag.index=ae.length;ag.isSelected=false;var T="";if(this.view=="year"){if(R.getMonth()==this.getDate().getMonth()&&R.getFullYear()==this.getDate().getFullYear()){ag.isSelected=true}var aa=this.localization.calendar.months.names;var ab=aa[H*4+N];switch(this.monthNameFormat){case"default":ab=this.localization.calendar.months.namesAbbr[H*4+N];break;case"shortest":ab=this.localization.calendar.months.namesShort[H*4+N];break;case"firstTwoLetters":ab=ab.substring(0,2);break;case"firstLetter":ab=ab.substring(0,1);break}T=ab}else{if(this.view=="decade"||this.view=="centuries"){T=Z[H*4+N];ag.setDate(L[H*4+N]);if(ag.getDate().getFullYear()==this.getDate().getFullYear()){ag.isSelected=true}if(undefined==T){T="<span style='cursor: default; visibility: hidden;'>2013</span>"}}}var R=ag.getDate();if(this.view=="year"){if(this._getYearAndMonthPart(R)<this._getYearAndMonthPart(ac)){ag.isDisabled=true}if(this._getYearAndMonthPart(R)>this._getYearAndMonthPart(X)){ag.isDisabled=true}}else{if(R.getFullYear()<ac.getFullYear()){ag.isDisabled=true}if(R.getFullYear()>X.getFullYear()){ag.isDisabled=true}}b.jqx.utilities.html(W,T);ae[K]=ag;K++}}b.each(ae,function(){var c=this.element;var d=this;if(!O.disabled){O.addHandler(c,"mousedown",function(e){O._setDateAndSwitchViews(d,e,"mouse")});O.addHandler(c,"mouseover",function(f){var e=O.renderedCells[d.index];if(O.view!="centuries"&&e.element.html().toLowerCase().indexOf("span")!=-1){return}e.isHighlighted=true;O._applyCellStyle(e,e.element,e.element)});O.addHandler(c,"mouseout",function(f){var e=O.renderedCells[d.index];if(O.view!="centuries"&&e.element.html().toLowerCase().indexOf("span")!=-1){return}e.isHighlighted=false;O._applyCellStyle(e,e.element,e.element)})}});var S=b.data(this.element,Q[0].id);if(S!=undefined&&S!=null){S.cells=ae}this.renderedCells=ae;this._addCellsTable(a,k);this._applyCellStyles()},_setDateAndSwitchViews:function(a,w,p){if(!this._viewAnimating&&!this._animating){var t=this.getDate();var v=this.renderedCells[a.index].getDate();var o=this.value.dateTime.getDate();var n=new Date(v);if(this.views.indexOf("month")!=-1){n.setDate(o)}else{n.setDate(1);v.setDate(1)}if(n.getMonth()==v.getMonth()){v=n}var q=this.getMinDate();var x=this.getMaxDate();if(this.view=="year"){if(this._getYearAndMonthPart(v)<this._getYearAndMonthPart(q)){return}if(this._getYearAndMonthPart(v)>this._getYearAndMonthPart(x)){return}}else{if(v.getFullYear()<q.getFullYear()){return}if(v.getFullYear()>x.getFullYear()){return}}this._selectDate(v);this.oldView=this.view;switch(this.view){case"year":this.view="month";break;case"decade":this.view="year";break}if(this.views.indexOf("month")==-1){this.view="year"}if(this.views.indexOf("year")==-1){this.view="decade"}if(this.view=="year"){if(this._getYearAndMonthPart(v)<this._getYearAndMonthPart(q)){v=q}if(this._getYearAndMonthPart(v)>this._getYearAndMonthPart(x)){v=x}}else{if(v.getFullYear()<q.getFullYear()){v=q}if(v.getFullYear()>x.getFullYear()){v=x}}if(this.changing&&(this.selectedDate&&(this.selectedDate.getFullYear()!=v.getFullYear()||this.selectedDate.getMonth()!=v.getMonth()||this.selectedDate.getDate()!=v.getDate()))){v=this.selectedDate}this.value._setYear(v.getFullYear());this.value._setDay(v.getDate());this.value._setMonth(v.getMonth()+1);this.value._setDay(v.getDate());var s=this.getVisibleDate();var y=this.getFirstDayOfWeek(s);var u="View"+this.element.id;this.renderCalendarCells(this.month,y,u,true);this.refreshTitle(this.month);if(this.showWeekNumbers){this.refreshRowHeader(this.month,u)}if(this.views.length==3){if(this.view=="month"){this._selectDate(this.selectedDate,"view")}}if(this.view!="month"){if(this.oldView=="year"||(this.views.indexOf("year")==-1&&this.view=="decade")){if(p!="keyboard"){this._raiseEvent("3")}this._raiseEvent("5",{selectionType:"mouse"})}}this._raiseEvent("8")}},renderCalendarCells:function(M,U,L,P){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.renderViews(M,U,L);return}var F=b("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+L.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");var k=this.table;k[0].style.borderColor="transparent";if(P==undefined){var X=k.find("#cellTable"+L.toString());if(X!=null){X.remove()}k.append(F)}var V=U;var ac=this.showDayNames?1:0;var Y=this.showWeekNumbers?1:0;var aa=new Array();var K=0;var H=(M.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){H=(M.width()-2)/7}H=parseInt(H);var R=new b.jqx._jqxDateTimeInput.getDateTime(new Date());for(var G=0;G<6;G++){for(var I=0;I<7;I++){var Z=G+1;var S=I;if(this.rtl){S=6-S}var a=S+1;var Q="#cell"+Z+a+this.element.id;var N=new Date(V.dateTime.getFullYear(),V.dateTime.getMonth(),V.dateTime.getDate());var ab=new b.jqx._jqxCalendar.cell(N);var T=b(F[0].rows[G].cells[a-1]);T[0].id=Q.substring(1);ab.isVisible=true;ab.isDisabled=false;if(V.month!=this.value.month){ab.isOtherMonth=true;ab.isVisible=this.showOtherMonthDays}if(N<this.getMinDate()||N>this.getMaxDate()||this._isDisabled(N)){ab.isDisabled=true}if(V.month==R.month&&V.day==R.day&&V.year==R.year){ab.isToday=true}if(V.isWeekend()){ab.isWeekend=true}ab.element=T;ab.row=ac;ab.column=Y;b.jqx.utilities.html(T,V.day);V=new b.jqx._jqxDateTimeInput.getDateTime(new Date(V._addDays(1)));b.data(this.element,"cellContent"+Q.substring(1),ab);b.data(this.element,""+Q.substring(1),ab);var J=this;this.addHandler(T,"mousedown",function(e){if(!J.readOnly&&!J.disabled){var g=b(e.target);var d=b.data(J.element,g[0].id);var f=J._raiseEvent(3,e);if(d!=null&&d!=undefined){var m=d.getDate();if(J.getMinDate()<=m&&m<=J.getMaxDate()){if(!d.isDisabled){if(d.isOtherMonth&&J.enableAutoNavigation){if(d.row<2){J.navigateBackward()}else{J.navigateForward()}J._selectDate(d.getDate(),"mouse",e.shiftKey)}else{var l=new Date(J.getDate());J._selectDate(d.getDate(),"mouse",e.shiftKey);J.value._setYear(m.getFullYear());J.value._setDay(1);J.value._setMonth(m.getMonth()+1);J.value._setDay(m.getDate());var h=J.host.find(".jqx-calendar-month");h.stop();h.css("margin-left","0px");var c=J.getDate();J._raiseEvent("2");if(d.isOtherMonth){J._raiseEvent("5",{selectionType:"mouse"})}}}}}return false}});if(!J.disabled){var W=function(g,d){if(!J.readOnly){var f=b(g.target);var e=b.data(J.element,f[0].id);if(e!=null&&e!=undefined){var c=e.getDate();if(J.getMinDate()<=c&&c<=J.getMaxDate()){e.isHighlighted=d;J._applyCellStyle(e,e.element,f)}}}};this.addHandler(T,"mouseenter",function(c){W(c,true);return false});this.addHandler(T,"mouseleave",function(c){W(c,false);return false})}Y++;aa[K]=ab;K++}Y=0;ac++}var O=b.data(this.element,M[0].id);if(O!=undefined&&O!=null){O.cells=aa}this.renderedCells=aa;if(P!=undefined){this._addCellsTable(k,F)}this._applyCellStyles();this._refreshOtherMonthRows(O,L)},setMaxDate:function(a,d){if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(a);if(d!==false){this.render()}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(a,d){if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.minDate=b.jqx._jqxDateTimeInput.getDateTime(a);if(d!==false){this.render()}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},navigateTo:function(s,p){if(this.view=="month"){var q=this.getMinDate();var v=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if((s<this._getYearAndMonthPart(q))||(s>this._getYearAndMonthPart(v))){return false}}else{if(s&&(s.getFullYear()<this.getMinDate().getFullYear()||s.getFullYear()>this.getMaxDate().getFullYear())){return false}}if(s==null){return false}if(p==undefined){var o=this;if(this._animating){return}this._animating=true;var u=this.host.find(".jqx-calendar-month-container");if(this._viewClone){this._viewClone.stop();this._viewClone.remove()}if(this._newViewClone){this._newViewClone.stop();this._newViewClone.remove()}var m=this.host.find(".jqx-calendar-month");m.stop();m.css("margin-left","0px");var w=m.clone();this._viewClone=w;var n=new Date(this.value.dateTime);this.value._setYear(s.getFullYear());this.value._setDay(s.getDate());this.value._setMonth(s.getMonth()+1);o.refreshControl();u.css("position","relative");w.css("position","absolute");w.css("top",m.position().top);u.append(w);if(b.jqx.browser.msie&&b.jqx.browser.version<8){this.month.css("position","relative");this.month.css("overflow","hidden");this.table.css("position","relative");this.table.css("overflow","hidden")}var t=-this.host.width();if(s<n){if(this.view=="month"&&s.getMonth()!=n.getMonth()){t=this.host.width()}else{if(s.getFullYear()!=n.getFullYear()){t=this.host.width()}}}w.animate({marginLeft:parseInt(t)+"px"},this.navigationDelay,function(){w.remove()});var a=m.clone();this._newViewClone=a;a.css("position","absolute");a.css("top",m.position().top);u.append(a);a.css("margin-left",-t);m.css("visibility","hidden");a.animate({marginLeft:"0px"},this.navigationDelay,function(){a.remove();m.css("visibility","visible");o._animating=false})}else{this.value._setYear(s.getFullYear());this.value._setDay(s.getDate());this.value._setMonth(s.getMonth()+1);var m=this.host.find(".jqx-calendar-month");m.stop();m.css("margin-left","0px");this.refreshControl()}this._raiseEvent("2");this._raiseEvent("8");return true},setDate:function(a){if(a!=null&&typeof(a)=="string"){a=new Date(a)}if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(a,"api");this._selectDate(a);if(this.selectionMode=="range"){this._selectDate(a,"mouse")}return true},val:function(a){if(arguments.length!=0){if(a==null){this.setDate(null)}if(a instanceof Date){this.setDate(a)}if(typeof(a)=="string"){this.setDate(a)}}return this.getDate()},getDate:function(){if(this.selectedDate==undefined){return new Date()}return this.selectedDate},getValue:function(){if(this.value==undefined){return new Date()}return this.value.dateTime},setRange:function(d,a){if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(d,"api");this._selectDate(d,"mouse");this._selectDate(a,"mouse")},getRange:function(){return this.selection},_selectDate:function(p,m,q){if(this.selectionMode=="none"){return}if(m==null||m==undefined){m="none"}if(q==null||q==undefined){q=false}var l=b.data(this.element,"View"+this.element.id);if(l==undefined||l==null){return}if(this.changing){if(p&&this.selectedDate){if(this.selectedDate.getFullYear()!=p.getFullYear()||this.selectedDate.getDate()!=p.getDate()||this.selectedDate.getMonth()!=p.getMonth()){var k=this.changing(this.selectedDate,p)}if(k){p=k}}}var a=this;if(this.input){if(p!=null){this.input.val(p.toString())}else{this.input.val("")}}var o=this.selectedDate;this.selectedDate=p;if(this.view!="month"){if(o!=p){this._raiseEvent(7)}b.each(this.renderedCells,function(g){var e=this;var f=e.getDate();var d=b(e.element);var h=d.find("#cellContent"+d[0].id);if(p==null){e.isSelected=false;e.isDisabled=false}else{e.isSelected=false;if(f){if((f.getMonth()==p.getMonth()&&a.view=="year"&&f.getFullYear()==p.getFullYear())||(a.view=="decade"&&f.getFullYear()==p.getFullYear())){e.isSelected=true;try{e.element.focus()}catch(c){}}}}a._applyCellStyle(e,d,d)});if(this.change){this.change(p)}return}if(this.view=="month"){if(this.selectionMode=="range"&&m=="key"){var n=this.getVisibleDate();var s=this.getFirstDayOfWeek(n);this.refreshCalendarCells(this.month,s,"View"+this.element.id)}}b.each(this.renderedCells,function(d){var y=this;var g=y.getDate();var z=b(y.element);var x=z;if(z.length==0){return false}if(p==null){y.isSelected=false;y.isDisabled=false;if(d==0){a.selection={from:null,to:null};a._raiseEvent("2");a._raiseEvent("5",{selectionType:m})}}else{if(a.selectionMode!="range"||m=="key"){if(g.getDate()==p.getDate()&&g.getMonth()==p.getMonth()&&g.getFullYear()==p.getFullYear()&&y.isSelected){a._applyCellStyle(y,z,x);a._raiseEvent("5",{selectionType:m});return}if(y.isSelected){a._raiseEvent("6",{selectionType:m})}y.isSelected=false;if(g.getDate()==p.getDate()&&g.getMonth()==p.getMonth()&&g.getFullYear()==p.getFullYear()){y.isSelected=true;if(d==0){a.selection={date:p}}try{y.element.focus();a.host.focus()}catch(c){}if(!y.isOtherMonth){a.value._setMonth(p.getMonth()+1);a.value._setDay(p.getDate());a.value._setYear(p.getFullYear());a._raiseEvent("2");a._raiseEvent("5",{selectionType:m})}}if(a.selectionMode=="range"){a._clicks=0;a.selection={from:p,to:p}}}else{if(a.selectionMode=="range"){if(m=="view"){y.isSelected=false;y.isDisabled=false;if(a.getMaxDate()<g){y.isDisabled=true}if(a.getMinDate()>g){y.isDisabled=true}if(a._isDisabled(g)){y.isDisabled=true}a._applyCellStyle(y,z,x);return true}if(d==0){if(m!="none"){if(a._clicks==undefined){a._clicks=0}a._clicks++;if(q){a._clicks++}if(a._clicks==1){a.selection={from:p,to:p}}else{var A=a.selection.from;var e=A<=p?A:p;var B=A<=p?p:A;if(e){var w=new Date(e.getFullYear(),e.getMonth(),e.getDate())}if(B){var h=new Date(B.getFullYear(),B.getMonth(),B.getDate(),23,59,59)}a.selection={from:w,to:h};a._clicks=0}}else{if(a.selection==null||a.selection.from==null){a.selection={from:p,to:p};if(a._clicks==undefined){a._clicks=0}a._clicks++;if(a._clicks==2){a._clicks=0}}}}var f=function(t){if(t==null){return new Date()}var u=new Date();u.setHours(0,0,0,0);u.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());return u};if(!y.isOtherMonth&&f(g).toString()==f(p).toString()){a.value._setMonth(p.getMonth()+1);a.value._setDay(p.getDate());a.value._setYear(p.getFullYear());a._raiseEvent("2");a._raiseEvent("5",{selectionType:m})}y.isSelected=false;y.isDisabled=false;if(f(g)<f(a.selection.from)&&a._clicks==1){y.isDisabled=true}if(a.getMaxDate()<g){y.isDisabled=true}if(a.getMinDate()>g){y.isDisabled=true}if(a._isDisabled(g)){y.isDisabled=true}if(!y.isDisabled){if(f(g)>=f(a.selection.from)&&f(g)<=f(a.selection.to)){y.isSelected=true}}}}}a._applyCellStyle(y,z,x)});if(a.selectionMode=="range"&&a._clicks==0){a._raiseEvent(7);return}else{if(a.selectionMode=="range"){return}}if(o!=p){a._raiseEvent(7);if(this.change){this.change(p)}}},_getSelectedDate:function(){var g=b.data(this.element,"View"+this.element.id);if(g==undefined||g==null){return}if(this.view!="month"){return this.selectedDate}for(var h=0;h<g.cells.length;h++){var a=g.cells[h];var f=a.getDate();if(a.isSelected){return f}}if(this.selectedDate){return this.selectedDate}},_getSelectedCell:function(){var g=b.data(this.element,"View"+this.element.id);if(g==undefined||g==null){return}for(var h=0;h<g.cells.length;h++){var a=g.cells[h];var f=a.getDate();if(a.isSelected){return a}}},_applyCellStyle:function(p,o,l){var n=this;if(l==null||(l!=null&&l.length==0)){l=o}var a="";a=this.toThemeProperty("jqx-rc-all");a+=" "+this.toThemeProperty("jqx-item");if(this.disabled||p.isDisabled){a+=" "+this.toThemeProperty("jqx-calendar-cell-disabled");a+=" "+this.toThemeProperty("jqx-fill-state-disabled")}if(p.isOtherMonth&&this.enableOtherMonthDays&&p.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")}if(p.isWeekend&&this.enableWeekend&&p.isVisible&&p.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")}if(!p.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-hidden")}else{a+=" "+this.toThemeProperty("jqx-calendar-cell");if(this.view!="month"){if(l.length>0&&l.html().toLowerCase().indexOf("span")!=-1){l.css("cursor","default")}}}l.removeAttr("aria-selected");if(p.isSelected&&p.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected");a+=" "+this.toThemeProperty("jqx-fill-state-pressed");l.attr("aria-selected",true);this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",l[0].id);var m=p.getDate();if(this._isDisabled(m)){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid")}}if(p.isHighlighted&&p.isVisible&&this.enableHover){if(!p.isDisabled){a+=" "+this.toThemeProperty("jqx-calendar-cell-hover");a+=" "+this.toThemeProperty("jqx-fill-state-hover")}}a+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view);if(p.isToday&&p.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-today")}l[0].className=a;if(this.specialDates.length>0){var k=this;b.each(this.specialDates,function(){if(this.Class!=undefined&&this.Class!=null&&this.Class!=""){l.removeClass(this.Class)}else{l.removeClass(n.toThemeProperty("jqx-calendar-cell-specialDate"))}var d=p.getDate();if(d.getFullYear()==this.Date.getFullYear()&&d.getMonth()==this.Date.getMonth()&&d.getDate()==this.Date.getDate()){if(p.tooltip==null&&this.Tooltip!=null){p.tooltip=this.Tooltip;if(b(l).jqxTooltip){var c=this.Class;b(l).jqxTooltip({value:{cell:p,specialDate:this.Date},name:k.element.id,content:this.Tooltip,position:"mouse",theme:k.theme,opening:function(e){if(l.hasClass(n.toThemeProperty("jqx-calendar-cell-specialDate"))){return true}if(l.hasClass(c)){return true}return false}})}}l.removeClass(n.toThemeProperty("jqx-calendar-cell-othermonth"));l.removeClass(n.toThemeProperty("jqx-calendar-cell-weekend"));if(this.Class==undefined||this.Class==""){l.addClass(n.toThemeProperty("jqx-calendar-cell-specialDate"));return false}else{l.addClass(this.Class);return false}}})}},_applyCellStyles:function(){var g=b.data(this.element,"View"+this.element.id);if(g==undefined||g==null){return}for(var h=0;h<g.cells.length;h++){var a=g.cells[h];var l=b(a.element);var k=l.find("#cellContent"+l[0].id);if(k.length==0){k=l}this._applyCellStyle(a,l,k)}},getWeekOfYear:function(k){var a=new Date(k.dateTime);dowOffset=this.firstDayOfWeek;var l=new Date(a.getFullYear(),0,1);var n=l.getDay()-dowOffset;n=(n>=0?n:n+7);var m=Math.floor((a.getTime()-l.getTime()-(a.getTimezoneOffset()-l.getTimezoneOffset())*60000)/86400000)+1;var h;if(n<4){h=Math.floor((m+n-1)/7)+1;if(h>52){nYear=new Date(a.getFullYear()+1,0,1);nday=nYear.getDay()-dowOffset;nday=nday>=0?nday:nday+7;h=nday<4?1:53}}else{h=Math.floor((m+n-1)/7)}return h},renderColumnHeader:function(y){if(!this.showDayNames){return}var B=b("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");B.find("table").addClass(this.toThemeProperty("jqx-reset"));B.find("tr").addClass(this.toThemeProperty("jqx-reset"));B.find("td").css({background:"transparent",padding:1,margin:0,border:"none"});B.addClass(this.toThemeProperty("jqx-reset"));B.addClass(this.toThemeProperty("jqx-widget-content"));B.addClass(this.toThemeProperty("jqx-calendar-column-header"));this.columnHeader.append(B);var P=this.getVisibleDate();var L=this.getFirstDayOfWeek(P);var H=L.dayOfWeek;var a=this.getWeekOfYear(L);var D=this.firstDayOfWeek;var z=this.localization.calendar.days.names;var G=new Array();var M=L;var F=(y.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){F=(y.width()-2)/7}for(var C=0;C<7;C++){var N=z[D];if(this.rtl){N=z[6-D]}switch(this.dayNameFormat){case"default":N=this.localization.calendar.days.namesAbbr[D];break;case"shortest":N=this.localization.calendar.days.namesShort[D];break;case"firstTwoLetters":N=N.substring(0,2);break;case"firstLetter":N=N.substring(0,1);break}var R=new b.jqx._jqxCalendar.cell(M.dateTime);var J=C+1;var I=J+this.element.id;var K=b(B[0].rows[0].cells[C]);var E=C;if(this.enableTooltips){if(b(K).jqxTooltip){b(K).jqxTooltip({name:this.element.id,content:z[D],theme:this.theme,position:"mouse"})}}if(D>=6){D=0}else{D++}C=E;R.element=K;R.row=0;R.column=C+1;var O=this._textwidth(N);var Q="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+I+"'>"+N+"</div>";K.append(Q);K.find("#columnCell"+I).addClass(this.toThemeProperty("jqx-calendar-column-cell"));K.width(F);if(this.disabled){K.find("#columnCell"+I).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled"))}if(O>0&&F>0){while(O>K.width()){if(N.length==0){break}N=N.substring(0,N.length-1);b.jqx.utilities.html(K.find("#columnCell"+I),N);O=this._textwidth(N)}}G[C]=R;M=new b.jqx._jqxDateTimeInput.getDateTime(new Date(M._addDays(1)))}if(parseInt(this.columnHeader.width())>parseInt(this.host.width())){this.columnHeader.width(this.host.width())}var A=b.data(this.element,y[0].id);A.columnCells=G},_format:function(k,h,a){var g=false;try{if(Globalize!=undefined){g=true}}catch(l){}if(b.global){b.global.culture.calendar=this.localization.calendar;return b.global.format(k,h,this.culture)}else{if(g){try{if(Globalize.cultures[this.culture]){Globalize.cultures[this.culture].calendar=this.localization.calendar;return Globalize.format(k,h,this.culture)}else{return Globalize.format(k,h,this.culture)}}catch(l){return Globalize.format(k,h)}}else{if(b.jqx.dataFormat){return b.jqx.dataFormat.formatdate(k,h,this.localization.calendar)}}}},_textwidth:function(e){var f=b("<span>"+e+"</span>");f.addClass(this.toThemeProperty("jqx-calendar-column-cell"));b(this.host).append(f);var a=f.width();f.remove();return a},_textheight:function(e){var f=b("<span>"+e+"</span>");b(this.host).append(f);var a=f.height();f.remove();return a},_renderRowHeader:function(z){var C=this.getVisibleDate();var G=this.getFirstDayOfWeek(C);var D=G.dayOfWeek;var I=this.getWeekOfYear(G);var v=new b.jqx._jqxDateTimeInput.getDateTime(new Date(G.dateTime));v._addDays(5);v.dayOfWeek=v.dateTime.getDay();var x=this.getWeekOfYear(v);if(53==I&&v.dateTime.getMonth()==0){I=1}var y=b("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");y.find("table").addClass(this.toThemeProperty("jqx-reset"));y.find("td").addClass(this.toThemeProperty("jqx-reset"));y.find("tr").addClass(this.toThemeProperty("jqx-reset"));y.addClass(this.toThemeProperty("jqx-calendar-row-header"));y.width(this.rowHeaderWidth);this.rowHeader.append(y);var F=G;var a=new Array();for(var B=0;B<6;B++){var E=I.toString();var t=new b.jqx._jqxCalendar.cell(F.dateTime);var A=B+1+this.element.id;var u=b(y[0].rows[B].cells[0]);t.element=u;t.row=B;t.column=0;var H="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+A+"'>"+E+"</div>";u.append(H);u.find("#headerCellContent"+A).addClass(this.toThemeProperty("jqx-calendar-row-cell"));a[B]=t;F=new b.jqx._jqxDateTimeInput.getDateTime(new Date(F._addWeeks(1)));I=this.getWeekOfYear(F)}var w=b.data(this.element,z[0].id);w.rowCells=a},getFirstDayOfWeek:function(f){var g=f;if(this.firstDayOfWeek<0||this.firstDayOfWeek>6){this.firstDayOfWeek=6}var h=g.dayOfWeek-this.firstDayOfWeek;if(h<=0){h+=7}var a=b.jqx._jqxDateTimeInput.getDateTime(g._addDays(-h));return a},getVisibleDate:function(){var f=new b.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));if(f<this.minDate){f=this.minDate}if(f>this.maxDate){this.visibleDate=this.maxDate}f.dateTime.setHours(0);var e=f.day;var a=b.jqx._jqxDateTimeInput.getDateTime(f._addDays(-e+1));f=a;return f},destroy:function(a){this.host.removeClass();if(a!=false){this.host.remove()}},_raiseEvent:function(k,q){if(q==undefined){q={owner:null}}var o=this.events[k];var n=q?q:{};n.owner=this;var m=new jQuery.Event(o);m.owner=this;m.args=n;if(k==0||k==1||k==2||k==3||k==4||k==5||k==6||k==7||k==8){m.args.date=m.args.selectedDate=this.getDate();m.args.range=this.getRange();var l=this.getViewStart();var p=this.getViewEnd();m.args.view={from:l,to:p}}var a=this.host.trigger(m);if(k==0||k==1){a=false}return a},propertyMap:function(a){if(a=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},updateSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize();if(this.height!=undefined&&!isNaN(this.height)){e.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){e.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){e.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){e.width(this.width)}}var f=this.host.height()-this.titleHeight-this.columnHeaderHeight;var a="View"+this.element.id;e.find("#cellsTable"+a).height(f);e.find("#calendarRowHeader"+a).height(f);this.refreshControl()}},resize:function(){this.updateSize()},clear:function(){if(this.selectionMode=="range"){this._clicks=1;this.setRange(null,null);this._raiseEvent(7)}else{this.setDate(null,"mouse")}this._clicks=0;this.selection={from:null,to:null}},today:function(){if(this.selectionMode=="range"){this.setRange(new Date(),new Date())}else{this.setDate(new Date(),"mouse")}},propertyChangedHandler:function(m,l,h,k){if(this.isInitialized==undefined||this.isInitialized==false){return}if(l=="enableHover"){return}if(l=="keyboardNavigation"){return}if(l=="localization"){if(this.localization){if(this.localization.backString){this.backText=this.localization.backString}if(this.localization.forwardString){this.forwardText=this.localization.forwardString}if(this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString){this.clearString=this.localization.clearString}this.firstDayOfWeek=this.localization.calendar.firstDay}}if(l=="culture"){try{if(b.global){b.global.preferCulture(m.culture);m.localization.calendar=b.global.culture.calendar}else{if(Globalize){var a=Globalize.culture(m.culture);m.localization.calendar=a.calendar}}}catch(n){}}if(l=="views"){if(m.views.indexOf("month")==-1){m.view="year"}if(m.views.indexOf("year")==-1&&m.views.indexOf("month")==-1){m.view="decade"}m.render();return}if(l=="showFooter"){m.render()}if(l=="width"||l=="height"){m.updateSize();return}else{if(l=="theme"){b.jqx.utilities.setTheme(h,k,m.host)}else{if(l=="rowHeaderWidth"||l=="showWeekNumbers"){m.render()}else{m.view="month";m.render()}}}}})})(jQuery);(function(b){b.jqx._jqxCalendar.cell=function(d){var a={dateTime:new b.jqx._jqxDateTimeInput.getDateTime(d),_date:d,getDate:function(){return this._date},setDate:function(c){this.dateTime=new b.jqx._jqxDateTimeInput.getDateTime(c);this._date=c},isToday:false,isWeekend:false,isOtherMonth:false,isVisible:true,isSelected:false,isHighlighted:false,element:null,row:-1,column:-1,tooltip:null};return a};b.jqx._jqxCalendar.monthView=function(p,k,o,a,m,n){var l={start:p,end:k,cells:o,rowCells:a,columnCells:m,element:n};return l}})(jQuery);(function(b){b.jqx.jqxWidget("jqxComboBox","",{});b.extend(b.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=false;this.width=200;this.height=25;this.items=new Array();this.selectedIndex=-1;this.selectedItems=new Array();this._selectedItems=new Array();this.source=null;this.scrollBarSize=b.jqx.utilities.scrollBarSize;this.arrowSize=18;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.emptyString="";if(this.openDelay==undefined){this.openDelay=250}if(this.closeDelay==undefined){this.closeDelay=300}this.animationType="default";this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.searchMode="startswithignorecase";this.autoComplete=false;this.remoteAutoComplete=false;this.remoteAutoCompleteDelay=500;this.selectionMode="default";this.minLength=2;this.displayMember="";this.valueMember="";this.keyboardSelection=true;this.renderer=null;this.autoOpen=false;this.checkboxes=false;this.promptText="";this.placeHolder="";this.rtl=false;this.listBox=null;this.renderSelectedItem=null;this.search=null;this.popupZIndex=100000;this.searchString=null;this.multiSelect=false;this.showArrow=true;this._disabledItems=new Array();this.touchMode="auto";this.autoBind=true;this.aria={"aria-disabled":{name:"disabled",type:"boolean"}};this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(a){var d=this;this.host.attr("role","combobox");b.jqx.aria(this,"aria-autocomplete","both");if(b.jqx._jqxListBox==null||b.jqx._jqxListBox==undefined){throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.")}b.jqx.aria(this);if(this.promptText!=""){this.placeHolder=this.promptText}this.render()},render:function(){this.removeHandlers();this.isanimating=false;this.id=b.jqx.utilities.createId();this.element.innerHTML="";var u=b("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");this.comboStructure=u;if(b.jqx._jqxListBox==null||b.jqx._jqxListBox==undefined){throw"jqxComboBox: Missing reference to jqxlistbox.js."}this.touch=b.jqx.mobile.isTouchDevice();if(this.touchMode===true){this.touch=true}this.host.append(u);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;this.dropdownlistContent.append(b('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>'));this.input=this.dropdownlistContent.find("input");this.input.addClass(this.toThemeProperty("jqx-combobox-input"));this.input.addClass(this.toThemeProperty("jqx-widget-content"));if(this.host.attr("tabindex")){this.input.attr("tabindex",this.host.attr("tabindex"));this.host.removeAttr("tabindex")}this._addInput();if(this.rtl){this.input.css({direction:"rtl"});this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-rtl"))}try{var e="listBox"+this.id;var s=b(b.find("#"+e));if(s.length>0){s.remove()}b.jqx.aria(this,"aria-owns",e);b.jqx.aria(this,"aria-haspopup",true);b.jqx.aria(this,"aria-multiline",false);if(this.listBoxContainer){this.listBoxContainer.jqxListBox("destroy")}if(this.container){this.container.remove()}var w=b("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");w.hide();w.appendTo(document.body);this.container=w;this.listBoxContainer=b(b.find("#innerListBox"+this.id));var v=this.width;if(this.dropDownWidth!="auto"){v=this.dropDownWidth}if(this.dropDownHeight==null){this.dropDownHeight=200}var o=this;this.container.width(parseInt(v)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.addHandler(this.listBoxContainer,"bindingComplete",function(c){o._raiseEvent("6")});var q=true;this.listBoxContainer.jqxListBox({_checkForHiddenParent:false,checkboxes:this.checkboxes,emptyString:this.emptyString,autoBind:!this.remoteAutoComplete&&this.autoBind,renderer:this.renderer,rtl:this.rtl,itemHeight:this.itemHeight,selectedIndex:this.selectedIndex,incrementalSearch:false,width:v,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme,rendered:function(){o.listBox=b.data(o.listBoxContainer[0],"jqxListBox").instance;if(o.remoteAutoComplete){if(o.autoDropDownHeight){o.container.height(o.listBox.virtualSize.height+25);o.listBoxContainer.height(o.listBox.virtualSize.height);o.listBox._arrange()}else{o.listBox._arrange();o.listBox.ensureVisible(0);o.listBox._renderItems();o.container.height(o.listBoxContainer.height()+25)}if(o.searchString!=undefined&&o.searchString.length>=o.minLength){var c=o.listBoxContainer.jqxListBox("items");if(c){if(c.length>0){if(!o.isOpened()){o.open()}}else{o.close()}}else{o.close()}}else{o.close()}}else{o.renderSelection("mouse");if(o.multiSelect){o.doMultiSelect(false)}}if(o.rendered){o.rendered()}}});this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0});this.listBoxContainer.css("border-top-width","1px");this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow"))}this.listBox=b.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox._arrange();this.addHandler(this.listBoxContainer,"unselect",function(c){if(!o.multiSelect){o._raiseEvent("3",{index:c.args.index,type:c.args.type,item:c.args.item})}});this.addHandler(this.listBoxContainer,"change",function(c){if(!o.multiSelect){o._raiseEvent("4",{index:c.args.index,type:c.args.type,item:c.args.item})}});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}q=false}catch(p){throw p}var a=this;a.input.attr("disabled",a.disabled);var t=b.jqx.browser.msie&&b.jqx.browser.version<8;if(!t){a.input.attr("placeholder",a.placeHolder)}this.propertyChangeMap.disabled=function(d,f,g,c){if(c){d.host.addClass(a.toThemeProperty("jqx-combobox-state-disabled"));d.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-disabled"))}else{d.host.removeClass(a.toThemeProperty("jqx-combobox-state-disabled"));d.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropdownlistContent.removeClass(a.toThemeProperty("jqx-combobox-content-disabled"))}d.input.attr("disabled",d.disabled);b.jqx.aria(d,"aria-disabled",d.disabled);d.input.attr("disabled",d.disabled)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))}this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal"));this.host.addClass(this.toThemeProperty("jqx-combobox"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistArrowIcon=b("<div></div>");this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon"));this.dropdownlistArrow.append(this.dropdownlistArrowIcon);this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(!this.rtl){this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-r"))}else{this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-l"))}this._setSize();this._updateHandlers();this.addHandler(this.input,"keyup.textchange",function(c){var d=o._search(c);if(o.cinput&&o.input){o.cinput[0].value=o.input[0].value}});if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(this.host.parents(".jqx-window").length>0){var n=this.host.parents(".jqx-window").css("z-index");w.css("z-index",n+10);this.listBoxContainer.css("z-index",n+10)}}if(this.checkboxes){this.input.attr("readonly",true);b.jqx.aria(this,"aria-readonly",true)}else{b.jqx.aria(this,"aria-readonly",false)}if(!this.remoteAutoComplete){this.searchString=""}},_addInput:function(){var a=this.host.attr("name");this.cinput=b("<input type='hidden'/>");this.host.append(this.cinput);if(a){this.cinput.attr("name",a)}},_updateInputSelection:function(){if(this.cinput){if(this.selectedIndex==-1){this.cinput.val("")}else{var g=this.getSelectedItem();if(g!=null){this.cinput.val(g.value)}else{this.cinput.val(this.dropdownlistContent.text())}}if(this.checkboxes||this.multiSelect){if(!this.multiSelect){var a=this.getCheckedItems()}else{var a=this.getSelectedItems()}var f="";if(a!=null){for(var h=0;h<a.length;h++){if(h==a.length-1){f+=a[h].value}else{f+=a[h].value+","}}}this.cinput.val(f)}}},_search:function(y){if(y.keyCode==9){return}if(this.searchMode=="none"||this.searchMode==null||this.searchMode=="undefined"){return}if(y.keyCode==16||y.keyCode==17||y.keyCode==20){return}if(this.checkboxes){return}if(this.multiSelect){var x=b("<span style='visibility: hidden; white-space: nowrap;'>"+this.input.val()+"</span>");x.addClass(this.toThemeProperty("jqx-widget"));b(document.body).append(x);var B=x.width()+15;x.remove();if(B>this.host.width()){B=this.host.width()}if(B<25){B=25}this.input.css("width",B+"px");if(this.selectedItems.length==0){this.input.css("width","100%");this.input.attr("placeholder",this.placeHolder)}else{this.input.attr("placeholder","")}var F=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var w=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();var I=b.jqx.utilities.hasTransform(this.host);if(I||(w!=null&&w)){F=b.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(b("body").css("border-top-width")!="0px"){F=parseInt(F)-this._getBodyOffset().top+"px"}}this.container.css("top",F);var C=parseInt(this.host.height());this.dropdownlistArrow.height(C)}if(!this.isanimating){if(y.altKey&&y.keyCode==38){this.hideListBox("altKey");return false}if(y.altKey&&y.keyCode==40){if(!this.isOpened()){this.showListBox("altKey")}return false}}if(y.keyCode==37||y.keyCode==39){return false}if(y.altKey||y.keyCode==18){return}if(y.keyCode>=33&&y.keyCode<=40){return}if(y.ctrlKey||this.ctrlKey){if(y.keyCode!=88&&y.keyCode!=86){return}}var z=this.input.val();if(z.length==0&&!this.autoComplete){this.listBox.searchString=this.input.val();this.listBox.clearSelection();this.hideListBox("search");this.searchString=this.input.val();return}if(this.remoteAutoComplete){var a=this;var v=function(){a.listBox.vScrollInstance.value=0};if(z.length>=a.minLength){if(!y.ctrlKey&&!y.altKey){if(a.searchString!=z){var A=a.listBoxContainer.jqxListBox("source");if(A==null){a.listBoxContainer.jqxListBox({source:a.source})}if(this._searchTimer){clearTimeout(this._searchTimer)}if(y.keyCode!=13&&y.keyCode!=27){this._searchTimer=setTimeout(function(){v();if(a.autoDropDownHeight){a.listBox.autoHeight=true}a.searchString=a.input.val();if(a.search!=null){a.search(a.input.val())}else{throw"'search' function is not defined"}},this.remoteAutoCompleteDelay)}}a.searchString=z}}else{if(this._searchTimer){clearTimeout(this._searchTimer)}v();a.searchString="";a.listBoxContainer.jqxListBox({source:null})}return}var a=this;if(z===a.searchString){return}if(!(y.keyCode=="27"||y.keyCode=="13")){var J=this._updateItemsVisibility(z);var G=J.matchItems;var H=J.index;if(!this.autoComplete&&!this.removeAutoComplete){if(!this.multiSelect||(this.multiSelect&&H>=0)){this.listBox.selectIndex(H);var t=this.listBox.isIndexInView(H);if(!t){this.listBox.ensureVisible(H)}else{this.listBox._renderItems()}}}if(this.autoComplete&&G.length===0){this.hideListBox("search")}}if(y.keyCode=="13"){var E=this.container.css("display")=="block";if(E&&!this.isanimating){this.hideListBox("keyboard");this._oldvalue=this.listBox.selectedValue;return}}else{if(y.keyCode=="27"){var E=this.container.css("display")=="block";if(E&&!this.isanimating){if(!D.multiSelect){var u=this.listBox.getVisibleItem(this._oldvalue);if(u){var D=this;setTimeout(function(){if(D.autoComplete){D._updateItemsVisibility("")}D.listBox.selectIndex(u.index);D.renderSelection("api")},D.closeDelay)}else{this.clearSelection()}}else{D.input.val("");D.listBox.selectedValue=null}this.hideListBox("keyboard");this.renderSelection("api");y.preventDefault();return false}}else{if(!this.isOpened()&&!this.opening&&!y.ctrlKey){if(this.listBox.visibleItems&&this.listBox.visibleItems.length>0){if(this.input.val()!=this.searchString&&this.searchString!=undefined&&H!=-1){this.showListBox("search")}}}this.searchString=this.input.val();if(this.searchString==""){if(!this.listBox.itemsByValue[""]){H=-1}}var u=this.listBox.getVisibleItem(H);if(u!=undefined){this._updateInputSelection()}}}},val:function(d){if(!this.input){return""}if(typeof d==="object"||arguments.length==0){var a=this.getSelectedItem();if(a){return a.value}return this.input.val()}else{var a=this.getItemByValue(d);if(a!=null){this.selectItem(a)}else{this.input.val(d)}return this.input.val()}},focus:function(){var d=this;var a=function(){d.input.focus();var c=d.input.val();d._setSelection(0,c.length)};a();setTimeout(function(){a()},10)},_setSelection:function(f,a){try{if("selectionStart" in this.input[0]){this.input[0].focus();this.input[0].setSelectionRange(f,a)}else{var h=this.input[0].createTextRange();h.collapse(true);h.moveEnd("character",a);h.moveStart("character",f);h.select()}}catch(g){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(s){var v=this.getItems();if(v==undefined){return{index:-1,matchItem:new Array()}}var u=this;var x=-1;var q=new Array();var t=0;b.each(v,function(e){var c="";if(!this.isGroup){if(this.label){c=this.label}else{if(this.value){c=this.value}else{if(this.title){c=this.title}else{c="jqxItem"}}}c=c.toString();var d=false;switch(u.searchMode){case"containsignorecase":d=b.jqx.string.containsIgnoreCase(c,s);break;case"contains":d=b.jqx.string.contains(c,s);break;case"equals":d=b.jqx.string.equals(c,s);break;case"equalsignorecase":d=b.jqx.string.equalsIgnoreCase(c,s);break;case"startswith":d=b.jqx.string.startsWith(c,s);break;case"startswithignorecase":d=b.jqx.string.startsWithIgnoreCase(c,s);break;case"endswith":d=b.jqx.string.endsWith(c,s);break;case"endswithignorecase":d=b.jqx.string.endsWithIgnoreCase(c,s);break}if(u.autoComplete&&!d){this.visible=false}if(d&&u.autoComplete){q[t++]=this;this.visible=true;x=this.visibleIndex}if(s==""&&u.autoComplete){this.visible=true;d=false}if(u.multiSelect){this.disabled=false;if(u.selectedItems.indexOf(this.value)>=0||u._disabledItems.indexOf(this.value)>=0){this.disabled=true;d=false}}if(!u.multiSelect){if(d&&!u.autoComplete){x=this.visibleIndex;return false}}else{if(d&&!u.autoComplete){if(x===-1){x=this.visibleIndex}return true}}}});this.listBox.searchString=s;var y=this;var w=function(){if(!y.multiSelect){return}var f=0;var c=false;var d=null;for(var e=0;e<y.listBox.items.length;e++){y.listBox.selectedIndexes[e]=-1;if(!y.listBox.items[e].disabled){if(c==false){d=y.listBox.items[e];f=d.visibleIndex;c=true}}}y.listBox.selectedIndex=-1;y.listBox.selectedIndex=f;y.listBox.selectedIndexes[f]=f;if(y.listBox.visibleItems.length>0){if(d){y.listBox.selectedValue=d.value}else{y.listBox.selectedValue=null}}else{y.listBox.selectedValue=null}y.listBox.ensureVisible(0)};if(!this.autoComplete){w();return{index:x,matchItems:q}}this.listBox.renderedVisibleItems=new Array();var C=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0;this.listBox.visibleItems=new Array();this.listBox._renderItems();var z=this.listBox.selectedValue;var a=this.listBox.getItemByValue(z);if(!this.multiSelect){if(a){if(a.visible){this.listBox.selectedIndex=a.visibleIndex;for(var A=0;A<this.listBox.items.length;A++){this.listBox.selectedIndexes[A]=-1}this.listBox.selectedIndexes[a.visibleIndex]=a.visibleIndex}else{for(var A=0;A<this.listBox.items.length;A++){this.listBox.selectedIndexes[A]=-1}this.listBox.selectedIndex=-1}}}else{w()}this.listBox._renderItems();var p=this.listBox._calculateVirtualSize().height;if(p<C){C=0;this.listBox.vScrollInstance.refresh()}if(this.autoDropDownHeight){this._disableSelection=true;if(this.listBox.autoHeight!=this.autoDropDownHeight){this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight})}this.container.height(p+25);this.listBox.invalidate();this._disableSelection=false}else{if(p<parseInt(this.dropDownHeight)){var B=this.listBox.hScrollBar[0].style.visibility=="hidden"?0:20;this.listBox.height=B+p;this.container.height(p+25+B);this.listBox.invalidate()}else{this.listBox.height=parseInt(this.dropDownHeight);this.container.height(parseInt(this.dropDownHeight)+25);this.listBox.invalidate()}}this.listBox.vScrollInstance.setPosition(C);return{index:x,matchItems:q}},findItems:function(h){var a=this.getItems();var k=this;var l=0;var g=new Array();b.each(a,function(e){var c="";if(!this.isGroup){if(this.label){c=this.label}else{if(this.value){c=this.value}else{if(this.title){c=this.title}else{c="jqxItem"}}}var d=false;switch(k.searchMode){case"containsignorecase":d=b.jqx.string.containsIgnoreCase(c,h);break;case"contains":d=b.jqx.string.contains(c,h);break;case"equals":d=b.jqx.string.equals(c,h);break;case"equalsignorecase":d=b.jqx.string.equalsIgnoreCase(c,h);break;case"startswith":d=b.jqx.string.startsWith(c,h);break;case"startswithignorecase":d=b.jqx.string.startsWithIgnoreCase(c,h);break;case"endswith":d=b.jqx.string.endsWith(c,h);break;case"endswithignorecase":d=b.jqx.string.endsWithIgnoreCase(c,h);break}if(d){g[l++]=this}}});return g},_resetautocomplete:function(){b.each(this.listBox.items,function(a){this.visible=true});this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange();this.listBox._addItems();this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}if(f){var h=this;var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25);this._arrange()}var h=this;var g=function(){if(h.multiSelect){h.host.height(h.height)}h._arrange();if(h.multiSelect){h.host.height("auto")}};b.jqx.utilities.resize(this.host,function(){g();h.hideListBox("api")})},isOpened:function(){var d=this;var a=b.data(document.body,"openedComboJQXListBox"+this.element.id);if(this.container.css("display")!="block"){return false}if(a!=null&&a==d.listBoxContainer){return true}return false},_updateHandlers:function(){var g=this;var f=false;this.removeHandlers();if(this.multiSelect){this.addHandler(this.dropdownlistContent,"click",function(c){if(c.target.href){return false}g.input.focus();setTimeout(function(){g.input.focus()},10)});this.addHandler(this.dropdownlistContent,"focus",function(c){if(c.target.href){return false}g.input.focus();setTimeout(function(){g.input.focus()},10)})}if(!this.touch){if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(d){var c=g.isOpened();if(c){g.close()}})}this.addHandler(this.host,"mouseenter",function(){if(!g.disabled&&g.enableHover){f=true;g.host.addClass(g.toThemeProperty("jqx-combobox-state-hover"));g.dropdownlistArrowIcon.addClass(g.toThemeProperty("jqx-icon-arrow-down-hover"));g.dropdownlistArrow.addClass(g.toThemeProperty("jqx-combobox-arrow-hover"));g.dropdownlistArrow.addClass(g.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!g.disabled&&g.enableHover){g.host.removeClass(g.toThemeProperty("jqx-combobox-state-hover"));g.dropdownlistArrowIcon.removeClass(g.toThemeProperty("jqx-icon-arrow-down-hover"));g.dropdownlistArrow.removeClass(g.toThemeProperty("jqx-combobox-arrow-hover"));g.dropdownlistArrow.removeClass(g.toThemeProperty("jqx-fill-state-hover"));f=false}})}if(g.autoOpen){this.addHandler(this.host,"mouseenter",function(){var c=g.isOpened();if(!c&&g.autoOpen){g.open();g.host.focus()}});this.addHandler(b(document),"mousemove."+g.id,function(o){var p=g.isOpened();if(p&&g.autoOpen){var c=g.host.coord();var d=c.top;var e=c.left;var n=g.container.coord();var s=n.left;var q=n.top;canClose=true;if(o.pageY>=d&&o.pageY<=d+g.host.height()+2){if(o.pageX>=e&&o.pageX<e+g.host.width()){canClose=false}}if(o.pageY>=q&&o.pageY<=q+g.container.height()-20){if(o.pageX>=s&&o.pageX<s+g.container.width()){canClose=false}}if(canClose){g.close()}}})}var h="mousedown";if(this.touch){h=b.jqx.mobile.getTouchEventName("touchstart")}var a=function(c){if(!g.disabled){var e=g.container.css("display")=="block";if(!g.isanimating){if(e){g.hideListBox("api");if(!b.jqx.mobile.isTouchDevice()){g.input.focus();setTimeout(function(){g.input.focus()},10)}return true}else{if(g.autoDropDownHeight){g.container.height(g.listBoxContainer.height()+25);var d=g.listBoxContainer.jqxListBox("autoHeight");if(!d){g.listBoxContainer.jqxListBox({autoHeight:g.autoDropDownHeight});g.listBox._arrange();g.listBox.ensureVisible(0);g.listBox._renderItems();g.container.height(g.listBoxContainer.height()+25)}}g.showListBox("api");if(!b.jqx.mobile.isTouchDevice()){setTimeout(function(){g.input.focus()},10)}else{return true}}}}};this.addHandler(this.dropdownlistArrow,h,function(c){a(c)});this.addHandler(this.dropdownlistArrowIcon,h,function(c){});this.addHandler(this.host,"focus",function(){g.focus()});this.addHandler(this.input,"focus",function(c){g.focused=true;g.host.addClass(g.toThemeProperty("jqx-combobox-state-focus"));g.host.addClass(g.toThemeProperty("jqx-fill-state-focus"));g.dropdownlistContent.addClass(g.toThemeProperty("jqx-combobox-content-focus"));if(c.stopPropagation){c.stopPropagation()}if(c.preventDefault){c.preventDefault()}return false});this.addHandler(this.input,"blur",function(){g.focused=false;if(!g.isOpened()&&!g.opening){if(g.selectionMode=="dropDownList"){g._selectOldValue()}g.host.removeClass(g.toThemeProperty("jqx-combobox-state-focus"));g.host.removeClass(g.toThemeProperty("jqx-fill-state-focus"));g.dropdownlistContent.removeClass(g.toThemeProperty("jqx-combobox-content-focus"))}if(g._searchTimer){clearTimeout(g._searchTimer)}});this.addHandler(b(document),"mousedown."+this.id,g.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});if(this.touch){this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,g.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}this.addHandler(this.host,"keydown",function(c){var l=g.container.css("display")=="block";g.ctrlKey=c.ctrlKey;if(g.host.css("display")=="none"){return true}if(c.keyCode=="13"||c.keyCode=="9"){if(l&&!g.isanimating){if(g.listBox.selectedIndex!=-1){g.renderSelection("mouse");var n=g.listBox.selectedIndex;var d=g.listBox.getVisibleItem(n);if(d){g.listBox.selectedValue=d.value}g._setSelection(g.input.val().length,g.input.val().length);g.hideListBox("keyboard")}if(c.keyCode=="13"){g._oldvalue=g.listBox.selectedValue}if(!g.keyboardSelection){g._raiseEvent("2",{index:g.selectedIndex,type:"keyboard",item:g.getItem(g.selectedIndex)})}if(c.keyCode=="9"){return true}return false}}if(c.keyCode==115){if(!g.isanimating){if(!g.isOpened()){g.showListBox("keyboard")}else{if(g.isOpened()){g.hideListBox("keyboard")}}}return false}if(c.altKey){if(g.host.css("display")=="block"){if(!g.isanimating){if(c.keyCode==38){if(g.isOpened()){g.hideListBox("altKey")}}else{if(c.keyCode==40){if(!g.isOpened()){g.showListBox("altKey")}}}}}}if(c.keyCode=="27"||c.keyCode=="9"){if(g.isOpened()&&!g.isanimating){if(c.keyCode=="27"){if(!g.multiSelect){var d=g.listBox.getItemByValue(g._oldvalue);if(d){setTimeout(function(){if(g.autoComplete){g._updateItemsVisibility("")}g.listBox.selectIndex(d.index);g.renderSelection("api")},g.closeDelay)}else{g.clearSelection()}}else{g.listBox.selectedValue=null;g.input.val("")}}g.hideListBox("keyboard");if(c.keyCode=="9"){return true}g.renderSelection("api");c.preventDefault();return false}}var m=c.keyCode;if(l&&!g.disabled&&m!=8){return g.listBox._handleKeyDown(c)}else{if(!g.disabled&&!l){var m=c.keyCode;if(m==33||m==34||m==35||m==36||m==38||m==40){return g.listBox._handleKeyDown(c)}}}if(m===8&&g.multiSelect){if(g.input.val().length===0){var e=g.selectedItems[g.selectedItems.length-1];g.selectedItems.pop();g._selectedItems.pop();if(e){g._raiseEvent("3",{index:e.index,type:"keyboard",item:e});g._raiseEvent("4",{index:e.index,type:"keyboard",item:e})}g.listBox.selectedValue=null;g.doMultiSelect();return false}}});this.addHandler(this.listBoxContainer,"checkChange",function(c){g.renderSelection("mouse");g._updateInputSelection();g._raiseEvent(5,{label:c.args.label,value:c.args.value,checked:c.args.checked,item:c.args.item})});this.addHandler(this.listBoxContainer,"select",function(c){if(!g.disabled){if(c.args.type!="keyboard"||g.keyboardSelection){g.renderSelection(c.args.type);if(!g.multiSelect){g._raiseEvent("2",{index:c.args.index,type:c.args.type,item:c.args.item})}if(c.args.type=="mouse"){g._oldvalue=g.listBox.selectedValue;if(!g.checkboxes){g.hideListBox("mouse");if(!g.touch){g.input.focus()}else{return false}}}}}});if(this.listBox!=null&&this.listBox.content!=null){this.addHandler(this.listBox.content,"click",function(c){if(!g.disabled){if(g.listBox.itemswrapper){if(c.target===g.listBox.itemswrapper[0]){return true}}if(c.target&&c.target.className){if(c.target.className.indexOf("jqx-fill-state-disabled")>=0){return true}}g.renderSelection("mouse");g._oldvalue=g.listBox.selectedValue;if(!g.touch&&!g.ishiding){if(!g.checkboxes){g.hideListBox("mouse");g.input.focus()}}if(g.touch===true){if(!g.checkboxes){g.hideListBox("mouse")}}}})}},_selectOldValue:function(){var a=this;if(a.listBox.selectedIndex==-1){if(!a.multiSelect){var d=a.listBox.getItemByValue(a._oldvalue);if(d){setTimeout(function(){if(a.autoComplete){a._updateItemsVisibility("")}a.listBox.selectIndex(d.index);a.renderSelection("api")},a.closeDelay)}else{a.clearSelection();a.listBox.selectIndex(0);a.renderSelection("api")}}else{a.listBox.selectedValue=null;a.input.val("")}}else{a.renderSelection("api")}},removeHandlers:function(){var d=this;if(this.dropdownlistWrapper!=null){this.removeHandler(this.dropdownlistWrapper,"mousedown")}if(this.dropdownlistContent){this.removeHandler(this.dropdownlistContent,"click");this.removeHandler(this.dropdownlistContent,"focus")}this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");if(this.input!=null){this.removeHandler(this.input,"focus");this.removeHandler(this.input,"blur")}this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(b(document),"mousemove."+d.id);if(this.listBoxContainer){this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.listBoxContainer,"select")}if(this.host.parents()){this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id)}if(this.dropdownlistArrowIcon&&this.dropdownlistArrow){var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.dropdownlistArrowIcon,a);this.removeHandler(this.dropdownlistArrow,a)}},getItem:function(a){var d=this.listBox.getItem(a);return d},getItemByValue:function(d){var a=this.listBox.getItemByValue(d);return a},getVisibleItem:function(a){var d=this.listBox.getVisibleItem(a);return d},renderSelection:function(n){if(n==undefined||n=="none"){return}if(this._disableSelection===true){return}if(this.listBox==null){return}if(this.multiSelect){return}var m=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes){if(this.listBox.selectedValue!==undefined){var m=this.getItemByValue(this.listBox.selectedValue)}}if(this.checkboxes){var q=this.getCheckedItems();if(q!=null&&q.length>0){m=q[0]}else{m=null}}if(m==null){var t=b.jqx.browser.msie&&b.jqx.browser.version<8;this.input.val("");if(!t){this.input.attr("placeholder",this.placeHolder)}this._updateInputSelection();return}this.selectedIndex=this.listBox.selectedIndex;var u=b("<span></span>");if(m.label!=undefined&&m.label!=null&&m.label.toString().length>0){b.jqx.utilities.html(u,m.label)}else{if(m.value!=undefined&&m.value!=null&&m.value.toString().length>0){b.jqx.utilities.html(u,m.value)}else{if(m.title!=undefined&&m.title!=null&&m.title.toString().length>0){b.jqx.utilities.html(u,m.title)}else{b.jqx.utilities.html(u,this.emptyString)}}}var v=u.outerHeight();if(this.checkboxes){var p=this.getCheckedItems();var o="";for(var s=0;s<p.length;s++){if(s==p.length-1){o+=p[s].label}else{o+=p[s].label+", "}}this.input.val(o)}else{this.input.val(u.text())}u.remove();if(this.renderSelectedItem){var a=this.renderSelectedItem(this.listBox.selectedIndex,m);if(a!=undefined){this.input.val(a)}}this._updateInputSelection();if(this.listBox&&this.listBox._activeElement){b.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this.listBox.clearSelection();this.input.val("");if(this.multiSelect){this.listBox.selectedValue="";this.selectedItems=new Array();this._selectedItems=new Array();this.doMultiSelect(false)}},unselectIndex:function(h,g){if(isNaN(h)){return}if(this.autoComplete){this._updateItemsVisibility("")}this.listBox.unselectIndex(h,g);this.renderSelection("mouse");if(this.multiSelect){if(h>=0){var a=this.getItem(h);var f=this.selectedItems.indexOf(a.value);if(f>=0){if(a.value===this.listBox.selectedValue){this.listBox.selectedValue=null}this.selectedItems.splice(f,1);this._selectedItems.splice(f,1)}}this.doMultiSelect(false)}},selectIndex:function(a,g,f,h){if(this.autoComplete){this._updateItemsVisibility("")}this.listBox.selectIndex(a,g,f,h);this.renderSelection("mouse");this.selectedIndex=a;if(this.multiSelect){this.doMultiSelect()}},selectItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.selectedIndex=-1;this.listBox.selectItem(a);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse");if(this.multiSelect){this.doMultiSelect(false)}}},unselectItem:function(e){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.unselectItem(e);this.renderSelection("mouse");if(this.multiSelect){var a=this.getItemByValue(e);if(a){var f=this.selectedItems.indexOf(a.value);if(f>=0){if(a.value===this.listBox.selectedValue){this.listBox.selectedValue=null}this.selectedItems.splice(f,1);this._selectedItems.splice(f,1)}}this.doMultiSelect(false)}}},checkItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.checkItem(a)}},uncheckItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.uncheckItem(a)}},indeterminateItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.indeterminateItem(a)}},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.listBox.selectedIndex},getSelectedItem:function(){return this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){var d=new Array();var a=this;b.each(this.selectedItems,function(){var c=a.getItemByValue(this);if(c){d.push(c)}else{var c=a._selectedItems[this];if(c){d.push(c)}}});return d},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},insertAt:function(d,a){if(d==null){return false}return this.listBox.insertAt(d,a)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(d){var a=this.listBox.removeAt(d);this.renderSelection("mouse");return a},removeItem:function(d){var a=this.listBox.removeItem(d);this.renderSelection("mouse");return a},updateItem:function(f,e){var a=this.listBox.updateItem(f,e);this.renderSelection("mouse");return a},updateAt:function(e,f){var a=this.listBox.updateAt(e,f);this.renderSelection("mouse");return a},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var d=this.getVisibleItem(a);if(d){this._disabledItems.push(d.value)}return this.listBox.disableAt(a)},enableAt:function(a){var d=this.getVisibleItem(a);if(d){this._disabledItems.splice(this._disabledItems.indexOf(d.value),1)}return this.listBox.enableAt(a)},disableItem:function(a){var a=this.getVisibleItem(a);if(a){this._disabledItems.push(a.value)}return this.listBox.disableItem(a)},enableItem:function(a){var a=this.getVisibleItem(a);if(a){this._disabledItems.splice(this._disabledItems.indexOf(a.value),1)}return this.listBox.enableItem(a)},_findPos:function(d){while(d&&(d.type=="hidden"||d.nodeType!=1||b.expr.filters.hidden(d))){d=d.nextSibling}if(d){var a=b(d).coord(true);return[a.left,a.top]}},testOffset:function(l,n,q){var m=l.outerWidth();var a=l.outerHeight();var k=b(window).width()+b(window).scrollLeft();var o=b(window).height()+b(window).scrollTop();if(n.left+m>k){if(m>this.host.width()){var p=this.host.coord().left;var s=m-this.host.width();n.left=p-s+2}}if(n.left<0){n.left=parseInt(this.host.coord().left)+"px"}n.top-=Math.min(n.top,(n.top+a>o&&o>a)?Math.abs(a+q+23):0);return n},open:function(){if(!this.isOpened()&&!this.opening){this.showListBox("api")}},close:function(){if(this.isOpened()){this.hideListBox("api")}},_getBodyOffset:function(){var d=0;var a=0;if(b("body").css("border-top-width")!="0px"){d=parseInt(b("body").css("border-top-width"));if(isNaN(d)){d=0}}if(b("body").css("border-left-width")!="0px"){a=parseInt(b("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},showListBox:function(F){if(this.listBox.items&&this.listBox.items.length==0){return}if(F=="search"&&!this.autoComplete&&!this.remoteAutoComplete){if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}}if(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete){if(F!="search"){this._updateItemsVisibility("");if(this.multiSelect){var B=this.getVisibleItems();for(var x=0;x<B.length;x++){if(!B[x].disabled){this.ensureVisible(x);break}}}}}if(this.remoteAutoComplete){this.listBox.clearSelection()}if(F!="search"){this._oldvalue=this.listBox.selectedValue}b.jqx.aria(this,"aria-expanded",true);if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1){if(this.listBox.host.width()!=this.host.width()){var z=this.host.width();this.listBoxContainer.jqxListBox({width:z});this.container.width(parseInt(z)+25)}}var C=this;var I=this.listBoxContainer;var a=this.listBox;var L=b(window).scrollTop();var K=b(window).scrollLeft();var E=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var M,A=parseInt(Math.round(this.host.coord(true).left));M=A+"px";var w=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();this.ishiding=false;var J=b.jqx.utilities.hasTransform(this.host);if(J||(w!=null&&w)){M=b.jqx.mobile.getLeftPos(this.element);E=b.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(b("body").css("border-top-width")!="0px"){E=parseInt(E)-this._getBodyOffset().top+"px"}if(b("body").css("border-left-width")!="0px"){M=parseInt(M)-this._getBodyOffset().left+"px"}}this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus"));this.container.css("left",M);this.container.css("top",E);a._arrange();var N=true;var O=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var G=this.container.outerWidth();var y=Math.abs(G-this.host.width());if(G>this.host.width()){this.container.css("left",25+parseInt(Math.round(A))-y+"px")}else{this.container.css("left",25+parseInt(Math.round(A))+y+"px")}}if(this.enableBrowserBoundsDetection){var H=this.testOffset(I,{left:parseInt(this.container.css("left")),top:parseInt(E)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=H.top){O=true;I.css("top",23);I.addClass(this.toThemeProperty("jqx-popup-up"))}else{I.css("top",0)}this.container.css("top",H.top);this.container.css("top",H.top);if(parseInt(this.container.css("left"))!=H.left){this.container.css("left",H.left)}}if(this.animationType=="none"){this.container.css("display","block");b.data(document.body,"openedComboJQXListBoxParent",C);b.data(document.body,"openedComboJQXListBox"+C.element.id,I);I.css("margin-top",0);I.css("opacity",1)}else{this.container.css("display","block");var D=I.outerHeight();I.stop();if(this.animationType=="fade"){I.css("margin-top",0);I.css("opacity",0);I.animate({opacity:1},this.openDelay,function(){C.isanimating=false;C.opening=false;b.data(document.body,"openedComboJQXListBoxParent",C);b.data(document.body,"openedComboJQXListBox"+C.element.id,I)})}else{I.css("opacity",1);if(O){I.css("margin-top",D)}else{I.css("margin-top",-D)}this.isanimating=true;this.opening=true;I.animate({"margin-top":0},this.openDelay,function(){C.isanimating=false;C.opening=false;b.data(document.body,"openedComboJQXListBoxParent",C);b.data(document.body,"openedComboJQXListBox"+C.element.id,I)})}}a._renderItems();if(!O){this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded"));I.addClass(this.toThemeProperty("jqx-rc-t-expanded"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))}else{this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded"));I.addClass(this.toThemeProperty("jqx-rc-b-expanded"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))}I.addClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("0",a)},doMultiSelect:function(s){if(this.checkboxes){this.multiSelect=false}var p=this;if(!this.multiSelect){var n=p.dropdownlistContent.find(".jqx-button");var q="mousedown";if(this.touch){q=b.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(n,q);this.removeHandler(n.find(".jqx-icon-close"),q);n.remove();this.selectedItems=new Array();this._selectedItems=new Array();return}if(this.validateSelection){var a=this.validateSelection(this.listBox.selectedValue);if(!a){return}}var m=this.selectedItems;if(this.listBox.selectedValue){if(this.selectedItems.indexOf(this.listBox.selectedValue)===-1){var l=this.getItemByValue(this.listBox.selectedValue);if(l&&l.visible){this.selectedItems.push(this.listBox.selectedValue);this._selectedItems.push(l);this._raiseEvent("2",{index:l.index,item:l});this._raiseEvent("4",{index:l.index,item:l})}}this.listBox.selectedIndex=0}var o=this.listBox.items;if(!o){return}for(var t=0;t<o.length;t++){o[t].disabled=false;if(this.selectedItems.indexOf(o[t].value)>=0||this._disabledItems.indexOf(this.value)>=0){o[t].disabled=true}}this.listBox._renderItems();this.searchString="";this.input.val("");var o="";var q="mousedown";var n=p.dropdownlistContent.find(".jqx-button");if(this.touch){q=b.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(n,q);this.removeHandler(n.find(".jqx-icon-close"),q);n.remove();p.input.detach();if(this.selectedItems.length>0){p.input.css("width","25px");p.input.attr("placeholder","")}else{p.input.css("width","100%");p.input.attr("placeholder",this.placeHolder)}b.each(this.selectedItems,function(e){var c=p.getItemByValue(this);if(!c||p.remoteAutoComplete){c=p._selectedItems[e]}var g=b('<div style="overflow: hidden; float: left;"></div>');g.addClass(p.toThemeProperty("jqx-button"));g.addClass(p.toThemeProperty("jqx-combobox-multi-item"));g.addClass(p.toThemeProperty("jqx-fill-state-normal"));g.addClass(p.toThemeProperty("jqx-rc-all"));if(c){var f=c.label;if(g[0].innerHTML==""){g[0].innerHTML='<a data-value="'+c.value+'" style="float: left;" href="#">'+f+"</a>"}if(p.rtl){g[0].innerHTML='<a data-value="'+c.value+'" style="float: right;" href="#">'+f+"</a>"}var h=!p.rtl?"right":"left";var d='<div style="position: relative; overflow: hidden; float: '+h+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+p.toThemeProperty("jqx-icon-close")+'"></div></div>';if(b.jqx.browser.msie&&b.jqx.browser.version<8){d='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+p.toThemeProperty("jqx-icon-close")+'"></div></div>'}if(p.rtl){var d='<div style="position: relative; overflow: hidden; float: '+h+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+p.toThemeProperty("jqx-icon-close")+'"></div></div>';if(b.jqx.browser.msie&&b.jqx.browser.version<8){d='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+p.toThemeProperty("jqx-icon-close")+'"></div></div>'}}g[0].innerHTML+=d}else{if(g[0].innerHTML==""){g[0].innerHTML='<a href="#"></a>'}}p.dropdownlistContent.append(g)});p.dropdownlistContent.append(p.input);p.input.val("");if(s!==false){p.input.focus();setTimeout(function(){p.input.focus()},10)}var n=p.dropdownlistContent.find(".jqx-button");if(this.touchMode===true){q="mousedown"}this.addHandler(n,q,function(d){if(d.target.className.indexOf("jqx-icon-close")>=0){return true}if(p.disabled){return true}var c=b(d.target).attr("data-value");var e=p.getItemByValue(c);if(e){p.listBox.selectedValue=null;p.listBox.clearSelection()}p.listBox.scrollTo(0,0);p.open();if(d.preventDefault){d.preventDefault()}if(d.stopPropagation){d.stopPropagation()}return false});this.addHandler(n.find(".jqx-icon-close"),q,function(g){if(p.disabled){return}var e=b(g.target).parent().parent().find("a").attr("data-value");var h=p.getItemByValue(e);if(h){p.listBox.selectedValue=null;var d=p.selectedItems.indexOf(e);if(d>=0){p.selectedItems.splice(d,1);p._selectedItems.splice(d,1);p._raiseEvent("3",{index:h.index,type:"mouse",item:h});p._raiseEvent("4",{index:h.index,type:"mouse",item:h});p.doMultiSelect()}else{for(var c=0;c<p.selectedItems.length;c++){var f=p.selectedItems[c];if(f==e){p.selectedItems.splice(c,1);p._selectedItems.splice(c,1);p._raiseEvent("3",{index:h.index,type:"mouse",item:h});p._raiseEvent("4",{index:h.index,type:"mouse",item:h});p.doMultiSelect();break}}}}});p.dropdownlistArrow.height(this.host.height());p._updateInputSelection()},hideListBox:function(k){var m=this.listBoxContainer;var l=this.listBox;var p=this.container;if(this.container[0].style.display=="none"){return}b.jqx.aria(this,"aria-expanded",false);if(k=="keyboard"||k=="mouse"){this.listBox.searchString=""}if(k=="keyboard"||k=="mouse"&&this.multiSelect){this.doMultiSelect()}var o=this;b.data(document.body,"openedComboJQXListBox"+this.element.id,null);if(this.animationType=="none"){this.opening=false;this.container.css("display","none")}else{if(!this.ishiding){var a=m.outerHeight();m.css("margin-top",0);m.stop();this.opening=false;this.isanimating=true;var n=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){n=a}if(this.animationType=="fade"){m.css({opacity:1});m.animate({opacity:0},this.closeDelay,function(){o.isanimating=false;p.css("display","none");o.ishiding=false})}else{m.animate({"margin-top":n},this.closeDelay,function(){o.isanimating=false;p.css("display","none");o.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));if(!this.focused){this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))}this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));m.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));m.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));m.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));this._raiseEvent("1",l)},closeOpenedListBox:function(l){var m=l.data.me;var a=b(l.target);var n=l.data.listbox;if(n==null){return true}if(b(l.target).ischildof(l.data.me.host)){return}var k=m;var h=false;b.each(a.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){h=true;return false}if(this.className.indexOf("jqx-combobox")!=-1){if(m.element.id==this.id){h=true}return false}}}});if(n!=null&&!h){if(m.isOpened()){m.hideListBox("api");m.input.blur()}}return true},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}},resize:function(){this._setSize();this._arrange()},_arrange:function(){var p=parseInt(this.host.width());var a=parseInt(this.host.height());var o=this.arrowSize;var n=this.arrowSize;var l=1;if(!this.showArrow){n=0;o=0;this.dropdownlistArrow.hide();l=0;this.host.css("cursor","arrow")}var s=p-n-1*l;if(s>0){this.dropdownlistContent[0].style.width=s+"px"}if(this.rtl){this.dropdownlistContent[0].style.width=(-1+s+"px")}this.dropdownlistContent[0].style.height=a+"px";this.dropdownlistContent[0].style.left="0px";this.dropdownlistContent[0].style.top="0px";this.dropdownlistArrow[0].style.width=n+1+"px";this.dropdownlistArrow[0].style.height=a+"px";this.dropdownlistArrow[0].style.left=1+s+"px";this.input[0].style.width="100%";var q=this.input.height();if(q==0){q=parseInt(this.input.css("font-size"))+3}if(this.input[0].className.indexOf("jqx-rc-all")==-1){this.input.addClass(this.toThemeProperty("jqx-rc-all"))}var k=parseInt(a)/2-parseInt(q)/2;if(k>0){this.input[0].style.marginTop=parseInt(k)+"px"}if(this.rtl){this.dropdownlistArrow.css("left","0px");this.dropdownlistContent.css("left",this.dropdownlistArrow.width());if(b.jqx.browser.msie&&b.jqx.browser.version<=8){this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())}}if(this.multiSelect){this.input.css("float","left");this.dropdownlistWrapper.parent().css("height","auto");this.dropdownlistContent.css("height","auto");this.dropdownlistWrapper.css("height","auto");this.dropdownlistContent.css("position","relative");this.dropdownlistContent.css("cursor","text");this.host.css("height","auto");this.host.css("min-height",this.height);this.dropdownlistContent.css("min-height",this.height);var a=parseInt(this.host.height());this.dropdownlistArrow.height(a);var m=parseInt(this.host.css("min-height"));var k=parseInt(m)/2-parseInt(q)/2;if(k>0){this.input.css("margin-top",k)}}},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id);this.source.unbindBindingUpdate(this.listBoxContainer[0].id);this.source.unbindDownloadComplete(this.element.id);this.source.unbindDownloadComplete(this.listBoxContainer[0].id)}b.jqx.utilities.resize(this.host,null,true);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.listBoxContainer,"bindingComplete");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandlers();this.removeHandler(this.input,"keyup.textchange");this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(b(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id)}this.cinput.remove();delete this.cinput;this.dropdownlistArrow.remove();delete this.dropdownlistArrow;this.dropdownlistArrowIcon.remove();delete this.dropdownlistArrowIcon;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.dropdownlistContent;delete this.comboStructure;this.container.remove();delete this.listBox;delete this.container;var a=b.data(this.element,"jqxComboBox");if(a){delete a.instance}this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_raiseEvent:function(g,l){if(l==undefined){l={owner:null}}var k=this.events[g];args=l;args.owner=this;var h=new jQuery.Event(k);h.owner=this;if(g==2||g==3||g==4||g==5){h.args=l}var a=this.host.trigger(h);return a},propertyChangedHandler:function(a,l,g,h){if(a.isInitialized==undefined||a.isInitialized==false){return}if(l=="itemHeight"){a.listBoxContainer.jqxListBox({itemHeight:h})}if(l=="renderSelectedItem"){a.renderSelection("mouse")}if(l=="renderer"){a.listBoxContainer.jqxListBox({renderer:h})}if(l=="enableSelection"){a.listBoxContainer.jqxListBox({enableSelection:h})}if(l=="enableHover"){a.listBoxContainer.jqxListBox({enableHover:h})}if(l==="touchMode"){a.listBoxContainer.jqxListBox({touchMode:h});a.touch=b.jqx.mobile.isTouchDevice();if(a.touchMode===true){a.touch=true}a._updateHandlers()}if(l=="multiSelect"){if(h){a.doMultiSelect(false)}else{a.doMultiSelect(false);a.dropdownlistWrapper.parent().css("height","100%");a.dropdownlistContent.css("height","100");a.dropdownlistWrapper.css("height","100");a.dropdownlistContent.css("position","relative");a.host.css("min-height",null);a._setSize();a._arrange()}}if(l=="showArrow"){a._arrange();if(a.multiSelect){a.doMultiSelect(false)}}if(l=="popupZIndex"){a.listBoxContainer.css({zIndex:a.popupZIndex})}if(l=="promptText"){a.placeHolder=h}if(l=="autoOpen"){a._updateHandlers()}if(l=="renderer"){a.listBox.renderer=a.renderer}if(l=="itemHeight"){a.listBox.itemHeight=h}if(l=="source"){a.input.val("");a.listBoxContainer.jqxListBox({source:a.source});a.renderSelection("mouse");if(a.source==null){a.clearSelection()}if(a.multiSelect){a.selectedItems=new Array();a._selectedItems=new Array();a.doMultiSelect(false)}}if(l=="rtl"){if(h){a.dropdownlistArrow.css("float","left");a.dropdownlistContent.css("float","right")}else{a.dropdownlistArrow.css("float","right");a.dropdownlistContent.css("float","left")}a.listBoxContainer.jqxListBox({rtl:a.rtl})}if(l=="displayMember"||l=="valueMember"){a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember});a.renderSelection("mouse")}if(l=="autoDropDownHeight"){a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight});if(a.autoDropDownHeight){a.container.height(a.listBoxContainer.height()+25)}else{a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}a.listBox._arrange();a.listBox._updatescrollbars()}if(l=="dropDownHeight"){if(!a.autoDropDownHeight){a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}}if(l=="dropDownWidth"||l=="scrollBarSize"){var k=a.width;if(a.dropDownWidth!="auto"){k=a.dropDownWidth}a.listBoxContainer.jqxListBox({width:k,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(k)+25)}if(l=="autoComplete"){a._resetautocomplete()}if(l=="checkboxes"){a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes});if(a.checkboxes){a.input.attr("readonly",true);b.jqx.aria(a,"aria-readonly",true)}else{b.jqx.aria(a,"aria-readonly",false)}}if(l=="theme"&&h!=null){a.listBoxContainer.jqxListBox({theme:h});a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow"))}a.dropdownlistContent.removeClass();a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content"));a.dropdownlistContent.addClass(a.toThemeProperty("jqx-widget-content"));a.input.removeClass();a.input.addClass(a.toThemeProperty("jqx-combobox-input"));a.input.addClass(this.toThemeProperty("jqx-widget-content"));a.host.removeClass();a.host.addClass(a.toThemeProperty("jqx-combobox-state-normal"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.dropdownlistArrow.removeClass();a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-down"));a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-normal"));a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-normal"))}if(l=="rtl"){a.render();a.refresh()}if(l=="width"||l=="height"){a._setSize();if(l=="width"){if(a.dropDownWidth=="auto"){var k=a.host.width();a.listBoxContainer.jqxListBox({width:k});a.container.width(parseInt(k)+25)}}a._arrange()}if(l=="selectedIndex"){a.listBox.selectIndex(h);a.renderSelection("mouse")}}})})(jQuery);(function(ae){ae.jqx.dataAdapter=function(a,d){if(a!=undefined){if(a.dataFields!==undefined){a.datafields=a.dataFields}if(a.dataType!==undefined){a.datatype=a.dataType}if(a.localData!==undefined){a.localdata=a.localData}if(a.sortColumn!==undefined){a.sortcolumn=a.sortColumn}if(a.sortDirection!==undefined){a.sortdirection=a.sortDirection}if(a.sortOrder!==undefined){a.sortdirection=a.sortOrder}if(a.formatData!==undefined){a.formatdata=a.formatData}if(a.processData!==undefined){a.processdata=a.processData}if(a.pageSize!==undefined){a.pagesize=a.pageSize}if(a.pageNum!==undefined){a.pagenum=a.pageNum}if(a.updateRow!==undefined){a.updaterow=a.updateRow}if(a.addRow!==undefined){a.addrow=a.addRow}if(a.deleteRow!==undefined){a.deleterow=a.deleteRow}if(a.contentType!==undefined){a.contenttype=a.contentType}if(a.totalRecords!=undefined){a.totalrecords=a.totalRecords}if(a.loadError!=undefined){a.loadError=a.loadError}if(a.sortComparer!=undefined){a.sortcomparer=a.sortComparer}}this._source=a;this._options=d||{};this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(a!=undefined&&a.localdata!=null&&typeof a.localdata=="function"){var b=a.localdata();if(b!=null){a._localdata=a.localdata;var c=this;if(a._localdata.subscribe){c._oldlocaldata=[];a._localdata.subscribe(function(g){var f=function(h){if(jQuery.isArray(h)){return jQuery.makeArray(f(ae(h)))}return jQuery.extend(true,{},h)};if(c.suspendKO==false||c.suspendKO==undefined||c._oldlocaldata.length==0){c._oldlocaldata=f(g)}},a._localdata,"beforeChange");a._localdata.subscribe(function(f){if(c.suspendKO==false||c.suspendKO==undefined){var g="";c._oldrecords=c.records;if(c._oldlocaldata.length==0){a.localdata=a._localdata()}if(c._oldlocaldata.length==0){g="change"}else{if(c._oldlocaldata.length==f.length){g="update"}if(c._oldlocaldata.length>f.length){g="remove"}if(c._oldlocaldata.length<f.length){g="add"}}c.dataBind(null,g)}},a._localdata,"change");c._knockoutdatasource=true}a.localdata=b}}if(this._options.autoBind==true){this.dataBind()}};ae.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=true},endUpdate:function(a){this.isUpdating=false;if(a!=false){if(this._changedrecords&&this._changedrecords.length>0){this.callBindingUpdate("update");this._changedrecords=[]}else{this.dataBind(null,"")}}},formatDate:function(c,a,b){var d=ae.jqx.dataFormat.formatdate(c,a,b);return d},formatNumber:function(c,a,b){var d=ae.jqx.dataFormat.formatnumber(c,a,b);return d},dataBind:function(l,c){if(this.isUpdating==true){return}var g=this._source;if(!g){return}ae.jqx.dataFormat.datescache=new Array();if(g.dataFields!=null){g.datafields=g.dataFields}if(g.recordstartindex==undefined){g.recordstartindex=0}if(g.recordendindex==undefined){g.recordendindex=0}if(g.loadallrecords==undefined){g.loadallrecords=true}if(g.sort!=undefined){this.sort=g.sort}if(g.filter!=undefined){this.filter=g.filter}else{this.filter=null}if(g.sortcolumn!=undefined){this.sortcolumn=g.sortcolumn}if(g.sortdirection!=undefined){this.sortdirection=g.sortdirection}if(g.sortcomparer!=undefined){this.sortcomparer=g.sortcomparer}this.records=new Array();var t=this._options||{};this.virtualmode=t.virtualmode!=undefined?t.virtualmode:false;this.totalrecords=t.totalrecords!=undefined?t.totalrecords:0;this.pageable=t.pageable!=undefined?t.pageable:false;this.pagesize=t.pagesize!=undefined?t.pagesize:0;this.pagenum=t.pagenum!=undefined?t.pagenum:0;this.cachedrecords=t.cachedrecords!=undefined?t.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=t.updaterow!=undefined?t.updaterow:null;this.addrow=t.addrow!=undefined?t.addrow:null;this.deleterow=t.deleterow!=undefined?t.deleterow:null;this.cache=t.cache!=undefined?t.cache:false;this.unboundmode=false;if(g.formatdata!=undefined){t.formatData=g.formatdata}if(g.data!=undefined){if(t.data==undefined){t.data={}}ae.extend(t.data,g.data)}if(g.mapchar!=undefined){this.mapChar=g.mapchar?g.mapchar:">"}else{this.mapChar=t.mapChar?t.mapChar:">"}if(t.unboundmode||g.unboundmode){this.unboundmode=t.unboundmode||g.unboundmode}if(g.cache!=undefined){this.cache=g.cache}if(this.koSubscriptions){for(var a=0;a<this.koSubscriptions.length;a++){this.koSubscriptions[a].dispose()}}this.koSubscriptions=new Array();if(this.pagenum<0){this.pagenum=0}var z=this;var m=g.datatype;if(g.datatype==="csv"||g.datatype==="tab"||g.datatype==="tsv"||g.datatype=="text"){m="text"}var p=t.async!=undefined?t.async:true;if(g.async!=undefined){p=g.async}switch(m){case"local":case"array":case"observablearray":default:if(g.localdata==undefined&&g.length){g.localdata=new Array();for(var d=0;d<g.length;d++){g.localdata[g.localdata.length]=g[d];g[d].uid=d}}if(g.beforeprocessing&&ae.isFunction(g.beforeprocessing)){g.beforeprocessing(g.localdata)}var q=g.localdata.length;this.totalrecords=this.virtualmode?(g.totalrecords||q):q;if(this.unboundmode){this.totalrecords=this.unboundmode?(g.totalrecords||q):q;var D=g.datafields?g.datafields.length:0;if(D>0){for(var d=0;d<this.totalrecords;d++){var v={};for(var f=0;f<D;f++){v[g.datafields[f].name]=""}v.uid=d;g.localdata[g.localdata.length]=v}}}if(this.totalrecords==undefined){this.totalrecords=0}var D=g.datafields?g.datafields.length:0;var w=function(am,F){var G={};for(var ao=0;ao<F;ao++){var ap=g.datafields[ao];var E="";if(undefined==ap||ap==null){continue}if(ap.map){if(ae.isFunction(ap.map)){E=ap.map(am)}else{var ar=ap.map.split(z.mapChar);if(ar.length>0){var an=am;for(var aq=0;aq<ar.length;aq++){if(!an){continue}an=an[ar[aq]]}E=an}else{E=am[ap.map]}}if(E!=undefined&&E!=null){E=E.toString()}else{if(E==undefined&&E!=null){E=""}}}if(E==""){E=am[ap.name];if(E!=undefined&&E!=null){if(g._localdata&&E.subscribe){E=E()}else{E=E.toString()}}}E=z.getvaluebytype(E,ap);if(ap.displayname!=undefined){G[ap.displayname]=E}else{G[ap.name]=E}}return G};if(g._localdata){this._changedrecords=[];this.records=new Array();var A=g._localdata();ae.each(A,function(at,ap){if(typeof ap==="string"){z.records.push(ap)}else{var F={};var aq=0;var ar=this;ae.each(this,function(aE,aO){var aM=null;var aL="string";var aP=aE;if(D>0){var aI=false;var aQ=false;for(var aF=0;aF<D;aF++){var aG=g.datafields[aF];if(aG!=undefined&&(aG.name==aE)){aI=true;aM=aG.map;aL=aG.type;aP=aG.name;break}else{if(aG!=undefined&&aG.map&&(aG.map.indexOf(aE)>=0)){aI=true;aM=aG.map;aL=aG.type;aP=aG.name;aQ=true;var aK=ar[aE];if(aM!=null){var aN=aM.split(z.mapChar);if(aN.length>0){var an=ar;for(var aJ=0;aJ<aN.length;aJ++){an=an[aN[aJ]]}aK=an}else{aK=ar[aM]}}if(aL!="string"){aK=z.getvaluebytype(aK,{type:aL})}F[aP]=aK;if(F[aP]!=undefined){aq+=F[aP].toString().length+F[aP].toString().substr(0,1)}}}}if(!aI){return true}if(aQ){return true}}var aH=ae.isFunction(ar[aE]);if(aH){var aK=ar[aE]();if(aL!="string"){aK=z.getvaluebytype(aK,{type:aL})}F[aE]=aK;if(ar[aE].subscribe){var am=at;z.koSubscriptions[z.koSubscriptions.length]=ar[aE].subscribe(function(av){var aw=am;F[aE]=av;var au={index:aw,oldrecord:F,record:F};z._changedrecords.push(au);if(z.isUpdating){return}z.callBindingUpdate("update");z._changedrecords=[];return false})}}else{var aK=ar[aE];if(aM!=null){var aN=aM.split(z.mapChar);if(aN.length>0){var an=ar;for(var aJ=0;aJ<aN.length;aJ++){an=an[aN[aJ]]}aK=an}else{aK=ar[aM]}}if(aL!="string"){aK=z.getvaluebytype(aK,{type:aL})}F[aP]=aK;if(F[aP]!=undefined){aq+=F[aP].toString().length+F[aP].toString().substr(0,1)}}});var E=z.getid(g.id,ar,at);F.uid=E;z.records.push(F);F._koindex=aq;if(z._oldrecords){var G=z.records.length-1;if(c=="update"){if(z._oldrecords[G]._koindex!=aq){var ao={index:G,oldrecord:z._oldrecords[G],record:F};z._changedrecords.push(ao)}}}}});if(c=="add"){var q=z.records.length;for(var d=0;d<q;d++){var v=z.records[d];var s=false;for(var h=0;h<z._oldrecords.length;h++){if(z._oldrecords[h]._koindex===v._koindex){s=true;break}}if(!s){z._changedrecords.push({index:d,oldrecord:null,record:v,position:(d!=0?"last":"first")})}}}else{if(c=="remove"){var q=z._oldrecords.length;for(var d=0;d<q;d++){var n=z._oldrecords[d];if(!z.records[d]){z._changedrecords.push({index:d,oldrecord:n,record:null})}else{if(z.records[d]._koindex!=n._koindex){z._changedrecords.push({index:d,oldrecord:n,record:null})}}}}}}else{if(!ae.isArray(g.localdata)){this.records=new Array();ae.each(g.localdata,function(E){var F=z.getid(g.id,this,E);if(D>0){var G=this;var am=w(G,D);am.uid=F;z.records[z.records.length]=am}else{this.uid=F;z.records[z.records.length]=this}})}else{if(D==0){ae.each(g.localdata,function(E,am){var G=ae.extend({},this);if(typeof am==="string"){z.records=g.localdata;return false}else{var F=z.getid(g.id,G,E);if(typeof(F)==="object"){F=E}G.uid=F;z.records[z.records.length]=G}})}else{ae.each(g.localdata,function(E){var G=this;var am=w(G,D);var F=z.getid(g.id,am,E);if(typeof(F)==="object"){F=E}var G=ae.extend({},am);G.uid=F;z.records[z.records.length]=G})}}}this.originaldata=g.localdata;this.cachedrecords=this.records;this.addForeignValues(g);if(t.uniqueDataFields){var k=this.getUniqueRecords(this.records,t.uniqueDataFields);this.records=k;this.cachedrecords=k}if(t.beforeLoadComplete){var C=t.beforeLoadComplete(z.records,this.originaldata);if(C!=undefined){z.records=C;z.cachedrecords=C}}if(t.autoSort&&t.autoSortField){var o=Object.prototype.toString;Object.prototype.toString=(typeof field=="function")?field:function(){return this[t.autoSortField]};z.records.sort(function(F,G){if(F===undefined){F=null}if(G===undefined){G=null}if(F===null&&G===null){return 0}if(F===null&&G!==null){return 1}if(F!==null&&G===null){return -1}F=F.toString();G=G.toString();if(ae.jqx.dataFormat.isNumber(F)&&ae.jqx.dataFormat.isNumber(G)){if(F<G){return -1}if(F>G){return 1}return 0}else{if(ae.jqx.dataFormat.isDate(F)&&ae.jqx.dataFormat.isDate(G)){if(F<G){return -1}if(F>G){return 1}return 0}else{if(!ae.jqx.dataFormat.isNumber(F)&&!ae.jqx.dataFormat.isNumber(G)){F=String(F).toLowerCase();G=String(G).toLowerCase()}}}try{if(F<G){return -1}if(F>G){return 1}}catch(E){var am=E}return 0});Object.prototype.toString=o}z.loadedData=g.localdata;z.buildHierarchy();if(ae.isFunction(t.loadComplete)){t.loadComplete(g.localdata,z.records)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(g.localdata!=null){if(ae.isFunction(g.beforeprocessing)){g.beforeprocessing(g.localdata)}if(g.datatype==="xml"){z.loadxml(g.localdata,g.localdata,g)}else{if(m==="text"){z.loadtext(g.localdata,g)}else{z.loadjson(g.localdata,g.localdata,g)}}z.addForeignValues(g);if(t.uniqueDataFields){var k=z.getUniqueRecords(z.records,t.uniqueDataFields);z.records=k;z.cachedrecords=k}if(t.beforeLoadComplete){var C=t.beforeLoadComplete(z.records,this.originaldata);if(C!=undefined){z.records=C;z.cachedrecords=C}}z.loadedData=g.localdata;z.buildHierarchy.call(z);if(ae.isFunction(t.loadComplete)){t.loadComplete(g.localdata,z.records)}z.callBindingUpdate(c);return}var B=t.data!=undefined?t.data:{};if(g.processdata){g.processdata(B)}if(ae.isFunction(t.processData)){t.processData(B)}if(ae.isFunction(t.formatData)){var y=t.formatData(B);if(y!=undefined){B=y}}var b="application/x-www-form-urlencoded";if(t.contentType){b=t.contentType}var u="GET";if(g.type){u=g.type}if(t.type){u=t.type}if(g.url&&g.url.length>0){if(ae.isFunction(t.loadServerData)){z._requestData(B,g,t)}else{this.xhr=ae.jqx.data.ajax({dataType:m,cache:this.cache,type:u,url:g.url,async:p,timeout:g.timeout,contentType:b,data:B,success:function(aq,G,an){if(ae.isFunction(g.beforeprocessing)){var ao=g.beforeprocessing(aq,G,an);if(ao!=undefined){aq=ao}}if(ae.isFunction(t.downloadComplete)){var ao=t.downloadComplete(aq,G,an);if(ao!=undefined){aq=ao}}if(aq==null){z.records=new Array();z.cachedrecords=new Array();z.originaldata=new Array();z.callDownloadComplete();if(ae.isFunction(t.loadComplete)){t.loadComplete(new Array())}return}var F=aq;if(aq.records){F=aq.records}if(aq.totalrecords!=undefined){g.totalrecords=aq.totalrecords}if(g.datatype==="xml"){z.loadxml(null,F,g)}else{if(m==="text"){z.loadtext(F,g)}else{z.loadjson(null,F,g)}}z.addForeignValues(g);if(t.uniqueDataFields){var E=z.getUniqueRecords(z.records,t.uniqueDataFields);z.records=E;z.cachedrecords=E}if(t.beforeLoadComplete){var ap=t.beforeLoadComplete(z.records,aq);if(ap!=undefined){z.records=ap;z.cachedrecords=ap}}z.loadedData=aq;z.buildHierarchy.call(z);z.callDownloadComplete();if(ae.isFunction(t.loadComplete)){t.loadComplete(aq,G,an,z.records)}},error:function(E,G,F){if(ae.isFunction(g.loaderror)){g.loaderror(E,G,F)}if(ae.isFunction(t.loadError)){t.loadError(E,G,F)}E=null;z.callDownloadComplete()},beforeSend:function(E,F){if(ae.isFunction(t.beforeSend)){t.beforeSend(E,F)}if(ae.isFunction(g.beforesend)){g.beforesend(E,F)}}})}}else{z.buildHierarchy(new Array());z.callDownloadComplete();if(ae.isFunction(t.loadComplete)){if(!x){var x={}}t.loadComplete(x)}}break}this.callBindingUpdate(c)},buildHierarchy:function(l){var g=this._source;var c=new Array();if(!g.datafields){return}if(g.hierarchy&&!g.hierarchy.reservedNames){g.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}else{if(g.hierarchy){var d=g.hierarchy.reservedNames;if(!d.leaf){d.leaf="leaf"}if(!d.parent){d.parent="parent"}if(!d.expanded){d.expanded="expanded"}if(!d.checked){d.checked="checked"}if(!d.selected){d.selected="selected"}if(!d.level){d.level="level"}if(!d.data){d.data="data"}}}if(!g.hierarchy){return}var f=this;var d=g.hierarchy.reservedNames;if(g.hierarchy.root){if(g.dataType=="xml"){var c=this.getRecordsHierarchy("uid","parentuid","records",null,l);this.hierarchy=c;return c}else{this.hierarchy=this.records;var a=g.hierarchy.root;for(var k=0;k<this.records.length;k++){var h=this.records[k];if(!h){continue}var o=function(u){if(g.hierarchy.record){u.records=u[a][g.hierarchy.record]}else{var s=a.split(f.mapChar);var t=null;if(s.length>1){var p=u;for(var q=0;q<s.length;q++){if(p!=undefined){p=p[s[q]]}}t=p}else{t=u[a]}u.records=t}if(u.records==null||(u.records&&u.records.length==0)){u[d.leaf]=true}};o(h);h[d.level]=0;var n=this.getid(g.id,h,k);h.uid=n;h[d.parent]=null;h[d.data]=h;if(h[d.expanded]===undefined){h[d.expanded]=false}var b=function(p,s){if(!s){p.records=new Array();return}for(var q=0;q<s.length;q++){var u=s[q];if(!u){continue}o(u);u[d.level]=p[d.level]+1;u[d.parent]=p;u[d.data]=u;var t=f.getid(g.id,u,q);if(t==q&&g.id==null){u.uid=p.uid+"_"+t}else{u.uid=t}if(u[d.expanded]===undefined){u[d.expanded]=false}b(u,u.records)}};b(h,h.records)}}return this.hierarchy}if(g.hierarchy.keyDataField&&g.hierarchy.parentDataField){var c=this.getRecordsHierarchy(g.hierarchy.keyDataField.name,g.hierarchy.parentDataField.name,"records",null,l);this.hierarchy=c;return c}if(g.hierarchy.groupingDataFields){var m=new Array();for(var k=0;k<g.hierarchy.groupingDataFields.length;k++){m.push(g.hierarchy.groupingDataFields[k].name)}var c=this.getGroupedRecords(m,"records","label",null,"data",null,"parent",l);this.hierarchy=c;return c}},addRecord:function(f,g,k,d){var c=this;var h=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(f!=undefined){if(k!=undefined){if(this.hierarchy.length>0){var b=function(o){if(o){for(var n=0;n<o.length;n++){var m=o[n];if(m.uid==k){var l=(c._source&&c._source.hierarchy)?c._source.hierarchy.reservedNames:null;if(l==null){l=h()}f[l.parent]=m;f[l.level]=m[l.level]+1;if(!m.records){m.records=new Array();m[l.leaf]=false}if(g=="last"){m.records.push(f)}else{if(typeof g==="number"&&isFinite(g)){m.records.splice(g,0,f)}else{m.records.splice(0,0,f)}}c.records.push(f);return true}if(m.records){b(m.records)}}}};b(this.hierarchy)}}else{if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var a=(c._source&&c._source.hierarchy)?c._source.hierarchy.reservedNames:null;if(a==null){a=h()}f[a.level]=0;if(g=="last"){this.hierarchy.push(f)}else{if(typeof g==="number"&&isFinite(g)){this.hierarchy.splice(g,0,f)}else{this.hierarchy.splice(0,0,f)}}}else{if(g=="last"){this.records.push(f)}else{if(typeof g==="number"&&isFinite(g)){this.records.splice(g,0,f)}else{this.records.splice(0,0,f)}}}return true}}return false},deleteRecord:function(d){var b=this;if(this.hierarchy.length>0){var a=function(g){if(g){for(var k=0;k<g.length;k++){var h=g[k];if(h.uid==d){g.splice(k,1);if(b.recordids[d]){delete b.recordids[d]}var l=function(o){for(var s=0;s<o.length;s++){var p=o[s].uid;for(var q=0;q<b.records.length;q++){var n=b.records[q];if(n.uid==p){b.records.splice(q,1);break}}if(o[s].records){l(o[s].records)}}};if(h.records){l(h.records)}for(var m=0;m<b.records.length;m++){var h=b.records[m];if(h.uid==d){b.records.splice(m,1);break}}return true}if(h.records){a(h.records)}}}};a(this.hierarchy)}else{for(var f=0;f<this.records.length;f++){var c=this.records[f];if(c.uid==d){this.records.splice(f,1);return true}}}return false},addForeignValues:function(t){var g=this;var a=t.datafields?t.datafields.length:0;for(var m=0;m<a;m++){var o=t.datafields[m];if(o!=undefined){if(o.values!=undefined){if(o.value==undefined){o.value=o.name}if(o.values.value==undefined){o.values.value=o.value}var c=new Array();var p,n;if(g.pageable&&g.virtualmode){p=g.pagenum*g.pagesize;n=p+g.pagesize;if(n>g.totalrecords){n=g.totalrecords}}else{if(g.virtualmode){p=t.recordstartindex;n=t.recordendindex;if(n>g.totalrecords){n=g.totalrecords}}else{p=0;n=g.records.length}}for(var k=p;k<n;k++){var h=g.records[k];var s=o.name;var b=h[o.value];if(c[b]!=undefined){h[s]=c[b]}else{for(var q=0;q<o.values.source.length;q++){var d=o.values.source[q];var l=d[o.values.value];if(l==undefined){l=d.uid}if(l==b){var f=d[o.values.name];h[s]=f;c[b]=f;break}}}}}else{if(o.value!=undefined){for(var k=0;k<g.records.length;k++){var h=g.records[k];h[o.name]=h[o.value]}}}}}},abort:function(){if(this.xhr&&this.xhr.readyState!=4){this.xhr.abort();me.callDownloadComplete()}},_requestData:function(d,b,f){var c=this;var a=function(g){if(g.totalrecords){b.totalrecords=g.totalrecords;c.totalrecords=g.totalrecords}if(g.records){c.records=g.records;c.cachedrecords=g.records}if(ae.isFunction(f.loadComplete)){f.loadComplete(g)}c.callDownloadComplete()};f.loadServerData(d,b,a)},getUniqueRecords:function(m,h){if(m&&h){var f=m.length;var a=h.length;var d=new Array();var c=new Array();for(var b=0;b<f;b++){var g=m[b];var l="";if(g==undefined){continue}for(var k=0;k<a;k++){var n=h[k];l+=g[n]+"_"}if(!c[l]){d[d.length]=g}c[l]=true}}return d},getAggregatedData:function(d,h,n,t){var o=n;if(!o){o=this.records}var g={};var p=new Array();var q=o.length;if(q==0){return}if(q==undefined){return}for(var k=0;k<q;k++){var f=o[k];for(var m=0;m<d.length;m++){var s=d[m];var b=f[s.name];if(b===null){continue}if(s.aggregates){g[s.name]=g[s.name]||{};p[s.name]=p[s.name]||0;p[s.name]++;var l=function(u){for(obj in u){var v=g[s.name][obj];if(v==null){g[s.name][obj]=0;v=0}if(ae.isFunction(u[obj])){v=u[obj](v,b,s.name,f,t)}g[s.name][obj]=v}};var c=parseFloat(b);if(isNaN(c)){c=false}else{c=true}if(c){b=parseFloat(b)}if(typeof b==="number"&&isFinite(b)){ae.each(s.aggregates,function(){var u=g[s.name][this];if(u==null){u=0;if(this=="min"){u=9999999999999}if(this=="max"){u=-9999999999999}}if(this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){u+=parseFloat(b)}else{if(this=="product"){if(k==0){u=parseFloat(b)}else{u*=parseFloat(b)}}else{if(this=="min"){u=Math.min(u,parseFloat(b))}else{if(this=="max"){u=Math.max(u,parseFloat(b))}else{if(this=="count"){u++}else{if(typeof(this)=="object"){l(this);return}}}}}}g[s.name][this]=u})}else{ae.each(s.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var u=g[s.name][this];if(u==null){u=0}g[s.name][this]=u;return true}if(typeof(this)=="object"){l(this)}})}}}}for(var m=0;m<d.length;m++){var s=d[m];if(!g[s.name]){g[s.name]={};ae.each(s.aggregates,function(u){g[s.name][this]=0})}if(g[s.name]["avg"]!=undefined){var b=g[s.name]["avg"];var a=p[s.name];if(a===0||a==undefined){g[s.name]["avg"]=0}else{g[s.name]["avg"]=b/a}}else{if(g[s.name]["count"]!=undefined){g[s.name]["count"]=q}}if(g[s.name]["stdev"]||g[s.name]["stdevp"]||g[s.name]["var"]||g[s.name]["varp"]){ae.each(s.aggregates,function(B){if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var A=g[s.name][this];var C=q;var y=(A/q);var w=0;for(var v=0;v<q;v++){var u=o[v];var z=u[s.name];w+=(z-y)*(z-y)}var x=(this=="stdevp"||this=="varp")?C:C-1;if(x==0){x=1}if(this=="var"||this=="varp"){g[s.name][this]=w/x}else{if(this=="stdevp"||this=="stdev"){g[s.name][this]=Math.sqrt(w/x)}}}})}if(s.formatStrings){ae.each(s.aggregates,function(w){var u=s.formatStrings[w];if(u){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var v=g[s.name][this];g[s.name][this]=ae.jqx.dataFormat.formatnumber(v,u,h)}else{if(typeof this=="object"){for(obj in this){var v=g[s.name][obj];g[s.name][obj]=ae.jqx.dataFormat.formatnumber(v,u,h)}}}}})}}return g},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++){if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null;this._downloadComplete.splice(b,1);break}}},callDownloadComplete:function(){for(var b=0;b<this._downloadComplete.length;b++){var a=this._downloadComplete[b];if(a.func!=null){a.func()}}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},getGroupedRecords:function(B,y,d,am,A,ap,an,x,t){var E=0;var aq=this;if(!t){t=0}var v=new Array();for(var p=0;p<B.length;p++){v[p]=aq.generatekey()}if(!y){y="items"}if(!d){d="group"}if(!A){A="record"}if(!an){an="parentItem"}if(undefined===ap){ap="value"}var k=new Array();var s=0;var u=new Array();var l=B.length;var z=new Array();if(!x){var x=this.records}var n=x.length;var G=function(at){var ar=at;if(am){ae.each(am,function(){if(this.name&&this.map){ar[this.map]=ar[this.name]}})}return ar};for(var f=0;f<n;f++){var C=G(x[f]);id=C[aq.uniqueId];var w=new Array();var c=0;for(p=0;p<l;p++){var m=B[p];var ao=C[m];if(null==ao){continue}w[c++]={value:ao,hash:v[p]}}if(w.length!=l){break}var b=null;var h="";var F=-1;for(var a=0;a<w.length;a++){F++;var D=w[a].value;var q=w[a].hash;h=h+"_"+q+"_"+D;if(u[h]!=undefined&&u[h]!=null){b=u[h];continue}if(b==null){b={level:0};b[an]=null;b[d]=D;b[A]=C;if(C.expanded!==undefined){b.expanded=C.expanded}else{b.expanded=false}if(ap){b[ap]=C[ap]}b[y]=new Array();var o=k.length+t;if(!this._source.id||typeof C.uid==="number"||isFinite(C.uid)){o="Row"+o}b.uid=o;k[s++]=b}else{var g={level:b.level+1};g[an]=b;g[d]=D;g[y]=new Array();g[A]=C;if(C.expanded!==undefined){g.expanded=C.expanded}else{g.expanded=false}if(ap){g[ap]=C[ap]}g.uid=b.uid+"_"+b[y].length;b[y][b[y].length]=g;b=g}u[h]=b}if(C){C.leaf=true}if(b!=null){if(this._source.id==null){C.uid=b.uid+"_"+b[y].length}C[an]=b;C.level=b.level+1;b[y][b[y].length]=C}else{if(!C.uid){C.uid=this.generatekey()}}}return k},getRecordsHierarchy:function(s,u,z,g,w){var x=new Array();var v=this.records;if(w){v=w}if(this.records.length==0){return null}var b=z!=null?z:"items";var l=[];var y=v;var o=y.length;var n=(this._source&&this._source.hierarchy)?this._source.hierarchy.reservedNames:null;var d=function(B){var A=B;if(g){ae.each(g,function(){if(this.name&&this.map){A[this.map]=A[this.name]}})}return A};for(var c=0;c<o;c++){var a=ae.extend({},y[c]);var h=a[u];var k=a[s];l[k]={parentid:h,item:a}}for(var c=0;c<o;c++){var a=ae.extend({},y[c]);var h=a[u];var k=a[s];if(l[h]!=undefined){var a={parentid:h,item:l[k].item};var m=l[h].item;if(!m[b]){m[b]=[]}var q=m[b].length;var t=a.item;if(!n){if(t.parent==undefined){t.parent=m}}else{if(t[n.parent]==undefined){t[n.parent]=m}}var p=d(t);m[b][q]=p;l[h].item=m;l[k]=a}else{var t=l[k].item;if(!n){if(t.parent==undefined){t.parent=null}}else{if(t[n.parent]==undefined){t[n.parent]=null}}var p=d(t);if(!n){p.level=0}else{p[n.level]=0}x[x.length]=p}}if(x.length!=0){var f=function(A,D){for(var C=0;C<D.length;C++){if(!n){D[C].level=A}else{D[C][n.level]=A}var B=D[C][b];if(B){if(B.length>0){f(A+1,B)}else{if(!n){D[C].leaf=true}else{D[C][n.leaf]=true}}}else{if(!n){D[C].leaf=true}else{D[C][n.leaf]=true}}}};f(0,x)}return x},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null;this._bindingUpdate.splice(b,1);break}}},callBindingUpdate:function(c){for(var a=0;a<this._bindingUpdate.length;a++){var b=this._bindingUpdate[a];if(b.func!=null){b.func(c)}}},getid:function(h,f,b){if(h!=null&&h.name!=undefined){if(h.name){var g=ae(f).attr(h.name);if(g!=null&&g.toString().length>0){return g}else{if(h.map){try{var g=ae(f).attr(h.map);if(g!=null&&g.toString().length>0){return g}else{if(ae(h.map,f).length>0){return ae(h.map,f).text()}else{if(ae(h.name,f).length>0){return ae(h.name,f).text()}}}}catch(c){return b}}}return}}if(ae(h,f).length>0){return ae(h,f).text()}if(h){if(h.toString().length>0){var g=ae(f).attr(h);if(g!=null&&g.toString().length>0){return g}else{var d=h.split(this.mapChar);if(d.length>1){var k=f;for(var a=0;a<d.length;a++){if(k!=undefined){k=k[d[a]]}}if(k!=undefined){return k}}else{if(f[h]!=undefined){return f[h]}}}}}return b},loadjson:function(z,x,l){if(typeof(z)=="string"){z=ae.parseJSON(z)}if(l.root==undefined){l.root=""}if(l.record==undefined){l.record=""}var z=z||x;if(!z){z=[]}var A=this;if(l.root!=""){var t=l.root.split(A.mapChar);if(t.length>1){var D=z;for(var m=0;m<t.length;m++){if(D!=undefined){D=D[t[m]]}}z=D}else{if(z[l.root]!=undefined){z=z[l.root]}else{ae.each(z,function(E){var F=this;if(this==l.root){z=this;return false}else{if(this[l.root]!=undefined){z=this[l.root]}}})}if(!z){var t=l.root.split(A.mapChar);if(t.length>0){var D=z;for(var m=0;m<t.length;m++){if(D!=undefined){D=D[t[m]]}}z=D}}}}else{if(!z.length){for(obj in z){if(ae.isArray(z[obj])){z=z[obj];break}}}}if(z!=null&&z.length==undefined){z=ae.makeArray(z)}if(z==null||z.length==undefined){alert("JSON Parse error.");return}if(z.length==0){this.totalrecords=0;return}var u=z.length;this.totalrecords=this.virtualmode?(l.totalrecords||u):u;this.records=new Array();this.originaldata=new Array();var d=this.records;var h=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(l.loadallrecords){h=0;u=this.totalrecords}var n=0;if(this.virtualmode){h=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;n=h;h=0;u=this.totalrecords}var b=l.datafields?l.datafields.length:0;if(b==0){var y=z[0];var C=new Array();for(obj in y){var w=obj;C[C.length]={name:w}}l.datafields=C;b=C.length}var q=h;for(var f=h;f<u;f++){var v=z[f];if(v==undefined){break}if(l.record&&l.record!=""){v=v[l.record];if(v==undefined){continue}}var B=this.getid(l.id,v,f);if(typeof(B)==="object"){B=f}if(!this.recordids[B]){this.recordids[B]=v;var s={};for(var g=0;g<b;g++){var p=l.datafields[g];var k="";if(undefined==p||p==null){continue}if(p.map){if(ae.isFunction(p.map)){k=p.map(v)}else{var t=p.map.split(A.mapChar);if(t.length>0){var a=v;for(var m=0;m<t.length;m++){if(a!=undefined){a=a[t[m]]}}k=a}else{k=v[p.map]}}if(k!=undefined&&k!=null){k=this.getvaluebytype(k,p)}else{if(k==undefined&&k!=null){k=""}}}if(k==""&&!p.map){k=v[p.name];if(k==undefined&&k!=null){k=""}if(p.value!=undefined){if(k!=undefined){var c=k[p.value];if(c!=undefined){k=c}}}}k=this.getvaluebytype(k,p);if(p.displayname!=undefined){s[p.displayname]=k}else{s[p.name]=k}if(p.type==="array"){var o=function(aq){if(!aq){return}for(var E=0;E<aq.length;E++){var an=aq[E];if(!an){continue}for(var G=0;G<b;G++){var ar=l.datafields[G];var F="";if(undefined==ar||ar==null){continue}if(ar.map){if(ae.isFunction(ar.map)){F=ar.map(an)}else{var au=ar.map.split(A.mapChar);if(au.length>0){var ao=an;for(var at=0;at<au.length;at++){if(ao!=undefined){ao=ao[au[at]]}}F=ao}else{F=an[ar.map]}}if(F!=undefined&&F!=null){F=this.getvaluebytype(F,ar)}else{if(F==undefined&&F!=null){F=""}}}if(F==""&&!ar.map){F=an[ar.name];if(F==undefined&&F!=null){F=""}if(ar.value!=undefined){if(F!=undefined){var ap=F[ar.value];if(ap!=undefined){F=ap}}}}F=this.getvaluebytype(F,ar);if(ar.displayname!=undefined){an[ar.displayname]=F}else{an[ar.name]=F}if(ar.type==="array"){o.call(this,F)}}}};o.call(this,k)}}if(l.recordendindex<=0||h<l.recordendindex){d[n+q]=ae.extend({},s);d[n+q].uid=B;this.originaldata[n+q]=ae.extend({},d[f]);q++}}}this.records=d;this.cachedrecords=this.records},loadxml:function(t,x,g){if(typeof(t)=="string"){t=x=ae(ae.parseXML(t));t=null}if(g.root==undefined){g.root=""}if(g.record==undefined){g.record=""}var t;if(ae.jqx.browser.msie&&x){if(x.xml!=undefined){t=ae(g.root+" "+g.record,ae.parseXML(x.xml))}else{t=t||ae(g.root+" "+g.record,x)}}else{t=t||ae(g.root+" "+g.record,x)}if(!t){t=[]}var u=t.length;if(t.length==0){return}this.totalrecords=this.virtualmode?(g.totalrecords||u):u;this.records=new Array();this.originaldata=new Array();var G=this.records;var c=!this.pageable?g.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(g.loadallrecords){c=0;u=this.totalrecords}var k=0;if(this.virtualmode){c=!this.pageable?g.recordstartindex:this.pagesize*this.pagenum;k=c;c=0;u=this.totalrecords}var E=g.datafields?g.datafields.length:0;if(E==0){var B=t[0];var A=new Array();for(obj in B){var w=obj;A[A.length]={name:w}}g.datafields=A;E=A.length}var h=c;var C=false;for(var a=c;a<u;a++){var v=t[a];if(v==undefined){break}var y=this.getid(g.id,v,a);if(!this.recordids[y]){this.recordids[y]=v;var s={};var n=false;if(g.hierarchy&&g.hierarchy.root){n=true}for(var b=0;b<E;b++){var m=g.datafields[b];var d="";if(undefined==m||m==null){continue}if(m.map){if(ae.isFunction(m.map)){d=m.map(v)}else{var q=m.map.indexOf("[");if(q<0){d=ae(m.map,v);if(d.length==1){d=d.text()}else{C=true;var z=new Array();for(var F=0;F<d.length;F++){z.push(ae(d[F]).text())}d=z;if(n&&z.length>0){d=z[0]}}}else{var D=m.map.substring(0,q-1);var o=m.map.indexOf("]");var l=m.map.substring(q+1,o);d=ae(D,v).attr(l);if(d==undefined){d=ae(v).attr(l)}if(d==undefined){d=""}}if(d==""){d=ae(v).attr(m.map);if(d==undefined){d=""}}}}if(d==""){d=ae(m.name,v);if(d.length==1){d=d.text()}else{var z=new Array();for(var F=0;F<d.length;F++){z.push(ae(d[F]).text())}d=z;if(n&&z.length>0){d=z[0]}}if(d==""){d=ae(v).attr(m.name);if(d==undefined){d=""}}if(d==""){if(v.nodeName&&v.nodeName==m.name&&v.firstChild){d=ae(v.firstChild).text()}}}var f=d;d=this.getvaluebytype(d,m);if(m.displayname!=undefined){s[m.displayname]=d}else{s[m.name]=d}}if(g.recordendindex<=0||c<g.recordendindex){G[k+h]=ae.extend({},s);G[k+h].uid=y;this.originaldata[k+h]=ae.extend({},G[a]);h++}}}if(g.hierarchy&&g.hierarchy.root){for(var a=c;a<u;a++){var v=t[a];var p=G[a];if(ae(v).parent().length>0){var y=this.getid(g.id,ae(v).parents(g.hierarchy.record+":first"));p.parentuid=y}else{p.parentuid=null}}}this.records=G;this.cachedrecords=this.records},loadtext:function(b,n){if(b==null){return}var x=n.rowDelimiter||this.rowDelimiter||"\n";var s=b.split(x);var u=s.length;var c=b.split("\r");if(u==1&&c.length>1){s=c;u=s.length}this.totalrecords=this.virtualmode?(n.totalrecords||u):u;this.records=new Array();this.originaldata=new Array();var g=this.records;var l=!this.pageable?n.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(n.loadallrecords){l=0;u=this.totalrecords}var p=0;if(this.virtualmode){l=!this.pageable?n.recordstartindex:this.pagesize*this.pagenum;p=l;l=0;u=this.totalrecords}var f=n.datafields.length;var o=n.columnDelimiter||this.columnDelimiter;if(!o){o=(n.datatype==="tab"||n.datatype==="tsv")?"\t":","}for(var h=l;h<u;h++){var v=s[h];var d=null;if(!this.recordids[d]){if(n.id==null){d=h;this.recordids[d]=v}var t={};var w=s[h].split(o);for(var k=0;k<f;k++){if(k>=w.length){continue}var q=n.datafields[k];var m=w[k];if(q.map&&ae.isFunction(q.map)){m=q.map(v)}if(q.type){m=this.getvaluebytype(m,q)}var a=q.map||q.name||k.toString();t[a]=m;if(n.id!=null){if(n.id===q.name){d=m;this.recordids[d]=v}}}if(d==null){d=h}g[p+h]=ae.extend({},t);g[p+h].uid=d;this.originaldata[p+h]=ae.extend({},g[h])}}this.records=g;this.cachedrecords=this.records},getvaluebytype:function(a,f){var c=a;if(a==null){return a}if(ae.isArray(a)&&f.type!="array"){for(var d=0;d<a.length;d++){a[d]=this.getvaluebytype(a[d],f)}return a}if(f.type=="date"){if(a=="NaN"){a=""}else{var b=new Date(a);if(typeof a=="string"){if(f.format){var g=ae.jqx.dataFormat.parsedate(a,f.format);if(g!=null){b=g}}}if(b.toString()=="NaN"||b.toString()=="Invalid Date"){if(ae.jqx.dataFormat){a=ae.jqx.dataFormat.tryparsedate(a)}else{a=b}}else{a=b}if(a==null){a=c}}}else{if(f.type=="float"||f.type=="number"||f.type=="decimal"){if(a=="NaN"){a=""}else{var a=parseFloat(a);if(isNaN(a)){a=c}}}else{if(f.type=="int"||f.type=="integer"){var a=parseInt(a);if(isNaN(a)){a=c}}else{if(f.type=="bool"||f.type=="boolean"){if(a!=null){if(a.toLowerCase!=undefined){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}}if(a==1){a=true}else{if(a==0&&a!==""){a=false}else{a=""}}}}}}return a}};ae.jqx.dataFormat={};ae.extend(ae.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return(a&&(typeof a==="object"||ae.isFunction(a)))||false},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf){return a.indexOf(b)}for(var d=0,c=a.length;d<c;d++){if(a[d]===b){return d}}return -1},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNull:function(a){return a===null},isUndefined:function(a){return typeof a==="undefined"},isValue:function(a){return(this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a))},isEmpty:function(a){if(!this.isString(a)&&this.isValue(a)){return false}else{if(!this.isValue(a)){return true}}a=ae.trim(a).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return a===""},startsWith:function(a,b){return a.indexOf(b)===0},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return this.toString.call(a)==="[object Array]"},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,f=b.length;if(f===1){c=d[b];if(!c){throw"Invalid date format string '"+b+"'."}b=c}else{if(f===2&&b.charAt(0)==="%"){b=b.charAt(1)}}return b},getEra:function(d,f){if(!f){return 0}if(typeof d==="string"){return 0}var a,b=d.getTime();for(var c=0,g=f.length;c<g;c++){a=f[c].start;if(a===null||b>=a){return c}}return 0},toUpper:function(a){return a.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(d){var a=[];for(var b=0,c=d.length;b<c;b++){a[b]=this.toUpper(d[b])}return a},getEraYear:function(d,b,f,a){var c=d.getFullYear();if(!a&&b.eras){c-=b.eras[f].offset}return c},toUpper:function(a){if(a){return a.toUpperCase()}return""},getDayIndex:function(b,c,f){var g,a=b.days,d=b._upperDays;if(!d){b._upperDays=d=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr),this.toUpperArray(a.namesShort)]}c=c.toUpperCase();if(f){g=this.arrayIndexOf(d[1],c);if(g===-1){g=this.arrayIndexOf(d[2],c)}}else{g=this.arrayIndexOf(d[0],c)}return g},getMonthIndex:function(h,k,d){var g=h.months,f=h.monthsGenitive||h.months,b=h._upperMonths,a=h._upperMonthsGen;if(!b){h._upperMonths=b=[this.toUpperArray(g.names),this.toUpperArray(g.namesAbbr)];h._upperMonthsGen=a=[this.toUpperArray(f.names),this.toUpperArray(f.namesAbbr)]}k=this.toUpper(k);var c=this.arrayIndexOf(d?b[1]:b[0],k);if(c<0){c=this.arrayIndexOf(d?a[1]:a[0],k)}return c},appendPreOrPostMatch:function(c,g){var d=0,a=false;for(var b=0,f=c.length;b<f;b++){var h=c.charAt(b);switch(h){case"'":if(a){g.push("'")}else{d++}a=false;break;case"\\":if(a){g.push("\\")}a=!a;break;default:g.push(h);a=false;break}}return d},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(c,a){var b="";if(a&&a.target){b="target="+a.target}if(b!=""){return"<a "+b+' href="'+c+'">'+c+"</a>"}return'<a href="'+c+'">'+c+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(c,a,b){return this.formatnumber(c,a,b)},formatnumber:function(c,d,k){if(k==undefined||k==null||k==""){k=this.defaultcalendar()}if(d===""||d===null){return c}if(!this.isNumber(c)){c*=1}var h;if(d.length>1){h=parseInt(d.slice(1),10)}var a={};var g=d.charAt(0).toUpperCase();a.thousandsSeparator=k.thousandsseparator;a.decimalSeparator=k.decimalseparator;switch(g){case"D":case"d":case"F":case"f":a.decimalPlaces=h;break;case"N":case"n":a.decimalPlaces=0;break;case"C":case"c":a.decimalPlaces=h;if(k.currencysymbolposition=="before"){a.prefix=k.currencysymbol}else{a.suffix=k.currencysymbol}break;case"P":case"p":a.suffix=k.percentsymbol;a.decimalPlaces=h;break;default:throw"Bad number format specifier: "+g}if(this.isNumber(c)){var p=(c<0);var s=c+"";var f=(a.decimalSeparator)?a.decimalSeparator:".";var m;if(this.isNumber(a.decimalPlaces)){var o=a.decimalPlaces;var l=Math.pow(10,o);s=(c*l).toFixed(0)/l+"";m=s.lastIndexOf(".");if(o>0){if(m<0){s+=f;m=s.length-1}else{if(f!=="."){s=s.replace(".",f)}}while((s.length-1-m)<o){s+="0"}}}if(a.thousandsSeparator){var b=a.thousandsSeparator;m=s.lastIndexOf(f);m=(m>-1)?m:s.length;var q=s.substring(m);var t=-1;for(var n=m;n>0;n--){t++;if((t%3===0)&&(n!==m)&&(!p||(n>1))){q=b+q}q=s.charAt(n-1)+q}s=q}s=(a.prefix)?a.prefix+s:s;s=(a.suffix)?s+a.suffix:s;return s}else{return c}},tryparsedate:function(b,m){if(m==undefined||m==null){m=this.defaultcalendar()}var f=this;if(b==""){return null}if(b!=null&&!b.substring){b=b.toString()}if(b!=null&&b.substring(0,6)=="/Date("){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var p=new Date(+b.replace(/\/Date\((\d+)\)\//,"$1"));if(p=="Invalid Date"){var o=b.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var p=null;if(o){p=new Date(1*o[1]+3600000*o[2]+60000*o[3])}}if(p==null||p=="Invalid Date"||isNaN(p)){var l=d.exec(b);if(l){var a=new Date(parseInt(l[1]));if(l[2]){var k=parseInt(l[3]);if(l[2]==="-"){k=-k}var g=a.getUTCMinutes();a.setUTCMinutes(g-k)}if(!isNaN(a.valueOf())){return a}}}return p}patterns=m.patterns;for(prop in patterns){p=f.parsedate(b,patterns[prop],m);if(p){if(prop=="ISO"){var q=f.parsedate(b,patterns.ISO2,m);if(q){return q}}return p}}if(b!=null){var q=null;var c=[":","/","-"];var h=true;for(var s=0;s<c.length;s++){if(b.indexOf(c[s])!=-1){h=false}}if(h){var n=new Number(b);if(!isNaN(n)){return new Date(n)}}}return null},getparseregexp:function(n,g){var d=n._parseRegExp;if(!d){n._parseRegExp=d={}}else{var q=d[g];if(q){return q}}var h=this.expandFormat(n,g).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),l=["^"],u=[],m=0,s=0,a=this.getTokenRegExp(),p;while((p=a.exec(h))!==null){var b=h.slice(m,p.index);m=a.lastIndex;s+=this.appendPreOrPostMatch(b,l);if(s%2){l.push(p[0]);continue}var t=p[0],o=t.length,f;switch(t){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+n["/"]+")";break;default:throw"Invalid date format pattern '"+t+"'.";break}if(f){l.push(f)}u.push(p[0])}this.appendPreOrPostMatch(h.slice(m),l);l.push("$");var c=l.join("").replace(/\s+/g,"\\s+"),k={regExp:c,groups:u};return d[g]=k},outOfRange:function(a,c,b){return a<c||a>b},expandYear:function(a,c){var f=new Date(),g=this.getEra(f);if(c<100){var d=a.twoDigitYearMax;d=typeof d==="string"?new Date().getFullYear()%100+parseInt(d,10):d;var b=this.getEraYear(f,a,g);c+=b-(b%100);if(c>d){c-=100}}return c},parsedate:function(ap,C,d){if(d==undefined||d==null){d=this.defaultcalendar()}ap=this.trim(ap);var h=d,x=this.getparseregexp(h,C),p=new RegExp(x.regExp).exec(ap);if(p===null){return null}var B=x.groups,a=null,l=null,y=null,z=null,k=null,s=0,am,an=0,A=0,G=0,v=null,g=false;for(var F=0,D=B.length;F<D;F++){var w=p[F+1];if(w){var aq=B[F],t=aq.length,q=parseInt(w,10);switch(aq){case"dd":case"d":z=q;if(this.outOfRange(z,1,31)){return null}break;case"MMM":case"MMMM":y=this.getMonthIndex(h,w,t===3);if(this.outOfRange(y,0,11)){return null}break;case"M":case"MM":y=q-1;if(this.outOfRange(y,0,11)){return null}break;case"y":case"yy":case"yyyy":l=t<4?this.expandYear(h,q):q;if(this.outOfRange(l,0,9999)){return null}break;case"h":case"hh":s=q;if(s===12){s=0}if(this.outOfRange(s,0,11)){return null}break;case"H":case"HH":s=q;if(this.outOfRange(s,0,23)){return null}break;case"m":case"mm":an=q;if(this.outOfRange(an,0,59)){return null}break;case"s":case"ss":A=q;if(this.outOfRange(A,0,59)){return null}break;case"tt":case"t":g=h.PM&&(w===h.PM[0]||w===h.PM[1]||w===h.PM[2]);if(!g&&(!h.AM||(w!==h.AM[0]&&w!==h.AM[1]&&w!==h.AM[2]))){return null}break;case"f":case"ff":case"fff":G=q*Math.pow(10,3-t);if(this.outOfRange(G,0,999)){return null}break;case"ddd":case"dddd":k=this.getDayIndex(h,w,t===3);if(this.outOfRange(k,0,6)){return null}break;case"zzz":var u=w.split(/:/);if(u.length!==2){return null}am=parseInt(u[0],10);if(this.outOfRange(am,-12,13)){return null}var n=parseInt(u[1],10);if(this.outOfRange(n,0,59)){return null}v=(am*60)+(startsWith(w,"-")?-n:n);break;case"z":case"zz":am=q;if(this.outOfRange(am,-12,13)){return null}v=am*60;break;case"g":case"gg":var f=w;if(!f||!h.eras){return null}f=trim(f.toLowerCase());for(var E=0,ao=h.eras.length;E<ao;E++){if(f===h.eras[E].name.toLowerCase()){a=E;break}}if(a===null){return null}break}}}var m=new Date(),b,o=h.convert;b=m.getFullYear();if(l===null){l=b}else{if(h.eras){l+=h.eras[(a||0)].offset}}if(y===null){y=0}if(z===null){z=1}if(o){m=o.toGregorian(l,y,z);if(m===null){return null}}else{m.setFullYear(l,y,z);if(m.getDate()!==z){return null}if(k!==null&&m.getDay()!==k){return null}}if(g&&s<12){s+=12}m.setHours(s,an,A,G);if(v!==null){var c=m.getMinutes()-(v+m.getTimezoneOffset());m.setHours(m.getHours()+parseInt(c/60,10),c%60)}return m},cleardatescache:function(){this.datescache=new Array()},formatDate:function(c,a,b){return this.formatdate(c,a,b)},formatdate:function(a,A,g){if(g==undefined||g==null){g=this.defaultcalendar()}if(typeof a==="string"){return a}var u=a.toString()+"_"+A;if(this.datescache&&this.datescache[u]){return this.datescache[u]}if(!A||!A.length||A==="i"){var x;x=this.formatDate(a,g.patterns.F,culture);return x}var D=g.eras,w=A==="s";A=this.expandFormat(g,A);x=[];var q,C=["0","00","000"],m,l,y=/([^d]|^)(d|dd)([^d]|$)/g,z=0,d=this.getTokenRegExp(),v;function o(G,am){var E,F=G+"";if(am>1&&F.length<am){E=(C[am-2]+F);return E.substr(E.length-am,am)}else{E=F}return E}function B(){if(m||l){return m}m=y.test(A);l=true;return m}function t(E,F){if(v){return v[F]}if(E.getMonth!=undefined){switch(F){case 0:return E.getFullYear();case 1:return E.getMonth();case 2:return E.getDate()}}}for(;;){var p=d.lastIndex,f=d.exec(A);var k=A.slice(p,f?f.index:A.length);z+=this.appendPreOrPostMatch(k,x);if(!f){break}if(z%2){x.push(f[0]);continue}var c=f[0],s=c.length;switch(c){case"ddd":case"dddd":var h=(s===3)?g.days.namesAbbr:g.days.names;x.push(h[a.getDay()]);break;case"d":case"dd":m=true;x.push(o(t(a,2),s));break;case"MMM":case"MMMM":var b=t(a,1);x.push(g.months[s===3?"namesAbbr":"names"][b]);break;case"M":case"MM":x.push(o(t(a,1)+1,s));break;case"y":case"yy":case"yyyy":b=this.getEraYear(a,g,this.getEra(a,D),w);if(s<4){b=b%100}x.push(o(b,s));break;case"h":case"hh":q=a.getHours()%12;if(q===0){q=12}x.push(o(q,s));break;case"H":case"HH":x.push(o(a.getHours(),s));break;case"m":case"mm":x.push(o(a.getMinutes(),s));break;case"s":case"ss":x.push(o(a.getSeconds(),s));break;case"t":case"tt":b=a.getHours()<12?(g.AM?g.AM[0]:" "):(g.PM?g.PM[0]:" ");x.push(s===1?b.charAt(0):b);break;case"f":case"ff":case"fff":x.push(o(a.getMilliseconds(),3).substr(0,s));break;case"z":case"zz":q=a.getTimezoneOffset()/60;x.push((q<=0?"+":"-")+o(Math.floor(Math.abs(q)),s));break;case"zzz":q=a.getTimezoneOffset()/60;x.push((q<=0?"+":"-")+o(Math.floor(Math.abs(q)),2)+":"+o(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":if(g.eras){x.push(g.eras[this.getEra(a,D)].name)}break;case"/":x.push(g["/"]);break;default:throw"Invalid date format pattern '"+c+"'.";break}}var n=x.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[u]=n;return n}});ae.jqx.data={};var ab,O,X=/#.*$/,al=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ah=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,ad=/^(?:GET|HEAD)$/,Y=/^\/\//,ac=/\?/,ak=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ai=/([?&])_=[^&]*/,af=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,P=/\s+/,N=jQuery.fn.load,L={},T={},V=["*/"]+["*"];try{O=location.href}catch(W){O=document.createElement("a");O.href="";O=O.href}ab=af.exec(O.toLowerCase())||[];function S(a){return function(c,l){if(typeof c!=="string"){l=c;c="*"}var g,k,h,d=c.toLowerCase().split(P),f=0,b=d.length;if(jQuery.isFunction(l)){for(;f<b;f++){g=d[f];h=/^\+/.test(g);if(h){g=g.substr(1)||"*"}k=a[g]=a[g]||[];k[h?"unshift":"push"](l)}}}}function K(n,a,h,c,f,l){f=f||a.dataTypes[0];l=l||{};l[f]=true;var b,g=n[f],m=0,d=g?g.length:0,k=(n===L);for(;m<d&&(k||!b);m++){b=g[m](a,h,c);if(typeof b==="string"){if(!k||l[b]){b=undefined}else{a.dataTypes.unshift(b);b=K(n,a,h,c,b,l)}}}if((k||!b)&&!l["*"]){b=K(n,a,h,c,"*",l)}return b}function M(c,b){var d,f,a=ae.jqx.data.ajaxSettings.flatOptions||{};for(d in b){if(b[d]!==undefined){(a[d]?c:(f||(f={})))[d]=b[d]}}if(f){jQuery.extend(true,c,f)}}ae.extend(ae.jqx.data,{ajaxSetup:function(a,b){if(b){M(a,ae.jqx.data.ajaxSettings)}else{b=a;a=ae.jqx.data.ajaxSettings}M(a,b);return a},ajaxSettings:{url:O,isLocal:ah.test(ab[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":V},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:S(L),ajaxTransport:S(T),ajax:function(q,u){if(typeof q==="object"){u=q;q=undefined}u=u||{};var n,z,t,b,l,f,v,c,m=ae.jqx.data.ajaxSetup({},u),x=m.context||m,h=x!==m&&(x.nodeType||x instanceof jQuery)?jQuery(x):jQuery.event,y=jQuery.Deferred(),C=jQuery.Callbacks("once memory"),p=m.statusCode||{},g={},B={},s=0,o="canceled",d={readyState:0,setRequestHeader:function(E,D){if(!s){var F=E.toLowerCase();E=B[F]=B[F]||E;g[E]=D}return this},getAllResponseHeaders:function(){return s===2?z:null},getResponseHeader:function(D){var E;if(s===2){if(!t){t={};while((E=al.exec(z))){t[E[1].toLowerCase()]=E[2]}}E=t[D.toLowerCase()]}return E===undefined?null:E},overrideMimeType:function(D){if(!s){m.mimeType=D}return this},abort:function(D){D=D||o;if(b){b.abort(D)}k(0,D);return this}};function k(am,ar,G,ap){var an,D,F,ao,E,aq=ar;if(s===2){return}s=2;if(l){clearTimeout(l)}b=undefined;z=ap||"";d.readyState=am>0?4:0;if(G){ao=U(m,d,G)}if(am>=200&&am<300||am===304){if(m.ifModified){E=d.getResponseHeader("Last-Modified");if(E){jQuery.lastModified[n]=E}E=d.getResponseHeader("Etag");if(E){jQuery.etag[n]=E}}if(am===304){aq="notmodified";an=true}else{an=aj(m,ao);aq=an.state;D=an.data;F=an.error;an=!F}}else{F=aq;if(!aq||am){aq="error";if(am<0){am=0}}}d.status=am;d.statusText=(ar||aq)+"";if(an){y.resolveWith(x,[D,aq,d])}else{y.rejectWith(x,[d,aq,F])}d.statusCode(p);p=undefined;if(v){h.trigger("ajax"+(an?"Success":"Error"),[d,m,an?D:F])}C.fireWith(x,[d,aq]);if(v){h.trigger("ajaxComplete",[d,m]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}y.promise(d);d.success=d.done;d.error=d.fail;d.complete=C.add;d.statusCode=function(D){if(D){var E;if(s<2){for(E in D){p[E]=[p[E],D[E]]}}else{E=D[d.status];d.always(E)}}return this};m.url=((q||m.url)+"").replace(X,"").replace(Y,ab[1]+"//");m.dataTypes=jQuery.trim(m.dataType||"*").toLowerCase().split(P);if(m.crossDomain==null){f=af.exec(m.url.toLowerCase());m.crossDomain=!!(f&&(f[1]!==ab[1]||f[2]!==ab[2]||(f[3]||(f[1]==="http:"?80:443))!=(ab[3]||(ab[1]==="http:"?80:443))))}if(m.data&&m.processData&&typeof m.data!=="string"){m.data=jQuery.param(m.data,m.traditional)}K(L,m,u,d);if(s===2){return d}v=m.global;m.type=m.type.toUpperCase();m.hasContent=!ad.test(m.type);if(v&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!m.hasContent){if(m.data){m.url+=(ac.test(m.url)?"&":"?")+m.data;delete m.data}n=m.url;if(m.cache===false){var w=jQuery.now(),A=m.url.replace(ai,"$1_="+w);m.url=A+((A===m.url)?(ac.test(m.url)?"&":"?")+"_="+w:"")}}if(m.data&&m.hasContent&&m.contentType!==false||u.contentType){d.setRequestHeader("Content-Type",m.contentType)}if(m.ifModified){n=n||m.url;if(jQuery.lastModified[n]){d.setRequestHeader("If-Modified-Since",jQuery.lastModified[n])}if(jQuery.etag[n]){d.setRequestHeader("If-None-Match",jQuery.etag[n])}}d.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", "+V+"; q=0.01":""):m.accepts["*"]);for(c in m.headers){d.setRequestHeader(c,m.headers[c])}if(m.beforeSend&&(m.beforeSend.call(x,d,m)===false||s===2)){return d.abort()}o="abort";for(c in {success:1,error:1,complete:1}){d[c](m[c])}b=K(T,m,u,d);if(!b){k(-1,"No Transport")}else{d.readyState=1;if(v){h.trigger("ajaxSend",[d,m])}if(m.async&&m.timeout>0){l=setTimeout(function(){d.abort("timeout")},m.timeout)}try{s=1;b.send(g,k)}catch(a){if(s<2){k(-1,a)}else{throw a}}}return d},active:0,lastModified:{},etag:{}});function U(a,b,g){var h,f,k,d,m=a.contents,c=a.dataTypes,l=a.responseFields;for(f in l){if(f in g){b[l[f]]=g[f]}}while(c[0]==="*"){c.shift();if(h===undefined){h=a.mimeType||b.getResponseHeader("content-type")}}if(h){for(f in m){if(m[f]&&m[f].test(h)){c.unshift(f);break}}}if(c[0] in g){k=c[0]}else{for(f in g){if(!c[0]||a.converters[f+" "+c[0]]){k=f;break}if(!d){d=f}}k=k||d}if(k){if(k!==c[0]){c.unshift(k)}return g[k]}}function aj(a,l){var c,n,f,h,d=a.dataTypes.slice(),m=d[0],b={},k=0;if(a.dataFilter){l=a.dataFilter(l,a.dataType)}if(d[1]){for(c in a.converters){b[c.toLowerCase()]=a.converters[c]}}for(;(f=d[++k]);){if(f!=="*"){if(m!=="*"&&m!==f){c=b[m+" "+f]||b["* "+f];if(!c){for(n in b){h=n.split(" ");if(h[1]===f){c=b[m+" "+h[0]]||b["* "+h[0]];if(c){if(c===true){c=b[n]}else{if(b[n]!==true){f=h[0];d.splice(k--,0,f)}}break}}}}if(c!==true){if(c&&a["throws"]){l=c(l)}else{try{l=c(l)}catch(g){return{state:"parsererror",error:c?g:"No conversion from "+m+" to "+f}}}}}m=f}}return{state:"success",data:l}}var H=[],Z=/\?/,R=/(=)\?(?=&|$)|\?\?/,e=jQuery.now();ae.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=H.pop()||(jQuery.expando+"_"+(e++));this[a]=true;return a}});ae.jqx.data.ajaxPrefilter("json jsonp",function(a,h,b){var c,f,d,l=a.data,n=a.url,m=a.jsonp!==false,g=m&&R.test(n),k=m&&!g&&typeof l==="string"&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&R.test(l);if(a.dataTypes[0]==="jsonp"||g||k){c=a.jsonpCallback=jQuery.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;f=window[c];if(g){a.url=n.replace(R,"$1"+c)}else{if(k){a.data=l.replace(R,"$1"+c)}else{if(m){a.url+=(Z.test(n)?"&":"?")+a.jsonp+"="+c}}}a.converters["script json"]=function(){if(!d){jQuery.error(c+" was not called")}return d[0]};a.dataTypes[0]="json";window[c]=function(){d=arguments};b.always(function(){window[c]=f;if(a[c]){a.jsonpCallback=h.jsonpCallback;H.push(c)}if(d&&jQuery.isFunction(f)){f(d[0])}d=f=undefined});return"script"}});ae.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){jQuery.globalEval(a);return a}}});ae.jqx.data.ajaxPrefilter("script",function(a){if(a.cache===undefined){a.cache=false}if(a.crossDomain){a.type="GET";a.global=false}});ae.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var c,b=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(f,d){c=document.createElement("script");c.async="async";if(a.scriptCharset){c.charset=a.scriptCharset}c.src=a.url;c.onload=c.onreadystatechange=function(h,g){if(g||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;if(b&&c.parentNode){b.removeChild(c)}c=undefined;if(!g){d(200,"success")}}};b.insertBefore(c,b.firstChild)},abort:function(){if(c){c.onload(0,1)}}}}});var J,I=window.ActiveXObject?function(){for(var a in J){J[a](0,1)}}:false,aa=0;function ag(){try{return new window.XMLHttpRequest()}catch(a){}}function Q(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}ae.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&ag()||Q()}:ag;(function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&("withCredentials" in a)})})(ae.jqx.data.ajaxSettings.xhr());if(jQuery.support.ajax){ae.jqx.data.ajaxTransport(function(b){if(!b.crossDomain||jQuery.support.cors){var a;return{send:function(h,g){var c,d,k=b.xhr();if(b.username){k.open(b.type,b.url,b.async,b.username,b.password)}else{k.open(b.type,b.url,b.async)}if(b.xhrFields){for(d in b.xhrFields){k[d]=b.xhrFields[d]}}if(b.mimeType&&k.overrideMimeType){k.overrideMimeType(b.mimeType)}if(!b.crossDomain&&!h["X-Requested-With"]){h["X-Requested-With"]="XMLHttpRequest"}try{for(d in h){k.setRequestHeader(d,h[d])}}catch(f){}k.send((b.hasContent&&b.data)||null);a=function(l,s){var q,t,u,n,o;try{if(a&&(s||k.readyState===4)){a=undefined;if(c){k.onreadystatechange=jQuery.noop;if(I){delete J[c]}}if(s){if(k.readyState!==4){k.abort()}}else{q=k.status;u=k.getAllResponseHeaders();n={};o=k.responseXML;if(o&&o.documentElement){n.xml=o}try{n.text=k.responseText}catch(m){}try{t=k.statusText}catch(m){t=""}if(!q&&b.isLocal&&!b.crossDomain){q=n.text?200:404}else{if(q===1223){q=204}}}}}catch(p){if(!s){g(-1,p)}}if(n){g(q,t,n,u)}};if(!b.async){a()}else{if(k.readyState===4){setTimeout(a,0)}else{c=++aa;if(I){if(!J){J={};jQuery(window).unload(I)}J[c]=a}k.onreadystatechange=a}}},abort:function(){if(a){a(0,1)}}}}})}ae.jqx.filter=function(){this.operator="and";var l=0;var o=1;var f=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"];var c=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var b=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var m=["EQUAL","NOT_EQUAL"];var n=new Array();var d=new Array();this.evaluate=function(v){var t=true;for(var s=0;s<n.length;s++){var u=n[s].evaluate(v);if(s==0){t=u}else{if(d[s]==o||d[s]=="or"){t=t||u}else{t=t&&u}}}return t};this.getfilterscount=function(){return n.length};this.setoperatorsbyfiltertype=function(t,s){switch(t){case"numericfilter":c=s;break;case"stringfilter":f=s;break;case"datefilter":b=s;break;case"booleanfilter":m=s;break}};this.getoperatorsbyfiltertype=function(t){var s=new Array();switch(t){case"numericfilter":s=c.slice(0);break;case"stringfilter":s=f.slice(0);break;case"datefilter":s=b.slice(0);break;case"booleanfilter":s=m.slice(0);break}return s};var g=function(){var s=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(s()+"-"+s()+"-"+s())};this.createfilter=function(w,t,x,s,u,v){if(w==null||w==undefined){return null}switch(w){case"numericfilter":return new k(t,x.toUpperCase());case"stringfilter":return new a(t,x.toUpperCase());case"datefilter":return new q(t,x.toUpperCase(),u,v);case"booleanfilter":return new p(t,x.toUpperCase());case"custom":return new h(t,x.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");return null};this.getfilters=function(){var u=new Array();for(var t=0;t<n.length;t++){var s={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:d[t],type:n[t].type};u[t]=s}return u};this.addfilter=function(t,s){n[n.length]=s;s.key=g();d[d.length]=t};this.removefilter=function(s){for(var t=0;t<n.length;t++){if(n[t].key==s.key){n.splice(t,1);d.splice(t,1);break}}};this.getoperatorat=function(s){if(s==undefined||s==null){return null}if(s<0||s>n.length){return null}return d[s]};this.setoperatorat=function(s,t){if(s==undefined||s==null){return null}if(s<0||s>n.length){return null}d[t]=t};this.getfilterat=function(s){if(s==undefined||s==null){return null}if(s<0||s>n.length){return null}return n[s]};this.setfilterat=function(t,s){if(t==undefined||t==null){return null}if(t<0||t>n.length){return null}s.key=g();n[t]=s};this.clear=function(){n=new Array();d=new Array()};var a=function(s,t){this.filtervalue=s;this.comparisonoperator=t;this.type="stringfilter";this.evaluate=function(G){var am=this.filtervalue;var A=this.comparisonoperator;if(G==null||G==undefined||G==""){if(A=="NULL"){return true}if(A=="EQUAL"&&G==am){return true}if(A=="NOT_EQUAL"&&G!=am){return true}if(A!="EMPTY"){return false}else{if(G==""){return true}}}var y="";try{y=G.toString()}catch(F){return true}var z=function(ar,at){switch(A){case"EQUAL":return ae.jqx.string.equalsIgnoreCase(ar,at);case"EQUAL_CASE_SENSITIVE":return ae.jqx.string.equals(ar,at);case"NOT_EQUAL":return !ae.jqx.string.equalsIgnoreCase(ar,at);case"NOT_EQUAL_CASE_SENSITIVE":return !ae.jqx.string.equals(ar,at);case"CONTAINS":return ae.jqx.string.containsIgnoreCase(ar,at);case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(ar,at);case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(ar,at);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(ar,at);case"EMPTY":return ar=="";case"NOT_EMPTY":return ar!="";case"NOT_NULL":return ar!=null;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(ar,at);case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(ar,at);case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(ar,at);case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(ar,at);default:return false}};var u=new Array();if(am&&am.indexOf){if(am.indexOf("|")>=0||am.indexOf(" AND ")>=0||am.indexOf(" OR ")>=0||am.indexOf(" and ")>=0||am.indexOf(" or ")>=0){var aq=z(y,am);if(aq){return aq}var ap=am.indexOf(" AND ")>=0?am.split(" AND "):new Array();var v=am.indexOf(" OR ")>=0?am.split(" OR "):new Array();var w=am.indexOf(" and ")>=0?am.split(" and "):new Array();var ao=am.indexOf(" or ")>=0?am.split(" or "):new Array();var x=am.indexOf("|")>=0?am.split("|"):new Array();if(x.length>0){for(var B=0;B<x.length;B++){x[B]=ae.trim(x[B])}}var C=am.indexOf(" ")>=0?am.split(" "):new Array();if(C.length>0){for(var B=0;B<C.length;B++){C[B]=ae.trim(C[B])}}ap=ap.concat(C);ap=ap.concat(w);v=v.concat(x);v=v.concat(ao);if(ap.length>0){for(var B=0;B<ap.length;B++){if(!ap[B].indexOf(" OR ")>=0){u.push(ap[B])}}}if(v.length>0){for(var B=0;B<v.length;B++){if(!v[B].indexOf(" AND ")>=0){u.push(v[B])}}}var D=undefined;for(var E=0;E<u.length;E++){var G=u[E];var aq=z(y,G);var an=E<ap.length?"and":"or";if(D==undefined){D=aq}else{if(an=="or"){D=D||aq}else{D=D&&aq}}}return D}}return z(y,am)}};var p=function(s,t){this.filtervalue=s;this.comparisonoperator=t;this.type="booleanfilter";this.evaluate=function(w){var x=this.filtervalue;var u=this.comparisonoperator;if(w==null||w==undefined){if(u=="NULL"){return true}return false}var v=w;switch(u){case"EQUAL":return v==x||v.toString()==x.toString();case"NOT_EQUAL":return v!=x&&v.toString()!=x.toString();default:return false}}};var k=function(s,t){this.filtervalue=s;this.comparisonoperator=t;this.type="numericfilter";this.evaluate=function(F){var G=this.filtervalue;var A=this.comparisonoperator;if(F===null||F===undefined||F===""){if(A=="NOT_NULL"){return false}if(A=="NULL"){return true}else{switch(A){case"EQUAL":return F==G;case"NOT_EQUAL":return F!=G}return false}}else{if(A=="NULL"){return false}if(A=="NOT_NULL"){return true}}var y=F;try{y=parseFloat(y)}catch(E){if(F.toString()!=""){return false}}var z=function(ar,at){switch(A){case"EQUAL":return ar==at;case"NOT_EQUAL":return ar!=at;case"GREATER_THAN":return ar>at;case"GREATER_THAN_OR_EQUAL":return ar>=at;case"LESS_THAN":return ar<at;case"LESS_THAN_OR_EQUAL":return ar<=at;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(ar.toString(),at.toString());case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(ar.toString(),at.toString());case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(ar.toString(),at.toString());case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(ar.toString(),at.toString());case"CONTAINS":return ae.jqx.string.containsIgnoreCase(ar.toString(),at.toString());case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(ar.toString(),at.toString());case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(ar.toString(),at.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(ar.toString(),at.toString());default:return true}};var aq=new Array();if(G&&G.indexOf){if(G.indexOf("|")>=0||G.indexOf(" AND ")>=0||G.indexOf(" OR ")>=0||G.indexOf(" and ")>=0||G.indexOf(" or ")>=0){var ap=z(y,G);if(ap){return ap}G=G.toString();var ao=G.indexOf(" AND ")>=0?G.split(" AND "):new Array();var u=G.indexOf(" OR ")>=0?G.split(" OR "):new Array();var v=G.indexOf(" and ")>=0?G.split(" and "):new Array();var an=G.indexOf(" or ")>=0?G.split(" or "):new Array();ao=ao.concat(v);u=u.concat(an);var w=G.indexOf("|")>=0?G.split("|"):new Array();if(w.length>0){for(var B=0;B<w.length;B++){w[B]=ae.trim(w[B])}}u=u.concat(w);if(ao.length>0){for(var B=0;B<ao.length;B++){if(!ao[B].indexOf(" OR ")>=0){aq.push(ao[B])}}}if(u.length>0){for(var B=0;B<u.length;B++){if(!u[B].indexOf(" AND ")>=0){aq.push(u[B])}}}var C=undefined;for(var D=0;D<aq.length;D++){var F=aq[D];if(F&&F.indexOf&&F.indexOf("..")>=0){var x=F.toString().split("..");if(x.length==2){ap=y>=x[0]&&y<=x[1]}}else{var ap=z(y,F)}var am=D<ao.length?"and":"or";if(C==undefined){C=ap}else{if(am=="or"){C=C||ap}else{C=C&&ap}}}return C}}if(G&&G.indexOf&&G.indexOf("..")>=0){aq=G.toString().split("..");if(aq.length==2){return y>=aq[0]&&y<=aq[1]}}return z(y,G)}};var q=function(y,t,s,w){this.filtervalue=y;this.type="datefilter";if(s!=undefined&&w!=undefined){var x=ae.jqx.dataFormat.parsedate(y,s,w);if(x!=null){this.filterdate=x}else{var u=ae.jqx.dataFormat.tryparsedate(y,w);if(u!=null){this.filterdate=u}}}else{var v=new Date(y);if(v.toString()=="NaN"||v.toString()=="Invalid Date"){this.filterdate=ae.jqx.dataFormat.tryparsedate(y)}else{this.filterdate=v}}if(!this.filterdate){var v=new Date(y);if(v.toString()=="NaN"||v.toString()=="Invalid Date"){this.filterdate=ae.jqx.dataFormat.tryparsedate(y)}else{this.filterdate=v}}this.comparisonoperator=t;this.evaluate=function(aq){var ar=this.filtervalue;var B=this.comparisonoperator;if(aq==null||aq==undefined||aq==""){if(B=="NOT_NULL"){return false}if(B=="NULL"){return true}else{switch(B){case"EQUAL":return aq==ar;case"NOT_EQUAL":return aq!=ar}return false}}else{if(B=="NULL"){return false}if(B=="NOT_NULL"){return true}}var z=new Date();z.setFullYear(1900,0,1);z.setHours(12,0,0,0);try{var C=new Date(aq);if(C.toString()=="NaN"||C.toString()=="Invalid Date"){aq=ae.jqx.dataFormat.tryparsedate(aq)}else{aq=C}z=aq;var E=false;if(s!=undefined&&w!=undefined){if(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0){E=true;if(ar&&ar.toString().indexOf(":")==-1){var aw=ae.jqx.dataFormat.tryparsedate(ar.toString()+":00",w);if(aw!=null){this.filterdate=aw}}}}if(!E){z.setHours(0);z.setMinutes(0);z.setSeconds(0)}}catch(ap){if(aq.toString()!=""){return false}}if(this.filterdate!=null){ar=this.filterdate}else{if(ar.indexOf){if(ar.indexOf(":")!=-1||!isNaN(parseInt(ar))){var ax=new Date(z);ax.setHours(12,0,0,0);var ay=ar.split(":");for(var D=0;D<ay.length;D++){if(D==0){ax.setHours(ay[D])}if(D==1){ax.setMinutes(ay[D])}if(D==2){ax.setSeconds(ay[D])}}ar=ax}}}if(E){if(ar&&ar.setFullYear){if(z&&z.getFullYear){if(s.indexOf("d")==-1&&s.indexOf("M")==-1&&s.indexOf("y")==-1){ar.setFullYear(z.getFullYear(),z.getMonth(),z.getDate())}}}}var A=function(am,an){if(am==null){am=""}switch(B){case"EQUAL":return am.toString()==an.toString();case"NOT_EQUAL":return am.toString()!=an.toString();case"GREATER_THAN":return am>an;case"GREATER_THAN_OR_EQUAL":return am>=an;case"LESS_THAN":return am<an;case"LESS_THAN_OR_EQUAL":return am<=an;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(am.toString(),an.toString());case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(am.toString(),an.toString());case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(am.toString(),an.toString());case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(am.toString(),an.toString());case"CONTAINS":return ae.jqx.string.containsIgnoreCase(am.toString(),an.toString());case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(am.toString(),an.toString());case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(am.toString(),an.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(am.toString(),an.toString());default:return true}};var az=new Array();if(ar&&ar.indexOf){if(ar.indexOf("|")>=0||ar.indexOf(" AND ")>=0||ar.indexOf(" OR ")>=0||ar.indexOf(" and ")>=0||ar.indexOf(" or ")>=0){var aw=A(z,ar);if(aw){return aw}var av=ar.indexOf(" AND ")>=0?ar.split(" AND "):new Array();var aA=ar.indexOf(" OR ")>=0?ar.split(" OR "):new Array();var aB=ar.indexOf(" and ")>=0?ar.split(" and "):new Array();var au=ar.indexOf(" or ")>=0?ar.split(" or "):new Array();av=av.concat(aB);aA=aA.concat(au);var aC=ar.indexOf("|")>=0?ar.split("|"):new Array();if(aC.length>0){for(var D=0;D<aC.length;D++){aC[D]=ae.trim(aC[D])}}aA=aA.concat(aC);if(av.length>0){for(var D=0;D<av.length;D++){if(!av[D].indexOf(" OR ")>=0){az.push(av[D])}}}if(aA.length>0){for(var D=0;D<aA.length;D++){if(!aA[D].indexOf(" AND ")>=0){az.push(aA[D])}}}var F=undefined;for(var G=0;G<az.length;G++){var aq=az[G];if(aq&&aq.indexOf&&aq.indexOf("..")>=0){var aD=aq.toString().split("..");if(aD.length==2){aw=z>=aD[0]&&z<=aD[1]}}else{var aw=A(z,aq)}var at=G<av.length?"and":"or";if(F==undefined){F=aw}else{if(at=="or"){F=F||aw}else{F=F&&aw}}}return F}}if(ar&&ar.indexOf&&ar.indexOf("..")>=0){az=ar.toString().split("..");if(az.length==2){return z>=az[0]&&z<=az[1]}}return A(z,ar)}};var h=function(t,u,s){this.filtervalue=t;this.comparisonoperator=u;this.evaluate=function(v,w){return s(this.filtervalue,v,this.comparisonoperator)}}}})(jQuery);(function(b){b.jqx.jqxWidget("jqxDateTimeInput","",{});b.extend(b.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){if(this.value==undefined){this.value=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}if(this.minDate==undefined){this.minDate=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1)}this.defaultMinDate=this.minDate;if(this.maxDate==undefined){this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1)}this.defaultMaxDate=this.maxDate;this.min=new Date(1900,0,1);this.max=new Date(2100,0,1);this.rowHeaderWidth=25;this.enableViews=true;this.views=["month","year","decade"];this.selectableDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.change=null;this.changing=null;this.columnHeaderHeight=20;this.titleHeight=25;if(this.firstDayOfWeek==undefined){this.firstDayOfWeek=0}if(this.showWeekNumbers==undefined){this.showWeekNumbers=false}this.cookies=false;this.cookieoptions=null;this.showFooter=false;if(this.formatString===undefined){this.formatString="dd/MM/yyyy"}if(this.width===undefined){this.width=200}if(this.height===undefined){this.height=25}if(this.dayNameFormat===undefined){this.dayNameFormat="firstTwoLetters"}if(this.textAlign===undefined){this.textAlign="left"}if(this.readonly===undefined){this.readonly=false}if(this.culture===undefined){this.culture="default"}this.activeEditor=this.activeEditor||null;if(this.showCalendarButton===undefined){this.showCalendarButton=true}if(this.openDelay==undefined){this.openDelay=250}if(this.closeDelay===undefined){this.closeDelay=300}if(this.closeCalendarAfterSelection===undefined){this.closeCalendarAfterSelection=true}this.isEditing=false;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.enableAbsoluteSelection=false;this.disabled=false;this.buttonSize=18;this.animationType="slide";this.dropDownWidth="200px";this.dropDownHeight="205px";this.selectionMode="default";this.rtl=false;this._editor=false;this.todayString="Today";this.clearString="Clear";this.popupZIndex=9999999999999;this.allowNullDate=true;this.enableHover=true;this.allowKeyboardDelete=true;this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}};this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"];this.aria={"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(q){var o="";if(!this.host.jqxCalendar){throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.")}if(this.host.attr("value")){o=true;var m=this.host.attr("value");if(this.selectionMode!="range"){var a=new Date(m);if(a!=undefined&&!isNaN(a)){this.value=b.jqx._jqxDateTimeInput.getDateTime(a)}}}if(this.value!=null&&this.value instanceof Date){this.value=b.jqx._jqxDateTimeInput.getDateTime(this.value)}else{if(this.value!=null&&typeof(this.value)=="string"){var a=new Date(this.value);if(a!=undefined&&!isNaN(a)){this.value=b.jqx._jqxDateTimeInput.getDateTime(a)}else{if(this.value.indexOf(",")>=0){this.value=this.value.replace(/\,/g,"/");var a=new Date(this.value);if(a!=undefined&&!isNaN(a)){this.value=b.jqx._jqxDateTimeInput.getDateTime(a)}}}}}this.host.attr("data-role","input");this.render();b.jqx.aria(this);if(this.getDate()!=null){b.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString())}else{b.jqx.aria(this,"aria-label","Current focused date is Null")}if(this.minDate!==this.defaultMinDate){this.min=this.minDate}if(this.maxDate!==this.defaultMaxDate){this.max=this.maxDate}this.setMaxDate(this.max,false);this.setMinDate(this.min,false);if(this.selectionMode=="range"){if(o){var m=this.host.attr("value");var n=m.substring(0,m.indexOf("-"));var p=m.substring(m.indexOf("-")+1);var k=new Date(n);var l=new Date(p);if(k!=undefined&&!isNaN(k)){if(l!=undefined&&!isNaN(l)){this.setRange(k,l)}}}else{if(this.getDate()!=null){this.setRange(this.getDate(),this.getDate())}}}},_format:function(k,h,a){var g=false;try{if(Globalize!=undefined){g=true}}catch(l){}if(b.global){return b.global.format(k,h,this.culture)}else{if(g){try{var h=Globalize.format(k,h,this.culture);return h}catch(l){return Globalize.format(k,h)}}else{if(b.jqx.dataFormat){if(k instanceof Date){return b.jqx.dataFormat.formatdate(k,h,this.localization.calendar)}else{if(typeof k==="number"){return b.jqx.dataFormat.formatnumber(k,h,this.localization.calendar)}else{return b.jqx.dataFormat.formatdate(k,h,this.localization.calendar)}}}else{throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}}}},render:function(){this._removeHandlers();this.element.innerHTML="";this.host.attr({role:"textbox"});this.id=b.jqx.utilities.createId();var u=b.jqx.utilities.createId();var p=b.jqx.utilities.createId();this._setSize();if(this.width==null){this.width=this.host.width();this.host.width(this.width)}this.touch=b.jqx.mobile.isTouchDevice();var x=b("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(this.host);this.dateTimeInput=b("<input class='jqx-position-absolute' id='input"+this.element.id+"' autocomplete='off' type='textarea'/>").appendTo(x);this.dateTimeInput.addClass(this.toThemeProperty("jqx-reset"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-clear"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var w=this.host.attr("name");if(w){this.dateTimeInput.attr("name",w)}if(this.host.attr("tabindex")){this.dateTimeInput.attr("tabindex",this.host.attr("tabindex"));this.host.removeAttr("tabindex")}if(this.rtl){this.dateTimeInput.css("direction","rtl");this.dateTimeInput.addClass("jqx-rtl")}this.calendarButton=b("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(x);if(!this.rtl){this.calendarButton.addClass(this.toThemeProperty("jqx-action-button"))}else{this.calendarButton.addClass(this.toThemeProperty("jqx-action-button-rtl"))}this.calendarButtonIcon=b(this.calendarButton.children()[0]);this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon"));this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(!this.rtl){this.calendarButton.addClass(this.toThemeProperty("jqx-rc-r"))}else{this.calendarButton.addClass(this.toThemeProperty("jqx-rc-l"))}var e=this;this._arrange();if(b.jqx._jqxCalendar!=null&&b.jqx._jqxCalendar!=undefined){try{var q="calendar"+this.id;var s=b(b.find("#"+q));if(s.length>0){s.remove()}b.jqx.aria(this,"aria-owns",q);b.jqx.aria(this,"aria-haspopup",true);b.jqx.aria(this,"aria-readonly",this.selectionMode=="range"?true:false);var v=b("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.id+"'><div id='innerCalendar"+this.id+"'></div></div>");if(b.jqx.utilities.getBrowser().browser=="opera"){v.hide()}v.appendTo(document.body);this.container=v;this.calendarContainer=b(b.find("#innerCalendar"+this.id)).jqxCalendar({changing:this.changing,change:this.change,enableViews:this.enableViews,selectableDays:this.selectableDays,views:this.views,rowHeaderWidth:this.rowHeaderWidth,titleHeight:this.titleHeight,columnHeaderHeight:this.columnHeaderHeight,_checkForHiddenParent:false,enableAutoNavigation:false,canRender:false,localization:this.localization,todayString:this.todayString,clearString:this.clearString,dayNameFormat:this.dayNameFormat,rtl:this.rtl,culture:this.culture,showFooter:this.showFooter,selectionMode:this.selectionMode,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme});this.calendarContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0});this.calendarContainer.addClass(this.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){this.calendarContainer.addClass(this.toThemeProperty("jqx-noshadow"))}this._calendar=b.data(this.calendarContainer[0],"jqxCalendar").instance;var e=this;this._calendar.today=function(){e.today()};this._calendar.clear=function(){e.clear()};if(b.jqx.utilities.getBrowser().browser=="opera"){v.show()}v.height(parseInt(this.calendarContainer.height())+25);v.width(parseInt(this.calendarContainer.width())+25);if(this.selectionMode=="range"){this.readonly=true}if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(o){}}if(b.global){b.global.preferCulture(this.culture)}this.selectedText="";this._addHandlers();this.self=this;this.oldValue=this.getDate();this.items=new Array();this.editors=new Array();this._loadItems();this.editorText="";if(this.readonly==true){this.dateTimeInput.css("readonly",this.readonly)}this.dateTimeInput.css("text-align",this.textAlign);this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-datetimeinput"));this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-overflow-hidden"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-clear"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.propertyChangeMap.disabled=function(f,d,g,c){if(c){f.host.addClass(e.toThemeProperty("jqx-input-disabled"));f.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))}else{f.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"));f.host.removeClass(e.toThemeProperty("jqx-input-disabled"))}b.jqx.aria(this,"aria-disabled",c)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-input-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.host.parents("form").length>0){this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){e.setDate(new Date())},10)})}if(this.cookies){var t=b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);if(t!=null){this.setDate(new Date(t))}}if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(this.host.parents(".jqx-window").length>0){var a=this.host.parents(".jqx-window").css("z-index");this.container.css("z-index",a+10);this.calendarContainer.css("z-index",a+10)}}if(this.culture!="default"){this._applyCulture()}if(this.value){if(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)){this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid"))}else{this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid"))}}},val:function(a){if(arguments.length!=0){if(a==null){this.setDate(null)}if(this.selectionMode=="range"){this.setRange(arguments[0],arguments[1]);return this.getText()}if(a instanceof Date){this.setDate(a)}if(typeof(a)=="string"){if(a=="date"){return this.getDate()}this.setDate(a)}}return this.getText()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}var h=this;var g=function(){if(h.calendarContainer){h._arrange()}};if(f){if(this.calendarContainer){this._arrange();var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.calendarContainer.jqxCalendar({width:a});this.container.width(parseInt(a)+25)}}b.jqx.utilities.resize(this.host,function(){g()})},_arrange:function(){if(this.height==null){this.height=27;this.host.height(27)}var o=parseInt(this.host.width());var a=parseInt(this.host.height());var k=this.buttonSize;var l=2;if(!this.showCalendarButton){k=0;buttonHeight=0;this.calendarButton.hide();l=0}var p=o-k-1*l;if(p>0){this.dateTimeInput[0].style.width=p+"px"}if(this.rtl){this.dateTimeInput[0].style.width=(-1+p+"px")}this.dateTimeInput[0].style.left="0px";this.dateTimeInput[0].style.top="0px";this.calendarButton[0].style.width=k+1+"px";this.calendarButton[0].style.left=1+p+"px";var n=this.dateTimeInput.height();if(n==0){n=parseInt(this.dateTimeInput.css("font-size"))+3}if(this.dateTimeInput[0].className.indexOf("jqx-rc-all")==-1){this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"))}var m=parseInt(a)/2-parseInt(n)/2;if(m>0){this.dateTimeInput[0].style.marginTop=parseInt(m)+"px"}if(this.rtl){this.calendarButton[0].style.width=k+"px";this.calendarButton.css("left","0px");this.dateTimeInput.css("left",this.calendarButton.width());if(b.jqx.browser.msie&&b.jqx.browser.version<=8){this.dateTimeInput.css("left",1+this.calendarButton.width())}}},_removeHandlers:function(){var a=this;this.removeHandler(b(document),"mousedown."+this.id);if(this.dateTimeInput){this.removeHandler(this.dateTimeInput,"keydown."+this.id);this.removeHandler(this.dateTimeInput,"blur");this.removeHandler(this.dateTimeInput,"focus");this.removeHandler(this.host,"focus");this.removeHandler(this.dateTimeInput,"mousedown");this.removeHandler(this.dateTimeInput,"mouseup");this.removeHandler(this.dateTimeInput,"keydown");this.removeHandler(this.dateTimeInput,"keyup");this.removeHandler(this.dateTimeInput,"keypress")}if(this.calendarButton!=null){this.removeHandler(this.calendarButton,"mousedown")}if(this.calendarContainer!=null){this.removeHandler(this.calendarContainer,"cellSelected");this.removeHandler(this.calendarContainer,"cellMouseDown")}this.removeHandler(b(window),"resize."+this.id)},isOpened:function(){var d=this;var a=b.data(document.body,"openedJQXCalendar"+this.id);if(a!=null&&a==d.calendarContainer){return true}return false},wheel:function(g,h){var f=0;if(!g){g=window.event}if(g.originalEvent&&g.originalEvent.wheelDelta){g.wheelDelta=g.originalEvent.wheelDelta}if(g.wheelDelta){f=g.wheelDelta/120}else{if(g.detail){f=-g.detail/3}}if(f){var a=h._handleDelta(f);if(!a){if(g.preventDefault){g.preventDefault()}g.returnValue=false;return a}else{return false}}if(g.preventDefault){g.preventDefault()}g.returnValue=false},_handleDelta:function(a){if(a<0){this.spinDown()}else{this.spinUp()}return false},focus:function(){try{var d=this;this._setSelectionStart(0);this._selectGroup(-1);this.dateTimeInput.focus();setTimeout(function(){d._setSelectionStart(0);d._selectGroup(-1);d.dateTimeInput.focus()},15)}catch(a){}},_addHandlers:function(){var f=this.element.id;var h=this.element;var g=this;if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(d){var c=g.isOpened();if(c){g.close()}})}this.addHandler(this.host,"mouseenter",function(){if(!g.disabled&&g.enableHover){hovered=true;g.calendarButtonIcon.addClass(g.toThemeProperty("jqx-icon-calendar-hover"));g.calendarButton.addClass(g.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!g.disabled&&g.enableHover){g.calendarButtonIcon.removeClass(g.toThemeProperty("jqx-icon-calendar-hover"));g.calendarButton.removeClass(g.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mousewheel",function(c){g.wheel(c,g)});this.addHandler(b(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this});if(b.jqx.mobile.isTouchDevice()){this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this})}this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=b.data(document.body,"openedJQXCalendar"+g.id);if(d!=null&&d==g.calendarContainer){var e=g.handleCalendarKey(c,g);return e}});if(this.calendarContainer!=null){this.addHandler(this.calendarContainer,"keydown",function(c){if(c.keyCode==13){if(g.isOpened()){if(!g._calendar._viewAnimating&&g._calendar.view=="month"){g.hideCalendar("selected");g.dateTimeInput.focus();return false}}return true}else{if(c.keyCode==9){if(g.isOpened()){g.hideCalendar("selected");return true}}else{if(c.keyCode==27){if(g.isOpened()){g.hideCalendar();g.dateTimeInput.focus();return false}return true}}}if(c.keyCode==115){if(g.isOpened()){g.hideCalendar();g.dateTimeInput.focus();return false}else{if(!g.isOpened()){g.showCalendar();g.dateTimeInput.focus();return false}}}if(c.altKey){if(c.keyCode==38){if(g.isOpened()){g.hideCalendar();g.dateTimeInput.focus();return false}}else{if(c.keyCode==40){if(!g.isOpened()){g.showCalendar();g.dateTimeInput.focus();return false}}}}});this.addHandler(this.calendarContainer,"cellSelected",function(c){if(g.closeCalendarAfterSelection){var d=b.data(document.body,"openedJQXCalendarValue");if(c.args.selectionType=="mouse"){if(g.selectionMode!="range"){g.hideCalendar("selected")}else{if(g._calendar._clicks==0){g.hideCalendar("selected")}}}}});this.addHandler(this.calendarContainer,"cellMouseDown",function(c){if(g.closeCalendarAfterSelection){if(g._calendar.value){b.data(document.body,"openedJQXCalendarValue",new b.jqx._jqxDateTimeInput.getDateTime(g._calendar.value.dateTime))}}})}this.addHandler(this.dateTimeInput,"blur",function(c){if(g.value!=null){g.isEditing=false;var d=g.value.dateTime.getDay();var e=g._oldDT;g._validateValue(true);if(c.stopPropagation){c.stopPropagation()}g._updateText();g._raiseEvent(9,c)}g.host.removeClass(g.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(c){g.focus()});this.addHandler(this.dateTimeInput,"focus",function(c){if(g.value!=null){if(g.selectionMode!="range"){g._oldDT=new Date(g.value.dateTime)}else{g._oldDT=g.getRange()}var d=g._selection();g.isEditing=true;g._validateValue();g._updateText();g._setSelectionStart(0);g._selectGroup(-1,d);g.host.addClass(g.toThemeProperty("jqx-fill-state-focus"))}else{g._setSelectionStart(0);g._selectGroup(-1);g.host.addClass(g.toThemeProperty("jqx-fill-state-focus"))}if(c.stopPropagation){c.stopPropagation()}if(c.preventDefault){c.preventDefault();return false}});var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.calendarButton,a,function(d){var c=g.container;var e=c.css("display")=="block";if(!g.disabled){if(!g.isanimating){if(e){g.hideCalendar();return false}else{g.showCalendar();d.preventDefault()}}}});this.addHandler(this.dateTimeInput,"mousedown",function(c){return g._raiseEvent(2,c)});this.addHandler(this.dateTimeInput,"mouseup",function(c){return g._raiseEvent(3,c)});this.addHandler(this.dateTimeInput,"keydown",function(c){return g._raiseEvent(4,c)});this.addHandler(this.dateTimeInput,"keyup",function(c){return g._raiseEvent(5,c)});this.addHandler(this.dateTimeInput,"keypress",function(c){return g._raiseEvent(6,c)})},createID:function(){var a=Math.random()+"";a=a.replace(".","");a="99"+a;a=a/1;return"dateTimeInput"+a},setMaxDate:function(a,d){if(a==null){return}if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(a);if(this._calendar!=null){this._calendar.setMaxDate(a)}if(d!=false){if(this.getDate()!=null&&this.getDate()>a){this.setDate(a)}b.jqx.aria(this,"aria-valuemax",a);this._refreshValue();this._updateText()}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(a,d){if(a==null){return}if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.minDate=b.jqx._jqxDateTimeInput.getDateTime(a);if(this._calendar!=null){this._calendar.setMinDate(a)}if(d!=false){if(this.getDate()!=null&&this.getDate()<a){this.setDate(a)}b.jqx.aria(this,"aria-valuemin",a);this._refreshValue();this._updateText()}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},_applyCulture:function(){var e=false;try{if(Globalize!=undefined){e=true}}catch(f){}try{if(b.global){b.global.preferCulture(this.culture);this.localization.calendar=b.global.culture.calendar}else{if(e){var a=Globalize.culture(this.culture);this.localization.calendar=a.calendar}}this._loadItems();if(this._calendar!=null){this._calendar.culture=this.culture;this._calendar.localization=this.localization;this._calendar.render()}}catch(f){}},propertyMap:function(a){if(a=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},propertyChangedHandler:function(l,k,g,h){if(l.isInitialized==undefined||l.isInitialized==false){return}if(k=="popupZIndex"){l.calendarContainer.css({zIndex:h})}if(k=="selectionMode"){l._calendar.selectionMode=h;l.refreshValue()}if(k=="min"){if(typeof(h)=="string"){l.setMinDate(new Date(h))}else{l.setMinDate(h)}}if(k=="max"){if(typeof(h)=="string"){l.setMaxDate(new Date(h))}else{l.setMaxDate(h)}}if(k=="value"){if(h!=null&&h instanceof Date){if(isNaN(h.getFullYear())||isNaN(h.getMonth())||isNaN(h.getDate())){this.value=g;return}h=b.jqx._jqxDateTimeInput.getDateTime(h)}else{if(h!=null&&typeof(h)=="string"){var a=new Date(h);if(a!=undefined&&!isNaN(a)){this.value=b.jqx._jqxDateTimeInput.getDateTime(a)}}}}if(k=="views"){l.calendarContainer.jqxCalendar({views:h})}if(k=="enableViews"){l.calendarContainer.jqxCalendar({enableViews:h})}if(k=="selectableDays"){l.calendarContainer.jqxCalendar({selectableDays:h})}if(k=="showFooter"){l.calendarContainer.jqxCalendar({showFooter:h})}if(k=="rtl"){l.calendarContainer.jqxCalendar({rtl:h});if(h){l.dateTimeInput.css("direction","rtl");l.dateTimeInput.addClass("jqx-rtl")}else{l.dateTimeInput.css("direction","ltr");l.dateTimeInput.removeClass("jqx-rtl")}}if(k=="todayString"||k=="clearString"){l.calendarContainer.jqxCalendar({clearString:l.clearString,todayString:l.todayString})}if(k=="dayNameFormat"){l.calendarContainer.jqxCalendar({dayNameFormat:h})}if(k=="firstDayOfWeek"){l.calendarContainer.jqxCalendar({firstDayOfWeek:h})}if(k=="showWeekNumbers"){l.calendarContainer.jqxCalendar({showWeekNumbers:h})}if(k=="culture"||k=="localization"){l._applyCulture()}else{if(k=="formatString"){l._loadItems()}}if(k=="theme"){b.jqx.utilities.setTheme(g,h,l.host)}if(k=="width"||k=="height"){l.refresh();return}l._setOption(k,h);if(k=="dropDownWidth"||k=="dropDownHeight"){l.calendarContainer.jqxCalendar({width:l.dropDownWidth,height:l.dropDownHeight});l._calendar.render();l.container.height(l.calendarContainer.height());l.container.width(l.calendarContainer.width())}},clear:function(){if(this.allowNullDate){if(this.selectionMode!="range"){this.setDate(null)}else{this._calendar._clicks=1;this.setRange(null,null)}this._calendar._clicks=0}else{if(this.selectionMode!="range"){this.setDate(me.getMinDate())}else{this._calendar._clicks=1;this.setRange(me.getMinDate(),me.getMinDate());this._calendar._clicks=0}}this.hideCalendar()},today:function(){var a=new Date();a.setHours(0,0,0,0);if(this.selectionMode!="range"){this.setDate(a)}else{this._calendar._clicks=1;this.setRange(a,a);this._calendar._clicks=0}this.hideCalendar()},setDate:function(d){if(d!=null&&typeof(d)=="string"){if(d.toString().indexOf(",")>=0){d=d.replace(/\,/g,"/");d=new Date(d)}if(d!=""){var a=d;d=new Date(d);if(d=="Invalid Date"){if(Globalize!=undefined){d=Globalize.parseDate(a,this.formatString,this.culture)}else{if(b.jqx.dataFormat){d=b.jqx.dataFormat.parsedate(a,this.formatString,this.localization.calendar)}}if(d=="Invalid Date"){return}}}}if(d==null||d=="null"||d=="undefined"){if(!this.allowNullDate){d=this.min}}if(d=="Invalid Date"){d=null}if(d==null||d=="null"||d=="undefined"||d===""){if(this.value!=null){this.value=null;this._calendar.setDate(null);this._refreshValue();if(this.cookies){if(this.value!=null){b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._setSelectionStart(0);this._selectGroup(-1);this._raiseEvent("0",d);this._raiseEvent("9",d)}return}if(d<this.getMinDate()||d>this.getMaxDate()){return}if(this.value==null){this.value=new b.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}if(d.getFullYear){this.value._setYear(d.getFullYear());this.value._setDay(1);this.value._setMonth(d.getMonth()+1);this.value._setHours(d.getHours());this.value._setMinutes(d.getMinutes());this.value._setSeconds(d.getSeconds());this.value._setMilliseconds(d.getMilliseconds());this.value._setDay(d.getDate())}this._refreshValue();if(this.cookies){if(this.value!=null){b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._raiseEvent("0",d);this._raiseEvent("9",d)},getDate:function(){if(this.value==undefined){return null}return new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,f){if(e=="Invalid Date"){e=null}if(f=="Invalid Date"){f=null}if(e!=null&&typeof(e)=="string"){e=new Date(e);if(e=="Invalid Date"){return}}if(f!=null&&typeof(f)=="string"){f=new Date(f);if(f=="Invalid Date"){return}}if(e&&isNaN(e)&&e.toString()=="NaN"&&typeof(e)!="string"){return}if(f&&isNaN(f)&&f.toString()=="NaN"&&typeof(f)!="string"){return}this._calendar.setRange(e,f);var a=e;if(a!=null&&a.getFullYear){if(this.value==null){this.value=new b.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}this.value._setYear(a.getFullYear());this.value._setMonth(a.getMonth()+1);this.value._setHours(a.getHours());this.value._setMinutes(a.getMinutes());this.value._setSeconds(a.getSeconds());this.value._setMilliseconds(a.getMilliseconds());this.value._setDay(a.getDate())}this._refreshValue();if(this.value){this._raiseEvent("0",this.value.dateTime)}else{this._raiseEvent("0",null)}},getRange:function(){return this._calendar.getRange()},_validateValue:function(f){var a=false;for(var g=0;g<this.items.length;g++){var h=this.editors[g].value;switch(this.items[g].type){case"FORMAT_AMPM":if(h<0){h=0}else{if(h>1){h=1}}break;case"Character":break;case"Day":if(h<1){h=1}else{if(h>31){h=31}}break;case"FORMAT_hh":if(h<1){h=1}else{if(h>12){h=12}}break;case"FORMAT_HH":if(h<0){h=0}else{if(h>23){h=23}}break;case"Millisecond":if(h<0){h=0}else{if(h>99){h=99}}break;case"Minute":if(h<0){h=0}else{if(h>59){h=59}}break;case"Month":if(h<1){h=1}else{if(h>12){h=12}}break;case"ReadOnly":break;case"Second":if(h<0){h=0}else{if(h>59){h=59}}break;case"Year":if(h<this.minDate.year){h=this.minDate.year}else{if(h>this.maxDate.year){h=this.maxDate.year}}break}if(this.editors[g].value!=h){this.editors[g].value=h;a=true}}this.updateValue();if(this.value!=null&&f===true){if(this.value.dateTime>this.maxDate.dateTime){this._internalSetValue(this.maxDate);this._updateEditorsValue()}else{if(this.value.dateTime<this.minDate.dateTime){this._internalSetValue(this.minDate);this._updateEditorsValue()}}this._updateText()}},spinUp:function(){var g=this.value;if(g==null){return}if(this.activeEditor!=null){var a=this.editors.indexOf(this.activeEditor);if(a==-1){return}if(this.items[a].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var h=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=h}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var f=this.editors.indexOf(this.activeEditor);if(f>=0){this._selectGroup(f)}},spinDown:function(){var g=this.value;if(g==null){return}if(this.activeEditor!=null){var a=this.editors.indexOf(this.activeEditor);if(a==-1){return}if(this.items[a].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var h=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=h}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var f=this.editors.indexOf(this.activeEditor);if(f>=0){this._selectGroup(f)}},_passKeyToCalendar:function(l){if(l.keyCode==13||l.keyCode==9){this.hideCalendar("selected");return true}else{if(l.keyCode==27){var h=this.calendarContainer;var k=this._calendar;var g=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;k.setDate(this.value.dateTime);this.closeCalendarAfterSelection=g;this.hideCalendar()}}var g=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;var a=this._calendar._handleKey(l);this.closeCalendarAfterSelection=g;return a},handleCalendarKey:function(g,h){var l=b(g.target);var k=b.data(document.body,"openedJQXCalendar"+this.id);if(k!=null){if(k.length>0){var a=h._passKeyToCalendar(g);return a}}return true},_findPos:function(d){if(d==null){return}while(d&&(d.type=="hidden"||d.nodeType!=1||b.expr.filters.hidden(d))){d=d.nextSibling}var a=b(d).coord(true);return[a.left,a.top]},testOffset:function(m,o,s){var n=m.outerWidth();var a=m.outerHeight();var l=b(window).width()+b(window).scrollLeft();var p=b(window).height()+b(window).scrollTop();if(o.left+n>l){if(n>this.host.width()){var q=this.host.coord().left;var t=n-this.host.width();o.left=q-t+2}}if(o.left<0){o.left=parseInt(this.host.coord().left)+"px"}o.top-=Math.min(o.top,(o.top+a>p&&p>a)?Math.abs(a+s+23):0);return o},open:function(){this.showCalendar()},close:function(a){this.hideCalendar()},_getBodyOffset:function(){var d=0;var a=0;if(b("body").css("border-top-width")!="0px"){d=parseInt(b("body").css("border-top-width"));if(isNaN(d)){d=0}}if(b("body").css("border-left-width")!="0px"){a=parseInt(b("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},showCalendar:function(){var C=this.calendarContainer;var y=this._calendar;b.jqx.aria(this,"aria-expanded",true);if(this.value!=null){if(this.selectionMode!="range"){this._oldDT=new Date(this.value.dateTime)}else{this._oldDT=this.getRange()}}else{this._oldDT=null}if(!y.canRender){y.canRender=true;y.render()}var D=this.container;var z=this;var J=b(window).scrollTop();var I=b(window).scrollLeft();var B=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var K,x=parseInt(Math.round(this.host.coord(true).left));K=x+"px";var a=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();var G=b.jqx.utilities.hasTransform(this.host);if(G||(a!=null&&a)){K=b.jqx.mobile.getLeftPos(this.element);B=b.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(b("body").css("border-top-width")!="0px"){B=parseInt(B)-this._getBodyOffset().top+"px"}if(b("body").css("border-left-width")!="0px"){K=parseInt(K)-this._getBodyOffset().left+"px"}}this.container.css("left",K);this.container.css("top",B);var L=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;this.isEditing=false;if(z.selectionMode=="default"){this._validateValue();this._updateText();var w=this.value!=null?this.value.dateTime:new Date();y.setDate(w)}this.closeCalendarAfterSelection=L;var M=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var E=this.container.outerWidth();var v=Math.abs(E-this.host.outerWidth()+2);if(!this.rtl){v-=2}if(E>this.host.width()){var H=23;this.container.css("left",H+parseInt(Math.round(x))-v+"px")}else{this.container.css("left",25+parseInt(Math.round(x))+v+"px")}}if(this.enableBrowserBoundsDetection){var F=this.testOffset(C,{left:parseInt(this.container.css("left")),top:parseInt(B)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=F.top){M=true;C.css("top",23);C.addClass(this.toThemeProperty("jqx-popup-up"))}else{C.css("top",0)}this.container.css("top",F.top);if(parseInt(this.container.css("left"))!=F.left){this.container.css("left",F.left)}}this._raiseEvent(7,C);if(this.animationType!="none"){this.container.css("display","block");var A=parseInt(C.outerHeight());C.stop();this.isanimating=true;this.opening=true;if(this.animationType=="fade"){C.css("margin-top",0);C.css("opacity",0);C.animate({opacity:1},this.openDelay,function(){z.isanimating=false;z.opening=false;b.data(document.body,"openedJQXCalendar"+z.id,C);z.calendarContainer.focus()})}else{C.css("opacity",1);if(M){C.css("margin-top",A)}else{C.css("margin-top",-A)}C.animate({"margin-top":0},this.openDelay,function(){z.isanimating=false;z.opening=false;b.data(document.body,"openedJQXCalendar"+z.id,C);z.calendarContainer.focus()})}}else{C.stop();z.isanimating=false;z.opening=false;C.css("opacity",1);C.css("margin-top",0);this.container.css("display","block");b.data(document.body,"openedJQXCalendar"+z.id,C);this.calendarContainer.focus()}if(this.value==null){if(this._calendar&&this._calendar._getSelectedCell()){this._calendar._getSelectedCell().isSelected=false}}this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(h){var k=this.calendarContainer;var n=this.container;var m=this;b.jqx.aria(this,"aria-expanded",false);b.data(document.body,"openedJQXCalendar"+this.id,null);if(this.animationType!="none"){var a=k.outerHeight();k.css("margin-top",0);this.isanimating=true;var l=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){l=a}if(this.animationType=="fade"){k.animate({opacity:0},this.closeDelay,function(){n.css("display","none");m.isanimating=false})}else{k.animate({"margin-top":l},this.closeDelay,function(){n.css("display","none");m.isanimating=false})}}else{n.css("display","none")}if(h!=undefined){this._updateSelectedDate()}this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent(8,k)},_updateSelectedDate:function(){var k=this.value;if(k==null){k=new b.jqx._jqxDateTimeInput.getDateTime(new Date());k._setHours(0);k._setMinutes(0);k._setSeconds(0);k._setMilliseconds(0)}var a=k.hour;var h=k.minute;var l=k.second;var n=k.millisecond;if(this.selectionMode=="range"&&this._calendar.getRange().from==null){this.setDate(null);return}var m=new b.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);m._setHours(a);m._setMinutes(h);m._setSeconds(l);m._setMilliseconds(n);this.setDate(m.dateTime)},_closeOpenedCalendar:function(z){var w=b(z.target);var q=b.data(document.body,"openedJQXCalendar"+z.data.me.id);var x=false;b.each(w.parents(),function(){if(this.className&&this.className.indexOf){if(this.className.indexOf("jqx-calendar")!=-1){x=true;return false}if(this.className.indexOf("jqx-input")!=-1){x=true;return false}}});if(b(z.target).ischildof(z.data.me.host)){return true}if(z.target!=null&&(z.target.tagName=="B"||z.target.tagName=="b")){var p=z.data.me.host.coord();var a=z.data.me.host.width();var y=z.data.me.host.height();var o=parseInt(p.top);var u=parseInt(p.left);if(o<=z.pageY&&z.pageY<=o+y){if(u<=z.pageX&&z.pageX<=u+a){return true}}}if(q!=null&&!x){if(q.length>0){var t=q[0].id.toString();var v=t.toString().substring(13);var s=b(document).find("#"+v);z.data.me.hideCalendar();b.data(document.body,"openedJQXCalendar"+z.data.me.id,null)}}},_loadItems:function(){if(this.value!=null){this.items=new Array();var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e);this.editors=new Array();for(var a=0;a<this.items.length;a++){var f=this.items[a].getDateTimeEditorByItemType(this.value,this);this.editors[a]=f}}this._updateEditorsValue();this._updateText()},_updateText:function(){var k="";if(this.items.length==0&&this.value!=null){this._loadItems()}if(this.value!=null){if(this.items.length>=1){k=this.format(this.value,0,this.items.length)}var a=this.dateTimeInput.val();if(a!=k){this._raiseEvent(1,this.value)}}if(this.selectionMode=="range"){var l=this.getRange();fromText=this.format(this.value,0,this.items.length);if(l.to){var g=b.jqx._jqxDateTimeInput.getDateTime(l.from);fromText=this.format(g,0,this.items.length);var h=b.jqx._jqxDateTimeInput.getDateTime(l.to);toText=this.format(h,0,this.items.length);var k=fromText+" - "+toText;if(k==" - "){k=""}}else{k=""}}this.dateTimeInput.val(k)},format:function(l,k,m){var a="";for(var n=k;n<m;++n){var p=this.items[n].dateParser(l,this);if(this.isEditing&&this.items[n].type!="ReadOnly"){if(this.selectionMode!="range"){var o=this.items[n].type=="Day"&&this.items[n].format.length>2;if(this.items[n].type=="FORMAT_AMPM"){o=true;if(this.editors[n].value==0){p=this.editors[n].amString}else{p=this.editors[n].pmString}}if(!o){p=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);while(p.length<this.editors[n].maxEditPositions){p="0"+p}}}}a+=p}return a},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i){if(a.substring(i,i+1)!=a.substring(0,1)){return i}}return a.length},_parseFormatValue:function(k){var p=new Array();var m=k.toString();var n=0;while(m.length>0){var o=this._getFormatValueGroupLength(m);var l=null;switch(m.substring(0,1)){case":":case"/":o=1;l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var a=m.indexOf(m[0],1);l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(1,1+Math.max(1,a-1)),"ReadOnly",this.culture);o=Math.max(1,a+1);break;case"\\":if(m.length>=2){l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(1,1),"ReadOnly",this.culture);o=2}break;case"d":case"D":if(o>2){l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Day",this.culture)}else{l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Day",this.culture)}break;case"f":case"F":if(o>7){o=7}if(o>3){l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"ReadOnly",this.culture)}else{l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Millisecond",this.culture)}break;case"g":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"ReadOnly",this.culture);break;case"h":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"FORMAT_hh",this.culture);break;case"H":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"FORMAT_HH",this.culture);break;case"m":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Minute",this.culture);break;case"M":if(o>4){o=4}l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Month",this.culture);break;case"s":case"S":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Second",this.culture);break;case"t":case"T":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"FORMAT_AMPM",this.culture);break;case"y":case"Y":if(o>1){l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"Year",this.culture)}else{o=1;l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture)}break;case"z":l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,o),"ReadOnly",this.culture);break;default:o=1;l=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(m.substring(0,1),"ReadOnly",this.culture);break}p[n]=b.extend(true,{},l);m=m.substring(o);n++}return p},_getFormatValue:function(a){if(a==null||a.length==0){a="d"}if(a.length==1){switch(a.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}}if(a.length==2&&a.substring(0,1)=="%"){a=a.substring(1)}return a},_updateEditorsValue:function(){var n=this.value;if(n==null){return}var p=n.year;var o=n.day;var t=n.hour;var a=n.millisecond;var v=n.second;var u=n.minute;var q=n.month;if(this.items==null){return}for(var s=0;s<this.items.length;s++){switch(this.items[s].type){case"FORMAT_AMPM":var m=t%12;if(m==0){m=12}if(t>=0&&t<12){this.editors[s].value=0}else{this.editors[s].value=1}break;case"Day":this.editors[s].value=o;break;case"FORMAT_hh":var m=t%12;if(m==0){m=12}this.editors[s].value=m;break;case"FORMAT_HH":this.editors[s].value=t;break;case"Millisecond":this.editors[s].value=a;break;case"Minute":this.editors[s].value=u;break;case"Month":this.editors[s].value=q;break;case"Second":this.editors[s].value=v;break;case"Year":this.editors[s].value=p;break}}},updateValue:function(){if(this.isEditing){return}if(this.items&&this.items.length==0){return}var X=0;var U=1;var H=1;var aa=0;var ag=0;var M=0;var Q=0;var O=1;var ac=0;var Z=false;var V=false;var k=false;var S=new Array();var af=null;var K=0;for(var G=0;G<this.items.length;G++){switch(this.items[G].type){case"FORMAT_AMPM":ac=this.editors[G].value;af=this.editors[G];break;case"Character":break;case"Day":if(this.items[G].format.length<4){H=this.editors[G].value;S[K++]=this.editors[G];if(H==0){H=1}k=true}break;case"FORMAT_hh":var T=this.editors[G];aa=T.value;break;case"FORMAT_HH":aa=this.editors[G].value;break;case"Millisecond":ag=this.editors[G].value;break;case"Minute":Q=this.editors[G].value;break;case"Month":O=this.editors[G].value;V=true;if(O==0){O=1}break;case"ReadOnly":break;case"Second":M=this.editors[G].value;break;case"Year":Z=true;U=this.editors[G].value;var P=this.editors[G].getDateTimeItem().format;if(P.length<3){var L="1900";if(L.Length==4){var N=""+L[0]+L[1];var a;a=parseInt(N);U=U+(a*100)}}if(U==0){U=1}break}}var R=this.value!=null?new Date(this.value.dateTime):null;if(U>0&&O>0&&H>0&&Q>=0&&aa>=0&&M>=0&&ag>=0){var J=this.value;if(J!=null){if(!Z){U=J.year}if(!V){O=J.month}if(!k){H=J.day}}try{if(O>12){O=12}if(O<1){O=1}if(J._daysInMonth(U,O)<=H){H=J._daysInMonth(U,O);if(S!=null&&S.length>0){for(G=0;G<S.length;G++){S[G].value=H}}}if(af!=null){if(af.value==0){if(aa>=12){aa-=12}}else{if(aa+12<24){aa+=12}}}var ad=this.value.dateTime.getDate();this.value._setYear(parseInt(U));this.value._setDay(H);this.value._setMonth(O);this.value._setHours(aa);this.value._setMinutes(Q);this.value._setSeconds(M);this.value._setMilliseconds(ag)}catch(ab){this.value=J}if(R!=null){var I=this.value.dateTime.getFullYear()==R.getFullYear()&&this.value.dateTime.getDate()==R.getDate()&&this.value.dateTime.getMonth()==R.getMonth()&&this.value.dateTime.getHours()==R.getHours()&&this.value.dateTime.getMinutes()==R.getMinutes()&&this.value.dateTime.getSeconds()==R.getSeconds();if(!I){if(this.changing){var Y=this.changing(R,this.value.dateTime);if(Y){this.value=b.jqx._jqxDateTimeInput.getDateTime(Y)}}this._raiseEvent("0",this.value.dateTime);if(this.cookies){if(this.value!=null){b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}if(this.change){this.change(this.value.dateTime)}}}}var ae=this.editors.indexOf(this.activeEditor);var W=this.items[ae];if(this.value){if(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)){this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid"))}else{this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid"))}}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year));this.value._setDay(a.day);this.value._setMonth(a.month);this.value._setHours(a.hour);this.value._setMinutes(a.minute);this.value._setSeconds(a.second);this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(A,p){var q=this.events[A];var x={};x.owner=this;if(p==null){p={}}var s=p.charCode?p.charCode:p.keyCode?p.keyCode:0;var a=true;var t=this.readonly;var B=new jQuery.Event(q);B.owner=this;B.args=x;B.args.date=this.getDate();this.element.value=this.dateTimeInput.val();if(A==9&&this.selectionMode!="range"){var z=B.args.date;if(this._oldDT){if(z!=null){if(!(z.getFullYear()!=this._oldDT.getFullYear()||z.getMonth()!=this._oldDT.getMonth()||z.getDate()!=this._oldDT.getDate()||z.getHours()!=this._oldDT.getHours()||z.getMinutes()!=this._oldDT.getMinutes()||z.getSeconds()!=this._oldDT.getSeconds())){return true}}b.jqx.aria(this,"aria-valuenow",this.getDate());b.jqx.aria(this,"aria-valuetext",this.getText());if(this.getDate()!=null){b.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString())}else{b.jqx.aria(this,"aria-label","Current focused date is Null")}}}if(this.selectionMode=="range"){B.args.date=this.getRange();if(this._oldDT){var z=B.args.date.from;if(A==9){var u=false;var v=false;var y=this._oldDT.from;if(z!=null&&y){if(!(z.getFullYear()!=y.getFullYear()||z.getMonth()!=y.getMonth()||z.getDate()!=y.getDate()||z.getHours()!=y.getHours()||z.getMinutes()!=y.getMinutes()||z.getSeconds()!=y.getSeconds())){u=true}}var z=B.args.date.to;if(z!=null){y=this._oldDT.to;if(y){if(!(z.getFullYear()!=y.getFullYear()||z.getMonth()!=y.getMonth()||z.getDate()!=y.getDate()||z.getHours()!=y.getHours()||z.getMinutes()!=y.getMinutes()||z.getSeconds()!=y.getSeconds())){v=true}}}if(u&&v){return true}var u=B.args.date.from;if(u==null){u=""}else{u=u.toString()}var v=B.args.date.to;if(v==null){v=""}else{v=v.toString()}b.jqx.aria(this,"aria-valuenow",u+"-"+v);b.jqx.aria(this,"aria-valuetext",this.getText());if(u&&v){b.jqx.aria(this,"aria-label","Current focused range is "+u.toLocaleString()+"-"+v.toLocaleString())}}}}if(this.host.css("display")=="none"){return true}if(A!=2&&A!=3&&A!=4&&A!=5&&A!=6){a=this.host.trigger(B);if(B.stopPropagation){B.stopPropagation()}}var w=this;if(!t){if(A==2&&!this.disabled){setTimeout(function(){w.isEditing=true;if(this.selectionMode=="range"){w._selectGroup(-1)}else{w._selectGroup(-1)}},25)}}if(A==4){if(t||this.disabled){if(s==8||s==46){this.isEditing=false;if(this.allowKeyboardDelete){if(this.allowNullDate){this.setDate(null)}else{if(this.selectionMode!="range"){this.setDate(this.getMinDate())}else{this.setRange(this.getMinDate(),this.getMinDate())}}}}if(s==9){return true}return false}a=this._handleKeyDown(p,s)}else{if(A==5){if(s==9){return true}if(t||this.disabled){return false}}else{if(A==6){if(s==9){return true}if(t||this.disabled){return false}a=this._handleKeyPress(p,s)}}}return a},_doLeftKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var a=this.activeEditor;var g=false;var f=this.editors.indexOf(this.activeEditor);var h=f;if(this.enableAbsoluteSelection){if(f>=0&&this.activeEditor.positions>0){this.activeEditor.positions--;this._selectGroup(f);return}}while(f>0){this.activeEditor=this.editors[--f];this._selectGroup(f);if(this.items[f].type!="ReadOnly"){g=true;break}}if(!g){if(h>=0){this.activeEditor=this.editors[h]}}if(this.activeEditor!=null&&a!=this.activeEditor){if(this.items[f].type!="ReadOnly"){if(this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}}if(this.activeEditor!=a){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_doRightKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var a=this.activeEditor;var g=false;var f=this.editors.indexOf(this.activeEditor);var h=f;if(this.enableAbsoluteSelection){if(f>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1){this.activeEditor.positions++;this._selectGroup(f);return}}while(f<=this.editors.length-2){this.activeEditor=this.editors[++f];this._selectGroup(f);if(this.items[f].type!="ReadOnly"){if(this.items[f].type=="Day"&&this.items[f].format.length>2){break}g=true;break}}if(!g){if(h>=0){this.activeEditor=this.editors[h]}}if(this.activeEditor!=null&&this.activeEditor!=a){if(this.items[f].type!="ReadOnly"){this.activeEditor.positions=0}}if(this.activeEditor!=a){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_saveSelectedText:function(){var a=this._selection();var e="";var f=this.dateTimeInput.val();if(a.start>0||a.length>0){for(i=a.start;i<a.end;i++){e+=f[i]}}window.clipboardData.setData("Text",e);return e},_selectWithAdvancePattern:function(){var k=this.editors.indexOf(this.activeEditor);var h=false;if(this.items[k].type!="ReadOnly"){h=true}if(!h){return}var m=this.activeEditor;if(m!=null){var l=m.positions==m.maxEditPositions;if(l){this.editorText="";var n=m.value;var a=false;switch(this.items[k].type){case"FORMAT_AMPM":if(n<0){n=0}else{if(n>1){n=1}}break;case"Character":break;case"Day":if(n<1){n=1}else{if(n>31){n=31}}break;case"FORMAT_hh":if(n<1){n=1}else{if(n>12){n=12}}break;case"FORMAT_HH":if(n<0){n=0}else{if(n>23){n=23}}break;case"Millisecond":if(n<0){n=0}else{if(n>99){n=99}}break;case"Minute":if(n<0){n=0}else{if(n>59){n=59}}break;case"Month":if(n<1){n=1}else{if(n>12){n=12}}break;case"ReadOnly":break;case"Second":if(n<0){n=0}else{if(n>59){n=59}}break;case"Year":if(n<this.minDate.year){n=this.minDate.year}else{if(n>this.maxDate.year){n=this.maxDate.year}}break}if(m.value!=n){a=true}if(!a){this.isEditing=false;this._validateValue();this._updateText();this.isEditing=true;this._doRightKey();return true}return false}}},_handleKeyPress:function(t,e){var p=this._selection();var z=this;if((t.ctrlKey&&e==97)||(t.ctrlKey&&e==65)){return true}if(e==8){if(p.start>0){z._setSelectionStart(p.start)}return false}if(e==46){if(p.start<this.items.length){z._setSelectionStart(p.start)}return false}if(p.start>=0){var x=String.fromCharCode(e);var s=parseInt(x);if(x=="p"||x=="a"||x=="A"||x=="P"){if(this.activeEditor.item.type=="FORMAT_AMPM"){if(this.activeEditor.value==0&&(x=="p"||x=="P")){this.spinUp()}else{if(this.activeEditor.value==1&&(x=="a"||x=="A")){this.spinDown()}}}}if(!isNaN(s)){if(this.container.css("display")=="block"){this.hideCalendar()}this.updateValue();this._updateText();var v=false;var u=this.editors.indexOf(this.activeEditor);var y=null;this.isEditing=true;if(u.type!="ReadOnly"){y=this.activeEditor}if(y!=null&&y.positions==0){this.editorText=""}if(this.activeEditor==null){this.activeEditor=this.editors[0]}if(this.activeEditor==null){return false}this.activeEditor.insert(x);if(y!=null&&this.editorText.length>=y.maxEditPositions){this.editorText=""}this.editorText+=x;var a=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var w=this._getLastEditableEditorIndex();if(this.editors.indexOf(this.activeEditor)==w&&a&&this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}v=true;this.updateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return false}}var q=this._isSpecialKey(e);return q},_getLastEditableEditorIndex:function(){var a=0;var d=this;for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--){if(this.items[itemIndex].type!="ReadOnly"){return itemIndex}}return -1},_handleKeyDown:function(l,q){if(l.keyCode==115){if(this.isOpened()){this.hideCalendar();return false}else{if(!this.isOpened()){this.showCalendar();return false}}}if(l.altKey){if(l.keyCode==38){if(this.isOpened()){this.hideCalendar();return false}}else{if(l.keyCode==40){if(!this.isOpened()){this.showCalendar();return false}}}}if(this.isOpened()){if(l.keyCode==9){this.hideCalendar("selected");return true}return}var n=this._selection();if((l.ctrlKey&&q==99)||(l.ctrlKey&&q==67)){this._saveSelectedText(l);return false}if((l.ctrlKey&&q==122)||(l.ctrlKey&&q==90)){return false}if((l.ctrlKey&&q==118)||(l.ctrlKey&&q==86)||(l.shiftKey&&q==45)){return false}if(q==8||q==46){if(!l.altKey&&!l.ctrlKey&&q==46){this.isEditing=false;if(this.allowKeyboardDelete){if(this.allowNullDate){this.setDate(null)}else{if(this.selectionMode!="range"){this.setDate(this.getMinDate())}else{this.setRange(this.getMinDate(),this.getMinDate())}}}}else{if(this.activeEditor!=null){var e=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var o=this._format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);tmp=o;tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1);if(parseInt(tmp)<this.activeEditor.minValue){tmp=this._format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)}if(this.enableAbsoluteSelection){this.activeEditor.value=tmp}else{this.activeEditor.value=this.activeEditor.minValue}this._validateValue();this._updateText();if(q==8){var p=this;if(this.enableAbsoluteSelection&&this.activeEditor.positions>0){setTimeout(function(){p.activeEditor.positions=p.activeEditor.positions-1;p._selectGroup(e)},10)}else{setTimeout(function(){p._doLeftKey()},10)}}else{this._selectGroup(e)}}else{this._doLeftKey()}}}return false}if(q==38){this.spinUp();return false}else{if(q==40){this.spinDown();return false}}if(q==37){if(this._editor){var a=this._doLeftKey();if(!a){this.isEditing=false;this._validateValue()}return !a}else{this._doLeftKey();return false}}else{if(q==39||q==191){if(this._editor){var a=this._doRightKey();if(!a){this.isEditing=false;this._validateValue()}return !a}else{this._doRightKey();return false}}}var m=this._isSpecialKey(q);if(this.value==null&&(q>=48&&q<=57||q>=96&&q<=105)){if(new Date()>=this.getMinDate()&&new Date()<=this.getMaxDate()){this.setDate(new Date())}else{this.setDate(this.getMaxDate())}}if(!b.jqx.browser.mozilla){return true}if(b.jqx.browser.mozilla&&b.jqx.browser.version>24){return true}return m},_isSpecialKey:function(a){if(a!=8&&a!=9&&a!=13&&a!=35&&a!=36&&a!=37&&a!=39&&a!=27&&a!=46){return false}return true},_selection:function(){if("selectionStart" in this.dateTimeInput[0]){var h=this.dateTimeInput[0];var e=h.selectionEnd-h.selectionStart;return{start:h.selectionStart,end:h.selectionEnd,length:e,text:h.value}}else{var l=document.selection.createRange();if(l==null){return{start:0,end:h.value.length,length:0}}var a=this.dateTimeInput[0].createTextRange();var k=a.duplicate();a.moveToBookmark(l.getBookmark());k.setEndPoint("EndToStart",a);var e=l.text.length;return{start:k.text.length,end:k.text.length+l.text.length,length:e,text:l.text}}},_selectGroup:function(o,a){if(this.host.css("display")=="none"){return}if(this.readonly){return}if(!a){var a=this._selection()}var t="";var x="";var w=null;for(var v=0;v<this.items.length;v++){x=this.items[v].dateParser(this.value,this);if(this.isEditing&&this.items[v].type!="ReadOnly"){var p=this.items[v].type=="Day"&&this.items[v].format.length>2;if(!p&&this.items[v].type!="FORMAT_AMPM"){x=this.items[v].dateParserInEditMode(new Number(this.editors[v].value),"d"+this.editors[v].maxEditPositions,this);while(x.length<this.editors[v].maxEditPositions){x="0"+x}}}t+=x;if(this.items[v].type=="ReadOnly"){continue}if(this.items[v].type=="Day"&&this.items[v].format.length>2){continue}if(o!=undefined&&o!=-1){if(v>=o){var n=t.length-x.length;var u=x.length;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(x))&&this.isEditing&&o!=-1){u=1;n+=this.editors[v].positions}}if(n==this.dateTimeInput.val().length){n--}this._setSelection(n,n+u);w=this.editors[v];this.activeEditor=w;break}}else{if(t.length>=a.start){w=this.editors[v];this.activeEditor=w;var n=t.length-x.length;var u=1;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(x))&&this.isEditing&&o!=-1){u=1;n+=this.editors[v].positions}}else{u=x.length}this._setSelection(n,n+u);break}}}if(v<this.items.length&&o==-1){if(this.items[v].type!="ReadOnly"){this.activeEditor.positions=0}}var q=this._selection();if(q.length==0){if(q.start>0){var s=this._getLastEditableEditorIndex();if(s>=0){}}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++){if(this.items[i].type=="ReadOnly"){continue}if(this.items[i].type=="Day"&&this.items[i].format.length>2){continue}a=i}return a},_setSelection:function(f,a){try{if("selectionStart" in this.dateTimeInput[0]){this.dateTimeInput[0].setSelectionRange(f,a)}else{var h=this.dateTimeInput[0].createTextRange();h.collapse(true);h.moveEnd("character",a);h.moveStart("character",f);h.select()}}catch(g){}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all");this._calendar.destroy();this.container.remove();this._removeHandlers();this.dateTimeInput.remove();this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(a){if(a!=true){this._setSize();this._arrange()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_setOption:function(a,d){if(a==="value"){this.value=d;this._refreshValue();this._raiseEvent(9,{})}if(a=="maxDate"){this._calendar.maxDate=d;this._raiseEvent(9,{})}if(a=="minDate"){this._calendar.minDate=d;this._raiseEvent(9,{})}if(a=="showCalendarButton"){if(d){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}}if(a=="disabled"){this.dateTimeInput.attr("disabled",d)}if(a=="readonly"){this.readonly=d;this.dateTimeInput.css("readonly",d)}if(a=="textAlign"){this.dateTimeInput.css("text-align",d);this.textAlign=d}if(a=="width"){this.width=d;this.width=parseInt(this.width);this._arrange()}else{if(a=="height"){this.height=d;this.height=parseInt(this.height);this._arrange()}}},_refreshValue:function(){this._updateEditorsValue();this.updateValue();this._validateValue();this._updateText()}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.DateTimeFormatItem={};b.extend(b.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,f,a){this.format=e;this.type=f;this.culture=a;return this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(a,f){if(a==null){return""}var e=f._format(a.dateTime,this.format.length==1?"%"+this.format:this.format,this.culture);return e},dateParserInEditMode:function(f,g,a){if(f==null){return""}var h=a._format(f.toString(),g.length==1?"%"+g:g,this.culture);return h},getDateTimeEditorByItemType:function(z,H){switch(this.type){case"FORMAT_AMPM":var G=b.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,z.hour/12,H.localization.calendar.AM[0],H.localization.calendar.PM[0],this,H);var I=b.extend({},G);return I;case"Character":return null;case"Day":var C=z.year;var u=z.month;var v;if(this.format.length==3){v=H.localization.calendar.days.namesAbbr}else{if(this.format.length>3){v=H.localization.calendar.days.names}else{v=null}}var a=z.day;if(v!=null){a=z.dayOfWeek+1}var F=b.jqx._jqxDateTimeInput.DateEditor._createDayEditor(z,z.day,1,z._daysInMonth(C,u),this.format.length==1?1:2,2,v,this,H);var I=b.extend({},F);return I;case"FORMAT_hh":var J=z.hour%12;if(J==0){J=12}var w=b.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(J,1,12,this.format.length==1?1:2,2,this,H);var I=b.extend({},w);return I;case"FORMAT_HH":var E=b.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(z.hour,0,23,this.format.length==1?1:2,2,this,H);var I=b.extend({},E);return I;case"Millisecond":var B=b.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(z.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,H);var I=b.extend({},B);return I;case"Minute":var y=b.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(z.minute,0,59,this.format.length==1?1:2,2,this,H);var I=b.extend({},y);return I;case"Month":var D;if(this.format.length==3){D=H.localization.calendar.months.namesAbbr}else{if(this.format.length>3){D=H.localization.calendar.months.names}else{D=null}}var A=b.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(z.month,this.format.length==2?2:1,D,this,H);var I=b.extend({},A);return I;case"ReadOnly":return b.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,z.day,this,H);case"Second":var K=b.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(z.second,0,59,this.format.length==1?1:2,2,this,H);var I=b.extend({},K);return I;case"Year":var x=b.jqx._jqxDateTimeInput.DateEditor._createYearEditor(z.year,this.format.length,this,H);var I=b.extend({},x);return I}return null}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.DateEditor=b.extend(b.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:false,handleDays:false,handleMonths:false,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},initializeFields:function(h,g,a,k,l){this.minValue=h;this.maxValue=g;this.minEditPositions=a;this.maxEditPositions=k;this.updateActiveEditor(h);this.item=l},_createYearEditor:function(f,g,h,a){b.jqx._jqxDateTimeInput.DateEditor=b.extend(true,{},this);this.initializeFields(g<=4?0:0,g<4?99:9999,(g==2)?2:1,g>3?4:2,h);this.initializeYearEditor(f,g,h.culture);this.handleYears=true;this.that=a;return this},initializeYearEditor:function(g,h,f){this.formatValueLength=h;this.dateTimeFormatInfo=f;var a=g;a=Math.min(a,9999);a=Math.max(a,1);a=this.formatValueLength<4?a%100:a;this.updateActiveEditor(a);this.value=a},updateActiveEditor:function(a){this.value=a;this.positions=0},_createDayEditor:function(t,l,m,p,s,o,n,a,q){b.jqx._jqxDateTimeInput.DateEditor=b.extend(true,{},this);this.initializeFields(m,p,1,o,a);this.currentValue=t;this.value=l;this.days=n;this.handleDays=true;this.that=q;return this},getDayOfWeek:function(a){if(typeof this.currentValue==b.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return a},defaultTextValue:function(){var g=this.value;var f=this.minEditPositions;var a=f;var h=this.that._format(this.value,"d"+a,"");return h},textValue:function(){if(this.handleDays){if(this.days==null){return this.defaultTextValue()}else{var a=(this.value%7)+1;a=this.getDayOfWeek(a);return this.days[a]}}else{if(this.handleMonths){if(this.dateTimeMonths==null||this.value<1||this.value>12){return this.defaultTextValue()}else{return this.dateTimeMonths[this.value-1]}}}return this.defaultTextValue()},defaultInsertString:function(n){if(n==null){return this.deleteValue()}if(n.length==0){return this.deleteValue()}var h=n.substring(0,1);if(isNaN(h)){return}var l=true;var m;var a=1;var k=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);m=k;if(this.positions>=this.maxEditPositions){this.positions=0}m=m.substring(0,this.positions)+h+m.substring(this.positions+1);m=this.setValueByString(m,a);return true},setValueByString:function(e,a){e=this.fixValueString(e);var f=new Number(e);this.value=f;this.positions+=a;return e},fixValueString:function(a){if(a.length>this.maxEditPositions){a=a.substring(a.length-this.maxEditPositions)}return a},initializeValueString:function(d){var a;a="";if(this.hasDigits()){a=d}return a},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(this.days!=null){var d=false;d=this.insertLongString(a,d);if(d){return d}d=this.insertShortString(a,d);if(d){return d}}if(this.value==1&&this.lastDayInput!=null&&this.lastDayInput.toString().length>0&&this.lastDayInput.toString()=="0"){this.value=0}this.lastDayInput=a;return this.defaultInsertString(a)}else{if(this.handleMonths){if(this.dateTimeMonths!=null){var d=false;d=this.insertLongString2(a,d);if(d){return d}d=this.insertShortString2(a,d);if(d){return d}}}}return this.defaultInsertString(a)},insertShortString:function(g,f){if(g.length==1){for(i=0;i<6;++i){var h=(this.value+i)%7+1;var a=this.days[h-1];if(a.substring(0,1)==g){this.updateActiveEditor(h);f=true;return f}}}return f},insertLongString:function(f,e){if(f.length>0){for(i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1]==f){this.updateActiveEditor(a);e=true;return e}}}return e},_createMonthEditor:function(k,l,a,g,h){b.jqx._jqxDateTimeInput.DateEditor=b.extend(true,{},this);this.initializeFields(1,12,l,2,g);this.dateTimeMonths=a;this.value=k;if(this.dateTimeMonths!=null&&this.dateTimeMonths[12]!=null&&this.dateTimeMonths[12].length>0){this.dateTimeMonths=null}this.handleMonths=true;this.that=h;return this},insertLongString2:function(a,d){if(a.length>0){for(i=0;i<11;++i){month=(this.value+i)%12+1;if(this.dateTimeMonths[month-1]==a){this.updateActiveEditor(month);d=true;return d}}}return d},insertShortString2:function(h,g){if(h.length==1){for(i=0;i<11;++i){var f=(this.value+i)%12+1;var a=this.dateTimeMonths[f-1];if(a.substring(0,1)==h){this.updateActiveEditor(f);g=true;return g}}}return g},correctMaximumValue:function(a){if(a>this.maxValue){a=this.minValue}return a},correctMinimumValue:function(a){if(a<this.minValue){a=this.maxValue}return a},increaseValue:function(h){var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var g=l.toString()[this.positions];g=parseInt(g)+1;if(g>9){g=0}if(!h){var a=this.value+1;a=this.correctMaximumValue(a);this.updateActiveEditor(a);return true}var k=l.substring(0,this.positions)+g+l.substring(this.positions+1);if(k!=this.value||this.hasDigits()){this.updateActiveEditor(k);return true}else{return false}},decreaseValue:function(h){var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var g=l.toString()[this.positions];g=parseInt(g)-1;if(g<0){g=9}if(!h){var a=this.value-1;a=this.correctMinimumValue(a);this.updateActiveEditor(a);return true}var k=l.substring(0,this.positions)+g+l.substring(this.positions+1);if(k!=this.value||this.hasDigits()){this.updateActiveEditor(k);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.NumberEditor={};b.extend(b.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},_createNumberEditor:function(l,m,k,a,n,o,p){b.jqx._jqxDateTimeInput.NumberEditor=b.extend(true,{},this);this.initializeFields(m,k,a,n,o);this.that=p;return this},initializeFields:function(h,g,a,k,l){this.minValue=h;this.maxValue=g;this.minEditPositions=a;this.maxEditPositions=k;this.updateActiveEditor(h);this.item=l},updateActiveEditor:function(a){this.value=a;this.positions=0},getDayOfWeek:function(a){if(typeof this.currentValue==b.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return a},textValue:function(){var g=this.value;var f=this.minEditPositions;var a=f;var h=this.that._format(this.value,"d"+a,"");return h},insert:function(n){if(n==null){return this.deleteValue()}if(n.length==0){return this.deleteValue()}var h=n.substring(0,1);if(isNaN(h)){return}var l=true;var m;var a=1;var k=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);m=k;if(this.positions>=this.maxEditPositions){this.positions=0}m=m.substring(0,this.positions)+h+m.substring(this.positions+1);m=this.setValueByString(m,a);return true},setValueByString:function(e,a){e=this.fixValueString(e);var f=new Number(e);this.value=f;this.positions+=a;return e},fixValueString:function(a){if(a.length>this.maxEditPositions){a=a.substring(a.length-this.maxEditPositions)}return a},initializeValueString:function(d){var a;a="";if(this.hasDigits()){a=d}return a},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){if(a>this.maxValue){a=this.minValue}return a},correctMinimumValue:function(a){if(a<this.minValue){a=this.maxValue}return a},increaseValue:function(h){var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var g=l.toString()[this.positions];g=parseInt(g)+1;if(g>9){g=0}if(!h){var a=this.value+1;a=this.correctMaximumValue(a);this.updateActiveEditor(a);return true}var k=l.substring(0,this.positions)+g+l.substring(this.positions+1);if(k!=this.value||this.hasDigits()){this.updateActiveEditor(k);return true}else{return false}},decreaseValue:function(h){var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var g=l.toString()[this.positions];g=parseInt(g)-1;if(g<0){g=9}if(!h){var a=this.value-1;a=this.correctMinimumValue(a);this.updateActiveEditor(a);return true}var k=l.substring(0,this.positions)+g+l.substring(this.positions+1);if(k!=this.value||this.hasDigits()){this.updateActiveEditor(k);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.DisabledEditor={};b.extend(b.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(h,n,k,a,l,m){this.format=h;this.value=-1;this.item=l;this.that=m;return this},textValue:function(){return""},insert:function(a){return false},deleteValue:function(){return false},increaseValue:function(){return false},decreaseValue:function(){return false},getDateTimeItem:function(){return this.item}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.AmPmEditor={};b.extend(b.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(h,n,k,a,l,m){this.format=h;this.value=n;this.amString=k;this.pmString=a;this.item=l;this.that=m;if(k==a){this.amString="<"+k;this.pmString=">"+a}return this},textValue:function(){var a=this.amString;if(this.value!=0){a=this.pmString}if(this.format.length==1&&a.length>1){a=a.substring(0,1)}return a},insert:function(k){var m=k.toString();if(m.Length==0){return this.deleteValue()}var n=false;if(this.amString.Length>0&&this.pmString.Length>0){var h=amString[0];var a=m[0];var l=pmString[0];if(h.toString()==a.toString()){this.value=0;n=true}else{if(l.toString()==a.toString()){this.value=1;n=true}}}else{if(this.pmString.Length>0){this.value=1;n=true}else{if(this.amString.Length>0){this.value=0;n=true}}}return n},deleteValue:function(){var a=true;if(this.amString.Length==0&&this.pmString.Length!=0){if(this.value==0){return false}this.value=0}else{if(this.value==1){return false}this.value=1}return a},increaseValue:function(){this.value=1-this.value;return true},decreaseValue:function(){this.increaseValue();return true},getDateTimeItem:function(){return this.item}})})(jQuery);(function(b){b.jqx._jqxDateTimeInput.getDateTime=function(d){var a={dateTime:new Date(d),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976000000000,millisPerDay:86400000,millisPerHour:3600000,millisPerMinute:60000,millisPerSecond:1000,minTicks:0,minValue:0,ticksPerDay:864000000000,ticksPerHour:36000000000,ticksPerMillisecond:10000,ticksPerMinute:600000000,ticksPerSecond:10000000,hour:d.getHours(),minute:d.getMinutes(),day:d.getDate(),second:d.getSeconds(),month:1+d.getMonth(),year:d.getFullYear(),millisecond:d.getMilliseconds(),dayOfWeek:d.getDay(),isWeekend:function(f){if(f==undefined||f==null){f=this.dateTime}var c=f.getDay()%6==0;return c},dayOfYear:function(c){if(c==undefined||c==null){c=this.dateTime}var f=new Date(c.getFullYear(),0,1);return Math.ceil((c-f)/86400000)},_setDay:function(c){if(c==undefined||c==null){c=0}this.dateTime.setDate(c);this.day=this.dateTime.getDate()},_setMonth:function(c){if(c==undefined||c==null){c=0}this.dateTime.setMonth(c-1);this.month=1+this.dateTime.getMonth()},_setYear:function(c){if(c==undefined||c==null){c=0}this.dateTime.setFullYear(c);this.year=this.dateTime.getFullYear()},_setHours:function(c){if(c==undefined||c==null){c=0}this.dateTime.setHours(c);this.hour=this.dateTime.getHours()},_setMinutes:function(c){if(c==undefined||c==null){c=0}this.dateTime.setMinutes(c);this.minute=this.dateTime.getMinutes()},_setSeconds:function(c){if(c==undefined||c==null){c=0}this.dateTime.setSeconds(c);this.second=this.dateTime.getSeconds()},_setMilliseconds:function(c){if(c==undefined||c==null){c=0}this.dateTime.setMilliseconds(c);this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(c){var h=this.dateTime;var g=h.getDate();h.setDate(h.getDate()+c);if(g===h.getDate()){h.setHours(h.getHours()+h.getTimezoneOffset()/60)}return h},_addWeeks:function(c){var f=this.dateTime;f.setDate(f.getDate()+7*c);return f},_addMonths:function(c){var f=this.dateTime;f.setMonth(f.getMonth()+c);return f},_addYears:function(c){var f=this.dateTime;f.setFullYear(f.getFullYear()+c);return f},_addHours:function(c){var f=this.dateTime;f.setHours(f.getHours()+c);return f},_addMinutes:function(c){var f=this.dateTime;f.setMinutes(f.getMinutes()+c);return f},_addSeconds:function(c){var f=this.dateTime;f.setSeconds(f.getSeconds()+c);return f},_addMilliseconds:function(c){var f=this.dateTime;f.setMilliseconds(f.getMilliseconds()+c);return f},_isLeapYear:function(c){if((c<1)||(c>9999)){throw"invalid year"}if((c%4)!=0){return false}if((c%100)==0){return((c%400)==0)}return true},_dateToTicks:function(l,c,m){if(((l>=1)&&(l<=9999))&&((c>=1)&&(c<=12))){var n=this._isLeapYear(l)?this.daysToMonth366:this.daysToMonth365;if((m>=1)&&(m<=(n[c]-n[c-1]))){var l=l-1;var k=((((((l*365)+(l/4))-(l/100))+(l/400))+n[c-1])+m)-1;return(k*864000000000)}}},_daysInMonth:function(g,c){if((c<1)||(c>12)){throw ("Invalid month.")}var h=this._isLeapYear(g)?this.daysToMonth366:this.daysToMonth365;return(h[c]-h[c-1])},_timeToTicks:function(l,c,k){var h=((l*3600)+(c*60))+k;return(h*10000000)},_equalDate:function(c){if(this.year==c.getFullYear()&&this.day==c.getDate()&&this.month==c.getMonth()+1){return true}return false}};return a}})(jQuery);(function(b){b.jqx.jqxWidget("jqxDropDownList","",{});b.extend(b.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.selectedIndex=-1;this.source=null;this.scrollBarSize=15;this.arrowSize=19;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;if(this.openDelay==undefined){this.openDelay=250}if(this.closeDelay==undefined){this.closeDelay=300}this.animationType="default";this.autoOpen=false;this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.keyboardSelection=true;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.renderer=null;this.placeHolder="Please Choose:";this.promptText="Please Choose:";this.emptyString="";this.rtl=false;this.selectionRenderer=null;this.listBox=null;this.popupZIndex=9999999999999;this.renderMode="default";this.touchMode="auto";this._checkForHiddenParent=true;this.autoBind=true;this.focusable=true;this.aria={"aria-disabled":{name:"disabled",type:"boolean"}};this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(a){this.render()},render:function(){if(!this.width){this.width=200}if(!this.height){this.height=25}this.element.innerHTML="";this.isanimating=false;this.id=this.element.id||b.jqx.utilities.createId();this.host.attr("role","combobox");b.jqx.aria(this,"aria-autocomplete","both");b.jqx.aria(this,"aria-readonly",false);var s=b("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");this._addInput();if(b.jqx._jqxListBox==null||b.jqx._jqxListBox==undefined){throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.")}if(this.host.attr("tabindex")){s.attr("tabindex",this.host.attr("tabindex"));this.host.removeAttr("tabindex")}else{s.attr("tabindex",0)}var o=this;this.touch=b.jqx.mobile.isTouchDevice();this.comboStructure=s;this.host.append(s);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.arrow=b(this.dropdownlistArrow.children()[0]);this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content"));this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect"));if(this.rtl){this.dropdownlistContent.addClass(this.toThemeProperty("jqx-rtl"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-rtl"))}this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return false});this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;if(this.promptText!="Please Choose:"){this.placeHolder=this.promptText}var m=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+m;this._firstDiv=this.host.find("div:first");try{var e="listBox"+this.id;var q=b(b.find("#"+e));if(q.length>0){q.remove()}b.jqx.aria(this,"aria-owns",e);b.jqx.aria(this,"aria-haspopup",true);var u=b("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");u.hide();u.appendTo(document.body);this.container=u;this.listBoxContainer=b(b.find("#innerListBox"+this.id));var t=this.width;if(this.dropDownWidth!="auto"){t=this.dropDownWidth}if(t==null){t=this.host.width();if(t==0){t=this.dropDownWidth}}if(this.dropDownHeight==null){this.dropDownHeight=200}var o=this;this.container.width(parseInt(t)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.addHandler(this.listBoxContainer,"bindingComplete",function(c){o._raiseEvent("6")});this.listBoxContainer.jqxListBox({autoBind:this.autoBind,_checkForHiddenParent:false,focusable:this.focusable,touchMode:this.touchMode,checkboxes:this.checkboxes,rtl:this.rtl,emptyString:this.emptyString,itemHeight:this.itemHeight,width:t,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){if(o.selectedIndex!=o.listBoxContainer.jqxListBox("selectedIndex")){o.listBox=b.data(o.listBoxContainer[0],"jqxListBox").instance;o.listBoxContainer.jqxListBox({selectedIndex:o.selectedIndex});o.renderSelection("mouse")}else{o.renderSelection("mouse")}},renderer:this.renderer});this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0});this.listBox=b.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox.selectIndex(this.selectedIndex);this.listBox._arrange();this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow"))}this.addHandler(this.listBoxContainer,"unselect",function(c){o._raiseEvent("3",{index:c.args.index,type:c.args.type,item:c.args.item})});this.addHandler(this.listBoxContainer,"change",function(c){if(c.args.type!="keyboard"){o._raiseEvent("4",{index:c.args.index,type:c.args.type,item:c.args.item})}else{if(c.args.type=="keyboard"){if(!o.isOpened()){o._raiseEvent("4",{index:o.selectedIndex,type:"keyboard",item:o.getItem(o.selectedIndex)})}}}});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(p){}var a=this;this.propertyChangeMap.disabled=function(d,g,c,f){if(f){d.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));d.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{d.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));d.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));d.dropdownlistContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))}b.jqx.aria(d,"aria-disabled",d.disabled)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))}this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this.arrow.addClass(this.toThemeProperty("jqx-icon"));if(this.renderMode==="simple"){this.arrow.remove();this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal"));this.host.removeClass(this.toThemeProperty("jqx-rc-all"))}this._updateHandlers();this._setSize();this._arrange();if(this.listBox){this.renderSelection()}if(b.jqx.browser.msie&&b.jqx.browser.version<8){if(this.host.parents(".jqx-window").length>0){var n=this.host.parents(".jqx-window").css("z-index");u.css("z-index",n+10);this.listBoxContainer.css("z-index",n+10)}}},resize:function(d,a){this.width=d;this.height=a;this._setSize();this._arrange()},val:function(d){if(!this.dropdownlistContent){return""}if(this.input&&arguments.length==0){return this.input.val()}var a=this.getItemByValue(d);if(a!=null){this.selectItem(a)}if(this.input){return this.input.val()}},focus:function(){try{var e=this;var f=function(){e.host.focus();if(e._firstDiv){e._firstDiv.focus()}};f();setTimeout(function(){f()},10)}catch(a){}},_addInput:function(){var a=this.host.attr("name");this.input=b("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}},getItems:function(){if(!this.listBox){return new Array()}return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}var h=this;var g=function(){h._arrange();if(h.dropDownWidth=="auto"){var c=h.host.width();h.listBoxContainer.jqxListBox({width:c});h.container.width(parseInt(c)+25)}};if(f){var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25)}b.jqx.utilities.resize(this.host,function(){g()},false,this._checkForHiddenParent)},isOpened:function(){var d=this;var a=b.data(document.body,"openedJQXListBox"+this.id);if(a!=null&&a==d.listBoxContainer){return true}return false},_updateHandlers:function(){var f=this;var e=false;this.removeHandlers();if(!this.touch){this.addHandler(this.host,"mouseenter",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){e=true;f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.arrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));f.host.addClass(f.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f.arrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));e=false}})}if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(d){var c=f.isOpened();if(c){f.close()}})}var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.dropdownlistWrapper,a,function(c){if(!f.disabled){var d=f.container.css("display")=="block";if(!f.isanimating){if(d){f.hideListBox();return false}else{f.showListBox();if(!f.focusable){if(c.preventDefault){c.preventDefault()}}else{f.focus()}}}}});if(f.autoOpen){this.addHandler(this.host,"mouseenter",function(){var c=f.isOpened();if(!c&&f.autoOpen){f.open();f.host.focus()}});b(document).on("mousemove."+f.id,function(o){var p=f.isOpened();if(p&&f.autoOpen){var c=f.host.coord();var d=c.top;var m=c.left;var n=f.container.coord();var s=n.left;var q=n.top;canClose=true;if(o.pageY>=d&&o.pageY<=d+f.host.height()){if(o.pageX>=m&&o.pageX<m+f.host.width()){canClose=false}}if(o.pageY>=q&&o.pageY<=q+f.container.height()){if(o.pageX>=s&&o.pageX<s+f.container.width()){canClose=false}}if(canClose){f.close()}}})}if(this.touch){this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}else{this.addHandler(b(document),"mousedown."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}this.addHandler(this.host,"keydown",function(c){var d=f.container.css("display")=="block";if(f.host.css("display")=="none"){return true}if(c.keyCode=="13"||c.keyCode=="9"){if(!f.isanimating){if(d){f.renderSelection();if(c.keyCode=="13"&&f.focusable){f._firstDiv.focus()}f.hideListBox();if(!f.keyboardSelection){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)})}if(c.keyCode=="13"){f._raiseEvent("4",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)})}}if(d&&c.keyCode!="9"){return false}return true}}if(c.keyCode==115){if(!f.isanimating){if(!f.isOpened()){f.showListBox()}else{if(f.isOpened()){f.hideListBox()}}}return false}if(c.altKey){if(f.host.css("display")=="block"){if(c.keyCode==38){if(f.isOpened()){f.hideListBox();return true}}else{if(c.keyCode==40){if(!f.isOpened()){f.showListBox();return true}}}}}if(c.keyCode=="27"){if(!f.ishiding){if(f.isOpened()){f.hideListBox();if(f.tempSelectedIndex!=undefined){f.selectIndex(f.tempSelectedIndex)}}return true}}if(!f.disabled){return f.listBox._handleKeyDown(c)}});this.addHandler(this.listBoxContainer,"checkChange",function(c){f.renderSelection();f._updateInputSelection();f._raiseEvent(5,{label:c.args.label,value:c.args.value,checked:c.args.checked,item:c.args.item})});this.addHandler(this.listBoxContainer,"select",function(c){if(!f.disabled){if(c.args.type=="keyboard"&&!f.isOpened()){f.renderSelection()}if(c.args.type!="keyboard"||f.keyboardSelection){f.renderSelection();f._raiseEvent("2",{index:c.args.index,type:c.args.type,item:c.args.item,originalEvent:c.args.originalEvent});if(c.args.type=="mouse"){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus()}}}}}});if(this.listBox){if(this.listBox.content){this.addHandler(this.listBox.content,"click",function(c){if(!f.disabled){if(f.listBox.itemswrapper&&c.target===f.listBox.itemswrapper[0]){return true}f.renderSelection("mouse");if(!f.touch){if(!f.ishiding){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus()}}}}if(!f.keyboardSelection){if(f._oldSelectedInd==undefined){f._oldSelectedIndx=f.selectedIndex}if(f.selectedIndex!=f._oldSelectedIndx){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)});f._oldSelectedIndx=f.selectedIndex}}}})}}this.addHandler(this.host,"focus",function(c){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this.host,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this._firstDiv,"focus",function(c){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this._firstDiv,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"))}})},removeHandlers:function(){var d=this;var a="mousedown";if(this.touch){a=b.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.dropdownlistWrapper,a);if(this.listBox){if(this.listBox.content){this.removeHandler(this.listBox.content,"click")}}this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(b(document),"mousemove."+d.id)},getItem:function(a){var d=this.listBox.getItem(a);return d},getItemByValue:function(d){var a=this.listBox.getItemByValue(d);return a},selectItem:function(a){if(this.listBox!=undefined){this.listBox.selectItem(a);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse")}},unselectItem:function(a){if(this.listBox!=undefined){this.listBox.unselectItem(a);this.renderSelection("mouse")}},checkItem:function(a){if(this.listBox!=undefined){this.listBox.checkItem(a)}},uncheckItem:function(a){if(this.listBox!=undefined){this.listBox.uncheckItem(a)}},indeteterminateItem:function(a){if(this.listBox!=undefined){this.listBox.indeteterminateItem(a)}},renderSelection:function(){if(this.listBox==null){return}if(this.height&&this.height.toString().indexOf("%")!=-1){this._arrange()}var s=this.listBox.visibleItems[this.listBox.selectedIndex];var v=this;if(this.checkboxes){var A=this.getCheckedItems();if(A!=null&&A.length>0){s=A[0]}else{s=null}}if(s==null){var E=b('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');E.appendTo(b(document.body));E.addClass(this.toThemeProperty("jqx-widget"));E.addClass(this.toThemeProperty("jqx-listitem-state-normal"));E.addClass(this.toThemeProperty("jqx-item"));b.jqx.utilities.html(E,this.placeHolder);var F=this.dropdownlistContent.css("padding-top");var a=this.dropdownlistContent.css("padding-bottom");E.css("padding-top",F);E.css("padding-bottom",a);var G=E.outerHeight();E.remove();E.removeClass();b.jqx.utilities.html(this.dropdownlistContent,E);var t=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){t=parseInt(this.height)}}var u=parseInt((parseInt(t)-parseInt(G))/2);if(u>0){this.dropdownlistContent.css("margin-top",u+"px");this.dropdownlistContent.css("margin-bottom",u+"px")}if(this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(E,-1,"",""));this.dropdownlistContent.css("margin-top","0px");this.dropdownlistContent.css("margin-bottom","0px");this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;if(this.width==="auto"){this._arrange()}if(this.focusable&&this.isOpened()){this.focus()}return}this.selectedIndex=this.listBox.selectedIndex;var E=b('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');E.appendTo(b(document.body));E.addClass(this.toThemeProperty("jqx-widget"));E.addClass(this.toThemeProperty("jqx-listitem-state-normal"));E.addClass(this.toThemeProperty("jqx-item"));var D=false;try{if(s.html!=undefined&&s.html!=null&&s.html.toString().length>0){b.jqx.utilities.html(E,s.html)}else{if(s.label!=undefined&&s.label!=null&&s.label.toString().length>0){b.jqx.utilities.html(E,s.label)}else{if(s.label===null||s.label===""){D=true;b.jqx.utilities.html(E,"")}else{if(s.value!=undefined&&s.value!=null&&s.value.toString().length>0){b.jqx.utilities.html(E,s.value)}else{if(s.title!=undefined&&s.title!=null&&s.title.toString().length>0){b.jqx.utilities.html(E,s.title)}else{if(s.label==""||s.label==null){D=true;b.jqx.utilities.html(E,"")}}}}}}}catch(w){var z=w}var F=this.dropdownlistContent.css("padding-top");var a=this.dropdownlistContent.css("padding-bottom");E.css("padding-top",F);E.css("padding-bottom",a);var G=E.outerHeight();if(G===0){G=16}if((s.label==""||s.label==null)&&D){b.jqx.utilities.html(E,"")}var B=this.width&&this.width.toString().indexOf("%")<=0;E.remove();E.removeClass();if(this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(E,s.index,s.label,s.value));if(this.focusable&&this.isOpened()){this.focus()}}else{if(this.checkboxes){var y=this.getCheckedItems();var x="";for(var C=0;C<y.length;C++){if(C==y.length-1){x+=y[C].label}else{x+=y[C].label+","}}E.text(x);if(B){E.css("max-width",this.host.width()-30)}E.css("overflow","hidden");E.css("display","block");if(!this.rtl){if(B){E.css("width",this.host.width()-30)}}E.css("text-overflow","ellipsis");E.css("padding-bottom",1+parseInt(a));this.dropdownlistContent.html(E);if(this.focusable&&this.isOpened()){this.focus()}}else{if(this.width&&this.width!=="auto"){if(B){if(!this.rtl){E.css("max-width",this.host.width()-this.arrowSize-3)}}E.css("overflow","hidden");E.css("display","block");E.css("padding-bottom",1+parseInt(a));if(!this.rtl){if(B){E.css("width",this.host.width()-this.arrowSize-3)}}E.css("text-overflow","ellipsis")}this.dropdownlistContent.html(E);if(this.focusable&&this.isOpened()){this.focus()}}}var t=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){t=parseInt(this.height)}}var u=parseInt((parseInt(t)-parseInt(G))/2);if(u>0){this.dropdownlistContent.css("margin-top",u+"px");this.dropdownlistContent.css("margin-bottom",u+"px")}if(this.selectionRenderer){this.dropdownlistContent.css("margin-top","0px");this.dropdownlistContent.css("margin-bottom","0px")}if(this.dropdownlistContent&&this.input){this._updateInputSelection()}if(this.listBox&&this.listBox._activeElement){b.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}if(this.width==="auto"){this._arrange()}},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{var h=this.getSelectedItem();if(h!=null){this.input.val(h.value)}else{this.input.val(this.dropdownlistContent.text())}}if(this.checkboxes){var a=this.getCheckedItems();var g="";if(a!=null){for(var l=0;l<a.length;l++){var k=a[l].value;if(k==undefined){continue}if(l==a.length-1){g+=k}else{g+=k+","}}}this.input.val(g)}}},setContent:function(a){b.jqx.utilities.html(this.dropdownlistContent,a);this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this._updateInputSelection();this.listBox.clearSelection();this.renderSelection();if(!this.selectionRenderer){b.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)}},unselectIndex:function(a,d){if(isNaN(a)){return}this.listBox.unselectIndex(a,d);this.renderSelection()},selectIndex:function(a,g,f,h){this.listBox.selectIndex(a,g,f,h,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(d,a){if(d==null){return false}return this.listBox.insertAt(d,a)},removeAt:function(d){var a=this.listBox.removeAt(d);this.renderSelection("mouse");return a},removeItem:function(d){var a=this.listBox.removeItem(d);this.renderSelection("mouse");return a},updateItem:function(f,e){var a=this.listBox.updateItem(f,e);this.renderSelection("mouse");return a},updateAt:function(e,f){var a=this.listBox.updateAt(e,f);this.renderSelection("mouse");return a},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(d){while(d&&(d.type=="hidden"||d.nodeType!=1||b.expr.filters.hidden(d))){d=d.nextSibling}var a=b(d).coord(true);return[a.left,a.top]},testOffset:function(l,n,q){var m=l.outerWidth();var a=l.outerHeight();var k=b(window).width()+b(window).scrollLeft();var o=b(window).height()+b(window).scrollTop();if(n.left+m>k){if(m>this.host.width()){var p=this.host.coord().left;var s=m-this.host.width();n.left=p-s+2}}if(n.left<0){n.left=parseInt(this.host.coord().left)+"px"}n.top-=Math.min(n.top,(n.top+a>o&&o>a)?Math.abs(a+q+22):0);return n},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var d=0;var a=0;if(b("body").css("border-top-width")!="0px"){d=parseInt(b("body").css("border-top-width"));if(isNaN(d)){d=0}}if(b("body").css("border-left-width")!="0px"){a=parseInt(b("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},showListBox:function(){b.jqx.aria(this,"aria-expanded",true);if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)){if(this.listBox.host.width()!=this.host.width()){var G=this.host.width();this.listBoxContainer.jqxListBox({width:G});this.container.width(parseInt(G)+25)}}var s=this;var E=this.listBoxContainer;var y=this.listBox;var v=b(window).scrollTop();var A=b(window).scrollLeft();var x=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var C,B=parseInt(Math.round(this.host.coord(true).left));C=B+"px";var t=b.jqx.mobile.isSafariMobileBrowser()||b.jqx.mobile.isWindowsPhone();if(this.listBox==null){return}var F=b.jqx.utilities.hasTransform(this.host);this.ishiding=false;if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}this.tempSelectedIndex=this.selectedIndex;if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}if(F||(t!=null&&t)){C=b.jqx.mobile.getLeftPos(this.element);x=b.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(b("body").css("border-top-width")!="0px"){x=parseInt(x)-this._getBodyOffset().top+"px"}if(b("body").css("border-left-width")!="0px"){C=parseInt(C)-this._getBodyOffset().left+"px"}}E.stop();if(this.renderMode!=="simple"){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))}this.container.css("left",C);this.container.css("top",x);y._arrange();var D=true;var a=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var w=this.container.outerWidth();var H=Math.abs(w-this.host.width());if(w>this.host.width()){this.container.css("left",25+parseInt(Math.round(B))-H+"px")}else{this.container.css("left",25+parseInt(Math.round(B))+H+"px")}}if(this.enableBrowserBoundsDetection){var z=this.testOffset(E,{left:parseInt(this.container.css("left")),top:parseInt(x)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=z.top){a=true;E.css("top",23);E.addClass(this.toThemeProperty("jqx-popup-up"))}else{E.css("top",0)}this.container.css("top",z.top);if(parseInt(this.container.css("left"))!=z.left){this.container.css("left",z.left)}}if(this.animationType=="none"){this.container.css("display","block");b.data(document.body,"openedJQXListBoxParent",s);b.data(document.body,"openedJQXListBox"+this.id,E);E.css("margin-top",0);E.css("opacity",1);y._renderItems();s._raiseEvent("0",y)}else{this.container.css("display","block");s.isanimating=true;if(this.animationType=="fade"){E.css("margin-top",0);E.css("opacity",0);E.animate({opacity:1},this.openDelay,function(){b.data(document.body,"openedJQXListBoxParent",s);b.data(document.body,"openedJQXListBox"+s.id,E);s.ishiding=false;s.isanimating=false;y._renderItems();s._raiseEvent("0",y)})}else{E.css("opacity",1);var u=E.outerHeight();if(a){E.css("margin-top",u)}else{E.css("margin-top",-u)}E.animate({"margin-top":0},this.openDelay,function(){b.data(document.body,"openedJQXListBoxParent",s);b.data(document.body,"openedJQXListBox"+s.id,E);s.ishiding=false;s.isanimating=false;y._renderItems();s._raiseEvent("0",y)})}}if(!a){this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded"));E.addClass(this.toThemeProperty("jqx-rc-t-expanded"))}else{this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded"));E.addClass(this.toThemeProperty("jqx-rc-b-expanded"))}if(this.renderMode!=="simple"){E.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))}},hideListBox:function(){b.jqx.aria(this,"aria-expanded",false);var k=this.listBoxContainer;var h=this.listBox;var n=this.container;var m=this;b.data(document.body,"openedJQXListBox"+this.id,null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!m.ishiding){k.stop();var a=k.outerHeight();k.css("margin-top",0);m.isanimating=true;var l=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){l=a}if(this.animationType=="fade"){k.css({opacity:1});k.animate({opacity:0},this.closeDelay,function(){n.css("display","none");m.isanimating=false;m.ishiding=false})}else{k.animate({"margin-top":l},this.closeDelay,function(){n.css("display","none");m.isanimating=false;m.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));k.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));k.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));k.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("1",h)},closeOpenedListBox:function(l){var m=l.data.me;var a=b(l.target);var n=l.data.listbox;if(n==null){return true}if(b(l.target).ischildof(l.data.me.host)){return true}if(!m.isOpened()){return true}var k=m;var h=false;b.each(a.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){h=true;return false}if(this.className.indexOf("jqx-dropdownlist")!=-1){if(m.element.id==this.id){h=true}return false}}}});if(n!=null&&!h&&m.isOpened()){m.hideListBox()}return true},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){if(a!==true){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}}},_arrange:function(){var k=parseInt(this.host.width());var a=parseInt(this.host.height());var l=this.arrowSize;var m=this.arrowSize;var h=3;var n=k-m-2*h;if(n>0&&this.width!=="auto"){this.dropdownlistContent.width(n+"px")}if(this.width==="auto"){this.dropdownlistContent.css("width","auto");k=this.dropdownlistContent.width()+m+2*h;this.host.width(k)}this.dropdownlistContent.height(a);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(m);this.dropdownlistArrow.height(a);if(this.rtl){this.dropdownlistArrow.css("float","left");this.dropdownlistContent.css("float","right")}},destroy:function(){b.jqx.utilities.resize(this.host,null,true);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandler(this.listBoxContainer,"bindingComplete");if(this.host.parents()){this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id)}this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(b(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id)}this.dropdownlistArrow.remove();delete this.dropdownlistArrow;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.arrow;delete this.dropdownlistContent;delete this.listBox;delete this._firstDiv;this.container.remove();delete this.container;var a=b.data(this.element,"jqxDropDownList");if(a){delete a.instance}this.host.removeData();this.host.remove();delete this.comboStructure;delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_raiseEvent:function(g,l){if(l==undefined){l={owner:null}}var k=this.events[g];args=l;args.owner=this;var h=new jQuery.Event(k);h.owner=this;if(g==2||g==3||g==4||g==5){h.args=l}var a=this.host.trigger(h);return a},propertyChangedHandler:function(a,l,g,h){if(a.isInitialized==undefined||a.isInitialized==false){return}if(l=="enableSelection"){a.listBoxContainer.jqxListBox({enableSelection:h})}if(l=="enableHover"){a.listBoxContainer.jqxListBox({enableHover:h})}if(l=="autoOpen"){a._updateHandlers()}if(l=="emptyString"){a.listBox.emptyString=a.emptyString}if(l=="itemHeight"){a.listBoxContainer.jqxListBox({itemHeight:h})}if(l=="renderer"){a.listBoxContainer.jqxListBox({renderer:h})}if(l=="rtl"){if(h){a.dropdownlistArrow.css("float","left");a.dropdownlistContent.css("float","right")}else{a.dropdownlistArrow.css("float","right");a.dropdownlistContent.css("float","left")}a.listBoxContainer.jqxListBox({rtl:a.rtl})}if(l=="source"){a.listBoxContainer.jqxListBox({source:a.source});a.listBox.selectedIndex=-1;a.listBox.selectIndex(this.selectedIndex);a.renderSelection();if(h==null){a.clear()}}if(l=="displayMember"||l=="valueMember"){a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember});a.renderSelection()}if(l=="placeHolder"){a.renderSelection()}if(l=="theme"&&h!=null){a.listBoxContainer.jqxListBox({theme:h});a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));if(b.jqx.browser.msie){a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow"))}a.dropdownlistContent.removeClass();a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content"));a.dropdownlistWrapper.removeClass();a.dropdownlistWrapper.addClass(a.toThemeProperty("jqx-disableselect"));a.host.removeClass();a.host.addClass(a.toThemeProperty("jqx-fill-state-normal"));a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-normal"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.arrow.removeClass();a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down"));a.arrow.addClass(a.toThemeProperty("jqx-icon"))}if(l=="autoDropDownHeight"){a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight});if(a.autoDropDownHeight){a.container.height(a.listBoxContainer.height()+25)}else{a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}a.listBox._arrange();a.listBox._updatescrollbars()}if(l=="searchMode"){a.listBoxContainer.jqxListBox({searchMode:a.searchMode})}if(l=="incrementalSearch"){a.listBoxContainer.jqxListBox({incrementalSearch:a.incrementalSearch})}if(l=="incrementalSearchDelay"){a.listBoxContainer.jqxListBox({incrementalSearchDelay:a.incrementalSearchDelay})}if(l=="dropDownHeight"){if(!a.autoDropDownHeight){a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}}if(l=="dropDownWidth"||l=="scrollBarSize"){var k=a.width;if(a.dropDownWidth!="auto"){k=a.dropDownWidth}a.listBoxContainer.jqxListBox({width:k,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(k)+25)}if(l=="width"||l=="height"){if(h!=g){this.refresh();if(l=="width"){if(a.dropDownWidth=="auto"){var k=a.host.width();a.listBoxContainer.jqxListBox({width:k});a.container.width(parseInt(k)+25)}}}}if(l=="checkboxes"){a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes})}if(l=="selectedIndex"){if(a.listBox!=null){a.listBox.selectIndex(parseInt(h));a.renderSelection()}}}})})(jQuery);(function(b){b.jqx.jqxWidget("jqxListBox","",{});b.extend(b.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.multiple=false;this.selectedIndex=-1;this.selectedIndexes=new Array();this.source=null;this.scrollBarSize=b.jqx.utilities.scrollBarSize;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;this.hasThreeStates=false;this.autoHeight=false;this.autoItemsHeight=false;this.roundedcorners=true;this.touchMode="auto";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=1000;this.incrementalSearchKeyDownDelay=300;this.allowDrag=false;this.allowDrop=true;this.dropAction="default";this.touchModeStyle="auto";this.keyboardNavigation=true;this.enableMouseWheel=true;this.multipleextended=false;this.emptyString="";this.rtl=false;this.rendered=null;this.renderer=null;this.dragStart=null;this.dragEnd=null;this.focusable=true;this.ready=null;this._checkForHiddenParent=true;this.autoBind=true;this.aria={"aria-disabled":{name:"disabled",type:"boolean"}};this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(a){if(b.jqx.utilities.scrollBarSize!=15){this.scrollBarSize=b.jqx.utilities.scrollBarSize}if(this.width==null){this.width=200}if(this.height==null){this.height=200}this.render();var d=this;b.jqx.utilities.resize(this.host,function(){d._updateSize()},false,this._checkForHiddenParent)},resize:function(d,a){this.width=d;this.height=a;this._updateSize()},render:function(){this.element.innerHTML="";var a=this;var p=this.element.className;p+=" "+this.toThemeProperty("jqx-listbox");p+=" "+this.toThemeProperty("jqx-reset");p+=" "+this.toThemeProperty("jqx-rc-all");p+=" "+this.toThemeProperty("jqx-widget");p+=" "+this.toThemeProperty("jqx-widget-content");this.element.className=p;var l=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);l=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);if(this.host.height()==0){this.host.height(200)}l=true}if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.element.style.width=parseInt(this.width)+"px"}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.element.style.height=parseInt(this.height)+"px"}}if(this.multiple||this.multipleextended||this.checkboxes){b.jqx.aria(this,"aria-multiselectable",true)}else{b.jqx.aria(this,"aria-multiselectable",false)}var q=b("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");if(this._checkForHiddenParent){this._addInput();if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",1)}}this.host.attr("role","listbox");this.host.append(q);var n=this.host.find("#verticalScrollBar"+this.element.id);if(!this.host.jqxButton){throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");return}if(!n.jqxScrollBar){throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");return}var m=parseInt(this.host.height())/2;if(m==0){m=10}this.vScrollBar=n.jqxScrollBar({_initialLayout:true,vertical:true,rtl:this.rtl,theme:this.theme,touchMode:this.touchMode,largestep:m});var o=this.host.find("#horizontalScrollBar"+this.element.id);this.hScrollBar=o.jqxScrollBar({_initialLayout:true,vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#listBoxContent");this.content[0].id="listBoxContent"+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollInstance=b.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=b.data(this.hScrollBar[0],"jqxScrollBar").instance;if(this.isTouchDevice()){if(!(b.jqx.browser.msie&&b.jqx.browser.version<9)){var k=b("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(k);this.overlayContent=this.host.find(".overlay")}}this._updateTouchScrolling();this.host.addClass("jqx-disableselect");if(this.host.jqxDragDrop){jqxListBoxDragDrop()}},_highlight:function(a,f){var e=f.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+e+")","ig"),function(d,c){return"<b>"+c+"</b>"})},_addInput:function(){var a=this.host.attr("name");if(a){this.host.attr("name","")}this.input=b("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",a)},_updateTouchScrolling:function(){var a=this;if(this.isTouchDevice()){a.enableHover=false;var d=this.overlayContent?this.overlayContent:this.content;this.removeHandler(b(d),b.jqx.mobile.getTouchEventName("touchstart")+".touchScroll");this.removeHandler(b(d),b.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(b(d),b.jqx.mobile.getTouchEventName("touchend")+".touchScroll");this.removeHandler(b(d),"touchcancel.touchScroll");b.jqx.mobile.touchScroll(d,a.vScrollInstance.max,function(c,g){if(a.vScrollBar.css("visibility")!="hidden"){var h=a.vScrollInstance.value;a.vScrollInstance.setPosition(h+g);a._lastScroll=new Date()}if(a.hScrollBar.css("visibility")!="hidden"){var h=a.hScrollInstance.value;a.hScrollInstance.setPosition(h+c);a._lastScroll=new Date()}},this.element.id,this.hScrollBar,this.vScrollBar);if(a.vScrollBar.css("visibility")!="visible"&&a.hScrollBar.css("visibility")!="visible"){b.jqx.mobile.setTouchScroll(false,this.element.id)}else{b.jqx.mobile.setTouchScroll(true,this.element.id)}this._arrange()}},isTouchDevice:function(){var a=b.jqx.mobile.isTouchDevice();if(this.touchMode==true){if(this.touchDevice){return true}if(b.jqx.browser.msie&&b.jqx.browser.version<9){return false}this.touchDevice=true;a=true;b.jqx.mobile.setMobileSimulator(this.element)}else{if(this.touchMode==false){a=false}}if(a&&this.touchModeStyle!=false){this.scrollBarSize=b.jqx.utilities.touchScrollBarSize}if(a){this.host.addClass(this.toThemeProperty("jqx-touch"))}return a},beginUpdate:function(){this.updatingListBox=true},endUpdate:function(){this.updatingListBox=false;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this._render(false)},propertyChangedHandler:function(a,n,l,m){if(this.isInitialized==undefined||this.isInitialized==false){return}if(n=="renderer"){a._cachedItemHtml=new Array();a.refresh()}if(n=="itemHeight"){a.refresh()}if(n=="source"||n=="checkboxes"){if(m==null&&l&&l.unbindBindingUpdate){l.unbindBindingUpdate(a.element.id);l.unbindDownloadComplete(a.element.id)}a.clearSelection();a.refresh()}if(n=="scrollBarSize"||n=="equalItemsWidth"){if(m!=l){a._updatescrollbars()}}if(n=="disabled"){a._renderItems();a.vScrollBar.jqxScrollBar({disabled:m});a.hScrollBar.jqxScrollBar({disabled:m})}if(n=="touchMode"||n=="rtl"){a._removeHandlers();a.vScrollBar.jqxScrollBar({touchMode:m});a.hScrollBar.jqxScrollBar({touchMode:m});if(n=="touchMode"){if(!(b.jqx.browser.msie&&b.jqx.browser.version<9)){var h=b("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(h);a.overlayContent=a.host.find(".overlay")}}a._updateTouchScrolling();a._addHandlers();a._render(false)}if(!this.updating){if(n=="width"||n=="height"){a._updateSize()}}if(n=="theme"){if(l!=m){a.hScrollBar.jqxScrollBar({theme:a.theme});a.vScrollBar.jqxScrollBar({theme:a.theme});a.host.removeClass();a.host.addClass(a.toThemeProperty("jqx-listbox"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.host.addClass(a.toThemeProperty("jqx-reset"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.refresh()}}if(n=="selectedIndex"){a.clearSelection();a.selectIndex(m,true)}if(n=="displayMember"||n=="valueMember"){if(l!=m){var k=a.selectedIndex;a.refresh();a.selectedIndex=k;a.selectedIndexes[k]=k}a._renderItems()}if(n=="autoHeight"){if(l!=m){a._render(false)}else{a._updatescrollbars();a._renderItems()}}if(a._checkForHiddenParent&&b.jqx.isHidden(a.host)){b.jqx.utilities.resize(this.host,function(){a._updateSize()},false,a._checkForHiddenParent)}},loadFromSelect:function(k){if(k==null){return}var q="#"+k;var n=b(q);if(n.length>0){var o=n.find("option");var a=n.find("optgroup");var p=0;var l=-1;var m=new Array();b.each(o,function(){var e=a.find(this).length>0;var c=null;if(this.text!=this.value&&(this.label==null||this.label=="")){this.label=this.text}var d={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};var f=b.jqx.browser.msie&&b.jqx.browser.version<8;if(f){if(d.value==""&&this.text!=null&&this.text.length>0){d.value=this.text}}if(e){c=a.find(this).parent()[0].label;d.group=c}if(this.selected){l=p}m[p]=d;p++});this.source=m;this.fromSelect=true;this.clearSelection();this.selectedIndex=l;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},invalidate:function(){this._cachedItemHtml=[];this._renderItems();this.virtualSize=null;this._updateSize()},refresh:function(f){var a=this;if(this.vScrollBar==undefined){return}this._cachedItemHtml=[];this.visibleItems=new Array();var e=function(d){if(d==true){if(a.selectedIndex!=-1){var c=a.selectedIndex;a.selectedIndex=-1;a._stopEvents=true;a.selectIndex(c,false,true);if(a.selectedIndex==-1){a.selectedIndex=c}a._stopEvents=false}}};if(this.itemswrapper!=null){this.itemswrapper.remove();this.itemswrapper=null}if(b.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source,f);e(f);return}if(this.autoBind||(!this.autoBind&&!f)){this.items=this.loadItems(this.source)}this._raiseEvent("6");this._render(false,f==true);e(f)},_render:function(d,a){this._addItems();this._renderItems();this.vScrollInstance.setPosition(0);this._cachedItemHtml=new Array();if(d==undefined||d){if(this.items!=undefined&&this.items!=null){if(this.selectedIndex>=0&&this.selectedIndex<this.items.length){this.selectIndex(this.selectedIndex,true,true,true)}}}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop();if(this.isTouchDevice()){this._removeHandlers();if(this.overlayContent){this.overlayContent.remove();this.overlayContent=null}this._updateTouchScrolling();this._addHandlers();return}}this._updateTouchScrolling();if(this.rendered){this.rendered()}if(this.ready){this.ready()}},_hitTest:function(l,g){var h=parseInt(this.vScrollInstance.value);var a=this._searchFirstVisibleIndex(g+h,this.renderedVisibleItems);if(this.renderedVisibleItems[a]!=undefined&&this.renderedVisibleItems[a].isGroup){return null}if(this.renderedVisibleItems.length>0){var k=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(k.height+k.top<g+h){return null}}a=this._searchFirstVisibleIndex(g+h);return this.visibleItems[a];return null},_searchFirstVisibleIndex:function(h,g){if(h==undefined){h=parseInt(this.vScrollInstance.value)}var l=0;if(g==undefined||g==null){g=this.visibleItems}var a=g.length;while(l<=a){mid=parseInt((l+a)/2);var k=g[mid];if(k==undefined){break}if(k.initialTop>h&&k.initialTop+k.height>h){a=mid-1}else{if(k.initialTop<h&&k.initialTop+k.height<=h){l=mid+1}else{return mid;break}}}return 0},_renderItems:function(){if(this.items==undefined||this.items.length==0){this.visibleItems=new Array();return}if(this.updatingListBox==true){return}var S=this.isTouchDevice();var Z=this.vScrollInstance;var ay=this.hScrollInstance;var az=parseInt(Z.value);var aA=parseInt(ay.value);if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){aA=ay.max-aA}}var ae=this.items.length;var T=this.host.width();var V=parseInt(this.content[0].style.width);var aE=V+parseInt(ay.max);var ao=parseInt(this.vScrollBar[0].style.width)+2;if(this.vScrollBar[0].style.visibility=="hidden"){ao=0}if(this.hScrollBar[0].style.visibility!="visible"){aE=V}var au=this._getVirtualItemsCount();var U=new Array();var aa=0;var ab=parseInt(this.element.style.height)+2;if(this.element.style.height.indexOf("%")!=-1){ab=this.host.outerHeight()}if(isNaN(ab)){ab=0}var al=0;var am=0;var a=0;if(Z.value==0||this.visibleItems.length==0){for(var an=0;an<this.items.length;an++){var ah=this.items[an];if(ah.visible){ah.top=-az;ah.initialTop=-az;if(!ah.isGroup&&ah.visible){this.visibleItems[am++]=ah;ah.visibleIndex=am-1}this.renderedVisibleItems[a++]=ah;ah.left=-aA;var aD=ah.top+ah.height;if(aD>=0&&ah.top-ah.height<=ab){U[aa++]={index:an,item:ah}}az-=ah.height}}}var at=az>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;var R=0;aa=0;var ag=this.vScrollInstance.value;var W=0;while(R<100+ab){var ah=this.renderedVisibleItems[at];if(ah==undefined){break}if(ah.visible){ah.left=-aA;var aD=ah.top+ah.height-ag;if(aD>=0&&ah.initialTop-ag-ah.height<=2*ab){U[aa++]={index:at,item:ah}}}at++;if(ah.visible){R+=ah.initialTop-ag+ah.height-R}W++;if(W>this.items.length-1){break}}var aq=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item");var ax=this.toThemeProperty("jqx-listitem-state-group");var y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");var ad=0;var ar=this;for(var an=0;an<this.visualItems.length;an++){var ac=this.visualItems[an];var X=function(){var d=ac[0].firstChild;if(ar.checkboxes){d=ac[0].lastChild}if(d!=null){d.style.visibility="hidden";d.className=""}if(ar.checkboxes){var c=ac.find(".chkbox");c.css({visibility:"hidden"})}};if(an<U.length){var ah=U[an].item;if(ah.initialTop-ag>=ab){X();continue}var af=b(ac[0].firstChild);if(this.checkboxes){af=b(ac[0].lastChild)}if(af.length==0){continue}if(af[0]==null){continue}af[0].className="";af[0].style.display="block";af[0].style.visibility="inherit";var ap="";if(!ah.isGroup&&!this.selectedIndexes[ah.index]>=0){ap=aq}else{ap=ax}if(ah.disabled||this.disabled){ap+=" "+y}if(this.roundedcorners){ap+=" "+this.toThemeProperty("jqx-rc-all")}if(S){ap+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")}af[0].className=ap;if(this.renderer){if(!ah.key){ah.key=this.generatekey()}if(!this._cachedItemHtml){this._cachedItemHtml=new Array()}if(this._cachedItemHtml[ah.key]){if(af[0].innerHTML!=this._cachedItemHtml[ah.key]){af[0].innerHTML=this._cachedItemHtml[ah.key]}}else{var ai=this.renderer(ah.index,ah.label,ah.value);af[0].innerHTML=ai;this._cachedItemHtml[ah.key]=af[0].innerHTML}}else{if(this.itemHeight!==-1){var av=2+2*parseInt(af.css("padding-top"));af[0].style.lineHeight=(ah.height-av)+"px";af.css("vertical-align","middle")}if(ah.html!=null&&ah.html.toString().length>0){af[0].innerHTML=ah.html}else{if(ah.label!=null||ah.value!=null){if(ah.label!=null){if(af[0].innerHTML!==ah.label){af[0].innerHTML=ah.label}if(b.trim(ah.label)==""){af[0].innerHTML=this.emptyString;if(this.emptyString==""){af[0].style.height=(ah.height-8)+"px"}}if(!this.incrementalSearch&&!ah.disabled){if(this.searchString!=undefined&&this.searchString!=""){af[0].innerHTML=this._highlight(ah.label.toString(),this.searchString)}}}else{if(ah.label===null){af[0].innerHTML=this.emptyString;if(this.emptyString==""){af[0].style.height=(ah.height-8)+"px"}}else{if(af[0].innerHTML!==ah.value){af[0].innerHTML=ah.value}else{if(ah.label==""){af[0].innerHTML=" "}}}}}else{if(ah.label==""||ah.label==null){af[0].innerHTML="";af[0].style.height=(ah.height-8)+"px"}}}}ac[0].style.left=ah.left+"px";ac[0].style.top=ah.initialTop-ag+"px";ah.element=af[0];if(ah.title){af[0].title=ah.title}if(this.equalItemsWidth&&!ah.isGroup){if(al==0){var aC=parseInt(aE);var aj=parseInt(af.outerWidth())-parseInt(af.width());aC-=aj;var Y=1;if(Y!=null){Y=parseInt(Y)}else{Y=0}aC-=2*Y;al=aC;if(this.checkboxes&&this.hScrollBar[0].style.visibility=="hidden"){al-=18}}if(V>this.virtualSize.width){af[0].style.width=al+"px";ah.width=al}else{af[0].style.width=-4+this.virtualSize.width+"px";ah.width=this.virtualSize.width-4}}else{if(af.width()<this.host.width()){af.width(this.host.width()-2)}}if(this.rtl){af[0].style.textAlign="right"}if(this.autoItemsHeight){af[0].style.whiteSpace="normal";af.width(al);ah.width=al}ad=0;if(this.checkboxes&&!ah.isGroup){if(ad==0){ad=(ah.height-16)/2;ad++}var aB=b(ac.children()[0]);aB[0].item=ah;if(!this.rtl){if(af[0].style.left!="18px"){af[0].style.left="18px"}}else{if(af[0].style.left!="0px"){af[0].style.left="0px"}}if(this.rtl){aB.css("left",8+ah.width+"px")}aB[0].style.top=ad+"px";aB[0].style.display="block";aB[0].style.visibility="inherit";var ak=ah.checked;var aw=ah.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";if(aB[0].firstChild&&aB[0].firstChild.firstChild&&aB[0].firstChild.firstChild.firstChild){if(ak){aB[0].firstChild.firstChild.firstChild.className=aw}else{if(ak===false){aB[0].firstChild.firstChild.firstChild.className=""}else{if(ak===null){aB[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate")}}}}if(b.jqx.ariaEnabled){if(ak){ac[0].setAttribute("aria-selected",true)}else{ac[0].removeAttribute("aria-selected")}}}else{if(this.checkboxes){var aB=b(ac.children()[0]);aB.css({display:"none",visibility:"inherit"})}}if(this.selectedIndexes[ah.visibleIndex]>=0&&!ah.disabled){af.addClass(this.toThemeProperty("jqx-listitem-state-selected"));af.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(b.jqx.ariaEnabled){ac[0].setAttribute("aria-selected",true);this._activeElement=ac[0]}}else{if(!this.checkboxes){if(b.jqx.ariaEnabled){ac[0].removeAttribute("aria-selected")}}}}else{X()}}},generatekey:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},_calculateVirtualSize:function(){var y=0;var A=2;var G=0;var z=b("<span></span>");if(this.equalItemsWidth){z.css("float","left")}var F=0;var E=this.host.outerHeight();b(document.body).append(z);var I=this.items.length;var D=this.host.width();if(this.autoItemsHeight){D-=10;if(this.vScrollBar.css("visibility")!="hidden"){D-=20}}if(this.autoItemsHeight||this.renderer||this.groups.length>1||(I>0&&this.items[0].html!=null&&this.items[0].html!="")){for(var G=0;G<I;G++){var v=this.items[G];if(v.isGroup&&(v.label==""&&v.html=="")){continue}if(!v.visible){continue}var J="";if(!v.isGroup){J+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all")}else{J+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all")}J+=" "+this.toThemeProperty("jqx-fill-state-normal");if(this.isTouchDevice()){J+=" "+this.toThemeProperty("jqx-touch")}z[0].className=J;if(this.autoItemsHeight){z[0].style.whiteSpace="normal";var L=this.checkboxes?-20:0;z[0].style.width=(L+D)+"px"}if(this.renderer){var C=this.renderer(v.index,v.label,v.value);z[0].innerHTML=C}else{if(v.html!=null&&v.html.toString().length>0){z[0].innerHTML=v.html}else{if(v.label!=null||v.value!=null){if(v.label!=null){z[0].innerHTML=v.label;if(v.label==""){z[0].innerHTML="Empty"}}else{z[0].innerHTML=v.value}}}}var w=z.outerHeight();var u=z.outerWidth();if(this.itemHeight>-1){w=this.itemHeight}v.height=w;v.width=u;A+=w;y=Math.max(y,u);if(A<=E){F++}}}else{var A=0;var B=0;var K="";var a=0;var H=0;var x=-1;for(var G=0;G<I;G++){var v=this.items[G];if(v.isGroup&&(v.label==""&&v.html=="")){continue}if(!v.visible){continue}x++;var J="";if(x==0){J+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all");J+=" "+this.toThemeProperty("jqx-fill-state-normal");J+=" "+this.toThemeProperty("jqx-widget");J+=" "+this.toThemeProperty("jqx-listbox");J+=" "+this.toThemeProperty("jqx-widget-content");if(this.isTouchDevice()){J+=" "+this.toThemeProperty("jqx-touch");J+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")}z[0].className=J;if(this.autoItemsHeight){z[0].style.whiteSpace="normal";var L=this.checkboxes?-20:0;z[0].style.width=(L+D)+"px"}if(v.html==null||(v.label==""||v.label==null)){z[0].innerHTML="Item"}else{if(v.html!=null&&v.html.toString().length>0){z[0].innerHTML=v.html}else{if(v.label!=null||v.value!=null){if(v.label!=null){if(v.label.toString().match(new RegExp("\\w"))!=null||v.label.toString().match(new RegExp("\\d"))!=null){z[0].innerHTML=v.label}else{z[0].innerHTML="Item"}}else{z[0].innerHTML=v.value}}}}var w=1+z.outerHeight();if(this.itemHeight>-1){w=this.itemHeight}B=w}if(a!=undefined){H=a}if(v.html!=null&&v.html.toString().length>0){a=Math.max(a,v.html.toString().length);if(H!=a){K=v.html}}else{if(v.label!=null){a=Math.max(a,v.label.length);if(H!=a){K=v.label}}else{if(v.value!=null){a=Math.max(a,v.value.length);if(H!=a){K=v.value}}}}v.height=B;A+=B;if(A<=E){F++}}z[0].innerHTML=K;y=z.outerWidth()}A+=2;if(F<10){F=10}z.remove();return{width:y,height:A,itemsPerPage:F}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var a=parseInt(this.host.height())/5;if(a>this.items.length){a=this.items.length}return a}else{return this.virtualItemsCount}},_addItems:function(z){if(this.updatingListBox==true){return}if(this.items==undefined||this.items.length==0){this.virtualSize={width:0,height:0,itemsPerPage:0};this._updatescrollbars();this.renderedVisibleItems=new Array();if(this.itemswrapper){this.itemswrapper.children().remove()}return}if(z==false){var N=this._calculateVirtualSize();var J=N.itemsPerPage*2;if(this.autoHeight){J=this.items.length}this.virtualItemsCount=Math.min(J,this.items.length);var v=this;var A=N.width;this.virtualSize=N;this._updatescrollbars();return}var D=this;var F=0;this.visibleItems=new Array();this.renderedVisibleItems=new Array();this._removeHandlers();if(this.allowDrag&&this._enableDragDrop){this.itemswrapper=null}if(this.itemswrapper==null){this.content[0].innerHTML="";this.itemswrapper=b('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>');this.itemswrapper.height(2*this.host.height());this.content.append(this.itemswrapper)}var N=this._calculateVirtualSize();var J=N.itemsPerPage*2;if(this.autoHeight){J=this.items.length}this.virtualItemsCount=Math.min(J,this.items.length);var v=this;var A=N.width;this.virtualSize=N;this.itemswrapper.width(Math.max(this.host.width(),17+N.width));var M=0;var I="";var K=b.jqx.browser.msie&&b.jqx.browser.version<9;var y=K?' unselectable="on"':"";for(var H=M;H<this.virtualItemsCount;H++){var w=this.items[H];var B="listitem"+H+this.element.id;I+="<div"+y+" role='option' id='"+B+"' class='jqx-listitem-element'>";if(this.checkboxes){I+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var C='<div class="'+this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';var a=w.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";C+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+a+'"></span>';C+="</div></div>";I+=C;I+="</div>"}I+="<span"+y+" style='-ms-touch-action: none;'></span></div>"}if(D.WinJS){this.itemswrapper.html(I)}else{this.itemswrapper[0].innerHTML=I}var L=this.itemswrapper.children();for(var H=M;H<this.virtualItemsCount;H++){var w=this.items[H];var x=b(L[H]);if(this.allowDrag&&this._enableDragDrop){x.addClass("draggable")}if(this.checkboxes){var G=b(x.children()[0]);x.css("float","left");var E=b(x[0].firstChild);E.css("float","left")}x[0].style.height=w.height+"px";x[0].style.top=F+"px";F+=w.height;this.visualItems[H]=x}this._addHandlers();this._updatescrollbars();if(this.autoItemsHeight){var N=this._calculateVirtualSize();var J=N.itemsPerPage*2;if(this.autoHeight){J=this.items.length}this.virtualItemsCount=Math.min(J,this.items.length);var v=this;var A=N.width;this.virtualSize=N;this._updatescrollbars()}if(b.jqx.browser.msie&&b.jqx.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true)}},_updatescrollbars:function(){if(!this.virtualSize){return}var o=this.virtualSize.height;var s=this.virtualSize.width;var w=this.vScrollInstance;var x=this.hScrollInstance;this._arrange(false);var q=false;var a=this.host.outerWidth();var p=this.host.outerHeight();var A=0;if(s>a){A=this.hScrollBar.outerHeight()+2}if(o+A>p){var y=w.max;w.max=2+parseInt(o)+A-parseInt(p-2);if(this.vScrollBar[0].style.visibility!="inherit"){this.vScrollBar[0].style.visibility="inherit";q=true}if(y!=w.max){w._arrange()}}else{if(this.vScrollBar[0].style.visibility!="hidden"){this.vScrollBar[0].style.visibility="hidden";q=true;w.setPosition(0)}}var u=0;if(this.vScrollBar[0].style.visibility!="hidden"){u=this.scrollBarSize+6}var v=this.checkboxes?20:0;if(this.autoItemsHeight){this.hScrollBar[0].style.visibility="hidden"}else{if(s>=a-u-v){var t=x.max;if(this.vScrollBar[0].style.visibility=="inherit"){x.max=v+u+parseInt(s)-this.host.width()+4}else{x.max=v+parseInt(s)-this.host.width()+6}if(this.hScrollBar[0].style.visibility!="inherit"){this.hScrollBar[0].style.visibility="inherit";q=true}if(t!=x.max){x._arrange()}if(this.vScrollBar[0].style.visibility=="inherit"){w.max=2+parseInt(o)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height())}}else{if(this.hScrollBar[0].style.visibility!="hidden"){this.hScrollBar[0].style.visibility="hidden";q=true}}}x.setPosition(0);if(q){this._arrange()}if(this.itemswrapper){this.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px";this.itemswrapper[0].style.height=Math.max(0,2*p)+"px"}var z=this.isTouchDevice();if(z){if(this.vScrollBar.css("visibility")!="visible"&&this.hScrollBar.css("visibility")!="visible"){b.jqx.mobile.setTouchScroll(false,this.element.id)}else{b.jqx.mobile.setTouchScroll(true,this.element.id)}}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(a){for(var d=0;d<this.selectedIndexes.length;d++){if(this.selectedIndexes[d]&&this.selectedIndexes[d]!=-1){this._raiseEvent("1",{index:d,type:"api",item:this.getVisibleItem(d),originalEvent:null})}this.selectedIndexes[d]=-1}this.selectedIndex=-1;this.selectedValue=null;if(a!=false){this._renderItems()}},unselectIndex:function(a,h){if(isNaN(a)){return}this.selectedIndexes[a]=-1;var f=false;for(var g=0;g<this.selectedIndexes.length;g++){var a=this.selectedIndexes[g];if(a!=-1&&a!=undefined){f=true}}if(!f){this.selectedValue=null;this.selectedIndex=-1}if(h==undefined||h==true){this._renderItems();this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null})}this._updateInputSelection();this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})},getItem:function(f){if(f==-1||isNaN(f)||typeof(f)==="string"){if(f===-1){return null}return this.getItemByValue(f)}var a=null;var e=b.each(this.items,function(){if(this.index==f){a=this;return false}});return a},getVisibleItem:function(a){if(a==-1||isNaN(a)||typeof(a)==="string"){if(a===-1){return null}return this.getItemByValue(a)}return this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(a,l,h){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var k=this.getItem(a);if(this.groups.length>0){var k=this.getVisibleItem(a)}if(k!=null){var g=b(k.checkBoxElement);k.checked=true;if(l==undefined||l==true){this._updateCheckedItems()}}if(h==undefined||h==true){this._raiseEvent(3,{label:k.label,value:k.value,checked:true,item:k})}},getCheckedItems:function(){if(!this.checkboxes){return null}var a=new Array();if(this.items==undefined){return}b.each(this.items,function(){if(this.checked){a[a.length]=this}});return a},checkAll:function(a){if(!this.checkboxes){return}if(this.disabled){return}var d=this;b.each(this.items,function(){var c=this;if(a!==false&&c.checked!==true){d._raiseEvent(3,{label:c.label,value:c.value,checked:true,item:c})}this.checked=true});this._updateCheckedItems()},uncheckAll:function(a){if(!this.checkboxes){return}if(this.disabled){return}var d=this;b.each(this.items,function(){var c=this;if(a!==false&&c.checked!==false){this.checked=false;d._raiseEvent(3,{label:c.label,value:c.value,checked:false,item:c})}this.checked=false});this._updateCheckedItems()},uncheckIndex:function(a,l,h){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var k=this.getItem(a);if(this.groups.length>0){var k=this.getVisibleItem(a)}if(k!=null){var g=b(k.checkBoxElement);k.checked=false;if(l==undefined||l==true){this._updateCheckedItems()}}if(h==undefined||h==true){this._raiseEvent(3,{label:k.label,value:k.value,checked:false,item:k})}},indeterminateIndex:function(a,l,h){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var k=this.getItem(a);if(this.groups.length>0){var k=this.getVisibleItem(a)}if(k!=null){var g=b(k.checkBoxElement);k.checked=null;if(l==undefined||l==true){this._updateCheckedItems()}}if(h==undefined||h==true){this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems();var f=this.selectedIndexes;var g=[];for(var h in f){if(f[h]!=-1){g[g.length]=a[h]}}return g},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var a=this.selectedIndex;this.clearSelection(false);var f=this.getCheckedItems();this.selectedIndex=a;this._renderItems();var e=b.data(this.element,"hoveredItem");if(e!=null){b(e).addClass(this.toThemeProperty("jqx-listitem-state-hover"));b(e).addClass(this.toThemeProperty("jqx-fill-state-hover"))}this._updateInputSelection()},getItemByValue:function(e){if(this.visibleItems==null){return}if(this.itemsByValue){return this.itemsByValue[b.trim(e).split(" ").join("")]}var a=this.visibleItems;for(var f=0;f<a.length;f++){if(a[f].value==e){return a[f];break}}},checkItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.checkIndex(a.index,true)}return false},uncheckItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.uncheckIndex(a.index,true)}return false},indeterminateItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.indeterminateIndex(a.index,true)}return false},val:function(d){if(this.input&&arguments.length==0){return this.input.val()}var a=this.getItemByValue(d);if(a!=null){this.selectItem(a)}if(this.input){return this.input.val()}},selectItem:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}return this.selectIndex(d.visibleIndex,true)}return false},unselectItem:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}return this.unselectIndex(d.visibleIndex,true)}return false},selectIndex:function(z,s,F,E,w,G){if(isNaN(z)){return}if(z<-1||z>=this.visibleItems.length){return}if(this.visibleItems[z]!=null&&this.visibleItems[z].disabled){return}if(this.disabled){return}if(!this.multiple&&!this.multipleextended&&this.selectedIndex==z&&!E){if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){A=this.getVisibleItem(z);if(A){this.selectedValue=A.value}}return}if(this.checkboxes){this._updateCheckedItems();return}this.focused=true;var t=false;if(this.selectedIndex!=z){t=true}var u=this.selectedIndex;if(this.selectedIndex==z&&!this.multiple){u=-1}if(w==undefined){w="none"}var A=this.getItem(z);var a=this.getItem(u);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){A=this.getVisibleItem(z);a=this.getVisibleItem(u)}if(E!=undefined&&E){this._raiseEvent("1",{index:u,type:w,item:a,originalEvent:G});this.selectedIndex=z;this.selectedIndexes[u]=-1;this.selectedIndexes[z]=z;if(A){this.selectedValue=A.value}this._raiseEvent("0",{index:z,type:w,item:A,originalEvent:G})}else{var x=this;var D=function(h,c,e,d,g,f){x._raiseEvent("1",{index:c,type:e,item:d,originalEvent:f});x.selectedIndex=h;x.selectedIndexes=[];c=h;x.selectedIndexes[h]=h;x._raiseEvent("0",{index:h,type:e,item:g,originalEvent:f})};var y=function(h,c,e,d,g,f){if(x.selectedIndexes[h]==undefined||x.selectedIndexes[h]==-1){x.selectedIndexes[h]=h;x.selectedIndex=h;x._raiseEvent("0",{index:h,type:e,item:g,originalEvent:f})}else{c=x.selectedIndexes[h];d=x.getVisibleItem(c);x.selectedIndexes[h]=-1;x.selectedIndex=-1;x._raiseEvent("1",{index:c,type:e,item:d,originalEvent:f})}};if(this.multipleextended){if(!this._shiftKey&&!this._ctrlKey){if(w!="keyboard"&&w!="mouse"){y(z,u,w,a,A,G);x._clickedIndex=z}else{this.clearSelection(false);x._clickedIndex=z;D(z,u,w,a,A,G)}}else{if(this._ctrlKey){if(w=="keyboard"){this.clearSelection(false);x._clickedIndex=z}y(z,u,w,a,A,G)}else{if(this._shiftKey){if(x._clickedIndex==undefined){x._clickedIndex=u}var C=Math.min(x._clickedIndex,z);var v=Math.max(x._clickedIndex,z);this.clearSelection(false);for(var B=C;B<=v;B++){x.selectedIndexes[B]=B;x._raiseEvent("0",{index:B,type:w,item:this.getVisibleItem(B),originalEvent:G})}if(w!="keyboard"){x.selectedIndex=x._clickedIndex}else{x.selectedIndex=z}}}}}else{if(this.multiple){y(z,u,w,a,A,G)}else{if(A){this.selectedValue=A.value}D(z,u,w,a,A,G)}}}if(F==undefined||F==true){this._renderItems()}if(s!=undefined&&s!=null&&s==true){this.ensureVisible(z)}this._raiseEvent("2",{index:z,item:A,oldItem:a,type:w,originalEvent:G});this._updateInputSelection();return t},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{if(this.items){if(this.items[this.selectedIndex]!=undefined){this.input.val(this.items[this.selectedIndex].value)}}}if(this.multiple||this.multipleextended||this.checkboxes){var a=!this.checkboxes?this.getSelectedItems():this.getCheckedItems();var e="";if(a){for(var f=0;f<a.length;f++){if(undefined!=a[f]){if(f==a.length-1){e+=a[f].value}else{e+=a[f].value+","}}}this.input.val(e)}}}},isIndexInView:function(l){if(isNaN(l)){return false}if(!this.items){return false}if(l<0||l>=this.items.length){return false}var k=this.vScrollInstance.value;var h=this.visibleItems[l];if(h==undefined){return true}var a=h.initialTop;var g=h.height;if(a-k<0||a-k+g>=this.host.outerHeight()){return false}return true},_itemsInPage:function(){var a=0;var d=this;if(this.items){b.each(this.items,function(){if((this.initialTop+this.height)>=d.content.height()){return false}a++})}return a},_firstItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[0]){if(this.visibleItems[0].isGroup){return this._nextItemIndex(0)}else{return 0}}else{return 0}}return -1},_lastItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[this.visibleItems.length-1]){if(this.visibleItems[this.visibleItems.length-1].isGroup){return this._prevItemIndex(this.visibleItems.length-1)}else{return this.visibleItems.length-1}}else{return this.visibleItems.length-1}}return -1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_getMatches:function(h,m){if(h==undefined||h.length==0){return -1}if(m==undefined){m=0}var a=this.getItems();var k=this;var n=-1;var l=0;b.each(a,function(e){var c="";if(!this.isGroup){if(this.label){c=this.label.toString()}else{if(this.value){c=this.value.toString()}else{if(this.title){c=this.title.toString()}else{c="jqxItem"}}}var d=false;switch(k.searchMode){case"containsignorecase":d=b.jqx.string.containsIgnoreCase(c,h);break;case"contains":d=b.jqx.string.contains(c,h);break;case"equals":d=b.jqx.string.equals(c,h);break;case"equalsignorecase":d=b.jqx.string.equalsIgnoreCase(c,h);break;case"startswith":d=b.jqx.string.startsWith(c,h);break;case"startswithignorecase":d=b.jqx.string.startsWithIgnoreCase(c,h);break;case"endswith":d=b.jqx.string.endsWith(c,h);break;case"endswithignorecase":d=b.jqx.string.endsWithIgnoreCase(c,h);break}if(d&&this.visibleIndex>=m){n=this.visibleIndex;return false}}});return n},findItems:function(h){var a=this.getItems();var k=this;var l=0;var g=new Array();b.each(a,function(e){var c="";if(!this.isGroup){if(this.label){c=this.label}else{if(this.value){c=this.value}else{if(this.title){c=this.title}else{c="jqxItem"}}}var d=false;switch(k.searchMode){case"containsignorecase":d=b.jqx.string.containsIgnoreCase(c,h);break;case"contains":d=b.jqx.string.contains(c,h);break;case"equals":d=b.jqx.string.equals(c,h);break;case"equalsignorecase":d=b.jqx.string.equalsIgnoreCase(c,h);break;case"startswith":d=b.jqx.string.startsWith(c,h);break;case"startswithignorecase":d=b.jqx.string.startsWithIgnoreCase(c,h);break;case"endswith":d=b.jqx.string.endsWith(c,h);break;case"endswithignorecase":d=b.jqx.string.endsWithIgnoreCase(c,h);break}if(d){g[l++]=this}}});return g},_handleKeyDown:function(x){var a=x.keyCode;var A=this;var E=A.selectedIndex;var H=A.selectedIndex;var z=false;if(!this.keyboardNavigation||!this.enableSelection){return}var B=function(){if(A.multiple){A.clearSelection(false)}};if(x.altKey){a=-1}if(A.incrementalSearch){var w=-1;if(!A._searchString){A._searchString=""}if((a==8||a==46)&&A._searchString.length>=1){A._searchString=A._searchString.substr(0,A._searchString.length-1)}var t=String.fromCharCode(a);var y=(!isNaN(parseInt(t)));var C=false;if((a>=65&&a<=97)||y||a==8||a==32||a==46){if(!x.shiftKey){t=t.toLocaleLowerCase()}var G=1+A.selectedIndex;if(a!=8&&a!=32&&a!=46){if(A._searchString.length>0&&A._searchString.substr(0,1)==t){G=1+A.selectedIndex}else{A._searchString+=t}}if(a==32){A._searchString+=" "}var J=this._getMatches(A._searchString,G);w=J;if(w==A._lastMatchIndex||w==-1){var J=this._getMatches(A._searchString,0);w=J}A._lastMatchIndex=w;if(w>=0){var D=function(){B();A.selectIndex(w,false,false,false,"keyboard",x);var c=A.isIndexInView(w);if(!c){A.ensureVisible(w)}else{A._renderItems()}};if(A._toSelectTimer){clearTimeout(A._toSelectTimer)}A._toSelectTimer=setTimeout(function(){D()},A.incrementalSearchKeyDownDelay)}C=true}if(A._searchTimer!=undefined){clearTimeout(A._searchTimer)}if(a==27||a==13){A._searchString=""}A._searchTimer=setTimeout(function(){A._searchString="";A._renderItems()},A.incrementalSearchDelay);if(w>=0){return}if(C){return false}}if(this.checkboxes){return true}if(a==33){var v=A._itemsInPage();if(A.selectedIndex-v>=0){B();A.selectIndex(H-v,false,false,false,"keyboard",x)}else{B();A.selectIndex(A._firstItemIndex(),false,false,false,"keyboard",x)}A._searchString=""}if(a==32&&this.checkboxes){var F=this.getItem(E);if(F!=null){A._updateItemCheck(F,E);x.preventDefault()}A._searchString=""}if(a==36){B();A.selectIndex(A._firstItemIndex(),false,false,false,"keyboard",x);A._searchString=""}if(a==35){B();A.selectIndex(A._lastItemIndex(),false,false,false,"keyboard",x);A._searchString=""}if(a==34){var v=A._itemsInPage();if(A.selectedIndex+v<A.visibleItems.length){B();A.selectIndex(H+v,false,false,false,"keyboard",x)}else{B();A.selectIndex(A._lastItemIndex(),false,false,false,"keyboard",x)}A._searchString=""}if(a==38){A._searchString="";if(A.selectedIndex>0){var I=A._prevItemIndex(A.selectedIndex);if(I!=A.selectedIndex&&I!=-1){B();A.selectIndex(I,false,false,false,"keyboard",x)}else{return true}}else{return false}}else{if(a==40){A._searchString="";if(A.selectedIndex+1<A.visibleItems.length){var I=A._nextItemIndex(A.selectedIndex);if(I!=A.selectedIndex&&I!=-1){B();A.selectIndex(I,false,false,false,"keyboard",x)}else{return true}}else{return false}}}if(a==35||a==36||a==38||a==40||a==34||a==33){var u=A.isIndexInView(A.selectedIndex);if(!u){A.ensureVisible(A.selectedIndex)}else{A._renderItems()}return false}return true},_updateItemCheck:function(a,d){if(this.disabled){return}if(a.checked==true){a.checked=(a.hasThreeStates&&this.hasThreeStates)?null:false}else{a.checked=a.checked!=null}switch(a.checked){case true:this.checkIndex(d);break;case false:this.uncheckIndex(d);break;default:this.indeterminateIndex(d);break}},wheel:function(g,h){if(h.autoHeight||!h.enableMouseWheel){g.returnValue=true;return true}if(h.disabled){return true}var f=0;if(!g){g=window.event}if(g.originalEvent&&g.originalEvent.wheelDelta){g.wheelDelta=g.originalEvent.wheelDelta}if(g.wheelDelta){f=g.wheelDelta/120}else{if(g.detail){f=-g.detail/3}}if(f){var a=h._handleDelta(f);if(a){if(g.preventDefault){g.preventDefault()}if(g.originalEvent!=null){g.originalEvent.mouseHandled=true}if(g.stopPropagation!=undefined){g.stopPropagation()}}if(a){a=false;g.returnValue=a;return a}else{return false}}if(g.preventDefault){g.preventDefault()}g.returnValue=false},_handleDelta:function(e){var f=this.vScrollInstance.value;if(e<0){this.scrollDown()}else{this.scrollUp()}var a=this.vScrollInstance.value;if(f!=a){return true}return false},focus:function(){try{this.focused=true;this.host.focus();var d=this;setTimeout(function(){d.host.focus()},10)}catch(a){}},_removeHandlers:function(){var a=this;this.removeHandler(b(document),"keydown.listbox"+this.element.id);this.removeHandler(b(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}else{this.removeHandler(this.host,"mousewheel")}this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");if(this._mousemovefunc){this.removeHandler(this.content,"mousemove",this._mousemovefunc)}else{this.removeHandler(this.content,"mousemove")}this.removeHandler(this.content,"selectstart");if(this.overlayContent){this.removeHandler(this.overlayContent,b.jqx.mobile.getTouchEventName("touchend"))}},_updateSize:function(){if(!this.virtualSize){this._oldheight=null;this.virtualSize=this._calculateVirtualSize()}var a=this;a._arrange();if(a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){var f=a.host.width()!=a._oldwidth;if(a.autoItemsHeight){a._render(false)}else{if(a.items){if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2){a._render(false)}else{var e=a.vScrollInstance.value;a._updatescrollbars();a._renderItems();if(e<a.vScrollInstance.max){a.vScrollInstance.setPosition(e)}else{a.vScrollInstance.setPosition(a.vScrollInstance.max)}}}}a._oldwidth=a.host.width();a._oldheight=a.host.height()}},_addHandlers:function(){var n=this;this.focused=false;var a=false;var p=0;var t=null;var p=0;var y=0;var s=new Date();var v=this.isTouchDevice();this.addHandler(this.vScrollBar,"valuechanged",function(c){if(b.jqx.browser.msie&&b.jqx.browser.version>9){setTimeout(function(){n._renderItems()},1)}else{n._renderItems()}});this.addHandler(this.hScrollBar,"valuechanged",function(){n._renderItems()});if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}this._mousewheelfunc=function(c){n.wheel(c,n)};this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(b(document),"keydown.listbox"+this.element.id,function(c){n._ctrlKey=c.ctrlKey;n._shiftKey=c.shiftKey});this.addHandler(b(document),"keyup.listbox"+this.element.id,function(c){n._ctrlKey=c.ctrlKey;n._shiftKey=c.shiftKey});this.addHandler(this.host,"keydown",function(c){return n._handleKeyDown(c)});this.addHandler(this.content,"mouseleave",function(d){n.focused=false;var c=b.data(n.element,"hoveredItem");if(c!=null){b(c).removeClass(n.toThemeProperty("jqx-listitem-state-hover"));b(c).removeClass(n.toThemeProperty("jqx-fill-state-hover"));b.data(n.element,"hoveredItem",null)}});this.addHandler(this.content,"focus",function(c){if(!n.disabled){n.host.addClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=true}});this.addHandler(this.content,"blur",function(c){n.focused=false;n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(c){if(!n.disabled){n.host.addClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=true}});this.addHandler(this.host,"blur",function(c){if(b.jqx.browser.msie&&b.jqx.browser.version<9&&n.focused){return}n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=false});this.addHandler(this.content,"mouseenter",function(c){n.focused=true});var x=b.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var u=n.isTouchDevice()&&this.touchMode!==true;var q=!u?"mousedown":"touchend";var o=!u?"mouseup":"touchend";if(this.overlayContent){this.addHandler(this.overlayContent,b.jqx.mobile.getTouchEventName("touchend"),function(g){if(!n.enableSelection){return true}if(u){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return true}}var d=b.jqx.mobile.getTouches(g);var c=d[0];if(c!=undefined){var k=n.host.offset();var e=parseInt(c.pageX);var f=parseInt(c.pageY);if(n.touchMode==true){e=parseInt(c._pageX);f=parseInt(c._pageY)}e=e-k.left;f=f-k.top;var h=n._hitTest(e,f);if(h!=null&&!h.isGroup){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return false}if(n.checkboxes){n._updateItemCheck(h,h.visibleIndex);return}if(h.html.indexOf("href")!=-1){setTimeout(function(){n.selectIndex(h.visibleIndex,false,true,false,"mouse",g);n.content.trigger("click");return false},100)}else{n.selectIndex(h.visibleIndex,false,true,false,"mouse",g);n.content.trigger("click");return false}}}})}else{var w=false;this.addHandler(this.content,q,function(g){if(!n.enableSelection){return true}w=true;if(u){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return false}}n.focused=true;if(!n.isTouchDevice()&&n.focusable){n.host.focus()}if(g.target.id!=("listBoxContent"+n.element.id)&&n.itemswrapper[0]!=g.target){var c=g.target;var h=b(c).offset();var d=n.host.offset();if(x){var f=b.jqx.mobile.getLeftPos(c);var A=b.jqx.mobile.getTopPos(c);h.left=f;h.top=A;f=b.jqx.mobile.getLeftPos(n.element);A=b.jqx.mobile.getTopPos(n.element);d.left=f;d.top=A}var B=parseInt(h.top)-parseInt(d.top);var l=parseInt(h.left)-parseInt(d.left);var k=n._hitTest(l,B);if(k!=null&&!k.isGroup){var e=function(D,C){if(!n._shiftKey){n._clickedIndex=D.visibleIndex}if(!n.checkboxes){n.selectIndex(D.visibleIndex,false,true,false,"mouse",C)}else{n.selectedIndex=D.visibleIndex;l=20+C.pageX-h.left;if(n.rtl){var z=n.hScrollBar.css("visibility")!="hidden"?n.hScrollInstance.max:n.host.width();if(l<=n.host.width()-20){if(!n.allowDrag){n._updateItemCheck(D,D.visibleIndex)}else{setTimeout(function(){if(!n._dragItem){if(!w){n._updateItemCheck(D,D.visibleIndex)}}},200)}}}else{if(l+n.hScrollInstance.value>=20){if(!n.allowDrag){n._updateItemCheck(D,D.visibleIndex)}else{setTimeout(function(){if(!n._dragItem){if(!w){n._updateItemCheck(D,D.visibleIndex)}}},200)}}}}};if(!k.disabled){if(k.html.indexOf("href")!=-1){setTimeout(function(){e(k,g)},100)}else{e(k,g)}}}if(q=="mousedown"){var m=false;if(g.which){m=(g.which==3)}else{if(g.button){m=(g.button==2)}}if(m){return true}return false}}return true})}this.addHandler(this.content,"mouseup",function(c){n.vScrollInstance.handlemouseup(n,c);w=false});if(b.jqx.browser.msie){this.addHandler(this.content,"selectstart",function(c){return false})}}var v=this.isTouchDevice();if(this.enableHover&&!v){this._mousemovefunc=function(k){if(v){return true}if(!n.enableHover){return true}var f=b.jqx.browser.msie==true&&b.jqx.browser.version<9?0:1;if(k.target==null){return true}if(n.disabled){return true}n.focused=true;var c=n.vScrollInstance.isScrolling();if(!c&&k.target.id!=("listBoxContent"+n.element.id)){if(n.itemswrapper[0]!=k.target){var E=k.target;var e=b(E).offset();var F=n.host.offset();if(x){var h=b.jqx.mobile.getLeftPos(E);var C=b.jqx.mobile.getTopPos(E);e.left=h;e.top=C;h=b.jqx.mobile.getLeftPos(n.element);C=b.jqx.mobile.getTopPos(n.element);F.left=h;F.top=C}var D=parseInt(e.top)-parseInt(F.top);var m=parseInt(e.left)-parseInt(F.left);var g=n._hitTest(m,D);if(g!=null&&!g.isGroup&&!g.disabled){var d=b.data(n.element,"hoveredItem");if(d!=null){b(d).removeClass(n.toThemeProperty("jqx-listitem-state-hover"));b(d).removeClass(n.toThemeProperty("jqx-fill-state-hover"))}b.data(n.element,"hoveredItem",g.element);var l=b(g.element);l.addClass(n.toThemeProperty("jqx-listitem-state-hover"));l.addClass(n.toThemeProperty("jqx-fill-state-hover"))}}}};this.addHandler(this.content,"mousemove",this._mousemovefunc)}},_arrange:function(a){if(a==undefined){a=true}var x=null;var z=null;var h=this;var D=function(c){c=h.host.height();if(c==0){c=200;h.host.height(c)}return c};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){x=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){x=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){z=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){z=this.height}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.css("width",this.width);x=this.host.width()}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.css("height",this.height);z=D(z)}if(x!=null){x=parseInt(x);if(parseInt(this.element.style.width)!=parseInt(this.width)){this.host.width(this.width)}}if(!this.autoHeight){if(z!=null){z=parseInt(z);if(parseInt(this.element.style.height)!=parseInt(this.height)){this.host.height(this.height);D(z)}}}else{if(this.virtualSize){if(this.hScrollBar.css("visibility")!="hidden"){this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3);this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3;z=this.height}else{this.host.height(this.virtualSize.height);this.height=this.virtualSize.height;z=this.virtualSize.height}}}var I=this.scrollBarSize;if(isNaN(I)){I=parseInt(I);if(isNaN(I)){I="17px"}else{I=I+"px"}}I=parseInt(I);var A=4;var G=2;var F=0;if(this.vScrollBar){if(this.vScrollBar[0].style.visibility!="hidden"){F=I+A}else{this.vScrollInstance.setPosition(0)}}else{return}if(this.hScrollBar){if(this.hScrollBar[0].style.visibility!="hidden"){G=I+A}else{this.hScrollInstance.setPosition(0)}}else{return}if(this.autoItemsHeight){this.hScrollBar[0].style.visibility="hidden";G=0}if(z==null){z=0}var w=parseInt(z)-A-I;if(w<0){w=0}if(parseInt(this.hScrollBar[0].style.height)!=I){if(parseInt(I)<0){I=0}this.hScrollBar[0].style.height=parseInt(I)+"px"}if(this.hScrollBar[0].style.top!=w+"px"){this.hScrollBar[0].style.top=w+"px";this.hScrollBar[0].style.left="0px"}var J=x-I-A;if(J<0){J=0}var B=J+"px";if(this.hScrollBar[0].style.width!=B){this.hScrollBar[0].style.width=B}if(F==0){if(x>=2){this.hScrollBar[0].style.width=parseInt(x-2)+"px"}}if(I!=parseInt(this.vScrollBar[0].style.width)){this.vScrollBar[0].style.width=parseInt(I)+"px"}if((parseInt(z)-G)!=parseInt(this.vScrollBar[0].style.height)){var u=parseInt(z)-G;if(u<0){u=0}this.vScrollBar[0].style.height=u+"px"}if(x==null){x=0}var H=parseInt(x)-parseInt(I)-A+"px";if(H!=this.vScrollBar[0].style.left){if(parseInt(H)>=0){this.vScrollBar[0].style.left=H}this.vScrollBar[0].style.top="0px"}var C=this.vScrollInstance;C.disabled=this.disabled;if(a){C._arrange()}var y=this.hScrollInstance;y.disabled=this.disabled;if(a){y._arrange()}if((this.vScrollBar[0].style.visibility!="hidden")&&(this.hScrollBar[0].style.visibility!="hidden")){this.bottomRight[0].style.visibility="inherit";this.bottomRight[0].style.left=1+parseInt(this.vScrollBar[0].style.left)+"px";this.bottomRight[0].style.top=1+parseInt(this.hScrollBar[0].style.top)+"px";if(this.rtl){this.bottomRight.css({left:0})}this.bottomRight[0].style.width=parseInt(I)+3+"px";this.bottomRight[0].style.height=parseInt(I)+3+"px"}else{this.bottomRight[0].style.visibility="hidden"}if(parseInt(this.content[0].style.width)!=(parseInt(x)-F)){var E=parseInt(x)-F;if(E<0){E=0}this.content[0].style.width=E+"px"}if(this.rtl){this.vScrollBar.css({left:0+"px",top:"0px"});this.hScrollBar.css({left:this.vScrollBar.width()+2+"px"});if(this.vScrollBar[0].style.visibility!="hidden"){this.content.css("margin-left",4+this.vScrollBar.width())}else{this.content.css("margin-left",0);this.hScrollBar.css({left:"0px"})}}if(parseInt(this.content[0].style.height)!=(parseInt(z)-G)){var v=parseInt(z)-G;if(v<0){v=0}this.content[0].style.height=v+"px"}if(this.overlayContent){this.overlayContent.width(parseInt(x)-F);this.overlayContent.height(parseInt(z)-G)}},ensureVisible:function(n){if(isNaN(n)){var m=this.getItemByValue(n);if(m){n=m.index}}var p=this.isIndexInView(n);if(!p){if(n<0){return}if(this.autoHeight){var a=b.data(this.vScrollBar[0],"jqxScrollBar").instance;a.setPosition(0)}else{for(indx=0;indx<this.visibleItems.length;indx++){var m=this.visibleItems[indx];if(m.visibleIndex==n&&!m.isGroup){var a=b.data(this.vScrollBar[0],"jqxScrollBar").instance;var l=a.value;var o=this.hScrollBar.css("visibility")==="hidden";var k=o?0:this.scrollBarSize+4;if(m.initialTop<l){a.setPosition(m.initialTop)}else{if(m.initialTop+m.height>l+this.host.height()){a.setPosition(m.initialTop+m.height+2-this.host.height()+k)}}break}}}}this._renderItems()},scrollTo:function(d,a){if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollInstance.setPosition(a)}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollInstance.setPosition(d)}},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value+a.largestep<=a.max){a.setPosition(a.value+a.largestep);return true}else{a.setPosition(a.max);return true}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value-a.largestep>=a.min){a.setPosition(a.value-a.largestep);return true}else{if(a.value!=a.min){a.setPosition(a.min);return true}}return false},databind:function(s,p){this.records=new Array();var n=s._source?true:false;var q=new b.jqx.dataAdapter(s,{autoBind:false});if(n){q=s;s=s._source}var o=function(c){if(s.type!=undefined){q._options.type=s.type}if(s.formatdata!=undefined){q._options.formatData=s.formatdata}if(s.contenttype!=undefined){q._options.contentType=s.contenttype}if(s.async!=undefined){q._options.async=s.async}};var l=function(e,d){var v=function(A){if(typeof A==="string"){var y=A;var x=A}else{var x=A[e.valueMember];var y=A[e.displayMember]}var z=new b.jqx._jqxListBox.item();z.label=y;z.value=x;z.html="";z.visible=true;z.originalItem=A;z.group="";z.groupHtml="";z.disabled=false;z.hasThreeStates=true;return z};if(d!=undefined){var u=q._changedrecords[0];if(u){b.each(q._changedrecords,function(){var y=this.index;var x=this.record;if(d!="remove"){var w=v(x)}switch(d){case"update":e.updateAt(w,y);break;case"add":e.insertAt(w,y);break;case"remove":e.removeAt(y);break}});return}}e.records=q.records;var h=e.records.length;e.items=new Array();e.itemsByValue=new Array();for(var t=0;t<h;t++){var g=e.records[t];var f=v(g);f.index=t;e.items[t]=f;var c=f.value;if(f.value==""||f.value==null){c=t}e.itemsByValue[b.trim(c).split(" ").join("")]=f}e._render();e._raiseEvent("6")};o(this);var k=this;switch(s.datatype){case"local":case"array":default:if(s.localdata!=null){q.unbindBindingUpdate(this.element.id);if(this.autoBind||(!this.autoBind&&!p)){q.dataBind()}l(this);q.bindBindingUpdate(this.element.id,function(c){l(k,c)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(s.localdata!=null){q.unbindBindingUpdate(this.element.id);if(this.autoBind||(!this.autoBind&&!p)){q.dataBind()}l(this);q.bindBindingUpdate(this.element.id,function(){l(k)});return}var a={};if(q._options.data){b.extend(q._options.data,a)}else{if(s.data){b.extend(a,s.data)}q._options.data=a}var m=function(){l(k)};q.unbindDownloadComplete(k.element.id);q.bindDownloadComplete(k.element.id,m);if(this.autoBind||(!this.autoBind&&!p)){q.dataBind()}}},loadItems:function(x){if(x==null){this.groups=new Array();this.items=new Array();this.visualItems=new Array();return}var H=this;var z=0;var E=0;var G=0;this.groups=new Array();this.items=new Array();this.visualItems=new Array();var D=new Array();this.itemsByValue=new Array();b.map(x,function(e){if(e==undefined){return null}var g=new b.jqx._jqxListBox.item();var d=e.group;var k=e.groupHtml;var c=e.title;if(c==null||c==undefined){c=""}if(d==null||d==undefined){d=""}if(k==null||k==undefined){k=""}if(!H.groups[d]){H.groups[d]={items:new Array(),index:-1,caption:d,captionHtml:k};z++;var h=z+"jqxGroup";H.groups[h]=H.groups[d];E++;H.groups.length=E}var f=H.groups[d];f.index++;f.items[f.index]=g;if(typeof e==="string"){g.label=e;g.value=e}else{if(e.label==null&&e.value==null&&e.html==null&&e.group==null&&e.groupHtml==null){g.label=e.toString();g.value=e.toString()}else{g.label=e.label||e.value;g.value=e.value||e.label}}if(typeof e!="string"){if(H.displayMember!=""){if(e[H.displayMember]!=undefined){g.label=e[H.displayMember]}else{g.label=""}}if(H.valueMember!=""){g.value=e[H.valueMember]}}g.hasThreeStates=e.hasThreeStates!=undefined?e.hasThreeStates:true;g.originalItem=e;g.title=c;g.html=e.html||"";if(e.html&&e.html!=""){if(c&&c!=""){}}g.group=d;g.checked=e.checked||false;g.groupHtml=e.groupHtml||"";g.disabled=e.disabled||false;g.visible=e.visible!=undefined?e.visible:true;g.index=G;D[G]=g;G++;return g});var F=new Array();var v=0;if(this.fromSelect==undefined||this.fromSelect==false){for(var A=0;A<E;A++){var z=A+1;var w=z+"jqxGroup";var t=this.groups[w];if(t==undefined||t==null){break}if(A==0&&t.caption==""&&t.captionHtml==""&&E<=1){for(var B=0;B<t.items.length;B++){var u=t.items[B].value;if(t.items[B].value==undefined||t.items[B].value==null){u=B}this.itemsByValue[b.trim(u).split(" ").join("")]=t.items[B]}return t.items}else{var y=new b.jqx._jqxListBox.item();y.isGroup=true;y.label=t.caption;if(t.caption==""&&t.captionHtml==""){t.caption=this.emptyGroupText;y.label=t.caption}y.html=t.captionHtml;F[v]=y;v++}for(var C=0;C<t.items.length;C++){F[v]=t.items[C];var u=t.items[C].value;if(t.items[C].value==""||t.items[C].value==null){u=v}H.itemsByValue[b.trim(u).split(" ").join("")]=t.items[C];v++}}}else{var v=0;var a=new Array();b.each(D,function(){if(!a[this.group]){if(this.group!=""){var d=new b.jqx._jqxListBox.item();d.isGroup=true;d.label=this.group;F[v]=d;v++;a[this.group]=true}}F[v]=this;var c=this.value;if(this.value==""||this.value==null){c=v-1}H.itemsByValue[b.trim(c).split(" ").join("")]=this;v++})}return F},_mapItem:function(d){var a=new b.jqx._jqxListBox.item();if(this.displayMember){if(d.label==undefined){d.label=d[this.displayMember]}if(d.value==undefined){d.value=d[this.valueMember]}}if(typeof d==="string"){a.label=d;a.value=d}else{if(typeof d==="number"){a.label=d.toString();a.value=d.toString()}else{a.label=d.label||d.value;a.value=d.value||d.label}}if(a.label==undefined&&a.value==undefined&&a.html==undefined){a.label=a.value=d}a.html=d.html||"";a.group=d.group||"";a.checked=d.checked||false;a.title=d.title||"";a.groupHtml=d.groupHtml||"";a.disabled=d.disabled||false;a.visible=d.visible||true;return a},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}}return d},insertItem:function(e,a){var f=this._getItemByParam(e);return this.insertAt(f,a)},updateItem:function(f,e){var a=this._getItemByParam(e);if(a&&a.index!=undefined){return this.updateAt(f,a.index)}return false},updateAt:function(e,f){if(e!=null){var a=this._mapItem(e);this.itemsByValue[b.trim(a.value).split(" ").join("")]=this.items[f];this.items[f].value=a.value;this.items[f].label=a.label;this.items[f].html=a.html;this.items[f].disabled=a.disabled}this._cachedItemHtml=[];this._renderItems();if(this.rendered){this.rendered()}},insertAt:function(a,s){if(a==null){return false}this._cachedItemHtml=[];if(this.items==undefined||this.items.length==0){this.source=new Array();this.refresh();var q=this._mapItem(a);q.index=0;this.items[this.items.length]=q;this._addItems(true);this._renderItems();if(this.rendered){this.rendered()}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}var m=q.value;if(q.value==""||q.value==null){m=s}this.itemsByValue[b.trim(m).split(" ").join("")]=q;return false}var q=this._mapItem(a);if(s==-1||s==undefined||s==null||s>=this.items.length){q.index=this.items.length;this.items[this.items.length]=q}else{var v=new Array();var n=0;var t=false;var p=0;for(var w=0;w<this.items.length;w++){if(this.items[w].isGroup==false){if(p>=s&&!t){v[n++]=q;q.index=s;p++;t=true}}v[n]=this.items[w];if(!this.items[w].isGroup){v[n].index=p;p++}n++}this.items=v}var m=q.value;if(q.value==""||q.value==null){m=s}this.itemsByValue[b.trim(m).split(" ").join("")]=q;this.visibleItems=new Array();this.renderedVisibleItems=new Array();var u=b.data(this.vScrollBar[0],"jqxScrollBar").instance;var o=u.value;u.setPosition(0);if((this.allowDrag&&this._enableDragDrop)||(this.virtualSize&&this.virtualSize.height<10+this.host.height())){this._addItems(true)}else{this._addItems(false)}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}u.setPosition(o);if(this.rendered){this.rendered()}return true},removeAt:function(t){if(t<0||t>this.items.length-1){return false}if(t==undefined){return false}var x=this.items[t].height;var o=this.items[t].value;if(o==""||o==null){o=t}this.itemsByValue[b.trim(o).split(" ").join("")]=null;this.items.splice(t,1);var y=new Array();var p=0;var v=false;var s=0;for(var z=0;z<this.items.length;z++){y[p]=this.items[z];if(!this.items[z].isGroup){y[p].index=s;s++}p++}this.items=y;var w=b.data(this.vScrollBar[0],"jqxScrollBar").instance;var w=b.data(this.vScrollBar[0],"jqxScrollBar").instance;var q=w.value;w.setPosition(0);this.visibleItems=new Array();this.renderedVisibleItems=new Array();if(this.items.length>0){if(this.virtualSize){this.virtualSize.height-=x;var a=this.virtualSize.itemsPerPage*2;if(this.autoHeight){a=this.items.length}this.virtualItemsCount=Math.min(a,this.items.length)}this._updatescrollbars()}else{this._addItems()}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}if(this.vScrollBar.css("visibility")!="hidden"){w.setPosition(q)}else{w.setPosition(0)}this.itemsByValue=new Array();for(var u=0;u<this.items.length;u++){var o=this.items[u].value;if(this.items[u].value==""||this.items[u].value==null){o=u}this.itemsByValue[b.trim(o).split(" ").join("")]=this.items[u]}if(this.rendered){this.rendered()}return true},removeItem:function(h,g){var k=this._getItemByParam(h);var a=-1;if(k&&k.index!=undefined&&g!==true){for(var l=0;l<this.items.length;l++){if(this.items[l].label==k.label&&this.items[l].value==k.value){a=l;break}}if(a!=-1){return this.removeAt(a)}}if(a==-1){return this.removeAt(k.index)}},getItems:function(){return this.items},disableItem:function(d){var a=this._getItemByParam(d);this.disableAt(a.index)},enableItem:function(d){var a=this._getItemByParam(d);this.enableAt(a.index)},disableAt:function(a){if(!this.items){return false}if(a<0||a>this.items.length-1){return false}this.items[a].disabled=true;this._renderItems();return true},enableAt:function(a){if(!this.items){return false}if(a<0||a>this.items.length-1){return false}this.items[a].disabled=false;this._renderItems();return true},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id)}this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.content.remove();b.jqx.utilities.resize(this.host,null,true);var a=b.data(this.element,"jqxListBox");delete this.hScrollInstance;delete this.vScrollInstance;delete this.vScrollBar;delete this.hScrollBar;delete this.content;delete this.bottomRight;delete this.itemswrapper;delete this.visualItems;delete this.visibleItems;delete this.items;delete this.groups;delete this.renderedVisibleItems;delete this._mousewheelfunc;delete this._mousemovefunc;delete this._cachedItemHtml;delete this.itemsByValue;delete this._activeElement;delete this.source;delete this.events;if(this.input){this.input.remove();delete this.input}if(a){delete a.instance}this.host.removeData();this.host.removeClass();this.host.remove();this.element=null;delete this.element;this.host=null;delete this.set;delete this.get;delete this.call;delete this.host},_raiseEvent:function(g,l){if(this._stopEvents==true){return true}if(l==undefined){l={owner:null}}var k=this.events[g];args=l;args.owner=this;this._updateInputSelection();var h=new jQuery.Event(k);h.owner=this;h.args=args;if(this.host!=null){var a=this.host.trigger(h)}return a}})})(jQuery);(function(b){b.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:false,isGroup:false,highlighted:false,value:null,label:"",html:null,visible:true,disabled:false,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:false,visibleIndex:-1};return a}})(jQuery);(function(b){b.jqx.jqxWidget("jqxMenu","",{});b.extend(b.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array();this.mode="horizontal";this.width=null;this.height=null;this.minimizeWidth="auto";this.easing="easeInOutSine";this.animationShowDuration=200;this.animationHideDuration=200;this.autoCloseInterval=0;this.animationHideDelay=100;this.animationShowDelay=100;this.menuElements=new Array();this.autoSizeMainItems=false;this.autoCloseOnClick=true;this.autoCloseOnMouseLeave=true;this.enableRoundedCorners=true;this.disabled=false;this.autoOpenPopup=true;this.enableHover=true;this.autoOpen=true;this.autoGenerate=true;this.clickToOpen=false;this.showTopLevelArrows=false;this.touchMode="auto";this.source=null;this.popupZIndex=17000;this.rtl=false;this.title="";this.events=["shown","closed","itemclick","initialized"]},createInstance:function(h){var a=this;this.host.attr("role","menubar");b.jqx.utilities.resize(this.host,function(){a.refresh()},false,this.mode!="popup");this.host.css("outline","none");if(this.source){if(this.source!=null){var g=this.loadItems(this.source);this.element.innerHTML=g}}this._tmpHTML=this.element.innerHTML;if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this._createMenu(f[0])}}this.host.data("autoclose",{});this._render();this.setSize();if(b.jqx.browser.msie&&b.jqx.browser.version<8){this.host.attr("hideFocus",true)}},focus:function(){try{this.host.focus()}catch(a){}},loadItems:function(h,f){if(h==null){return}if(h.length==0){return""}var a=this;this.items=new Array();var g="<ul>";if(f){g='<ul style="width:'+f+';">'}b.map(h,function(c){if(c==undefined){return null}g+=a._parseItem(c)});g+="</ul>";return g},_parseItem:function(g){var l="";if(g==undefined){return null}var a=g.label;if(!g.label&&g.html){a=g.html}if(!a){a="Item"}if(typeof g==="string"){a=g}var h=false;if(g.selected!=undefined&&g.selected){h=true}var k=false;if(g.disabled!=undefined&&g.disabled){k=true}l+="<li";if(k){l+=' item-disabled="true" '}if(g.label&&!g.html){l+=' item-label="'+a+'" '}if(g.value!=null){l+=' item-value="'+g.value+'" '}if(g.id!=undefined){l+=' id="'+g.id+'" '}l+=">"+a;if(g.items){if(g.subMenuWidth){l+=this.loadItems(g.items,g.subMenuWidth)}else{l+=this.loadItems(g.items)}}l+="</li>";return l},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}}if(this.height===null){this.host.height("auto")}var h=this;if(this.minimizeWidth!=null&&this.mode!="popup"){var k=b(window).width();if(!b.jqx.response){var l=false;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var a=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;if(!a){l=true}}var n=this.minimizeWidth;if(l&&this.minimizeWidth=="auto"){return}}if(this.minimizeWidth=="auto"&&b.jqx.response){var m=new b.jqx.response();if(m.device.type=="Phone"||m.device.type=="Tablet"){if(!this.minimized){this.minimize()}}}else{if((k<n)&&!this.minimized){this.minimize()}else{if(this.minimized&&k>=n){this.restore()}}}}},minimize:function(){if(this.minimized){return}var n=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=true;this._tmpMode=this.mode;this.mode="simple";var k=this.host.closest("div.jqx-menu-wrapper");k.remove();b("#menuWrapper"+this.element.id).remove();b.each(this.items,function(){var d=this;var e=b(d.element);var f=b(d.subMenuElement);var c=f.closest("div.jqx-menu-popup");c.remove()});if(this.source){var o=this.loadItems(this.source);this.element.innerHTML=o}else{this.element.innerHTML=this._tmpHTML;if(this.element.innerHTML.indexOf("UL")){var l=this.host.find("ul:first");if(l.length>0){this._createMenu(l[0])}}}this._render();var p=this.host.find("ul:first");p.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var k=p.closest("div.jqx-menu-wrapper");k[0].id="menuWrapper"+this.element.id;k.detach();k.appendTo(b(document.body));k.addClass(this.toThemeProperty("jqx-widget"));k.addClass(this.toThemeProperty("jqx-menu"));k.addClass(this.toThemeProperty("jqx-menu-minimized"));k.addClass(this.toThemeProperty("jqx-widget-header"));p.children().hide();k.hide();k.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.minimizedItem=b("<div></div>");this.minimizedItem.addClass(this.toThemeProperty("jqx-item"));this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top"));this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button"));this.minimizedItem.prependTo(this.host);this.titleElement=b("<div>"+this.title+"</div>");this.titleElement.addClass(this.toThemeProperty("jqx-item"));this.titleElement.addClass(this.toThemeProperty("jqx-menu-title"));this.titleElement.prependTo(this.host);b("<div style='clear:both;'></div>").insertAfter(this.minimizedItem);n.minimizedHidden=true;var a=function(c){n.minimizedHidden=true;n.minimizedItem.show();var d=false;if(n.minimizedItem.css("float")=="right"){d=true}k.animate({left:!d?-k.outerWidth():n.host.coord().left+n.host.width()+k.width(),opacity:0},n.animationHideDuration,function(){k.find("ul:first").children().hide();k.hide()})};var m=function(c){if(n.minimizedHidden){k.find("ul:first").children().show();n.minimizedHidden=false;k.show();k.css("opacity",0);k.css("left",-k.outerWidth());var d=false;var e=k.width();if(n.minimizedItem.css("float")=="right"){k.css("left",n.host.coord().left+n.host.width()+e);d=true}k.css("top",n.host.coord().top+n.host.height());k.animate({left:!d?n.host.coord().left:n.host.coord().left+n.host.width()-e,opacity:0.95},n.animationShowDuration,function(){})}else{a(c)}n._raiseEvent("2",{item:n.minimizedItem[0],event:c});n.setSize()};this.addHandler(b(window),"orientationchange.jqxmenu"+this.element.id,function(c){setTimeout(function(){if(!n.minimizedHidden){var e=k.width();var d=false;var e=k.width();if(n.minimizedItem.css("float")=="right"){d=true}k.css("top",n.host.coord().top+n.host.height());k.css({left:!d?n.host.coord().left:n.host.coord().left+n.host.width()-e})}},25)});this.addHandler(this.minimizedItem,"click",function(c){m(c)})},restore:function(){if(!this.minimized){return}this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.host.removeClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=false;this.mode=this._tmpMode;if(this.minimizedItem){this.minimizedItem.remove()}var e=b("#menuWrapper"+this.element.id);e.remove();if(this.source){var a=this.loadItems(this.source);this.element.innerHTML=a}else{this.element.innerHTML=this._tmpHTML;if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this._createMenu(f[0])}}}this.setSize();this._render()},isTouchDevice:function(){if(this._isTouchDevice!=undefined){return this._isTouchDevice}var a=b.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true}else{if(this.touchMode==false){a=false}}if(a){this.host.addClass(this.toThemeProperty("jqx-touch"));b(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))}this._isTouchDevice=a;return a},refresh:function(a){if(!a){this.setSize()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_closeAll:function(e){var g=e!=null?e.data:this;var a=g.items;b.each(a,function(){var c=this;if(c.hasItems==true){if(c.isOpen){g._closeItem(g,c)}}});if(g.mode=="popup"){if(e!=null){var h=g._isRightClick(e);if(!h){g.close()}}}},closeItem:function(f){if(f==null){return false}var a=f;var h=document.getElementById(a);var g=this;b.each(g.items,function(){var c=this;if(c.isOpen==true&&c.element==h){g._closeItem(g,c);if(c.parentId){g.closeItem(c.parentId)}}});return true},openItem:function(f){if(f==null){return false}var a=f;var h=document.getElementById(a);var g=this;b.each(g.items,function(){var c=this;if(c.isOpen==false&&c.element==h){g._openItem(g,c);if(c.parentId){g.openItem(c.parentId)}}});return true},_getClosedSubMenuOffset:function(l){var a=b(l.subMenuElement);var g=-a.outerHeight();var h=-a.outerWidth();var k=l.level==0&&this.mode=="horizontal";if(k){h=0}else{g=0}switch(l.openVerticalDirection){case"up":case"center":g=a.outerHeight();break}switch(l.openHorizontalDirection){case this._getDir("left"):if(k){h=0}else{h=a.outerWidth()}break;case"center":if(k){h=0}else{h=a.outerWidth()}break}return{left:h,top:g}},_closeItem:function(t,a,y,C){if(t==null||a==null){return false}var v=b(a.subMenuElement);var D=a.level==0&&this.mode=="horizontal";var z=this._getClosedSubMenuOffset(a);var s=z.top;var A=z.left;var w=b(a.element);var u=v.closest("div.jqx-menu-popup");if(u!=null){var x=t.animationHideDelay;if(C==true){x=0}if(v.data("timer").show!=null){clearTimeout(v.data("timer").show);v.data("timer").show=null}var q=function(){a.isOpen=false;if(D){v.stop().animate({top:s},t.animationHideDuration,function(){b(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));b(a.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));b(a.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded"));u.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var c=b(a.arrow);if(c.length>0&&t.showTopLevelArrows){c.removeClass();if(a.openVerticalDirection=="down"){c.addClass(t.toThemeProperty("jqx-menu-item-arrow-down"));c.addClass(t.toThemeProperty("jqx-icon-arrow-down"))}else{c.addClass(t.toThemeProperty("jqx-menu-item-arrow-up"));c.addClass(t.toThemeProperty("jqx-icon-arrow-up"))}}b.jqx.aria(b(a.element),"aria-expanded",false);u.css({display:"none"});if(t.animationHideDuration==0){v.css({top:s})}t._raiseEvent("1",a)})}else{if(!b.jqx.browser.msie){}v.stop().animate({left:A},t.animationHideDuration,function(){if(t.animationHideDuration==0){v.css({left:A})}if(a.level>0){b(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));b(a.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var c=b(a.arrow);if(c.length>0){c.removeClass();if(a.openHorizontalDirection!="left"){c.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")));c.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))}else{c.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")));c.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))}}}else{b(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));b(a.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var c=b(a.arrow);if(c.length>0){c.removeClass();if(a.openHorizontalDirection!="left"){c.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right")));c.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))}else{c.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left")));c.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))}}}b.jqx.aria(b(a.element),"aria-expanded",false);u.css({display:"none"});t._raiseEvent("1",a)})}};if(x>0){v.data("timer").hide=setTimeout(function(){q()},x)}else{q()}if(y!=undefined&&y){var B=v.children();b.each(B,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){var c=b(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],true,true)}})}}},getSubItems:function(k,l){if(k==null){return false}var m=this;var q=new Array();if(l!=null){b.extend(q,l)}var p=k;var n=this.menuElements[p];var a=b(n.subMenuElement);var o=a.find(".jqx-menu-item");b.each(o,function(){q[this.id]=m.menuElements[this.id];var c=m.getSubItems(this.id,q);b.extend(q,c)});return q},disable:function(h,m){if(h==null){return}var n=h;var k=this;if(this.menuElements[n]){var l=this.menuElements[n];l.disabled=m;var a=b(l.element);l.element.disabled=m;b.each(a.children(),function(){this.disabled=m});if(m){a.addClass(k.toThemeProperty("jqx-menu-item-disabled"));a.addClass(k.toThemeProperty("jqx-fill-state-disabled"))}else{a.removeClass(k.toThemeProperty("jqx-menu-item-disabled"));a.removeClass(k.toThemeProperty("jqx-fill-state-disabled"))}}},_setItemProperty:function(h,n,k){if(h==null){return}var a=h;var l=this;if(this.menuElements[a]){var m=this.menuElements[a];if(m[n]){m[n]=k}}},setItemOpenDirection:function(q,s,p){if(q==null){return}var a=q;var n=this;var o=b.jqx.browser.msie&&b.jqx.browser.version<8;if(this.menuElements[a]){var l=this.menuElements[a];if(s!=null){l.openHorizontalDirection=s;if(l.hasItems&&l.level>0){var m=b(l.element);if(m!=undefined){var t=b(l.arrow);if(l.arrow==null){t=b('<span id="arrow'+m[0].id+'"></span>');if(!o){t.prependTo(m)}else{t.appendTo(m)}l.arrow=t[0]}t.removeClass();if(l.openHorizontalDirection=="left"){t.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left")));t.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))}else{t.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right")));t.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))}t.css("visibility","visible");if(!o){t.css("display","block");t.css("float","right")}else{t.css("display","inline-block");t.css("float","none")}}}}if(p!=null){l.openVerticalDirection=p;var t=b(l.arrow);var m=b(l.element);if(!n.showTopLevelArrows){return}if(m!=undefined){if(l.arrow==null){t=b('<span id="arrow'+m[0].id+'"></span>');if(!o){t.prependTo(m)}else{t.appendTo(m)}l.arrow=t[0]}t.removeClass();if(l.openVerticalDirection=="down"){t.addClass(n.toThemeProperty("jqx-menu-item-arrow-down"));t.addClass(n.toThemeProperty("jqx-icon-arrow-down"))}else{t.addClass(n.toThemeProperty("jqx-menu-item-arrow-up"));t.addClass(n.toThemeProperty("jqx-icon-arrow-up"))}t.css("visibility","visible");if(!o){t.css("display","block");t.css("float","right")}else{t.css("display","inline-block");t.css("float","none")}}}}},_getSiblings:function(f){var e=new Array();var a=0;for(i=0;i<this.items.length;i++){if(this.items[i]==f){continue}if(this.items[i].parentId==f.parentId&&this.items[i].hasItems){e[a++]=this.items[i]}}return e},_openItem:function(v,w,x){if(v==null||w==null){return false}if(w.isOpen){return false}if(w.disabled){return false}if(v.disabled){return false}var C=v.popupZIndex;if(x!=undefined){C=x}var J=v.animationHideDuration;v.animationHideDuration=0;v._closeItem(v,w,true,true);v.animationHideDuration=J;this.host.focus();var I=[5,5];var a=b(w.subMenuElement);if(a!=null){a.stop()}if(a.data("timer").hide!=null){clearTimeout(a.data("timer").hide)}var z=a.closest("div.jqx-menu-popup");var G=b(w.element);var F=w.level==0?this._getOffset(w.element):G.position();if(w.level>0&&this.hasTransform){var y=parseInt(G.coord().top)-parseInt(this._getOffset(w.element).top);F.top+=y}if(w.level==0&&this.mode=="popup"){F=G.coord()}var E=w.level==0&&this.mode=="horizontal";var M=E?F.left:this.menuElements[w.parentId]!=null&&this.menuElements[w.parentId].subMenuElement!=null?parseInt(b(b(this.menuElements[w.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-I[0]:parseInt(a.outerWidth());z.css({visibility:"visible",display:"block",left:M,top:E?F.top+G.outerHeight():F.top,zIndex:C});a.css("display","block");if(this.mode!="horizontal"&&w.level==0){var K=this._getOffset(this.element);z.css("left",-1+K.left+this.host.outerWidth());a.css("left",-a.outerWidth())}else{var L=this._getClosedSubMenuOffset(w);a.css("left",L.left);a.css("top",L.top)}z.css({height:parseInt(a.outerHeight())+parseInt(I[1])+"px"});var A=0;var H=0;switch(w.openVerticalDirection){case"up":if(E){a.css("top",a.outerHeight());A=I[1];var D=parseInt(a.parent().css("padding-bottom"));if(isNaN(D)){D=0}if(D>0){z.addClass(this.toThemeProperty("jqx-menu-popup-clear"))}a.css("top",a.outerHeight()-D);z.css({display:"block",top:F.top-z.outerHeight(),zIndex:C})}else{A=I[1];a.css("top",a.outerHeight());z.css({display:"block",top:F.top-z.outerHeight()+I[1]+G.outerHeight(),zIndex:C})}break;case"center":if(E){a.css("top",0);z.css({display:"block",top:F.top-z.outerHeight()/2+I[1],zIndex:C})}else{a.css("top",0);z.css({display:"block",top:F.top+G.outerHeight()/2-z.outerHeight()/2+I[1],zIndex:C})}break}switch(w.openHorizontalDirection){case this._getDir("left"):if(E){z.css({left:F.left-(z.outerWidth()-G.outerWidth()-I[0])})}else{H=0;a.css("left",z.outerWidth());z.css({left:F.left-(z.outerWidth())+2*w.level})}break;case"center":if(E){z.css({left:F.left-(z.outerWidth()/2-G.outerWidth()/2-I[0]/2)})}else{z.css({left:F.left-(z.outerWidth()/2-G.outerWidth()/2-I[0]/2)});a.css("left",z.outerWidth())}break}if(E){if(parseInt(a.css("top"))==A){w.isOpen=true;return}}else{if(parseInt(a.css("left"))==H){w.isOpen==true;return}}b.each(v._getSiblings(w),function(){v._closeItem(v,this,true,true)});var B=b.data(v.element,"animationHideDelay");v.animationHideDelay=B;if(this.autoCloseInterval>0){if(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null){clearTimeout(this.host.data("autoclose").close)}if(this.host.data("autoclose")!=null){this.host.data("autoclose").close=setTimeout(function(){v._closeAll()},this.autoCloseInterval)}}a.data("timer").show=setTimeout(function(){if(z!=null){if(E){a.stop();a.css("left",H);if(!b.jqx.browser.msie){}G.addClass(v.toThemeProperty("jqx-fill-state-pressed"));G.addClass(v.toThemeProperty("jqx-menu-item-top-selected"));if(w.openVerticalDirection=="down"){b(w.element).addClass(v.toThemeProperty("jqx-rc-b-expanded"));z.addClass(v.toThemeProperty("jqx-rc-t-expanded"))}else{b(w.element).addClass(v.toThemeProperty("jqx-rc-t-expanded"));z.addClass(v.toThemeProperty("jqx-rc-b-expanded"))}var c=b(w.arrow);if(c.length>0&&v.showTopLevelArrows){c.removeClass();if(w.openVerticalDirection=="down"){c.addClass(v.toThemeProperty("jqx-menu-item-arrow-down-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-down"))}else{c.addClass(v.toThemeProperty("jqx-menu-item-arrow-up-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-up"))}}if(v.animationShowDuration==0){a.css({top:A});w.isOpen=true;v._raiseEvent("0",w);b.jqx.aria(b(w.element),"aria-expanded",true)}else{a.animate({top:A},v.animationShowDuration,v.easing,function(){w.isOpen=true;b.jqx.aria(b(w.element),"aria-expanded",true);v._raiseEvent("0",w)})}}else{a.stop();a.css("top",A);if(!b.jqx.browser.msie){}if(w.level>0){G.addClass(v.toThemeProperty("jqx-fill-state-pressed"));G.addClass(v.toThemeProperty("jqx-menu-item-selected"));var c=b(w.arrow);if(c.length>0){c.removeClass();if(w.openHorizontalDirection!="left"){c.addClass(v.toThemeProperty("jqx-menu-item-arrow-"+v._getDir("right")+"-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-"+v._getDir("right")))}else{c.addClass(v.toThemeProperty("jqx-menu-item-arrow-"+v._getDir("left")+"-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-"+v._getDir("left")))}}}else{G.addClass(v.toThemeProperty("jqx-fill-state-pressed"));G.addClass(v.toThemeProperty("jqx-menu-item-top-selected"));var c=b(w.arrow);if(c.length>0){c.removeClass();if(w.openHorizontalDirection!="left"){c.addClass(v.toThemeProperty("jqx-menu-item-arrow-"+v._getDir("right")+"-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-"+v._getDir("right")))}else{c.addClass(v.toThemeProperty("jqx-menu-item-arrow-"+v._getDir("left")+"-selected"));c.addClass(v.toThemeProperty("jqx-icon-arrow-"+v._getDir("left")))}}}if(!b.jqx.browser.msie){}if(v.animationShowDuration==0){a.css({left:H});v._raiseEvent("0",w);w.isOpen=true;b.jqx.aria(b(w.element),"aria-expanded",true)}else{a.animate({left:H},v.animationShowDuration,v.easing,function(){v._raiseEvent("0",w);w.isOpen=true;b.jqx.aria(b(w.element),"aria-expanded",true)})}}}},this.animationShowDelay)},_getDir:function(a){switch(a){case"left":return !this.rtl?"left":"right";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(k,p){var m=this;var n=0;this.host.removeClass(m.toThemeProperty("jqx-menu-horizontal"));this.host.removeClass(m.toThemeProperty("jqx-menu-vertical"));this.host.removeClass(m.toThemeProperty("jqx-menu"));this.host.removeClass(m.toThemeProperty("jqx-widget"));this.host.addClass(m.toThemeProperty("jqx-widget"));this.host.addClass(m.toThemeProperty("jqx-menu"));if(k!=undefined&&p!=undefined&&p=="popup"){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var l=b.data(document.body,"jqxMenuOldHost"+this.element.id);if(l!=null){var o=this.host.closest("div.jqx-menu-wrapper");o.remove();o.appendTo(l);this.host.css("display","block");this.host.css("visibility","visible");o.css("display","block");o.css("visibility","visible")}}}else{if(k==undefined&&p==undefined){b.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0])}}if(this.autoOpenPopup){if(this.mode=="popup"){this.addHandler(b(document),"contextmenu."+this.element.id,function(c){return false});this.addHandler(b(document),"mousedown.menu"+this.element.id,function(c){m._openContextMenu(c)})}else{this.removeHandler(b(document),"contextmenu."+this.element.id);this.removeHandler(b(document),"mousedown.menu"+this.element.id)}}else{this.removeHandler(b(document),"contextmenu."+this.element.id);this.removeHandler(b(document),"mousedown.menu"+this.element.id)}if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"))}switch(this.mode){case"horizontal":this.host.addClass(m.toThemeProperty("jqx-widget-header"));this.host.addClass(m.toThemeProperty("jqx-menu-horizontal"));b.each(this.items,function(){var c=this;$element=b(c.element);var d=b(c.arrow);d.removeClass();if(c.hasItems&&c.level>0){var d=b('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');d.prependTo($element);d.css("float",m._getDir("right"));d.addClass(m.toThemeProperty("jqx-menu-item-arrow-"+m._getDir("right")));d.addClass(m.toThemeProperty("jqx-icon-arrow-"+m._getDir("right")));c.arrow=d[0]}if(c.level==0){b(c.element).css("float",m._getDir("left"));if(!c.ignoretheme&&c.hasItems&&m.showTopLevelArrows){var d=b('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');var e=b.jqx.browser.msie&&b.jqx.browser.version<8;if(c.arrow==null){if(!e){d.prependTo($element)}else{d.appendTo($element)}}else{d=b(c.arrow)}if(c.openVerticalDirection=="down"){d.addClass(m.toThemeProperty("jqx-menu-item-arrow-down"));d.addClass(m.toThemeProperty("jqx-icon-arrow-down"))}else{d.addClass(m.toThemeProperty("jqx-menu-item-arrow-up"));d.addClass(m.toThemeProperty("jqx-icon-arrow-up"))}d.css("visibility","visible");if(!e){d.css("display","block");d.css("float","right")}else{d.css("display","inline-block")}c.arrow=d[0]}else{if(!c.ignoretheme&&c.hasItems&&!m.showTopLevelArrows){if(c.arrow!=null){var d=b(c.arrow);d.remove();c.arrow=null}}}n=Math.max(n,$element.height())}});break;case"vertical":case"popup":case"simple":this.host.addClass(m.toThemeProperty("jqx-menu-vertical"));b.each(this.items,function(){var c=this;$element=b(c.element);if(c.hasItems&&!c.ignoretheme){if(c.arrow){b(c.arrow).remove()}if(m.mode=="simple"){return true}var d=b('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');d.prependTo($element);d.css("float","right");if(c.level==0){d.addClass(m.toThemeProperty("jqx-menu-item-arrow-top-"+m._getDir("right")));d.addClass(m.toThemeProperty("jqx-icon-arrow-"+m._getDir("right")))}else{d.addClass(m.toThemeProperty("jqx-menu-item-arrow-"+m._getDir("right")));d.addClass(m.toThemeProperty("jqx-icon-arrow-"+m._getDir("right")))}c.arrow=d[0]}$element.css("float","none")});if(this.mode=="popup"){this.host.addClass(m.toThemeProperty("jqx-widget-content"));this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=this.host.closest("div.jqx-menu-wrapper");this.host.addClass(m.toThemeProperty("jqx-popup"));o[0].id="menuWrapper"+this.element.id;o.appendTo(b(document.body))}else{this.host.addClass(m.toThemeProperty("jqx-widget-header"))}if(this.mode=="popup"){var a=this.host.height();this.host.css("position","absolute");this.host.css("top","0");this.host.css("left","0");if(this.mode!="simple"){this.host.height(a);this.host.css("display","none")}}break}var q=this.isTouchDevice();if(this.autoCloseOnClick){this.removeHandler(b(document),"mousedown.menu"+this.element.id,m._closeAfterClick);this.addHandler(b(document),"mousedown.menu"+this.element.id,m._closeAfterClick,m);if(q){this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,m._closeAfterClick,m);this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,m._closeAfterClick,m)}}},_getBodyOffset:function(){var d=0;var a=0;if(b("body").css("border-top-width")!="0px"){d=parseInt(b("body").css("border-top-width"));if(isNaN(d)){d=0}}if(b("body").css("border-left-width")!="0px"){a=parseInt(b("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},_getOffset:function(p){var n=b.jqx.mobile.isSafariMobileBrowser();var k=b(p).coord(true);var l=k.top;var m=k.left;if(b("body").css("border-top-width")!="0px"){l=parseInt(l)+this._getBodyOffset().top}if(b("body").css("border-left-width")!="0px"){m=parseInt(m)+this._getBodyOffset().left}var o=b.jqx.mobile.isWindowsPhone();if(this.hasTransform||(n!=null&&n)||o){var a={left:b.jqx.mobile.getLeftPos(p),top:b.jqx.mobile.getTopPos(p)};return a}else{return{left:m,top:l}}},_isRightClick:function(d){var a;if(!d){var d=window.event}if(d.which){a=(d.which==3)}else{if(d.button){a=(d.button==2)}}return a},_openContextMenu:function(e){var f=this;var a=f._isRightClick(e);if(a){f.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)}},close:function(){var f=this;var e=b.data(this.element,"contextMenuOpened"+this.element.id);if(e){var a=this.host;b.each(f.items,function(){var c=this;if(c.hasItems){f._closeItem(f,c)}});b.each(f.items,function(){var d=this;if(d.isOpen==true){$submenu=b(d.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}});this.host.hide(this.animationHideDuration);b.data(f.element,"contextMenuOpened"+this.element.id,false);f._raiseEvent("1",f)}},open:function(f,g){if(this.mode=="popup"){var h=0;if(this.host.css("display")=="block"){this.close();h=this.animationHideDuration}var a=this;if(f==undefined||f==null){f=0}if(g==undefined||g==null){g=0}setTimeout(function(){a.host.show(a.animationShowDuration);a.host.css("visibility","visible");b.data(a.element,"contextMenuOpened"+a.element.id,true);a._raiseEvent("0",a);a.host.css("z-index",9999);if(f!=undefined&&g!=undefined){a.host.css({left:f,top:g})}},h)}},_renderHover:function(h,f,a){var g=this;if(!f.ignoretheme){this.addHandler(h,"mouseenter",function(){if(!f.disabled&&!f.separator&&g.enableHover&&!g.disabled){if(f.level>0){h.addClass(g.toThemeProperty("jqx-fill-state-hover"));h.addClass(g.toThemeProperty("jqx-menu-item-hover"))}else{h.addClass(g.toThemeProperty("jqx-fill-state-hover"));h.addClass(g.toThemeProperty("jqx-menu-item-top-hover"))}}});this.addHandler(h,"mouseleave",function(){if(!f.disabled&&!f.separator&&g.enableHover&&!g.disabled){if(f.level>0){h.removeClass(g.toThemeProperty("jqx-fill-state-hover"));h.removeClass(g.toThemeProperty("jqx-menu-item-hover"))}else{h.removeClass(g.toThemeProperty("jqx-fill-state-hover"));h.removeClass(g.toThemeProperty("jqx-menu-item-top-hover"))}}})}},_closeAfterClick:function(f){var a=f!=null?f.data:this;var e=false;if(a.autoCloseOnClick){b.each(b(f.target).parents(),function(){if(this.className.indexOf){if(this.className.indexOf("jqx-menu")!=-1){e=true;return false}}});if(!e){f.data=a;a._closeAll(f)}}},_autoSizeHorizontalMenuItems:function(){var d=this;if(d.autoSizeMainItems&&this.mode=="horizontal"){var a=this.maxHeight;if(parseInt(a)>parseInt(this.host.height())){a=parseInt(this.host.height())}a=parseInt(this.host.height());b.each(this.items,function(){var o=this;$element=b(o.element);if(o.level==0&&a>0){var x=$element.children().length>0?parseInt($element.children().height()):$element.height();var u=d.host.find("ul:first");var t=parseInt(u.css("padding-top"));var c=parseInt(u.css("margin-top"));var q=a-2*(c+t);var s=parseInt(q)/2-x/2;var w=parseInt(s);var p=parseInt(s);$element.css("padding-top",w);$element.css("padding-bottom",p);if(parseInt($element.outerHeight())>q){var v=1;$element.css("padding-top",w-v);w=w-v}}})}b.each(this.items,function(){var c=this;$element=b(c.element);if(c.hasItems&&c.level>0){if(c.arrow){var g=b(c.arrow);var h=b(c.element).height();if(h>15){g.css("margin-top",(h-15)/2)}}}})},_render:function(o,n){if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))}var l=this.popupZIndex;var q=[5,5];var m=this;b.data(m.element,"animationHideDelay",m.animationHideDelay);var p=this.isTouchDevice();var s=p&&(b.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);var a=false;if(navigator.platform.toLowerCase().indexOf("win")!=-1){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0){this.touchDevice=true}else{if(navigator.userAgent.indexOf("Touch")>=0){var t=("MSPointerDown" in window);if(t||b.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0){a=true;s=true;m.clickToOpen=true;m.autoCloseOnClick=false;m.enableHover=false}}}}b.data(document.body,"menuel",this);this.hasTransform=b.jqx.utilities.hasTransform(this.host);this._applyOrientation(o,n);if(m.enableRoundedCorners){this.host.addClass(m.toThemeProperty("jqx-rc-all"))}b.each(this.items,function(){var v=this;var f=b(v.element);f.attr("role","menuitem");if(m.enableRoundedCorners){f.addClass(m.toThemeProperty("jqx-rc-all"))}m.removeHandler(f,"click");m.addHandler(f,"click",function(y){if(v.disabled){return}if(m.disabled){return}m._raiseEvent("2",{item:v.element,event:y});if(!m.autoOpen){if(v.level>0){if(m.autoCloseOnClick&&!p&&!m.clickToOpen){y.data=m;m._closeAll(y)}}}else{if(m.autoCloseOnClick&&!p&&!m.clickToOpen){if(v.closeOnClick){y.data=m;m._closeAll(y)}}}if(p&&m.autoCloseOnClick){y.data=m;if(!v.hasItems){m._closeAll(y)}}if(y.target.tagName!="A"&&y.target.tagName!="a"){var A=v.anchor!=null?b(v.anchor):null;if(A!=null&&A.length>0){var B=A.attr("href");var z=A.attr("target");if(B!=null){if(z!=null){window.open(B,z)}else{window.location=B}}}}});m.removeHandler(f,"mouseenter");m.removeHandler(f,"mouseleave");if(!s&&m.mode!="simple"){m._renderHover(f,v,p)}if(v.subMenuElement!=null){var e=b(v.subMenuElement);if(m.mode=="simple"){e.show();return true}e.wrap('<div class="jqx-menu-popup '+m.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+l+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>');e.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-e.outerHeight()});e.data("timer",{});if(v.level>0){e.css("left",-e.outerWidth())}else{if(m.mode=="horizontal"){e.css("left",0)}}l++;var c=b(v.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(b(v.subMenuElement).outerWidth())+parseInt(q[0])+"px",height:parseInt(b(v.subMenuElement).outerHeight())+parseInt(q[1])+"px"});var u=f.closest("div.jqx-menu-popup");if(u.length>0){var k=e.css("margin-left");var g=e.css("margin-right");var h=e.css("padding-left");var d=e.css("padding-right");c.appendTo(u);e.css("margin-left",k);e.css("margin-right",g);e.css("padding-left",h);e.css("padding-right",d)}else{var k=e.css("margin-left");var g=e.css("margin-right");var h=e.css("padding-left");var d=e.css("padding-right");c.appendTo(b(document.body));e.css("margin-left",k);e.css("margin-right",g);e.css("padding-left",h);e.css("padding-right",d)}if(!m.clickToOpen){if(p||s){m.removeHandler(f,b.jqx.mobile.getTouchEventName("touchstart"));m.addHandler(f,b.jqx.mobile.getTouchEventName("touchstart"),function(w){clearTimeout(e.data("timer").hide);if(e!=null){e.stop()}if(v.level==0&&!v.isOpen&&m.mode!="popup"){w.data=m;m._closeAll(w)}if(!v.isOpen){m._openItem(m,v)}else{m._closeItem(m,v,true)}return false})}if(!s){m.addHandler(f,"mouseenter",function(){if(m.autoOpen||(v.level>0&&!m.autoOpen)){clearTimeout(e.data("timer").hide)}if(v.parentId&&v.parentId!=0){if(m.menuElements[v.parentId]){var w=m.menuElements[v.parentId].isOpen;if(!w){return}}}if(m.autoOpen||(v.level>0&&!m.autoOpen)){m._openItem(m,v)}return false});m.addHandler(f,"mousedown",function(){if(!m.autoOpen&&v.level==0){clearTimeout(e.data("timer").hide);if(e!=null){e.stop()}if(!v.isOpen){m._openItem(m,v)}else{m._closeItem(m,v,true)}}});m.addHandler(f,"mouseleave",function(B){if(m.autoCloseOnMouseLeave){clearTimeout(e.data("timer").hide);var D=b(v.subMenuElement);var C={left:parseInt(B.pageX),top:parseInt(B.pageY)};var z={left:parseInt(D.coord().left),top:parseInt(D.coord().top),width:parseInt(D.outerWidth()),height:parseInt(D.outerHeight())};var A=true;if(z.left-5<=C.left&&C.left<=z.left+z.width+5){if(z.top<=C.top&&C.top<=z.top+z.height){A=false}}if(A){m._closeItem(m,v,true)}}});m.removeHandler(c,"mouseenter");m.addHandler(c,"mouseenter",function(){clearTimeout(e.data("timer").hide)});m.removeHandler(c,"mouseleave");m.addHandler(c,"mouseleave",function(w){if(m.autoCloseOnMouseLeave){clearTimeout(e.data("timer").hide);clearTimeout(e.data("timer").show);if(e!=null){e.stop()}m._closeItem(m,v,true)}})}}else{m.removeHandler(f,"mousedown");m.addHandler(f,"mousedown",function(w){clearTimeout(e.data("timer").hide);if(e!=null){e.stop()}if(v.level==0&&!v.isOpen){w.data=m;m._closeAll(w)}if(!v.isOpen){m._openItem(m,v)}else{m._closeItem(m,v,true)}})}}});if(this.mode=="simple"){this._renderSimpleMode()}this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var a=Math.random()+"";a=a.replace(".","");a="99"+a;a=a/1;while(this.items[a]){a=Math.random()+"";a=a.replace(".","");a=a/1}return"menuItem"+a},_createMenu:function(L,I){if(L==null){return}if(I==undefined){I=true}if(I==null){I=true}var B=this;var w=b(L).find("li");var z=0;for(var F=0;F<w.length;F++){var D=w[F];var y=b(D);if(D.className.indexOf("jqx-menu")==-1&&this.autoGenerate==false){continue}var A=D.id;if(!A){A=this.createID()}if(I){D.id=A;this.items[z]=new b.jqx._jqxMenu.jqxMenuItem();this.menuElements[A]=this.items[z]}z+=1;var x=0;var a=this;var G=y.children();G.each(function(){if(!I){this.className="";if(a.autoGenerate){b(a.items[z-1].subMenuElement)[0].className="";if(!a.minimized){b(a.items[z-1].subMenuElement).addClass(a.toThemeProperty("jqx-widget-content"))}b(a.items[z-1].subMenuElement).addClass(a.toThemeProperty("jqx-menu-dropdown"));b(a.items[z-1].subMenuElement).addClass(a.toThemeProperty("jqx-popup"))}}if(this.className.indexOf("jqx-menu-dropdown")!=-1){if(I){a.items[z-1].subMenuElement=this}return false}else{if(a.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")){if(I){a.items[z-1].subMenuElement=this}this.className="";if(!a.minimized){b(this).addClass(a.toThemeProperty("jqx-widget-content"))}b(this).addClass(a.toThemeProperty("jqx-menu-dropdown"));b(this).addClass(a.toThemeProperty("jqx-popup"));b(this).attr("role","menu");if(a.rtl){b(this).addClass(a.toThemeProperty("jqx-rc-l"))}else{b(this).addClass(a.toThemeProperty("jqx-rc-r"))}b(this).addClass(a.toThemeProperty("jqx-rc-b"));return false}}});var k=y.parents();k.each(function(){if(this.className.indexOf("jqx-menu-item")!=-1){x=this.id;return false}else{if(a.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")){x=this.id;return false}}});var J=false;var K=D.getAttribute("type");var M=D.getAttribute("ignoretheme")||D.getAttribute("data-ignoretheme");if(M){if(M=="true"||M==true){M=true}}else{M=false}if(!K){K=D.type}else{if(K=="separator"){var J=true}}if(!J){if(x){K="sub"}else{K="top"}}var H=this.items[z-1];if(I){H.id=A;H.parentId=x;H.type=K;H.separator=J;H.element=w[F];var E=y.children("a");H.disabled=D.getAttribute("item-disabled")=="true"?true:false;H.level=y.parents("li").length;H.anchor=E.length>0?E:null}H.ignoretheme=M;var C=this.menuElements[x];if(C!=null){if(C.ignoretheme){H.ignoretheme=C.ignoretheme;M=C.ignoretheme}}if(this.autoGenerate){if(K=="separator"){y.removeClass();y.addClass(this.toThemeProperty("jqx-menu-item-separator"));y.attr("role","separator")}else{if(!M){y[0].className="";if(this.rtl){y.addClass(this.toThemeProperty("jqx-rtl"))}if(H.level>0&&!a.minimized){y.addClass(this.toThemeProperty("jqx-item"));y.addClass(this.toThemeProperty("jqx-menu-item"))}else{y.addClass(this.toThemeProperty("jqx-item"));y.addClass(this.toThemeProperty("jqx-menu-item-top"))}}}}if(H.disabled){y.addClass(a.toThemeProperty("jqx-menu-item-disabled"));y.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}if(I&&!M){H.hasItems=y.find("li").length>0;if(H.hasItems){if(H.element){b.jqx.aria(b(H.element),"aria-haspopup",true);if(!H.subMenuElement.id){H.subMenuElement.id=b.jqx.utilities.createId()}b.jqx.aria(b(H.element),"aria-owns",H.subMenuElement.id)}}}}},destroy:function(){b.jqx.utilities.resize(this.host,null,true);var e=this.host.closest("div.jqx-menu-wrapper");e.remove();b("#menuWrapper"+this.element.id).remove();var a=this;this.removeHandler(b(document),"mousedown.menu"+this.element.id,a._closeAfterClick);this.removeHandler(b(document),"mouseup.menu"+this.element.id,a._closeAfterClick);b.data(document.body,"jqxMenuOldHost"+this.element.id,null);if(this.isTouchDevice()){this.removeHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this)}if(b(window).off){b(window).off("resize.menu"+a.element.id)}b.each(this.items,function(){var d=this;var k=b(d.element);a.removeHandler(k,"click");a.removeHandler(k,"selectstart");a.removeHandler(k,"mouseenter");a.removeHandler(k,"mouseleave");a.removeHandler(k,"mousedown");a.removeHandler(k,"mouseleave");var l=b(d.subMenuElement);var c=l.closest("div.jqx-menu-popup");c.remove();delete this.subMenuElement;delete this.element});b.data(document.body,"menuel",null);delete this.menuElements;this.items=new Array();delete this.items;var f=b.data(this.element,"jqxMenu");if(f){delete f.instance}this.host.removeClass();this.host.remove();delete this.host;delete this.element},_raiseEvent:function(g,l){if(l==undefined){l={owner:null}}var k=this.events[g];args=l;args.owner=this;var h=new jQuery.Event(k);if(g=="2"){args=l.item;args.owner=this;b.extend(h,l.event);h.type="itemclick"}h.owner=this;h.args=args;var a=this.host.trigger(h);return a},propertyChangedHandler:function(a,m,h,k){if(this.isInitialized==undefined||this.isInitialized==false){return}if(m=="disabled"){if(a.disabled){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));a.host.addClass(a.toThemeProperty("jqx-menu-disabled"))}else{a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));a.host.removeClass(a.toThemeProperty("jqx-menu-disabled"))}}if(k==h){return}if(m=="touchMode"){this._isTouchDevice=null;a._render(k,h)}if(m=="source"){if(a.source!=null){var n=a.loadItems(a.source);a.element.innerHTML=n;var l=a.host.find("ul:first");if(l.length>0){a.refresh();a._createMenu(l[0]);a._render()}}}if(m=="autoCloseOnClick"){if(k==false){a.removeHandler(b(document),"mousedown.menu"+this.element.id,a._closeAll)}else{a.addHandler(b(document),"mousedown.menu"+this.element.id,a,a._closeAll)}}else{if(m=="mode"||m=="width"||m=="height"||m=="showTopLevelArrows"){a.refresh();if(m=="mode"){a._render(k,h)}else{a._applyOrientation()}}else{if(m=="theme"){b.jqx.utilities.setTheme(h,k,a.host)}}}}})})(jQuery);(function(b){b.jqx._jqxMenu.jqxMenuItem=function(f,g,h){var a={id:f,parentId:g,parentItem:null,anchor:null,type:h,disabled:false,level:0,isOpen:false,hasItems:false,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:true};return a}})(jQuery);(function(b){b.jqx.jqxWidget("jqxScrollBar","",{});b.extend(b.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.thumbSize=0;this.thumbStep="auto";this.roundedCorners="all";this.showButtons=true;this.disabled=false;this.touchMode="auto";this.touchModeStyle="auto";this.thumbTouchSize=0;this._triggervaluechanged=true;this.rtl=false;this.areaDownCapture=false;this.areaUpCapture=false;this._initialLayout=false},createInstance:function(a){this.render()},render:function(){this._mouseup=new Date();var h=this;var g="<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(b.jqx.utilities&&b.jqx.utilities.scrollBarButtonsVisibility=="hidden"){this.showButtons=false}if(h.WinJS){MSApp.execUnsafeLocalFunction(function(){h.host.html(g)})}else{this.element.innerHTML=g}if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.isPercentage=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);this.isPercentage=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);this.isPercentage=true}if(this.isPercentage){var f=this;b.jqx.utilities.resize(this.host,function(){f._arrange()},false)}this.thumbCapture=false;this.scrollOuterWrap=b(this.element.firstChild);this.scrollWrap=b(this.scrollOuterWrap[0].firstChild);this.btnUp=b(this.scrollWrap[0].firstChild);this.areaUp=b(this.btnUp[0].nextSibling);this.btnThumb=b(this.areaUp[0].nextSibling);this.arrowUp=b("<div></div>");this.arrowUp.appendTo(this.btnUp);this.areaDown=b(this.btnThumb[0].nextSibling);this.btnDown=b(this.areaDown[0].nextSibling);this.arrowDown=b("<div></div>");this.arrowDown.appendTo(this.btnDown);var a=this.element.id;this.btnUp[0].id="jqxScrollBtnUp"+a;this.btnDown[0].id="jqxScrollBtnDown"+a;this.btnThumb[0].id="jqxScrollThumb"+a;this.areaUp[0].id="jqxScrollAreaUp"+a;this.areaDown[0].id="jqxScrollAreaDown"+a;this.scrollWrap[0].id="jqxScrollWrap"+a;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+a;if(!this.host.jqxRepeatButton){throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");return}this.btnUp.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDown.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDownInstance=b.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=b.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({_scrollAreaButton:true,_ariaDisabled:true,overrideTheme:true});this.areaDown.jqxRepeatButton({_scrollAreaButton:true,_ariaDisabled:true,overrideTheme:true});this.btnThumb.jqxButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.propertyChangeMap.value=function(k,d,e,c){if(!(isNaN(c))){if(e!=c){k.setPosition(parseFloat(c),true)}}};this.propertyChangeMap.width=function(k,d,e,c){if(k.width!=undefined&&parseInt(k.width)>0){k.host.width(parseInt(k.width));k._arrange()}};this.propertyChangeMap.height=function(k,d,e,c){if(k.height!=undefined&&parseInt(k.height)>0){k.host.height(parseInt(k.height));k._arrange()}};this.propertyChangeMap.theme=function(k,d,e,c){k.setTheme()};this.propertyChangeMap.max=function(k,d,e,c){if(!(isNaN(c))){if(e!=c){k.max=parseInt(c);if(k.min>k.max){k.max=k.min+1}k._arrange();k.setPosition(k.value)}}};this.propertyChangeMap.min=function(k,d,e,c){if(!(isNaN(c))){if(e!=c){k.min=parseInt(c);if(k.min>k.max){k.max=k.min+1}k._arrange();k.setPosition(k.value)}}};this.propertyChangeMap.disabled=function(k,d,e,c){if(e!=c){if(c){k.host.addClass(k.toThemeProperty("jqx-fill-state-disabled"))}else{k.host.removeClass(k.toThemeProperty("jqx-fill-state-disabled"))}k.btnUp.jqxRepeatButton("disabled",k.disabled);k.btnDown.jqxRepeatButton("disabled",k.disabled);k.btnThumb.jqxButton("disabled",k.disabled)}};this.propertyChangeMap.touchMode=function(k,d,e,c){if(e!=c){k._updateTouchBehavior();if(c===true){k.showButtons=false;k.refresh()}else{if(c===false){k.showButtons=true;k.refresh()}}}};this.buttonUpCapture=false;this.buttonDownCapture=false;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},resize:function(d,a){this.width=d;this.height=a;this._arrange()},_updateTouchBehavior:function(){this.isTouchDevice=b.jqx.mobile.isTouchDevice();if(this.touchMode==true){if(b.jqx.browser.msie&&b.jqx.browser.version<9){this.setTheme();return}this.isTouchDevice=true;b.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else{if(this.touchMode==false){this.isTouchDevice=false}}},_addHandlers:function(){var o=this;var p=false;try{if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){p=true;this._touchSupport=true}}catch(l){}if(o.isTouchDevice||p){this.addHandler(this.btnThumb,b.jqx.mobile.getTouchEventName("touchend"),function(e){var d=o.vertical?o.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):o.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var c=o.toThemeProperty("jqx-fill-state-pressed");o.btnThumb.removeClass(d);o.btnThumb.removeClass(c);if(!o.disabled){o.handlemouseup(o,e)}return false});this.addHandler(this.btnThumb,b.jqx.mobile.getTouchEventName("touchstart"),function(d){if(!o.disabled){if(o.touchMode==true){d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}else{var c=d;if(c.originalEvent.touches&&c.originalEvent.touches.length){d.clientX=c.originalEvent.touches[0].clientX;d.clientY=c.originalEvent.touches[0].clientY}else{d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}}o.handlemousedown(d);if(d.preventDefault){d.preventDefault()}}});b.jqx.mobile.touchScroll(this.element,o.max,function(g,h,e,f,d){if(o.host.css("visibility")=="visible"){if(o.touchMode==true){d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}else{var s=d;if(s.originalEvent.touches&&s.originalEvent.touches.length){d.clientX=s.originalEvent.touches[0].clientX;d.clientY=s.originalEvent.touches[0].clientY}else{d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}}var c=o.vertical?o.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):o.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");o.btnThumb.addClass(c);o.btnThumb.addClass(o.toThemeProperty("jqx-fill-state-pressed"));o.thumbCapture=true;o.handlemousemove(d)}},o.element.id)}this.addHandler(this.btnUp,"click",function(c){var d=o.step;if(o.rtl&&!o.vertical){d=-o.step}if(o.buttonUpCapture&&!o.isTouchDevice){if(!o.disabled){o.setPosition(o.value-d)}}else{if(!o.disabled&&o.isTouchDevice){o.setPosition(o.value-d)}}});this.addHandler(this.btnDown,"click",function(c){var d=o.step;if(o.rtl&&!o.vertical){d=-o.step}if(o.buttonDownCapture&&!o.isTouchDevice){if(!o.disabled){o.setPosition(o.value+d)}}else{if(!o.disabled&&o.isTouchDevice){o.setPosition(o.value+d)}}});if(!this.isTouchDevice){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var k=null;if(window.parent&&document.referrer){k=document.referrer}if(k&&k.indexOf(document.location.host)!=-1){var m=function(c){if(!o.disabled){o.handlemouseup(o,c)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",m,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",m)}}}}}}catch(n){}this.addHandler(this.btnDown,"mouseup",function(c){if(!o.btnDownInstance.base.disabled&&o.buttonDownCapture){o.buttonDownCapture=false;o.btnDown.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed"));o.btnDown.removeClass(o.toThemeProperty("jqx-fill-state-pressed"));o._removeArrowClasses("pressed","down");o.handlemouseup(o,c);var d=o.step;if(o.rtl&&!o.vertical){d=-o.step}o.setPosition(o.value+d);return false}});this.addHandler(this.btnUp,"mouseup",function(c){if(!o.btnUpInstance.base.disabled&&o.buttonUpCapture){o.buttonUpCapture=false;o.btnUp.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed"));o.btnUp.removeClass(o.toThemeProperty("jqx-fill-state-pressed"));o._removeArrowClasses("pressed","up");o.handlemouseup(o,c);var d=o.step;if(o.rtl&&!o.vertical){d=-o.step}o.setPosition(o.value-d);return false}});this.addHandler(this.btnDown,"mousedown",function(c){if(!o.btnDownInstance.base.disabled){o.buttonDownCapture=true;o.btnDown.addClass(o.toThemeProperty("jqx-fill-state-pressed"));o.btnDown.addClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed"));o._addArrowClasses("pressed","down");return false}});this.addHandler(this.btnUp,"mousedown",function(c){if(!o.btnUpInstance.base.disabled){o.buttonUpCapture=true;o.btnUp.addClass(o.toThemeProperty("jqx-fill-state-pressed"));o.btnUp.addClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed"));o._addArrowClasses("pressed","up");return false}})}var q="click";if(this.isTouchDevice){q=b.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.areaUp,q,function(c){if(!o.disabled){var d=o.largestep;if(o.rtl&&!o.vertical){d=-o.largestep}o.setPosition(o.value-d);return false}});this.addHandler(this.areaDown,q,function(c){if(!o.disabled){var d=o.largestep;if(o.rtl&&!o.vertical){d=-o.largestep}o.setPosition(o.value+d);return false}});this.addHandler(this.areaUp,"mousedown",function(c){if(!o.disabled){o.areaUpCapture=true;return false}});this.addHandler(this.areaDown,"mousedown",function(c){if(!o.disabled){o.areaDownCapture=true;return false}});this.addHandler(this.btnThumb,"mousedown",function(c){if(!o.disabled){o.handlemousedown(c)}return false});this.addHandler(this.btnThumb,"dragstart",function(c){return false});this.addHandler(b(document),"mouseup."+this.element.id,function(c){if(!o.disabled){o.handlemouseup(o,c)}});if(!this.isTouchDevice){this.mousemoveFunc=function(c){if(!o.disabled){o.handlemousemove(c)}};this.addHandler(b(document),"mousemove."+this.element.id,this.mousemoveFunc);this.addHandler(b(document),"mouseleave."+this.element.id,function(c){if(!o.disabled){o.handlemouseleave(c)}});this.addHandler(b(document),"mouseenter."+this.element.id,function(c){if(!o.disabled){o.handlemouseenter(c)}});if(!o.disabled){this.addHandler(this.btnUp,"mouseenter",function(){if(!o.disabled&&!o.btnUpInstance.base.disabled&&o.touchMode!=true){o.btnUp.addClass(o.toThemeProperty("jqx-scrollbar-button-state-hover"));o.btnUp.addClass(o.toThemeProperty("jqx-fill-state-hover"));o._addArrowClasses("hover","up")}});this.addHandler(this.btnUp,"mouseleave",function(){if(!o.disabled&&!o.btnUpInstance.base.disabled&&o.touchMode!=true){o.btnUp.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-hover"));o.btnUp.removeClass(o.toThemeProperty("jqx-fill-state-hover"));o._removeArrowClasses("hover","up")}});var a=o.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!o.vertical){a=o.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.addHandler(this.btnThumb,"mouseenter",function(){if(!o.disabled&&o.touchMode!=true){o.btnThumb.addClass(a);o.btnThumb.addClass(o.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnThumb,"mouseleave",function(){if(!o.disabled&&o.touchMode!=true){o.btnThumb.removeClass(a);o.btnThumb.removeClass(o.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnDown,"mouseenter",function(){if(!o.disabled&&!o.btnDownInstance.base.disabled&&o.touchMode!=true){o.btnDown.addClass(o.toThemeProperty("jqx-scrollbar-button-state-hover"));o.btnDown.addClass(o.toThemeProperty("jqx-fill-state-hover"));o._addArrowClasses("hover","down")}});this.addHandler(this.btnDown,"mouseleave",function(){if(!o.disabled&&!o.btnDownInstance.base.disabled&&o.touchMode!=true){o.btnDown.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-hover"));o.btnDown.removeClass(o.toThemeProperty("jqx-fill-state-hover"));o._removeArrowClasses("hover","down")}})}}},destroy:function(){var a=this.btnUp;var m=this.btnDown;var o=this.btnThumb;var p=this.scrollWrap;var k=this.areaUp;var n=this.areaDown;this.arrowUp.remove();delete this.arrowUp;this.arrowDown.remove();delete this.arrowDown;n.removeClass();k.removeClass();m.removeClass();a.removeClass();o.removeClass();a.jqxRepeatButton("destroy");m.jqxRepeatButton("destroy");k.jqxRepeatButton("destroy");n.jqxRepeatButton("destroy");o.jqxButton("destroy");var l=b.data(this.element,"jqxScrollBar");this._removeHandlers();this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null;this.scrollOuterWrap=null;delete this.mousemoveFunc;delete this.btnDownInstance;delete this.btnUpInstance;delete this.scrollOuterWrap;delete this.scrollWrap;delete this.btnDown;delete this.areaDown;delete this.areaUp;delete this.btnDown;delete this.btnUp;delete this.btnThumb;delete this.propertyChangeMap.value;delete this.propertyChangeMap.min;delete this.propertyChangeMap.max;delete this.propertyChangeMap.touchMode;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;if(l){delete l.instance}this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(b(document),"mouseup."+this.element.id);if(!this.mousemoveFunc){this.removeHandler(b(document),"mousemove."+this.element.id)}else{this.removeHandler(b(document),"mousemove."+this.element.id,this.mousemoveFunc)}this.removeHandler(b(document),"mouseleave."+this.element.id);this.removeHandler(b(document),"mouseenter."+this.element.id);var a=this},_addArrowClasses:function(d,a){if(d=="pressed"){d="selected"}if(d!=""){d="-"+d}if(this.vertical){if(a=="up"||a==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+d))}if(a=="down"||a==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+d))}}else{if(a=="up"||a==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+d))}if(a=="down"||a==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+d))}}},_removeArrowClasses:function(d,a){if(d=="pressed"){d="selected"}if(d!=""){d="-"+d}if(this.vertical){if(a=="up"||a==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+d))}if(a=="down"||a==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+d))}}else{if(a=="up"||a==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+d))}if(a=="down"||a==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+d))}}},setTheme:function(){var t=this.btnUp;var v=this.btnDown;var s=this.btnThumb;var D=this.scrollWrap;var B=this.areaUp;var A=this.areaDown;var C=this.arrowUp;var z=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var x=this.toThemeProperty("jqx-reset");this.areaDown[0].className=x;this.areaUp[0].className=x;var E=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(E);v[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var a="";if(this.vertical){C[0].className=x+" "+this.toThemeProperty("jqx-icon-arrow-up");z[0].className=x+" "+this.toThemeProperty("jqx-icon-arrow-down");a=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")}else{C[0].className=x+" "+this.toThemeProperty("jqx-icon-arrow-left");z[0].className=x+" "+this.toThemeProperty("jqx-icon-arrow-right");a=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")}a+=" "+this.toThemeProperty("jqx-fill-state-normal");s[0].className=a;if(this.disabled){D.addClass(this.toThemeProperty("jqx-fill-state-disabled"));D.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{D.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));D.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.roundedCorners=="all"){this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.vertical){var y=b.jqx.cssroundedcorners("top");y=this.toThemeProperty(y);t.addClass(y);var F=b.jqx.cssroundedcorners("bottom");F=this.toThemeProperty(F);v.addClass(F)}else{var u=b.jqx.cssroundedcorners("left");u=this.toThemeProperty(u);t.addClass(u);var w=b.jqx.cssroundedcorners("right");w=this.toThemeProperty(w);v.addClass(w)}}else{var G=b.jqx.cssroundedcorners(this.roundedCorners);G=this.toThemeProperty(G);elBtnUp.addClass(G);elBtnDown.addClass(G)}var G=b.jqx.cssroundedcorners(this.roundedCorners);G=this.toThemeProperty(G);if(!s.hasClass(G)){s.addClass(G)}if(this.isTouchDevice&&this.touchModeStyle!=false){this.showButtons=false;s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined||this.areaDownCapture==undefined||this.areaUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(d){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var a=this.btnThumb;if(a!=null){a.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=d.clientX;this.dragStartY=d.clientY;this.dragStartValue=this.value},toggleHover:function(d,a){},refresh:function(){this._arrange()},_setElementPosition:function(f,a,e){if(!isNaN(a)){if(parseInt(f[0].style.left)!=parseInt(a)){f[0].style.left=a+"px"}}if(!isNaN(e)){if(parseInt(f[0].style.top)!=parseInt(e)){f[0].style.top=e+"px"}}},_setElementTopPosition:function(a,d){if(!isNaN(d)){a[0].style.top=d+"px"}},_setElementLeftPosition:function(d,a){if(!isNaN(a)){d[0].style.left=a+"px"}},handlemouseleave:function(h){var a=this.btnUp;var k=this.btnDown;if(this.buttonDownCapture||this.buttonUpCapture){a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));k.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this._removeArrowClasses("pressed")}if(this.thumbCapture!=true){return}var l=this.btnThumb;var g=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");l.removeClass(g);l.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(f){var a=this.btnUp;var g=this.btnDown;if(this.buttonUpCapture){a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","up")}if(this.buttonDownCapture){g.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));g.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","down")}if(this.thumbCapture!=true){return}var h=this.btnThumb;if(this.vertical){h.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{h.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}h.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(w){var o=this.btnUp;var t=this.btnDown;var u=0;if(t==null||o==null){return}if(o!=null&&t!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&w.which==u){t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));t.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","down");this.buttonDownCapture=false}else{if(this.buttonUpCapture&&w.which==u){o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));o.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","up");this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var m=this.btnThumb;if(w.which==u&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=false;this._arrange();var n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");m.removeClass(n);m.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(w.preventDefault!=undefined){w.preventDefault()}if(w.originalEvent!=null){w.originalEvent.mouseHandled=true}if(w.stopPropagation!=undefined){w.stopPropagation()}var a=0;try{if(!this.vertical){a=w.clientX-this.dragStartX}else{a=w.clientY-this.dragStartY}var s=this._btnAndThumbSize;if(!this._btnAndThumbSize){s=(this.vertical)?o.height()+t.height()+m.height():o.width()+t.width()+m.width()}var q=(this.max-this.min)/(this.scrollBarSize-s);if(this.thumbStep=="auto"){a*=q}else{a*=q;if(Math.abs(this.dragStartValue+a-this.value)>=parseInt(this.thumbStep)){var v=Math.round(parseInt(a)/this.thumbStep)*this.thumbStep;if(this.rtl&&!this.vertical){this.setPosition(this.dragStartValue-v)}else{this.setPosition(this.dragStartValue+v)}return false}else{return false}}var v=a;if(this.rtl&&!this.vertical){v=-a}this.setPosition(this.dragStartValue+v)}catch(p){alert(p)}return false},handlemouseup:function(o,l){var p=false;if(this.thumbCapture){this.thumbCapture=false;var n=this.btnThumb;var k=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");n.removeClass(k);n.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));p=true;this._mouseup=new Date()}this.areaDownCapture=this.areaUpCapture=false;if(this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp;var m=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));m.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));m.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed");p=true;this._mouseup=new Date()}if(p){if(l.preventDefault!=undefined){l.preventDefault()}if(l.originalEvent!=null){l.originalEvent.mouseHandled=true}if(l.stopPropagation!=undefined){l.stopPropagation()}}},setPosition:function(a,h){var m=this.element;if(a==undefined||a==NaN){a=this.min}if(a>=this.max){a=this.max}if(a<this.min){a=this.min}if(this.value!==a||h==true){if(a==this.max){var n=new jQuery.Event("complete");this.host.trigger(n)}var k=this.value;if(this._triggervaluechanged){var l=new jQuery.Event("valuechanged");l.previousValue=this.value;l.currentValue=a}this.value=a;this._positionelements();if(this._triggervaluechanged){this.host.trigger(l)}if(this.valuechanged){this.valuechanged({currentValue:this.value,previousvalue:k})}}return a},_getThumbSize:function(a){var e=this.max-this.min;var f=0;if(e>1){f=(a/(e+a)*a)}else{if(e==1){f=a}}if(this.thumbSize>0){f=this.thumbSize}if(f<this.thumbMinSize){f=this.thumbMinSize}return Math.min(f,a)},_positionelements:function(){var z=this.element;var s=this.areaUp;var B=this.areaDown;var y=this.btnUp;var A=this.btnDown;var q=this.btnThumb;var E=this.scrollWrap;var a=this._height?this._height:this.host.height();var D=this._width?this._width:this.host.width();var u=(!this.vertical)?a:D;if(!this.showButtons){u=0}var t=(!this.vertical)?D:a;this.scrollBarSize=t;var C=this._getThumbSize(t-2*u);C=Math.round(C);if(C<this.thumbMinSize){C=this.thumbMinSize}if(a==NaN||a<10){a=10}if(D==NaN||D<10){D=10}u+=2;this.btnSize=u;var x=this._btnAndThumbSize;if(!this._btnAndThumbSize){var x=(this.vertical)?2*this.btnSize+q.outerHeight():2*this.btnSize+q.outerWidth();x=Math.round(x)}var v=(t-x)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){v=(t-x)/(this.max-this.min)*(this.max-this.value-this.min)}v=Math.round(v);if(v<0){v=0}if(this.vertical){var w=t-v-x;if(w<0){w=0}B[0].style.height=w+"px";s[0].style.height=v+"px";this._setElementTopPosition(s,u);this._setElementTopPosition(q,u+v);this._setElementTopPosition(B,u+v+C)}else{s[0].style.width=v+"px";if(t-v-x>=0){B[0].style.width=t-v-x+"px"}else{B[0].style.width="0px"}this._setElementLeftPosition(s,u);this._setElementLeftPosition(q,u+v);this._setElementLeftPosition(B,2+u+v+C)}},_arrange:function(){if(this._initialLayout){this._initialLayout=false;return}var L=this.element;var I=this.areaUp;var x=this.areaDown;var M=this.btnUp;var E=this.btnDown;var w=this.btnThumb;var B=this.scrollWrap;var D=parseInt(this.element.style.height);var A=parseInt(this.element.style.width);if(this.isPercentage){var D=this.host.height();var A=this.host.width()}if(isNaN(D)){D=0}if(isNaN(A)){A=0}this._width=A;this._height=D;var N=(!this.vertical)?D:A;if(!this.showButtons){N=0}M[0].style.width=N+"px";M[0].style.height=N+"px";E[0].style.width=N+"px";E[0].style.height=N+"px";if(this.vertical){B[0].style.width=A+2+"px"}else{B[0].style.height=D+2+"px"}this._setElementPosition(M,0,0);var y=N+2;if(this.vertical){this._setElementPosition(E,0,D-y)}else{this._setElementPosition(E,A-y,0)}var K=(!this.vertical)?A:D;this.scrollBarSize=K;var H=this._getThumbSize(K-2*N);H=Math.round(H);if(H<this.thumbMinSize){H=this.thumbMinSize}var C=false;if(this.isTouchDevice&&this.touchModeStyle!=false){C=true}if(!this.vertical){w[0].style.width=H+"px";w[0].style.height=D+"px";if(C&&this.thumbTouchSize!==0){w.css({height:this.thumbTouchSize+"px"});w.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)}}else{w[0].style.width=A+"px";w[0].style.height=H+"px";if(C&&this.thumbTouchSize!==0){w.css({width:this.thumbTouchSize+"px"});w.css("margin-left",(this.host.width()-this.thumbTouchSize)/2)}}if(D==NaN||D<10){D=10}if(A==NaN||A<10){A=10}N+=2;this.btnSize=N;var J=(this.vertical)?2*this.btnSize+(2+parseInt(w[0].style.height)):2*this.btnSize+(2+parseInt(w[0].style.width));J=Math.round(J);this._btnAndThumbSize=J;var a=(K-J)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){a=(K-J)/(this.max-this.min)*(this.max-this.value-this.min)}a=Math.round(a);if(a===-Infinity||a==Infinity){a=0}if(isNaN(a)){a=0}if(a<0){a=0}if(this.vertical){var v=(K-a-J);if(v<0){v=0}x[0].style.height=v+"px";x[0].style.width=A+"px";I[0].style.height=a+"px";I[0].style.width=A+"px";var G=parseInt(this.element.style.height);if(this.isPercentage){G=this.host.height()}w[0].style.visibility="inherit";if(G-3*parseInt(N)<0){w[0].style.visibility="hidden"}else{if(G<J){w[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){w[0].style.visibility="inherit"}}}this._setElementPosition(I,0,N);this._setElementPosition(w,0,N+a);this._setElementPosition(x,0,N+a+H)}else{if(a>0){I[0].style.width=a+"px"}if(D>0){I[0].style.height=D+"px"}var F=(K-a-J);if(F<0){F=0}x[0].style.width=F+"px";x[0].style.height=D+"px";var z=parseInt(this.element.style.width);if(this.isPercentage){z=this.host.width()}w[0].style.visibility="inherit";if(z-3*parseInt(N)<0){w[0].style.visibility="hidden"}else{if(z<J){w[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){w[0].style.visibility="inherit"}}}this._setElementPosition(I,N,0);this._setElementPosition(w,N+a,0);this._setElementPosition(x,2+N+a+H,0)}}})})(jQuery);(function(b){b.jqx.jqxWidget("jqxTabs","",{});b.extend(b.jqx._jqxTabs.prototype,{defineInstance:function(){this.scrollAnimationDuration=200;this.enabledHover=true;this.disabled=false;this.collapsible=false;this.animationType="none";this.enableScrollAnimation=true;this.contentTransitionDuration=450;this.toggleMode="click";this.selectedItem=0;this.height="auto";this.width="auto";this.position="top";this.selectionTracker=false;this.scrollable=true;this.scrollPosition="right";this.scrollStep=70;this.autoHeight=true;this.headerHeight=null;this.showCloseButtons=false;this.canCloseAllTabs=true;this.closeButtonSize=16;this.arrowButtonSize=16;this.keyboardNavigation=true;this.reorder=false;this.selectionTrackerAnimationDuration=300;this._isTouchDevice=false;this.roundedCorners=true;this._headerExpandingBalance=0;this._dragStarted=false;this._tabCaptured=false;this._lastUnorderedListPosition=0;this._selectedItem=0;this._titleList=[];this._contentList=[];this._contentWrapper=null;this._unorderedList=null;this._scrollTimeout=null;this.isCollapsed=false;this.touchMode=false;this.initTabContent=null;this.enableDropAnimation=false;this._currentEvent=null;this._needScroll=true;this._isAnimated={};this._events=["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"];this._initTabContentList=[];this._invalidArgumentExceptions={invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"};this.aria={"aria-disabled":{name:"disabled",type:"boolean"}};this.rtl=false},createInstance:function(){b.jqx.aria(this);this.host.addClass(this.toThemeProperty("jqx-tabs"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.attr("role","tablist");this._unorderedList=this.host.children("ul");this._titleList=this.host.children("ul").children("li");this._contentList=this.host.children("div");this._selectedItem=this.selectedItem;this._isTouchDevice=b.jqx.mobile.isTouchDevice();this._needScroll=this.scrollable;if(this.selectionTracker){this.selectionTracker=this._seletionTrackerBrowserCheck()}if(this._isTouchDevice){this.reorder=false;this.keyboardNavigation=false}var a=this.length();while(a){a--;this._titleList[a]=b(this._titleList[a]);this._titleList[a].attr("role","tab");this._contentList[a]=b(this._contentList[a]);this._contentList[a].attr("role","tabpanel")}this._validateProperties();this._refresh();this._moveSelectionTrack(this._selectedItem,0);if(this.disabled){this.disable()}this.element.tabIndex=0;this._raiseEvent(0);this._enableWindowResize()},_hiddenParent:function(){var d=this;if(d.host.css("display")=="none"){return true}var a=false;b.each(d.host.parents(),function(){if(b(this).css("display")=="none"){a=true;return false}});return a},_enableWindowResize:function(){var a=this;var d=b.jqx.isHidden(a.host);b.jqx.utilities.resize(this.host,function(){if(d){a._uiRefresh(true);d=false}else{a.refresh()}})},resize:function(f,a){this.width=f;this.height=a;var e=b.jqx.isHidden(this.host);if(e){this._uiRefresh(true);e=false}else{this.refresh()}},refresh:function(a){if(true!=a||a==undefined){this._performResize()}},_seletionTrackerBrowserCheck:function(){var a="Browser CodeName: "+navigator.appCodeName+"";a+="Browser Name: "+navigator.appName+"";a+="Browser Version: "+navigator.appVersion+"";a+="Platform: "+navigator.platform+"";a+="User-agent header: "+navigator.userAgent+"";if(a.indexOf("IEMobile")!=-1){return false}if(a.indexOf("Windows Phone OS")!=-1){return false}if(b.jqx.browser.msie&&b.jqx.browser.version<=7){return false}return true},render:function(){this._refresh()},_uiRefresh:function(a){this._unorderedListLeftBackup=this._unorderedList.css("left");if(a){this._render()}this._addStyles();this._performLayout();this._prepareTabs();this._removeEventHandlers();this._addEventHandlers();if(this._unorderedListLeftBackup==="auto"){this._unorderedListLeftBackup=this._getArrowsDisplacement()}this._unorderedList.css("left",this._unorderedListLeftBackup);if(this.rtl){if(this.scrollable&&this._rightArrow&&this._rightArrow.css("visibility")!="hidden"){var e=2*this.arrowButtonSize;var f=this.host.width()-parseInt(this._unorderedList.width()+e+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",f+"px")}}},_refresh:function(){if(b.jqx.isHidden(this.host)){return}this._uiRefresh(true)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container"));this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});var a=this.length();while(a){a--;this._titleList[a].removeClass();this._titleList[a].css("padding","");this._titleList[a].addClass("jqx-reset");this._titleList[a].addClass("jqx-disableselect");this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title"));this._titleList[a].addClass(this.toThemeProperty("jqx-item"));if(this.position=="bottom"){this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}if(this._titleList[a].disabled){this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b"));this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t"));this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b"));this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t"));this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b"));this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"));break}}if(this.selectionTracker){this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b"));this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"));break}}},_raiseEvent:function(m,h){var k=new b.Event(this._events[m]);k.owner=this;k.args=h;if(m===6||m===7){k.cancel=false;this._currentEvent=k}var a="";try{a=this.host.trigger(k);if(m==1){var l=this;if(this.selectionTracker||this.animationType!="none"){setTimeout(function(){if(!l._initTabContentList[l.selectedItem]){if(l.initTabContent){l.initTabContent(l.selectedItem);l._initTabContentList[l.selectedItem]=true}}var c=new b.Event("loadContent");c.owner=this;if(l._contentList.length>0&&l._contentList[l.selectedItem]){l._contentList[l.selectedItem].find("div").trigger(c)}},50+l.selectionTrackerAnimationDuration)}else{var k=new b.Event("loadContent");if(!l._initTabContentList[l.selectedItem]){if(l.initTabContent){l.initTabContent(l.selectedItem);l._initTabContentList[l.selectedItem]=true}}k.owner=this;var k=new b.Event("resize");this.host.trigger(k)}}}catch(n){}return a},_getArrowsDisplacement:function(){if(!this._needScroll){return 0}var e;var f=this.arrowButtonSize;var a=this.arrowButtonSize;if(this.scrollPosition==="left"){e=f+a}else{if(this.scrollPosition==="both"){e=f}else{e=0}}return e},_scrollRight:function(q,n){this._unorderedList.stop();this._unlockAnimation("unorderedList");var p=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),m=parseInt(this.host.width(),10),o,l,u=parseInt(this._unorderedList.css("left"),10),t=this._getArrowsDisplacement(),s=0,a=undefined;if(this.scrollable){o=parseInt(this._leftArrow.outerWidth(),10);l=parseInt(this._rightArrow.outerWidth(),10)}else{o=0;l=0}q=(this.enableScrollAnimation)?q:0;if(parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)){s=t}else{if(Math.abs(u)+this.scrollStep<Math.abs(m-p)+o+l+t){s=u-this.scrollStep;a=u-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{s=m-p-(2*this.arrowButtonSize-t);if(s<parseInt(this._unorderedList.css("left"),10)-4&&s>parseInt(this._unorderedList.css("left"),10)+4){a=m-p-o-l+parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(s,a,q)},_scrollLeft:function(k,h){this._unorderedList.stop();this._unlockAnimation("unorderedList");var a=parseInt(this._unorderedList.css("left")),n=this._getArrowsDisplacement(),l=0,m=undefined;k=(this.enableScrollAnimation)?k:0;if(parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())){l=n}else{if(a+this.scrollStep<n){l=a+this.scrollStep;m=a+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{l=n;if(l<parseInt(this._unorderedList.css("left"))-4&&l>parseInt(this._unorderedList.css("left"))+4){m=parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(l,m,k)},_performScrollAnimation:function(f,g,h){var a=this;if(g!==undefined){this._moveSelectionTrack(this._selectedItem,0,g)}this._lockAnimation("unorderedList");this._unorderedList.animate({left:f},h,function(){a._moveSelectionTrack(a.selectedItem,0);a._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;if(this.keyboardNavigation){this.addHandler(this.host,"keydown",function(h){if(!a._activeAnimation()){var g=a._selectedItem;var k=a.selectionTracker;var l=a.getContentAt(g);if(b(h.target).ischildof(l)){return true}switch(h.keyCode){case 37:if(a.rtl){a.next()}else{a.previous()}return false;case 39:if(a.rtl){a.previous()}else{a.next()}return false;case 36:a.first();return false;case 35:a.last();return false;case 27:if(a._tabCaptured){a._cancelClick=true;a._uncapture(null,a.selectedItem);a._tabCaptured=false}break}a.selectionTracker=k}return true})}},_addScrollHandlers:function(){var a=this;this.addHandler(this._leftArrow,"mousedown",function(){a._startScrollRepeat(true,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mousedown",function(){a._startScrollRepeat(false,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(b(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this);this.addHandler(b(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(d){var a=d.data;if(!a._scrollTimeout){return}clearTimeout(a._scrollTimeout)},_mouseUpScrollDocumentHandler:function(d){var a=d.data;clearTimeout(a._scrollTimeout)},_mouseUpDragDocumentHandler:function(d){var a=d.data;if(a._tabCaptured&&a._dragStarted){a._uncapture(d)}a._tabCaptured=false},_addReorderHandlers:function(){var a=this;this.addHandler(b(document),"mousemove.tab"+this.element.id,this._moveElement,this);this.addHandler(b(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){var h=this.length();while(h){h--;this._addEventListenerAt(h)}if(this.keyboardNavigation){this._addKeyboardHandlers()}if(this.scrollable){this._addScrollHandlers()}if(this.reorder&&!this._isTouchDevice){this._addReorderHandlers()}var k=this;try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var l=function(c){if(k._tabCaptured){k._cancelClick=true;k._uncapture(null,k.selectedItem);k._tabCaptured=false}};var g=null;if(window.parent&&document.referrer){g=document.referrer}if(g&&g.indexOf(document.location.host)!=-1){if(window.top.document){this.addHandler(b(window.top.document),"mouseup",l)}}}}}catch(a){}},focus:function(){try{this.host.focus()}catch(a){}},_getFocusedItem:function(n,o){var k=this.length();while(k){k--;var l=this._titleList[k],m=parseInt(l.outerWidth(true)),p=parseInt(l.offset().left),q=parseInt(this._unorderedList.offset().left),a=parseInt(this.host.offset().left),s=p;if((s<=n&&s+m>=n)&&(l!==this._capturedElement)&&(!this._titleList[k].locked)&&(this._titleList[k].disabled!==true)){return k}}return -1},_uncapture:function(f){var g=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left");this._dragStarted=false;this._tabCaptured=false;var a=this._indexOf(this._capturedElement);if(!this._capturedElement){return}switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0);break}if(f){var h=this._getFocusedItem(f.clientX,f.clientY)}if(h===-1||!f){this._capturedElement.css("left",0)}else{this._raiseEvent(10,{item:a,dropIndex:h});this._reorderItems(h,a)}b.each(this._titleList,function(){this.css("position","static")});this._reorderHeaderElements();this._unorderedList.css({position:"relative",top:"0px"});this._prepareTabs();if(h===-1||!f){this._selectedItem=a;this._moveSelectionTrack(a,0);this._addSelectStyle(this._selectedItem,true)}else{this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this._selectedItem,true)}if(document.selection){document.selection.clear()}this._unorderedList.css("left",this._unorderedListLeftBackup);this.selectionTracker=g},_reorderItems:function(h,a){var g=this._titleList[this.selectedItem];var f=this._contentList[a];if(typeof this._capturedElement==="undefined"){this._capturedElement=this._titleList[a]}this._titleList[a].remove();if(a<h){this._titleList[a].insertAfter(this._titleList[h])}else{this._titleList[a].insertBefore(this._titleList[h])}this._reorderElementArrays(h,a);this._getSelectedItem(g);this._removeEventHandlers();this._addEventHandlers()},_reorderElementArrays:function(k,a){var h=this._titleList[this.selectedItem];var g=this._contentList[a];if(a<k){for(var l=a;l<=k;l++){this._titleList[l]=this._titleList[l+1];this._contentList[l]=this._contentList[l+1]}this._contentList[k]=g;this._titleList[k]=this._capturedElement}else{for(var l=a;l>=k;l--){this._titleList[l]=this._titleList[l-1];this._contentList[l]=this._contentList[l-1]}this._contentList[k]=g;this._titleList[k]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(d){var a=this.length();while(a){a--;if(this._titleList[a]===d){this._selectedItem=this.selectedItem=a;break}}},_moveElement:function(d,a){var a=d.data;if(a._tabCaptured){if(document.selection){document.selection.clear()}if(!a._dragStarted){unorderedListLeft=-parseInt(a._unorderedList.css("left"),10);if(d.clientX+unorderedListLeft>a._startX+3||d.clientX+unorderedListLeft<a._startX-3){a._prepareTabForDragging();a._dragStarted=true}}else{a._performDrag(d);clearTimeout(a._scrollTimeout)}}},_performDrag:function(d){var a=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._capturedElement.css("left",unorderedListLeft+d.clientX/a-this._startX/a);this._lastX=d.clientX/a;this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var h=1;if(document.body.getBoundingClientRect){var g=document.body.getBoundingClientRect();var f=g.right-g.left;var a=document.body.offsetWidth;h=Math.round((f/a)*100)/100}return h},_prepareTabForDragging:function(){this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"});this.selectedItem=this._indexOf(this._capturedElement);switch(this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")));break}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(g){var h=parseInt(this._unorderedList.css("left"));var a=this;var f=parseInt(this._capturedElement.css("left"));if(g.clientX<=this._headerWrapper.offset().left){this._scrollLeft(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-h)}else{if(g.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)){this._scrollRight(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-h)}else{this._unorderedList.stop();this._unlockAnimation("unorderedList");clearTimeout(this._scrollTimeout)}}var a=this;this._scrollTimeout=setTimeout(function(){a._dragScroll(g)},this.scrollAnimationDuration);this._lastUnorderedListPosition=h},_captureElement:function(d,a){if(!this._tabCaptured&&!this._titleList[a].locked&&this._titleList[a].disabled!==true&&!this._activeAnimation()){unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._startX=unorderedListLeft+d.clientX;this._startY=d.clientY;this._lastX=d.clientX;this._lastY=d.clientY;this._tabCaptured=true;this._capturedElement=this._titleList[a]}},_titleInteractionTrigger:function(a){if(this._headerExpandingBalance>0){this._removeOppositeBorder()}if(this._selectedItem!==a){this.select(this._titleList[a],"toggle");this._titleList[a].collapsed=false;if(!this.collapsible){if(this.height!=="auto"){this._contentWrapper.css("visibility","visible")}else{this._contentWrapper.css("display","block")}}}else{if(this.collapsible){if(this.isCollapsed){this.expand()}else{this.collapse()}}}},collapse:function(){var d=this._selectedItem,a=this;this.isCollapsed=true;if(a.height!=="auto"){a._contentWrapper.css("visibility","hidden")}else{a._contentWrapper.hide()}a._raiseEvent(13,{item:d});if(this.position=="top"){a._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed"));a.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{a._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));a.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},expand:function(){var d=this._selectedItem,a=this;this.isCollapsed=false;this._select(d,a.contentTransitionDuration,null,false,true);if(a.height!=="auto"){a._contentWrapper.css("visibility","visible")}else{a._contentWrapper.show()}a._raiseEvent(14,{item:d});if(this.position=="top"){a._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed"));a.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{a._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));a.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},_addSelectHandler:function(d){var a=this;this.addHandler(this._titleList[d],"selectstart",function(c){return false});this.addHandler(this._titleList[d],this.toggleMode,function(c){return function(){a._raiseEvent("15",{item:c});if(!a._tabCaptured&&!a._cancelClick){a._titleInteractionTrigger(c)}return true}}(d))},_addDragDropHandlers:function(d){var a=this;this.addHandler(this._titleList[d],"mousedown",function(c){a._captureElement(c,d);return false});this.addHandler(this._titleList[d],"mouseup",function(c){if(a._tabCaptured&&a._dragStarted){a._cancelClick=true;a._uncapture(c,d)}else{a._cancelClick=false}a._tabCaptured=false;return false})},_removeHoverStates:function(){var a=this;b.each(this._titleList,function(){this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-top"));this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(f){var a=this;var e=this._titleList[f];this.addHandler(e,"mouseenter",function(c){if(f!=a._selectedItem){if(a.position=="top"){e.addClass(a.toThemeProperty("jqx-tabs-title-hover-top"))}else{e.addClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))}e.addClass(a.toThemeProperty("jqx-fill-state-hover"));if(a.showCloseButtons){var d=e.children(0).children(a.toThemeProperty(".jqx-tabs-close-button",true));d.addClass(a.toThemeProperty("jqx-tabs-close-button-hover",true))}}});this.addHandler(e,"mouseleave",function(c){if(f!=a._selectedItem){if(a.position=="top"){e.removeClass(a.toThemeProperty("jqx-tabs-title-hover-top"))}else{e.removeClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))}e.removeClass(a.toThemeProperty("jqx-fill-state-hover"));if(a.showCloseButtons){var d=e.children(0).children(a.toThemeProperty(".jqx-tabs-close-button",true));d.removeClass(a.toThemeProperty("jqx-tabs-close-button-hover",true))}}})},_addEventListenerAt:function(e){var f=this;if(this._titleList[e].disabled){return}if(this.reorder&&!this._isTouchDevice){this._addDragDropHandlers(e)}this._addSelectHandler(e);if(this.enabledHover){this._addHoverHandlers(e)}var a=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",true));this.removeHandler(a,"click");this.addHandler(a,"click",function(c){f.removeAt(e);return false})},_removeEventHandlers:function(){var a=this;var d=this.length();while(d){d--;this._removeEventListenerAt(d)}if(this.scrollable){this.removeHandler(this._leftArrow,"mousedown");this.removeHandler(this._rightArrow,"mousedown")}this.removeHandler(b(document),"mousemove.tab"+this.element.id,this._moveElement);this.removeHandler(b(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler);this.removeHandler(b(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler);this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){var f=this;this.removeHandler(this._titleList[e],this.toggleMode);this.removeHandler(this._titleList[e],"mouseenter");this.removeHandler(this._titleList[e],"mouseleave");this.removeHandler(this._titleList[e],"mousedown");this.removeHandler(this._titleList[e],"mouseup");var a=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));this.removeHandler(a,"click")},_moveSelectionTrack:function(n,x,y){var a=this;if(n==-1){return}if(this._titleList.length==0){return}if(n>=this._titleList.length){return}if(this.selectionTracker&&this._selectionTracker){this._selectionTracker.stop();this._unlockAnimation("selectionTracker");if(y===undefined){var s=parseInt(this._titleList[n].position().left);if(!isNaN(parseInt(this._unorderedList.css("left")))){s+=parseInt(this._unorderedList.css("left"))}if(!isNaN(parseInt(this._unorderedList.css("margin-left")))){s+=parseInt(this._unorderedList.css("margin-left"))}if(!isNaN(parseInt(this._titleList[n].css("margin-left")))){s+=parseInt(this._titleList[n].css("margin-left"))}if(!isNaN(parseInt(this._titleList[n].css("margin-right")))){}}else{var s=y}var t=0;var v=0;if(this.position==="top"){t=parseInt(this._headerWrapper.height())-parseInt(this._titleList[n].outerHeight());if(!this.autoHeight){v+=parseInt(this._titleList[n].css("margin-top"))}}this._lockAnimation("selectionTracker");var o=parseInt(this._titleList[n].css("padding-left"))+parseInt(this._titleList[n].css("padding-right"));var u=this.position=="top"?0:1;var p=parseInt(this._headerWrapper.css("padding-top"));var q=parseInt(this._titleList[n].css("padding-top"))+parseInt(this._titleList[n].css("padding-bottom"));this._selectionTracker.css("visibility","visible");this._moveSelectionTrackerContainer.css("visibility","visible");var w=parseInt(this._titleList[n].css("margin-top"));if(isNaN(w)){w=0}this._selectionTracker.animate({top:p+w-u,left:s+"px",height:parseInt(this._titleList[n].height()+q),width:this._titleList[n].width()+o},x,function(){a._unlockAnimation("selectionTracker");a._selectionTracker.css("visibility","hidden");a._addSelectStyle(n,true);a._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){b.jqx.utilities.resize(this.host,null,true);this.host.remove()},_switchTabs:function(a,e){if(a!==e&&!this._activeAnimation()&&!this._tabCaptured){var f=this;this._raiseEvent(7,{item:e});this._raiseEvent(6,{item:a});if(this._currentEvent){if(this._currentEvent.cancel){this._currentEvent=null;return}}this._unselect(e,null,true);this._select(a,f.contentTransitionDuration,null,true);return true}return false},_activeAnimation:function(){for(child in this._isAnimated){if(this._isAnimated.hasOwnProperty(child)){if(this._isAnimated[child]){return true}}}return false},_indexOf:function(d){var a=this.length();while(a){a--;if(this._titleList[a][0]===d[0]||this._contentList[a][0]===d[0]){return a}}return -1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration)){throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration)}if(parseInt(this.width)<0&&this.width!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(parseInt(this.height)<0&&this.height!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.animationType!=="none"&&this.animationType!=="fade"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration)){throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration)}if(this.toggleMode!=="click"&&this.toggleMode!=="dblclick"&&this.toggleMode!=="mouseenter"&&this.toggleMode!=="none"){throw new Error(this._invalidArgumentExceptions.invalidToggleMode)}if(this.position!=="top"&&this.position!=="bottom"){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(this.scrollPosition!=="left"&&this.scrollPosition!=="right"&&this.scrollPosition!=="both"){throw new Error(this._invalidArgumentExceptions.invalidScrollPosition)}if(this.scrollStep<0||isNaN(this.scrollStep)){throw new Error(this._invalidArgumentExceptions.invalidScrollStep)}if(this._titleList.length!==this._contentList.length||this._titleList.length==0){throw new Error(this._invalidArgumentExceptions.invalidStructure)}if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidArrowSize)}if(this.closeButtonSize<0||isNaN(this.closeButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}}catch(a){alert(a)}},_startScrollRepeat:function(e,f){var a=this;if(e){this._scrollLeft(f)}else{this._scrollRight(f)}if(this._scrollTimeout){clearTimeout(this._scrollTimeout)}this._scrollTimeout=setTimeout(function(){a._startScrollRepeat(e,a.scrollAnimationDuration)},f)},_performLayout:function(){var a=this.length();while(a){a--;if(this.position==="top"||this.position==="bottom"){if(this.rtl){this._titleList[a].css("float","right")}else{this._titleList[a].css("float","left")}}}this._fitToSize();this._performHeaderLayout();this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){var a=this;this._fitToSize();this._positionArrows(this._totalItemsWidth);if(this._totalItemsWidth>this.element.offsetWidth){this._unorderedList.width(this._totalItemsWidth)}else{this._unorderedList[0].style.width=this.element.offsetWidth-2+"px"}this._fitToSize()},_addArrows:function(){if(this._leftArrow&&this._rightArrow){this._leftArrow.remove();this._rightArrow.remove()}this._leftArrow=b('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>');this._rightArrow=b('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>');this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._headerWrapper.append(this._leftArrow);this._headerWrapper.append(this._rightArrow);this._leftArrow.width(this.arrowButtonSize);this._leftArrow.height("100%");this._rightArrow.width(this.arrowButtonSize);this._rightArrow.height("100%");this._leftArrow.css({"z-index":"30"});this._rightArrow.css({"z-index":"30"});this._leftArrow.css("display","none");this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons){return 0}var d=this.length();var a=this;b.each(this._titleList,function(){var c=this.attr("hasclosebutton");if(c!=undefined&&c!=null){if(c=="false"||c==false){d--}}});return d},_calculateTitlesSize:function(){var h=0;var m=0;var n=this.length();if(this.rtl&&b.jqx.browser.msie&&b.jqx.browser.version<8){this._measureItem=b("<span style='position: relative; visibility: hidden;'></span>");b(document.body).append(this._measureItem)}while(n){n--;if(this._measureItem){this._measureItem.html(this._titleList[n].html());this._titleList[n].width(this._measureItem.width())}this._titleList[n].css("position","static");this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");m+=parseInt(this._titleList[n].outerWidth(true));if(h<this._titleList[n].outerHeight(true)){h=Math.round(parseInt(this._titleList[n].outerHeight(true)))}if(this._titleList[n].height()==0){var k=this._titleList[n].clone();b(document.body).append(k);h=Math.round(parseInt(k.outerHeight(true)));k.remove()}var a=this._titleList[n].attr("hasCloseButton");if(a!=undefined&&a!=null){var l=false;if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[n]==1){this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");l=true}}if(!l){if(a=="true"||a==true){m+=this.closeButtonSize;this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}else{if(a=="false"||a==false){this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none")}}}}else{if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var l=false;if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[n]==1){this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");l=true}}if(!l){m+=this.closeButtonSize;this._titleList[n].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}}}this._titleList[n].height(this._titleList[n].height())}if(this._measureItem){this._measureItem.remove()}return{height:h,width:10+m}},_reorderHeaderElements:function(){if(this.selectionTracker){this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"})}this._headerWrapper.css({position:"relative",left:"0px",top:"0px"});if(this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var d=this.theme&&this.theme.indexOf("ui-")!=-1?3:0;if(d>0){this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r"));this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l"))}var a=this.scrollPosition;if(this.rtl){if(a=="left"){a="right"}if(a=="right"){a="left"}}switch(a){case"both":this._rightArrow.css("right","0px");this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px");this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-d+"px");this._leftArrow.css("right",(this.arrowButtonSize-d)+"px");break}}},_positionArrows:function(a){if(a>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable){this._needScroll=true;if(this._unorderedList.position().left===0){this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"}this._leftArrow.css("display","block");this._rightArrow.css("display","block")}else{this._needScroll=false;this._leftArrow[0].style.display="none";this._rightArrow[0].style.display="none";this._unorderedList[0].style.left="0px"}},_performHeaderLayout:function(){this._removeSelectStyle();var a=this._calculateTitlesSize();var e=a.height;var f=a.width;this._headerWrapper.height(e);this._unorderedList.height(e);if(this.headerHeight!=null&&this.headerHeight!="auto"){this._headerWrapper.height(this.headerHeight);this._unorderedList.height(this.headerHeight)}if(f>this.host.width()){this._unorderedList.width(f)}else{this._unorderedList.width(this.host.width())}if(b.jqx.browser.msie&&b.jqx.browser.version<8){this._unorderedList.css("position","relative");this._headerWrapper.css("overflow","hidden")}this._reorderHeaderElements();f=f+parseInt(this._unorderedList.css("margin-left"));this._totalItemsWidth=f;this._positionArrows(f);this._unorderedList.css({position:"relative",top:"0px"});this._verticalAlignElements();this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var x=this.length();var s=this._maxHeightTab();while(x){x--;var G=this._titleList[x].find(".jqx-tabs-titleContentWrapper"),w=G.height(),t=this._titleList[x].find(this.toThemeProperty(".jqx-tabs-close-button",true)),v=parseInt(this._titleList[x].css("padding-top"));if(!v){v=0}if(this.autoHeight){var A=this._titleList[x].outerHeight(true)-this._titleList[x].height();var F=parseInt(this._titleList[x].css("padding-top"));var a=parseInt(this._titleList[x].css("padding-bottom"));var y=parseInt(this._titleList[x].css("border-top-width"));var C=parseInt(this._titleList[x].css("border-bottom-width"));this._titleList[x].height(this._unorderedList.outerHeight()-F-a-y-C)}else{if(this.position==="top"){var z=parseInt(this._unorderedList.height())-parseInt(this._titleList[x].outerHeight(true));if(parseInt(this._titleList[x].css("margin-top"))!==z&&z!==0){this._titleList[x].css("margin-top",z)}}else{this._titleList[x].height(this._titleList[x].height())}}this._titleList[x].children(0).height("100%");var D=parseInt(this._titleList[x].height());var B=parseInt(D)/2-parseInt(t.height())/2;t.css("margin-top",1+B);var u=parseInt(D)/2-parseInt(G.height())/2;G.css("margin-top",u)}if(this.scrollable){var A=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize;var E=A/2;this._rightArrow.children(0).css("margin-top",E);this._rightArrow.height("100%");this._leftArrow.height("100%");this._leftArrow.children(0).css("margin-top",E)}},_getImageUrl:function(d){var a=d.css("background-image");a=a.replace('url("',"");a=a.replace('")',"");a=a.replace("url(","");a=a.replace(")","");return a},_fitToSize:function(){var h=false;var f=false;var g=this;if(g.width!=null&&g.width.toString().indexOf("%")!=-1){h=true}if(g.height!=null&&g.height.toString().indexOf("%")!=-1){f=true}if(h){this.host[0].style.width=this.width;this._contentWrapper[0].style.width="100%"}if(f){this.host[0].style.height=this.height;this._contentWrapper[0].style.width="100%";this._contentWrapper[0].style.height="auto";var a=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=a+"px"}if(!h){this.host.width(this.width);if(this.width!="auto"){this._contentWrapper.css("width","100%")}}if(!f){if(this.height!=="auto"){this.host.height(this.height);var a=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.height(a)}else{this._contentWrapper.css("height","auto")}}},_maxHeightTab:function(){var f=this.length();var e=-1;var a=-1;while(f){f--;if(e<parseInt(this._titleList[f].outerHeight(true))){a=f}}return a},_addSelectionTracker:function(){if(this._moveSelectionTrackerContainer){this._moveSelectionTrackerContainer.remove()}this._moveSelectionTrackerContainer=b('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var a=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=b('<div class="'+a+'">');this._selectionTracker.css("color","inherit");this._moveSelectionTrackerContainer.append(this._selectionTracker);this._headerWrapper.append(this._moveSelectionTrackerContainer);this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var e="none";var a=this._contentWrapper==undefined;this._contentWrapper=this._contentWrapper||b('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+e+';">');this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));var f=this.length();while(f){f--;this._contentList[f].addClass(this.toThemeProperty("jqx-tabs-content-element"))}if(a){this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper);this._contentWrapper=this.host.find(".jqx-tabs-content")}if(this.roundedCorners){if(this.position=="top"){this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}else{this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t"))}this.host.addClass(this.toThemeProperty("jqx-rc-all"))}},_addHeaderWrappers:function(){var a=this.length();this._unorderedList.remove();this._headerWrapper=this._headerWrapper||b('<div class="jqx-tabs-headerWrapper" style="outline: none;">');this._headerWrapper.remove();if(this.position=="top"){this._headerWrapper.prependTo(this.host)}else{this._headerWrapper.appendTo(this.host)}this._unorderedList.appendTo(this._headerWrapper);this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header"));this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header"));if(this.position=="bottom"){this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom"))}if(this.roundedCorners){if(this.position=="top"){this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}}while(a){a--;if(this._titleList[a].children(".jqx-tabs-titleWrapper").length<=0){var d=b('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');d.append(this._titleList[a].html());this._titleList[a].empty();d.appendTo(this._titleList[a])}this._titleList[a].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons();this._addHeaderWrappers();this._addContentWrapper();if(this.selectionTracker){this._addSelectionTracker()}this._addArrows()},_addCloseButton:function(n){var k=n;if(this._titleList[k].find(this.toThemeProperty(".jqx-tabs-close-button",true)).length<=0&&this._titleList[k].find(".jqx-tabs-titleContentWrapper").length<=0){var m=b('<div class="jqx-tabs-titleContentWrapper"></div>');var h="left";if(this.rtl){h="right"}m.css("float",h);m.addClass("jqx-disableselect");m.append(this._titleList[k].html());this._titleList[k].html("");var a=b('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');a.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":h,"font-size":"1px"});var l=this;this._titleList[k].append(m);this._titleList[k].append(a);if(!this.showCloseButtons){a.css("display","none")}else{if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[n]==1){a.css("display","none")}}}}},_addCloseButtons:function(){var a=this.length();while(a){a--;this._addCloseButton(a)}},_prepareTabs:function(){var d=this.length();var a=this.selectionTracker;this.selectionTracker=false;while(d){d--;if(this._selectedItem!==d){this._unselect(d,null,false)}}this._select(this._selectedItem,0,null,false);this.selectionTracker=a;if(this.initTabContent){if(!this._initTabContentList[this.selectedItem]){if(!this._hiddenParent()){this.initTabContent(this.selectedItem);this._initTabContentList[this.selectedItem]=true}}}},_isValidIndex:function(a){return(a>=0&&a<this.length())},_removeSelectStyle:function(){var d=this.length();while(d){d--;var a=null;if(this.showCloseButtons){var a=this._titleList[d].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));a.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}if(this.position=="top"){this._titleList[d].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[d].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[d].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(h,f){var g=this.length();this._removeSelectStyle();if(!this.selectionTracker||(f!=undefined&&f)){if(h>=0&&this._titleList[h]!=undefined){var a=null;if(this.showCloseButtons){var a=this._titleList[h].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[h]==1){a=null}}}this._titleList[h].removeClass(this.toThemeProperty("jqx-fill-state-hover"));if(this.position=="top"){this._titleList[h].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top"));this._titleList[h].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[h].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom"));this._titleList[h].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[h].addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(a!=null){a.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}}}},_addItemTo:function(h,n,l){if(n<h.length){var a=undefined,k=undefined;for(var m=n;m+1<h.length;m++){if(a===undefined){a=h[m+1];h[m+1]=h[m]}else{k=h[m+1];h[m+1]=a;a=k}}if(a===undefined){a=h[n]}h[n]=l;h.push(a)}else{h.push(l)}},_select:function(o,l,k,a,m){if(!this._tabCaptured){this.host.attr("hideFocus","true");var p=this;if(m==undefined){this._addSelectStyle(o)}else{this._addSelectStyle(o,m)}if(this.isCollapsed&&this.collapsible){this._contentList[o].css("display","none");this._selectCallback(o,k,a);return}switch(this.animationType){case"none":if(!p.selectionTracker){for(var n=0;n<this._contentList.length;n++){if(o!=n&&this._contentList[n].css("display")=="block"){this._contentList[n].css("display","none");b.jqx.aria(this._titleList[n],"aria-selected",false);b.jqx.aria(this._contentList[n],"aria-hidden",true)}}this._contentList[o].css("display","block");b.jqx.aria(this._titleList[o],"aria-selected",true);b.jqx.aria(this._contentList[o],"aria-hidden",false);b.jqx.aria(this,"aria-activedescendant",this._titleList[o][0].id)}else{setTimeout(function(){p._contentList[o].css("display","block");b.jqx.aria(p._titleList[o],"aria-selected",true);b.jqx.aria(p._contentList[o],"aria-hidden",false);b.jqx.aria(p,"aria-activedescendant",p._titleList[o][0].id)},this.selectionTrackerAnimationDuration)}this._selectCallback(o,k,a);break;case"fade":this._lockAnimation("contentListSelect");p._selectCallback(o,k,a);this._contentList[o].fadeIn(l,function(){p._unlockAnimation("contentListSelect");b.jqx.aria(p._titleList[o],"aria-selected",true);b.jqx.aria(p._contentList[o],"aria-hidden",false);b.jqx.aria(p,"aria-activedescendant",p._titleList[o][0].id)});break}}},_selectCallback:function(f,e,a){this._selectedItem=f;this.selectedItem=this._selectedItem;if(e){e()}if(a){this._raiseEvent(1,{item:f})}},_unselect:function(g,f,a){if(g>=0){if(!this._tabCaptured){var h=this;this._contentList[g].stop();if(this.animationType=="fade"){this._contentList[g].css("display","none");b.jqx.aria(h._titleList[g],"aria-selected",false);b.jqx.aria(h._contentList[g],"aria-hidden",true)}else{if(this.selectionTracker){setTimeout(function(){h._contentList[g].css("display","none");b.jqx.aria(h._titleList[g],"aria-selected",false);b.jqx.aria(h._contentList[g],"aria-hidden",true)},this.selectionTrackerAnimationDuration)}else{this._contentList[g].css("display","none");b.jqx.aria(h._titleList[g],"aria-selected",false);b.jqx.aria(h._contentList[g],"aria-hidden",true)}}this._unselectCallback(g,f,a);if(!this.selectionTracker){this._titleList[g].removeClass(this.toThemeProperty("jqx-tabs-title-selected"));this._titleList[g].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}}}},_unselectCallback:function(f,e,a){if(a){this._raiseEvent(8,{item:f})}if(e){e()}},disable:function(){var a=this.length();while(a){a--;this.disableAt(a)}},enable:function(){var a=this.length();while(a){a--;this.enableAt(a)}},getEnabledTabsCount:function(){var a=0;b.each(this._titleList,function(){if(!this.disabled){a++}});return a},getDisabledTabsCount:function(){var a=0;b.each(this._titleList,function(){if(this.disabled){a++}});return a},removeAt:function(p){if(this._isValidIndex(p)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var a=this,q=this._titleList[this._selectedItem],o=parseInt(this._titleList[p].outerWidth(true)),k=this.getTitleAt(p);this._unorderedList.width(parseInt(this._unorderedList.width())-o);this._titleList[p].remove();this._contentList[p].remove();var l=0;this._titleList.splice(p,1);this._contentList.splice(p,1);this._addStyles();this._performHeaderLayout();this._removeEventHandlers();this._addEventHandlers();this._raiseEvent(3,{item:p,title:k});this._isAnimated={};if(this.selectedItem>0){this._selectedItem=-1;var m=this._getPreviousIndex(this.selectedItem);this.select(m)}else{this._selectedItem=-1;var m=this._getNextIndex(this.selectedItem);this.select(m)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()){this._unorderedList.css("left",this._getArrowsDisplacement())}if(parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var n=(this.enableScrollAnimation)?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList");this._unorderedList.animate({left:0},n,function(){a._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||this._titleList[a].disabled===undefined){if(this.selectedItem==a){var d=this.next();if(!d){d=this.previous()}}this._titleList[a].disabled=true;this.removeHandler(this._titleList[a],this.toggleMode);if(this.enabledHover){this._titleList[a].off("mouseenter").off("mouseleave")}this._removeEventListenerAt(a);this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(5,{item:a})}},enableAt:function(a){if(this._titleList[a].disabled){this._titleList[a].disabled=false;this._addEventListenerAt(a);this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(4,{item:a})}},addAt:function(m,h,l){if(m>=0||m<=this.length()){this._removeHoverStates();var a=b("<li>"+h+"</li>");var k=b("<div>"+l+"</div>");a.addClass(this.toThemeProperty("jqx-tabs-title"));a.addClass(this.toThemeProperty("jqx-item"));k.addClass(this.toThemeProperty("jqx-tabs-content-element"));if(this.position=="bottom"){a.addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}var n=false;if(this._titleList.length==0){this._unorderedList.append(a)}else{if(m<this.length()&&m>=0){this._titleList[m].before(a)}else{this._titleList[this.length()-1].after(a)}}k.appendTo(this._contentWrapper);this._addItemTo(this._titleList,m,a);this._addItemTo(this._contentList,m,k);if(this._selectedItem>m){this._selectedItem++}this._switchTabs(m,this._selectedItem);this._selectedItem=m;if(this.showCloseButtons&&this._titleList.length>0){this._addCloseButton(m)}this._uiRefresh(n);this._raiseEvent(2,{item:m});this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(d,a){this.addAt(0,d,a)},addLast:function(d,a){this.addAt(this.length(),d,a)},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this._selectedItem}this.select(a);return this._selectedItem},select:function(h,a){if(typeof(h)==="object"){h=this._indexOf(h)}var f=h>=0&&h<this._titleList.length?this._titleList[h].attr("canselect"):true;if(f==undefined||f=="true"||f==true){if(h!==this._selectedItem&&this._isValidIndex(h)){if(!this._activeAnimation()&&!this._titleList[h].disabled){var g=this._switchTabs(h,this._selectedItem);if(g){this.ensureVisible(h)}}}}},previous:function(d){var a=this._selectedItem;if(d!=undefined&&!isNaN(d)){a=d}while(a>0&&a<this._titleList.length){a--;if(!this._titleList[a].disabled){this.select(a);return true}}return false},_getPreviousIndex:function(d){if(d!=undefined&&!isNaN(d)){var a=d;while(d>0&&d<=this._titleList.length){d--;if(!this._titleList[d].disabled){return d;break}}return a}else{return 0}},_getNextIndex:function(d){if(d!=undefined&&!isNaN(d)){var a=d;while(d>=0&&d<this._titleList.length){if(!this._titleList[d].disabled){return d;break}d++}return a}else{return 0}},next:function(d){var a=this._selectedItem;if(d!=undefined&&!isNaN(d)){a=d}while(a>=0&&a<this._titleList.length-1){a++;if(!this._titleList[a].disabled){this.select(a);return true}}return false},first:function(){var a=0;if(this._titleList[a].disabled){this.next(a)}else{this.select(a)}},last:function(){var a=this._titleList.length-1;if(this._titleList[a].disabled){this.previous(a)}else{this.select(a)}},length:function(){return this._titleList.length},lockAt:function(a){if(this._isValidIndex(a)&&(!this._titleList[a].locked||this._titleList[a].locked===undefined)){this._titleList[a].locked=true;this._raiseEvent(11,{item:a})}},unlockAt:function(a){if(this._isValidIndex(a)&&this._titleList[a].locked){this._titleList[a].locked=false;this._raiseEvent(12,{item:a})}},lockAll:function(){var a=this.length();while(a){a--;this.lockAt(a)}},unlockAll:function(){var a=this.length();while(a){a--;this.unlockAt(a)}},showCloseButtonAt:function(d){if(this._isValidIndex(d)){if(!this.showCloseButtons){this.showCloseButtons=true;this.updatetabsheader()}var a=this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",true));a.css("display","block");if(!this.hiddenCloseButtons){this.hiddenCloseButtons=new Array()}this.hiddenCloseButtons[d]=0}},hideCloseButtonAt:function(d){if(this._isValidIndex(d)){var a=this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",true));a.css("display","none");if(!this.hiddenCloseButtons){this.hiddenCloseButtons=new Array()}this.hiddenCloseButtons[d]=1}},hideAllCloseButtons:function(){var a=this.length();while(a){a--;this.hideCloseButtonAt(a)}},showAllCloseButtons:function(){var a=this.length();while(a){a--;this.showCloseButtonAt(a)}},getTitleAt:function(a){if(this._titleList[a]){return this._titleList[a].text()}return null},getContentAt:function(a){if(this._contentList[a]){return this._contentList[a]}return null},setTitleAt:function(a,d){if(this._titleList[a]){this._titleList[a].text(d);if(this.showCloseButtons){this._addCloseButton(a);this._removeEventHandlers();this._addEventHandlers()}this.render();this.refresh()}},setContentAt:function(a,d){if(this._contentList[a]){this._contentList[a].html(d)}},ensureVisible:function(s){var a=this;if(s==undefined||s==-1||s==null){s=this.selectedItem}if(!this._isValidIndex(s)){return false}var l=parseInt(this._titleList[s].position().left)+parseInt(this._unorderedList.css("margin-left"));var p=parseInt(this._unorderedList.css("left"));var m=parseInt(this._headerWrapper.outerWidth(true));var q=parseInt(this._titleList[s].outerWidth(true));var n=p-this._getArrowsDisplacement();var u=m-this._getArrowsDisplacement()-n;var o,t;if(l<-n){o=-l+this._getArrowsDisplacement();t=this._getArrowsDisplacement()}else{if(l+q>u-this._getArrowsDisplacement()){o=-l+m-q-((this.scrollable)?(2*this.arrowButtonSize-this._getArrowsDisplacement()):0);t=m-q-this._getArrowsDisplacement()}else{this._moveSelectionTrack(s,this.selectionTrackerAnimationDuration);return true}}this._lockAnimation("unorderedList");this._unorderedList.animate({left:o},this.scrollAnimationDuration,function(){a._unlockAnimation("unorderedList");a._moveSelectionTrack(a._selectedItem,0);return true});this._moveSelectionTrack(s,this.selectionTrackerAnimationDuration,t);return true},isVisibleAt:function(s){var a=this;if(s==undefined||s==-1||s==null){s=this.selectedItem}if(!this._isValidIndex(s)){return false}var l=parseInt(this._titleList[s].position().left)+parseInt(this._unorderedList.css("margin-left"));var p=parseInt(this._unorderedList.css("left"));var m=parseInt(this._headerWrapper.outerWidth(true));var q=parseInt(this._titleList[s].outerWidth(true));var n=p-this._getArrowsDisplacement();var u=m-this._getArrowsDisplacement()-n;var o,t;if(l<-n){return false}else{if(l+q>u){return false}else{return true}}return true},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){if(this._isAnimated){this._isAnimated[a]=true}},_unlockAnimation:function(a){if(this._isAnimated){this._isAnimated[a]=false}},propertyChangedHandler:function(a,h,f,g){this._validateProperties();switch(h){case"touchMode":if(g){a.enabledHover=false;a.keyboardNavigation=false}break;case"width":case"height":a._performResize();return;case"disabled":if(g){this.disable()}else{this.enable()}return;case"showCloseButtons":if(g){this.showAllCloseButtons()}else{this.hideAllCloseButtons()}this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);return;case"selectedItem":if(this._isValidIndex(g)){this.select(g)}return;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":if(g){this._refresh();this.select(this._selectedItem)}else{if(this._selectionTracker!=null){this._selectionTracker.remove()}}return;case"scrollable":if(g){this._refresh();this.select(this._selectedItem)}else{this._leftArrow.remove();this._rightArrow.remove();this._performHeaderLayout()}return;case"autoHeight":this._performHeaderLayout();return;case"theme":b.jqx.utilities.setTheme(f,g,this.host);return}this._unorderedList.css("left","0px");this._refresh();this.select(this._selectedItem);this._addSelectStyle(this._selectedItem,true)}})}(jQuery));(function(f){f.jqx.jqxWidget("jqxWindow","",{});f.extend(f.jqx._jqxWindow.prototype,{defineInstance:function(){this.height="auto";this.width=200;this.minHeight=50;this.maxHeight=600;this.minWidth=50;this.maxWidth=800;this.showCloseButton=true;this.disabled=false;this.autoOpen=true;this.keyboardCloseKey="esc";this.title="";this.content="";this.draggable=true;this.resizable=true;this.animationType="fade";this.closeAnimationDuration=250;this.showAnimationDuration=250;this.isModal=false;this.position="center";this.closeButtonSize=16;this.closeButtonAction="hide";this.modalOpacity=0.3;this.dragArea=null;this.okButton=null;this.cancelButton=null;this.dialogResult={OK:false,Cancel:false,None:true};this.collapsed=false;this.showCollapseButton=false;this.collapseAnimationDuration=150;this.collapseButtonSize=16;this.rtl=false;this.keyboardNavigation=true;this.headerHeight=null;this._events=["created","closed","moving","moved","open","collapse","expand","open","close","resize"];this.initContent=null;this.enableResize=true;this.restricter=null;this.closing=null;this._invalidArgumentExceptions={invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"};this._enableResizeCollapseBackup;this._enableResizeBackup;this._heightBeforeCollapse;this._minHeightBeforeCollapse;this._mouseDown=false;this._isDragging=false;this._rightContentWrapper=null;this._leftContentWrapper=null;this._headerContentWrapper=null;this._closeButton=null;this._collapseButton=null;this._title=null;this._content=null;this._mousePosition={};this._windowPosition={};this._modalBackground=null;this._SCROLL_WIDTH=21;this._visible=true;this.modalBackgroundZIndex=12990;this.modalZIndex=18000;this.zIndex=9001;this._touchEvents={mousedown:f.jqx.mobile.getTouchEventName("touchstart"),mouseup:f.jqx.mobile.getTouchEventName("touchend"),mousemove:f.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:f.jqx.mobile.getTouchEventName("touchstart")}},createInstance:function(){this.host.attr("role","dialog");this.host.removeAttr("data-bind");this.host.detach();f(document.body).append(this.host);var b=this;var a=function(){var p=parseInt(f(b.restricter).css("padding-top"));var q=parseInt(f(b.restricter).css("padding-left"));var o=parseInt(f(b.restricter).css("padding-bottom"));var d=parseInt(f(b.restricter).css("padding-right"));var n=f(b.restricter).coord();b.dragArea={left:q+n.left,top:p+n.top,width:1+d+f(b.restricter).width(),height:1+o+f(b.restricter).height()}};if(this.restricter){a()}if(this.restricter){this.addHandler(f(window),"resize."+this.element.id,function(){a()});this.addHandler(f(window),"orientationchanged."+this.element.id,function(){a()});this.addHandler(f(window),"orientationchange."+this.element.id,function(){a()})}this._isTouchDevice=f.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();if(!this.autoOpen){this.host.css("display","none")}if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}if(!this.isModal){this._fixWindowZIndex()}this._setStartupSettings();this._positionWindow();this._raiseEvent(0);if(this.autoOpen){this._performLayout();var c=this;if(c.initContent){c.initContent();c._contentInitialized=true}if(this.isModal){this._fixWindowZIndex("modal-show")}this._raiseEvent(7);this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){if(this.disabled){this.disable()}if(this.collapsed){this.collapsed=false;this.collapse(0)}if(!this.autoOpen){this.hide(null,0.001,true);this._visible=false}if(this.title!==null&&this.title!==""){this.setTitle(this.title)}if(this.content!==null&&this.content!==""){this.setContent(this.content)}this.title=this._headerContentWrapper.html();this.content=this._content.html()},_fixWindowZIndex:function(b){var t=f.data(document.body,"jqxwindows-list")||[],a=this.zIndex,p;if(!this.isModal){if(this._indexOf(this.host,t)<0){t.push(this.host)}f.data(document.body,"jqxwindows-list",t);if(t.length>1){var s=t[t.length-2];a=parseInt(s.css("z-index"),10)+1}}else{if(t){t=this._removeFromArray(this.host,t);f.data(document.body,"jqxwindows-list",t)}var q=f.data(document.body,"jqxwindows-modallist");if(!q){if(b=="modal-show"){var d=new Array();d.push(this.host);f.data(document.body,"jqxwindows-modallist",d);q=d}else{f.data(document.body,"jqxwindows-modallist",new Array());q=new Array()}}else{if(b=="modal-show"){q.push(this.host)}else{var o=q.indexOf(this.host);if(o!=-1){q.splice(o,1)}}}a=this.modalZIndex;var c=this;f.each(q,function(k){if(this.data()){if(this.data().jqxWindow){var l=this.data().jqxWindow.instance;l._modalBackground.css("z-index",a);l.host.css("z-index",a+1);a+=2}}});f.data(document.body,"jqxwindow-modal",this.host);return}this.host.css("z-index",a);this._sortByStyle("z-index",t)},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize)}if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}}catch(a){alert(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1){throw new Error(this._invalidArgumentExceptions.invalidModalOpacity)}if(this.isModal&&!this._singleModalCheck()){throw new Error(this._invalidArgumentExceptions.invalidIsModal)}},_validateSize:function(){this._validateSizeLimits();if(this.height!=="auto"&&isNaN(parseInt(this.height))){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.width!=="auto"&&isNaN(parseInt(this.width))){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(this.height!=="auto"&&this.height<this.minHeight){this.height=this.minHeight}if(this.width<this.minWidth){this.width=this.minWidth}if(this.height!=="auto"&&this.height>this.maxHeight){this.height=this.maxHeight}if(this.width>this.maxWidth){this.width=this.maxWidth}if(this.dragArea===null){return}if(this.dragArea&&((this.dragArea.height!==null&&this.host.height()>this.dragArea.height)||(parseInt(this.height,10)>this.dragArea.height))||(this.dragArea.width!==null&&this.width>this.dragArea.width)||(this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)){}},_validateSizeLimits:function(){if(this.maxHeight==null){this.maxHeight=9999}if(this.minWidth==null){this.minWidth=0}if(this.maxWidth==null){this.maxWidth=9999}if(this.minHeight==null){this.minHeight=0}if(isNaN(parseInt(this.minHeight))){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(isNaN(parseInt(this.maxHeight))){throw new Error(this._invalidArgumentExceptions.invalidMaxHeight)}if(isNaN(parseInt(this.minWidth))){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}if(isNaN(parseInt(this.maxWidth))){throw new Error(this._invalidArgumentExceptions.invalidMaxWidth)}if(this.minHeight>this.maxHeight){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(this.minWidth>this.maxWidth){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}},_validateAnimationProperties:function(){if(this.animationType!=="fade"&&this.animationType!=="slide"&&this.animationType!=="combined"&&this.animationType!=="none"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration)}if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)}},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&this.keyCode!=="esc"){throw new Error(this._invalidArgumentExceptions.invalidKeyCode)}if(this.dragArea!==null&&(typeof this.dragArea.width==="undefined"||typeof this.dragArea.height==="undefined"||typeof this.dragArea.left==="undefined"||typeof this.dragArea.top==="undefined")){throw new Error(this._invalidArgumentExceptions.invalidDragArea)}if(!this.dialogResult||(!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)){throw new Error(this._invalidArgumentExceptions.invalidDialogResult)}if(this.closeButtonAction!=="hide"&&this.closeButtonAction!=="close"){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)}},_singleModalCheck:function(){var b=f.data(document.body,"jqxwindows-list")||[],a=b.length;while(a){a-=1;if(f(b[a].attr("id")).length>0){if(f(b[a].attr("id")).jqxWindow("isModal")){return false}}}return true},_createStructure:function(){var a=this.host.children("DIV");if(a.length===1){this._header=f("<div>"+this.host.attr("caption")+"</div>");this.host.prepend(this._header);this.host.attr("caption","");this._content=f(a[0])}else{if(a.length===2){this._header=f(a[0]);this._content=f(a[1])}else{throw new Error("Invalid structure!")}}},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize()},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal()},_addHeaderWrapper:function(){if(!this._headerContentWrapper){this._header.wrapInner('<div style="float:left;"></div>');this._headerContentWrapper=this._header.children(0);if(this.headerHeight!==null){this._header.height(this.headerHeight)}}},_addCloseButton:function(){if(!this._closeButton){this._closeButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');this._closeButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');this._closeButtonWrapper.append(this._closeButton);this._header.append(this._closeButtonWrapper)}},_addCollapseButton:function(){if(!this._collapseButton){this._collapseButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>');this._collapseButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>');this._collapseButtonWrapper.append(this._collapseButton);this._header.append(this._collapseButtonWrapper)}},_removeModal:function(){if(!this.isModal&&typeof this._modalBackground==="object"&&this._modalBackground!==null&&this._modalBackground.length>=1){f("."+this.toThemeProperty("jqx-window-modal")).remove();this._modalBackground=null}},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var a=f.data(document.body,"jqxwindows-list");if(a){this._removeFromArray(this.host,a);f.data(document.body,"jqxwindows-list",a)}this._modalBackground=f("<div></div>");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();f(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return false});var b=this;var c=function(l,d){var m=f(l).parents().get();for(j=0;j<m.length;j++){if(f(m[j]).is(d)){return true}}return false};this.addHandler(this._modalBackground,"mouseup",function(d){b._stopResizing(b);d.preventDefault()});this.addHandler(this._modalBackground,"mousedown",function(d){var k=b._getTabbables();if(k.length>0){k[0].focus(1);setTimeout(function(){k[0].focus(1)},100)}d.preventDefault();return false});this.addHandler(f(document),"keydown.window"+this.element.id,function(n){if(n.keyCode!==9){return}var q=f.data(document.body,"jqxwindows-modallist");if(q.length>1){if(q[q.length-1][0]!=b.element){return}}var o=b._getTabbables();var d=null;var p=null;if(o.length>0){d=o[0];p=o[o.length-1]}if(n.target==b.element){return}if(d==null){return}if(!c(n.target,b.host)){d.focus(1);return false}if(n.target===p&&!n.shiftKey){d.focus(1);return false}else{if(n.target===d&&n.shiftKey){p.focus(1);return false}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-popup"));if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));this._content.addClass(this.toThemeProperty("jqx-rc-b"));if(!this.host.attr("tabindex")){this.element.tabIndex=0;this.host.children().css("tab-index",0)}this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");if(this.rtl){this._headerContentWrapper.css("direction","rtl");this._headerContentWrapper.css("float","right")}else{this._headerContentWrapper.css("direction","ltr");this._headerContentWrapper.css("float","left")}this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");if(this.headerHeight){this._centerElement(this._closeButtonWrapper,this._header,"y","margin");this._centerElement(this._collapseButtonWrapper,this._header,"y","margin")}},_handleHeaderButtons:function(){if(!this._closeButtonWrapper){return}if(!this.showCloseButton){this._closeButtonWrapper.css("visibility","hidden")}else{this._closeButtonWrapper.css("visibility","visible");this._closeButtonWrapper.width(this.closeButtonSize);this._closeButtonWrapper.height(this.closeButtonSize)}if(!this.showCollapseButton){this._collapseButtonWrapper.css("visibility","hidden")}else{this._collapseButtonWrapper.css("visibility","visible");this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize)}},_performHeaderCloseButtonLayout:function(){if(!this._closeButtonWrapper){return}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._closeButtonWrapper.width(this._closeButton.width());if(!this.rtl){this._closeButtonWrapper.css("margin-right",a);this._closeButtonWrapper.css("margin-left","0px")}else{this._closeButtonWrapper.css("margin-left",a);this._closeButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}else{this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""})}},_performHeaderCollapseButtonLayout:function(){if(!this._closeButtonWrapper){return}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize);if(!this.rtl){this._collapseButtonWrapper.css("margin-right",a);this._collapseButtonWrapper.css("margin-left","0px")}else{this._collapseButtonWrapper.css("margin-left",a);this._collapseButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._collapseButtonWrapper.css({position:"absolute",right:(this.showCloseButton)?this._closeButton.outerWidth(true):0,left:""})}else{this._collapseButtonWrapper.css({position:"absolute",left:(this.showCloseButton)?this._closeButton.outerWidth(true):0,right:""})}this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")},_performWidgetLayout:function(){var a;if(this.width!=="auto"){this.host.css("width",this.width)}if(!this.collapsed){if(this.height!=="auto"){this.host.height(this.height)}else{this.host.height(this.host.height())}this.host.css("min-height",this.minHeight)}this._setChildrenLayout();a=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});if(!a){this._setChildrenLayout()}},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(true)-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth(true)-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight(true)-(this._content.outerHeight(true)-this._content.height()))},_validateMinSize:function(){var c=true;if(this.minHeight<this._header.height()){this.minHeight=this._header.height();c=false}var a=this._header.children(0).outerWidth(true),d=this._header.children(1).outerWidth(true),b=a+d;if(this.minWidth<100){this.minWidth=Math.min(b,100);c=false}return c},_centerElement:function(a,c,d,b){if(typeof c.left==="number"&&typeof c.top==="number"&&typeof c.height==="number"&&typeof c.width==="number"){this._centerElementInArea(a,c,d)}else{this._centerElementInParent(a,c,d,b)}},_centerElementInParent:function(v,c,s,u){s=s.toLowerCase();if(u){u+="-"}else{u=""}if(s.indexOf("y")>=0){var t=v.outerHeight(true),p=c.height(),q=(Math.max(0,p-t))/2;v.css(u+"top",q+"px")}if(s.indexOf("x")>=0){var a=v.outerWidth(true);var b=c.width();var d=(Math.max(0,b-a))/2;v.css(u+"left",d+"px")}},_centerElementInArea:function(s,t,p){p=p.toLowerCase();if(p.indexOf("y")>=0){var q=s.outerHeight(true);var d=t.height;var o=(d-q)/2;s.css("top",o+t.top+"px")}if(p.indexOf("x")>=0){var a=s.outerWidth(true);var b=t.width;var c=(b-a)/2;s.css("left",c+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(this._header,"focus");this.removeHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(c,a){var b=this._indexOf(c,a);if(b>=0){return a.splice(this._indexOf(c,a),1)}else{return a}},_sortByStyle:function(p,b){for(var d=0;d<b.length;d++){for(var o=b.length-1;o>d;o--){var a=b[o],c=b[o-1],n;if(parseInt(a.css(p),10)<parseInt(c.css(p),10)){n=a;b[o]=c;b[o-1]=n}}}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]}else{return a}},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(b){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){var a=this;this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(true)-b._header.width()));b.width=a.args.width;b.height=a.args.height},_addHeaderHoverEffect:function(){var a=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){f(this).addClass(a.toThemeProperty("jqx-window-header-hover"))});this.addHandler(this._header,this._getEvent("mouseleave"),function(){f(this).removeClass(a.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){if(this.okButton){this.addHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"})}if(this.cancelButton){this.addHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})}},_documentResizeHandlers:function(){var a=this;if(this.isModal){this.addHandler(f(window),"resize.window"+this.element.id,function(){if(typeof a._modalBackground==="object"&&a._modalBackground!==null){if(a.isOpen()){a._modalBackground.hide()}if(!a.restricter){a._modalBackground.width(a._getDocumentSize().width);a._modalBackground.height(a._getDocumentSize().height)}else{a._modalBackground.css("left",a.dragArea.left);a._modalBackground.css("top",a.dragArea.top);a._modalBackground.width(a.dragArea.width);a._modalBackground.height(a.dragArea.height)}if(a.isOpen()){a._modalBackground.show()}}})}},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result);b.closeWindow()},_setDialogResult:function(a){this.dialogResult.OK=false;this.dialogResult.None=false;this.dialogResult.Cancel=false;a=a.toLowerCase();switch(a){case"ok":this.dialogResult.OK=true;break;case"cancel":this.dialogResult.Cancel=true;break;default:this.dialogResult.None=true}},_getDocumentSize:function(){var c=f.jqx.browser.msie&&f.jqx.browser.version<9;var b=c?4:0;var a=b;if(document.body.scrollHeight>document.body.clientHeight&&c){b=this._SCROLL_WIDTH}if(document.body.scrollWidth>document.body.clientWidth&&c){a=this._SCROLL_WIDTH}return{width:f(document).width()-b,height:f(document).height()-a}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){this._modalBackground.fadeTo(0,this.modalOpacity);this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex});if(!this.autoOpen){this._modalBackground.css("display","none")}}},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){if(!a.isModal){a.bringToFront()}})},_indexOf:function(b,a){for(var c=0;c<a.length;c++){if(a[c][0]===b[0]){return c}}return -1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(b){return a._closeWindow(b)});if(this.keyboardCloseKey!=="none"){if(typeof this.keyboardCloseKey!=="number"&&this.keyboardCloseKey.toLowerCase()==="esc"){this.keyboardCloseKey=27}}this.addHandler(this.host,"keydown",function(b){if(b.keyCode===a.keyboardCloseKey&&a.keyboardCloseKey!=null&&a.keyboardCloseKey!="none"){a._closeWindow(b)}else{a._handleKeys(b)}},{self:this});this.addHandler(this.host,"keyup",function(k){if(!a.keyboardNavigation){return}if(a._moved){var b=a.host.coord();var c=b.left;var d=b.top;a._raiseEvent(3,c,d,c,d);a._moved=false}})},_handleKeys:function(w){if(!this.keyboardNavigation){return}if(!this._headerFocused){return}if(f(document.activeElement).ischildof(this._content)){return}var x=w.ctrlKey;var c=w.keyCode;var q=this.host.coord();var s=q.left;var d=q.top;var v=this._getDraggingArea();var u=this.host.width();var b=this.host.height();var a=true;var t=10;switch(c){case 37:if(!x){if(this.draggable){if(s-t>=0){this.move(s-t,d)}}}else{if(this.resizable){this.resize(u-t,b)}}a=false;break;case 38:if(!x){if(this.draggable){if(d-t>=0){this.move(s,d-t)}}}else{if(this.resizable){this.resize(u,b-t)}}a=false;break;case 39:if(!x){if(this.draggable){if(s+u+t<=v.width){this.move(s+t,d)}}}else{if(this.resizable){this.resize(u+t,b)}}a=false;break;case 40:if(!x){if(this.draggable){if(d+b+t<=v.height){this.move(s,d+t)}}}else{if(this.resizable){this.resize(u,b+t)}}a=false;break}if(!a){if(w.preventDefault){w.preventDefault()}if(w.stopPropagation){w.stopPropagation()}}return a},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){if(!a.collapsed){a.collapse()}else{a.expand()}})},_closeWindow:function(a){this.closeWindow();return false},_addHeaderCursorHandlers:function(a){if(a.resizeArea&&a.resizable&&!a.collapsed){a._header.css("cursor",a._resizeWrapper.css("cursor"));return}else{if(a.draggable){a._header.css("cursor","move");return}}a._header.css("cursor","default");if(a._resizeWrapper&&a._resizeWrapper.length>0){a._resizeWrapper.css("cursor","default")}},_addDragDropHandlers:function(){if(this.draggable){var d=this;this.addHandler(this.host,"focus",function(){d._headerFocused=true});this.addHandler(this.host,"blur",function(){d._headerFocused=false});this.addHandler(this._header,"focus",function(){d._headerFocused=true;return false});this.addHandler(this._header,this._getEvent("mousedown"),function(k){d._headerMouseDownHandler(d,k);return true});this.addHandler(this._header,"dragstart",function(k){if(k.preventDefault){k.preventDefault()}return false});this.addHandler(this._header,this._getEvent("mousemove"),function(k){return d._headerMouseMoveHandler(d,k)});this.addHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(k){return d._dragHandler(d,k)});this.addHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(k){return d._dropHandler(d,k)});try{if(document.referrer!=""||window.frameElement){var a=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){a=document.referrer}}if(a&&a.indexOf(document.location.host)!=-1){var b=function(k){d._dropHandler(d,k)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",b,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",b)}}}}}catch(c){}}},_headerMouseDownHandler:function(d,c){if(!d.isModal){d.bringToFront()}if(d._resizeDirection==null){var b=f.jqx.mobile.getTouches(c);var a=b[0];var k=f.jqx.position(c);d._mousePosition.x=k.left;d._mousePosition.y=k.top;d._mouseDown=true;d._isDragging=false}},_headerMouseMoveHandler:function(n,c){if(n._mouseDown&&!n._isDragging){var b=f.jqx.mobile.getTouches(c);var a=b[0];var d=a.pageX,m=a.pageY;var o=f.jqx.position(c);d=o.left;m=o.top;if((d+3<n._mousePosition.x||d-3>n._mousePosition.x)||(m+3<n._mousePosition.y||m-3>n._mousePosition.y)){n._isDragging=true;n._mousePosition={x:d,y:m};n._windowPosition={x:n.host.coord().left,y:n.host.coord().top};f(document.body).addClass(n.toThemeProperty("jqx-disableselect"))}if(n._isTouchDevice){c.preventDefault();return true}return false}if(n._isDragging){if(n._isTouchDevice){c.preventDefault();return true}return false}return true},_dropHandler:function(m,b){var n=true;if(m._isDragging&&!m.isResizing&&!m._resizeDirection){var o=parseInt(m.host.css("left"),10),a=parseInt(m.host.css("top"),10),c=(m._isTouchDevice)?0:b.pageX,d=(m._isTouchDevice)?0:b.pageY;m.enableResize=m._enableResizeBackup;m._enableResizeBackup="undefined";m._raiseEvent(3,o,a,c,d);n=false;if(b.preventDefault!="undefined"){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!="undefined"){b.stopPropagation()}}m._isDragging=false;m._mouseDown=false;f(document.body).removeClass(m.toThemeProperty("jqx-disableselect"));return n},_dragHandler:function(b,w){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var c=(b._isTouchDevice)?w.originalEvent.which:w.which;if(typeof b._enableResizeBackup==="undefined"){b._enableResizeBackup=b.enableResize}b.enableResize=false;if(c===0&&f.jqx.browser.msie&&f.jqx.browser.version<8){return b._dropHandler(b,w)}var s=f.jqx.mobile.getTouches(w);var t=s[0];var d=f.jqx.position(w);var u=d.left,v=d.top,x=u-b._mousePosition.x,y=v-b._mousePosition.y,z=b._windowPosition.x+x,a=b._windowPosition.y+y;b.move(z,a,w);w.preventDefault();return false}return true},_validateCoordinates:function(o,a,c,b){var d=this._getDraggingArea();o=(o<d.left)?d.left:o;a=(a<d.top)?d.top:a;var n=this.host.outerWidth(true);var m=this.host.outerHeight(true);if(o+n>=d.width+d.left-2*b){o=d.width+d.left-n-b}if(a+m>=d.height+d.top-c){a=d.height+d.top-m-c}return{x:o,y:a}},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout()},_parseDragAreaAttributes:function(){if(this.dragArea!==null){this.dragArea.height=parseInt(this.dragArea.height,10);this.dragArea.width=parseInt(this.dragArea.width,10);this.dragArea.top=parseInt(this.dragArea.top,10);this.dragArea.left=parseInt(this.dragArea.left,10)}},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&this.position.length===2&&typeof this.position[0]==="number"&&typeof this.position[1]==="number"){this.host.css({left:this.position[0],top:this.position[1]})}else{if(this.position instanceof Object){if(this.position.left){this.host.offset(this.position)}else{if(this.position.x!==undefined&&this.position.y!=undefined){this.host.css({left:this.position.x,top:this.position.y})}else{if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord();var b=parseInt(this.host.css("left"));var c=parseInt(this.host.css("top"));this.host.css({left:b+a.left,top:c+a.top})}}}}else{this._positionFromLiteral()}}},_getDraggingArea:function(){var a={};a.left=((this.dragArea&&this.dragArea.left)?this.dragArea.left:0);a.top=((this.dragArea&&this.dragArea.top)?this.dragArea.top:0);a.width=((this.dragArea&&this.dragArea.width)?this.dragArea.width:this._getDocumentSize().width);a.height=((this.dragArea&&this.dragArea.height)?this.dragArea.height:this._getDocumentSize().height);return a},_positionFromLiteral:function(){if(!(this.position instanceof Array)){this.position=this.position.split(",")}var b=this.position.length,a=this._getDraggingArea();while(b){b-=1;this.position[b]=this.position[b].replace(/ /g,"");switch(this.position[b]){case"top":this.host.css("top",a.top);break;case"left":this.host.css("left",a.left);break;case"bottom":this.host.css("top",a.height-this.host.height()+a.top);break;case"right":this.host.css("left",a.left+a.width-this.host.width());break;default:if(!this.dragArea){a=f(window)}this._centerElement(this.host,a,"xy");break}}},_raiseEvent:function(b){var c=this._events[b],a=f.Event(c),d={};if(b===2||b===3){d.x=arguments[1];d.y=arguments[2];d.pageX=arguments[3];d.pageY=arguments[4]}if(c==="closed"||c==="close"){d.dialogResult=this.dialogResult}a.args=d;return this.host.trigger(a)},destroy:function(){this.removeHandler(f(window),"resize.window"+this.element.id);this._removeEventHandlers();this._destroy()},_destroy:function(){if(this.restricter){this.removeHandler(f(window),"resize."+this.element.id);this.removeHandler(f(window),"orientationchanged."+this.element.id);this.removeHandler(f(window),"orientationchange."+this.element.id)}this.host.remove();if(this._modalBackground!==null){this._modalBackground.remove()}},_toClose:function(a,b){return((a&&b[0]===this.element)||(b[0]!==this.element&&typeof b[0]==="object"))},propertyChangedHandler:function(d,c,a,b){this._validateProperties();switch(c){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh();this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case"disabled":if(b){this.disable()}else{this.disabled=true;this.enable()}break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(b);this.title=b;break;case"content":this.setContent(b);break;case"draggable":this._removeEventHandlers();this._addEventHandlers();this._initializeResize();break;case"resizable":this.enableResize=b;if(b){this._initializeResize()}else{this._removeResize()}break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":if(b){this._addDialogButtonsHandlers()}else{this.removeHandler(this.okButton)}break;case"cancelButton":if(b){this._addDialogButtonsHandlers()}else{this.removeHandler(this.cancelButton)}break;case"collapsed":if(b){if(!a){this.collapsed=false;this.collapse(0)}}else{if(a){this.collapsed=true;this.expand(0)}}case"theme":f.jqx.utilities.setTheme(a,b,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":d._performLayout();d._removeResize();d._initializeResize();return;default:return}},collapse:function(c){if(!this.collapsed&&!this.host.is(":animated")){if(this.host.css("display")=="none"){return}var k=this,b=this._header.outerHeight(true),a=parseInt(this._header.css("border-bottom-width"),10),d=parseInt(this._header.css("margin-bottom"),10),c=!isNaN(parseInt(c))?c:this.collapseAnimationDuration;if(!isNaN(a)){b-=2*a}if(!isNaN(d)){b+=d}this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",b);this.host.animate({height:b},c,function(){k.collapsed=true;k._collapseButton.addClass(k.toThemeProperty("jqx-window-collapse-button-collapsed"));k._collapseButton.addClass(k.toThemeProperty("jqx-icon-arrow-down"));k._content.css("display","none");k._raiseEvent(5);k._raiseEvent(9);f.jqx.aria(k,"aria-expanded",false)})}},expand:function(a){if(this.collapsed&&!this.host.is(":animated")){var b=this,a=!isNaN(parseInt(a))?a:this.collapseAnimationDuration;this.host.animate({height:this._heightBeforeCollapse},a,function(){b.collapsed=false;b.host.css("min-height",b._minHeightBeforeCollapse);b._collapseButton.removeClass(b.toThemeProperty("jqx-window-collapse-button-collapsed"));b._collapseButton.removeClass(b.toThemeProperty("jqx-icon-arrow-down"));b._content.css("display","block");b._raiseEvent(6);b._performWidgetLayout();b._raiseEvent(9);f.jqx.aria(b,"aria-expanded",true)})}},closeAll:function(a){var a=true;var b=f.data(document.body,"jqxwindows-list"),c=b.length,d=f.data(document.body,"jqxwindow-modal")||[];while(c){c-=1;if(this._toClose(a,b[c])){b[c].jqxWindow("closeWindow","close");b.splice(c,1)}}if(this._toClose(a,d)){d.jqxWindow("closeWindow","close");f.data(document.body,"jqxwindow-modal",[])}f.data(document.body,"jqxwindows-list",b)},setTitle:function(a){f.jqx.utilities.html(this._headerContentWrapper,a);this.title=a;this._performLayout()},setContent:function(b){this._contentInitialized=false;var c=this._content,a=false;while(!a){c.css("height","auto");c.css("width","auto");if(c.is(".jqx-window")){a=true}else{c=c.parent()}}f.jqx.utilities.html(this._content,b);this._performLayout()},disable:function(){this.disabled=true;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize()},enable:function(){if(this.disabled){this._addEventHandlers();this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled"));this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this.host.removeClass(this.toThemeProperty("jqx-window-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false;this._initializeResize()}},isOpen:function(){return this._visible},closeWindow:function(a){var b=this;a=(typeof a==="undefined")?this.closeButtonAction:a;this.hide(function(){if(a==="close"){b._destroy()}})},bringToFront:function(){var m=f.data(document.body,"jqxwindows-list");if(this.isModal){m=f.data(document.body,"jqxwindows-modallist");this._fixWindowZIndex("modal-hide");this._fixWindowZIndex("modal-show");return}var a=m[m.length-1],b=parseInt(a.css("z-index"),10),d=this._indexOf(this.host,m);for(var n=m.length-1;n>d;n-=1){var c=parseInt(m[n].css("z-index"),10)-1;m[n].css("z-index",c)}this.host.css("z-index",b);this._sortByStyle("z-index",m)},hide:function(a,b,d){if(this.closing){var c=this.closing();if(c==false){return}}b=b||this.closeAnimationDuration;switch(this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(b,function(){if(a instanceof Function){a()}});case"slide":this.host.slideUp(b,function(){if(a instanceof Function){a()}});case"combined":this.host.hide(b,function(){if(a instanceof Function){a()}})}this._visible=false;if(this.isModal){this._modalBackground.hide();this._fixWindowZIndex("modal-hide")}if(d!==true){this._raiseEvent(1);this._raiseEvent(8)}},open:function(a,b){this.show(a,b)},close:function(a,b,c){this.hide(a,b,c)},show:function(a,b){this._setDialogResult("none");b=b||this.showAnimationDuration;switch(this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(b,function(){if(a instanceof Function){a()}});break;case"slide":this.host.slideDown(b,function(){if(a instanceof Function){a()}});break;case"combined":this.host.show(b,function(){if(a instanceof Function){a()}});break}if(this.isModal){this._modalBackground.show();this._fixWindowZIndex("modal-show")}var c=this;if(!this._visible){if(b>150&&this.animationType!="none"){setTimeout(function(){if(!c._contentInitialized){if(c.initContent){c.initContent();c._contentInitialized=true}}c._raiseEvent(7);c._raiseEvent(9)},b-150)}else{if(!c._contentInitialized){if(c.initContent){c.initContent();c._contentInitialized=true}}this._raiseEvent(7);c._raiseEvent(9)}}this._visible=true;this._performLayout();var d=function(){c._content.focus()};d();setTimeout(function(){d()},100)},_getTabbables:function(){var a=this._content.find("*");var b=new Array();f.each(a,function(){if(g(this)){b[b.length]=this}});return b},move:function(a,b,z,w){var x=0,y=0,d,u,v,a=parseInt(a,10),b=parseInt(b,10);if(f.jqx.browser.msie){if(f(window).width()>f(document).width()&&!this.dragArea){y=this._SCROLL_WIDTH}if(f(window).height()<f(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea){x=this._SCROLL_WIDTH}}d=this._validateCoordinates(a,b,y,x);if(parseInt(this.host.css("left"),10)!==d.x||parseInt(this.host.css("top"),10)!==d.y){if(z){var s=f.jqx.mobile.getTouches(z);var t=s[0];var c=f.jqx.position(z);u=c.left;v=c.top}if(u==undefined){u=a}if(v==undefined){v=b}if(w!==false){this._raiseEvent(2,d.x,d.y,u,v)}}this.element.style.left=d.x+"px";this.element.style.top=d.y+"px";this._moved=true}});function h(d,m){var a=d.nodeName.toLowerCase();if("area"===a){var b=d.parentNode,c=b.name,l;if(!d.href||!c||b.nodeName.toLowerCase()!=="map"){return false}l=f("img[usemap=#"+c+"]")[0];return !!l&&e(l)}return(/input|select|textarea|button|object/.test(a)?!d.disabled:"a"==a?d.href||m:m)&&e(d)}function e(a){return !f(a).parents().andSelf().filter(function(){return f.css(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function g(a){var c=f.attr(a,"tabindex"),b=isNaN(c);return(b||c>=0)&&h(a,!b)}}(jQuery));(function(c){var d=(function(a){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=5;this.resizeTargetChildren=null;this.isResizing=false;this.resizeArea=false;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=true;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=false;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var g=b.children();this._removeResizeEventListeners();for(var h=0;h<g.length;h+=1){a(g[h]).detach();this.resizeTarget.append(g[h])}b.remove()}},initResize:function(b){this.resizeConfig();this.resizeTarget=a(b.target);this.resizeIndicatorSize=b.indicatorSize||10;this.maxWidth=b.maxWidth||100;this.minWidth=b.minWidth||1;this.maxHeight=b.maxHeight||100;this.minHeight=b.minHeight||1;this.resizeParent=b.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");if(this._cursorBackup==="auto"){this._cursorBackup="default"}},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=((3*this.resizeIndicatorSize>this.minWidth)?3*this.resizeIndicatorSize:this.minWidth);this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=((3*this.resizeIndicatorSize>this.minHeight)?3*this.resizeIndicatorSize:this.minHeight)},_parseResizeParentProperties:function(){if(this.resizeParent){this.resizeParent.left=parseInt(this.resizeParent.left,10);this.resizeParent.top=parseInt(this.resizeParent.top,10);this.resizeParent.width=parseInt(this.resizeParent.width,10);this.resizeParent.height=parseInt(this.resizeParent.height,10)}},_getChildren:function(k,n,l,b,o){this.resizeTargetChildren=a(o);this.resizeTargetChildren.toArray();var m=this.resizeTargetChildren.length;while(m){m-=1;this.resizeTargetChildren[m]=a(this.resizeTargetChildren[m])}},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.addClass("jqx-rc-all");this._resizeWrapper.css("z-index",8000)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+b);this.removeHandler(this._resizeWrapper,"mousedown.resize"+b);this.removeHandler(a(document),"mousemove.resize"+b);this.removeHandler(a(document),"mouseup.resize"+b)},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id");var l=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+b,function(e){l._resizeCursorChangeHandler(l,e)});this.addHandler(this._resizeWrapper,"mousedown.resize."+b,function(e){l._resizeMouseDownHandler(l,e)});this.addHandler(a(document),"mousemove.resize."+b,function(e){return l._resizeHandler(l,e)});this.addHandler(a(document),"mouseup.resize."+b,function(e){l._stopResizing(l,e)});try{if(document.referrer!=""||window.frameElement){var h=function(e){l._stopResizing(l,e)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",h,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",h)}}}}catch(k){}},_stopResizing:function(f,b){if(f.enableResize){if(f.isResizing){f._raiseResizeEvent(1)}f._resizeMouseDown=false;f.isResizing=false;f._resizeDirection=null;if(f.resizeTarget){f.resizeTarget.removeClass("jqx-disableselect")}}if(f._cursorBackup=="undefined"){f._cursorBackup="default"}if(f._resizeWrapper){f._resizeWrapper.css("cursor",f._cursorBackup)}},_resizeHandler:function(f,b){if(f.enableResize&&!f.collapsed){if(f.isResizing&&f._resizeDirection){if(b.which===0&&a.jqx.browser.msie&&a.jqx.browser.version<9){f._stopResizing(b)}f._performResize(b.pageX,b.pageY);return false}else{return f._resizeCaptureCursor(b.pageX,b.pageY)}}},_resizeCaptureCursor:function(b,f){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if((b+3<this._mouseResizePosition.x||b-3>this._mouseResizePosition.x)||(f+3<this._mouseResizePosition.y||f-3>this._mouseResizePosition.y)){this._changeCursor(b-parseInt(this.resizeTarget.css("left")),f-parseInt(this.resizeTarget.css("top")));this._mouseResizePosition={x:b,y:f};this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this.resizeTarget.addClass("jqx-disableselect");return false}}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){var f=this.resizeTargetChildren.length,b;while(f){f-=1;b=this.resizeTargetChildren[f];this.resizeTargetChildren[f].lastWidth=b.width();this.resizeTargetChildren[f].lastHeight=b.height()}},_performResize:function(b,h){var k=b-this._mouseResizePosition.x,l=h-this._mouseResizePosition.y;if(this._resizeDirection){this._resize(this.resizeTarget,k,l)}},_resizeCursorChangeHandler:function(f,b){if(f.enableResize&&!f.collapsed){if(!f.isResizing){f._changeCursor(b.pageX-parseInt(f.resizeTarget.css("left")),b.pageY-parseInt(f.resizeTarget.css("top")))}}},_resizeMouseDownHandler:function(f,b){if(f.enableResize){if(f._resizeDirection!==null){f._resizeMouseDown=true;f._mouseResizePosition.x=b.pageX;f._mouseResizePosition.y=b.pageY;b.preventDefault()}}},_validateResizeProperties:function(){try{if(!this.resizeTarget||this.resizeTarget.length!==1){throw new Error(this._resizeExceptions.invalidTarget)}if(this.minHeight<0||isNaN(parseInt(this.minHeight))){throw new Error(this._resizeExceptions.invalidMinHeight)}if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight))){throw new Error(this._resizeExceptions.invalidMaxHeight)}if(this.minWidth<0||isNaN(parseInt(this.minWidth))){throw new Error(this._resizeExceptions.invalidMinWidth)}if(this.maxWidth<0||isNaN(parseInt(this.maxWidth))){throw new Error(this._resizeExceptions.invalidMaxWidth)}if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize))){throw new Error(this._resizeExceptions.invalidIndicatorSize)}if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth){throw new Error(this._resizeExceptions.invalidSize)}if(this.resizeParent&&this.resizeParent.width&&this.resizeParent.height&&this.resizeParent.left&&this.resizeParent.top&&((this.resizeParent.width<this.resizeTarget.width()||this.resizeParent.width<this.maxWidth)||(this.resizeParent.height<this.resizeTarget.height()||this.resizeParent.height<this.maxHeight))){throw new Error(this._resizeExceptions.invalidSize)}}catch(b){alert(b)}},_changeCursor:function(f,b){if(this.isResizing||this._resizeMouseDown){return}this.resizeArea=true;if(f<=this.resizeIndicatorSize&&f>=0&&b<=this.resizeIndicatorSize&&b>0){this._resizeWrapper.css("cursor","nw-resize");this._resizeDirection="topleft"}else{if(b<=this.resizeIndicatorSize&&b>0&&f>=this.resizeTarget.width()-this.resizeIndicatorSize){this._resizeWrapper.css("cursor","ne-resize");this._resizeDirection="topright"}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&f<=this.resizeIndicatorSize&&f>=0){this._resizeWrapper.css("cursor","sw-resize");this._resizeDirection="bottomleft"}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&f>=this.resizeTarget.width()-this.resizeIndicatorSize&&f<this.resizeTarget.width()){this._resizeWrapper.css("cursor","se-resize");this._resizeDirection="bottomright"}else{if(f<=this.resizeIndicatorSize&&f>=0){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="left"}else{if(b<=this.resizeIndicatorSize&&b>0){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="top"}else{if(b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="bottom"}else{if(f>=this.resizeTarget.width()-this.resizeIndicatorSize&&f<this.resizeTarget.width()){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="right"}else{this._resizeWrapper.css("cursor",this._cursorBackup);this._resizeDirection=null;this.resizeArea=false}}}}}}}}},_prepareResizeMethods:function(b){this._resizeMethods=[];if(b.indexOf("left")>=0){this._resizeMethods.push(this._resizeLeft)}if(b.indexOf("top")>=0){this._resizeMethods.push(this._resizeTop)}if(b.indexOf("right")>=0){this._resizeMethods.push(this._resizeRight)}if(b.indexOf("bottom")>=0){this._resizeMethods.push(this._resizeBottom)}},_validateResize:function(k,n,b,l,m){if(b==="horizontal"||b==="both"){return this._validateWidth(k,l,m)}else{if(b==="vertical"||b==="both"){return this._validateHeight(n,l,m)}}return{result:false,fix:0}},_getParent:function(){if(this.resizeParent!==null&&this.resizeParent!=="undefined"&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left){return this.resizeParent}return{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(q,m,n){var b=0,s=2,t=false,o=q,p=this._getParent();if(a(window).width()>a(document).width()&&a.jqx.browser.msie&&p.height===a(document).height()){b=this._SCROLL_WIDTH}if(n==="bottom"&&(q+m.position().top+b+s>p.height+p.top)){return{fix:p.height-m.position().top-b-s+p.top,result:false}}if(n==="top"&&m.lastHeight-q+m.y<p.top){return{fix:q+(m.lastHeight-q+m.y)-p.top,result:false}}if(q<m.minHeight){return{fix:m.minHeight,result:false}}if(q>m.maxHeight){return{fix:m.maxHeight,result:false}}return{result:true,fix:q}},_validateWidth:function(m,n,o){var b=0,s=2,t=false,p=m,q=this._getParent();if(a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&q.width===a(document).width()){b=this._SCROLL_WIDTH}if(o==="right"&&(m+n.position().left+b+s>q.width+q.left)){return{fix:q.width-n.position().left-b-s+q.left,result:false}}if(o==="left"&&(n.lastWidth-m+n.x<q.left)){return{fix:m+(n.lastWidth-m+n.x)-q.left,result:false}}if(m<n.minWidth){return{fix:n.minWidth,result:false}}if(m>n.maxWidth){return{fix:n.maxWidth,result:false}}return{result:true,fix:m}},_resize:function(n,q,s){var b=this._resizeDirection;var m=this._resizeMethods.length;for(var o=0;o<m;o++){if(this._resizeMethods[o] instanceof Function){var p={element:n,x:q,y:s,self:this};this._resizeMethods[o](p)}}this._performResizeLayout()},resize:function(k,n){if(this.resizable){var l=k-this.host.width();var m=n-this.host.height();var b="right";if(m!=0){b="bottom"}this._resizeDirection=b;this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this._resize(this.resizeTarget,l,m);this.isResizing=false}},_setResizeChildrenSize:function(m,l){var b=this.resizeTargetChildren.length;while(b){b--;if(l==="width"){var k=this.resizeTargetChildren[b].lastWidth-(this.resizeTarget.lastWidth-m);if(k<this.resizeTarget.maxWidth&&k>0){this.resizeTargetChildren[b].width(k)}}else{var n=this.resizeTargetChildren[b].lastHeight-(this.resizeTarget.lastHeight-m);if(n<this.resizeTarget.maxHeight&&n>0){this.resizeTargetChildren[b].height(n)}}}},_resizeRight:function(g){var b=g.element.lastWidth+g.x,h=g.self._validateResize(b,0,"horizontal",g.element,"right");if(!h.result){b=h.fix}if(g.element.width()!==b){g.self._setResizeChildrenSize(b,"width");g.element.width(b);g.self._raiseResizeEvent(0)}return b},_resizeLeft:function(h){var b=h.element.lastWidth-h.x,k=h.self._validateResize(b,0,"horizontal",h.element,"left"),l=h.element.x+h.x;if(!k.result){l=h.element.x+(h.element.lastWidth-k.fix);b=k.fix;return}if(h.element.width()!==b){h.self._setResizeChildrenSize(b,"width");h.element.width(b);h.element.css("left",l);h.self._raiseResizeEvent(0)}return b},_resizeBottom:function(b){var g=b.element.lastHeight+b.y,h=b.self._validateResize(0,g,"vertical",b.element,"bottom");if(!h.result){g=h.fix}if(b.element.height()!==g){b.self._setResizeChildrenSize(g,"height");b.element.height(g);b.self._raiseResizeEvent(0)}return g},_resizeTop:function(h){var k=h.element.lastHeight-h.y,l=h.self._validateResize(0,k,"vertical",h.element,"top"),b=h.element.y+h.y;if(!l.result){b=h.element.y+(h.element.lastHeight-l.fix);k=l.fix;return}if(h.element.height()!==k){h.self._setResizeChildrenSize(k,"height");h.element.height(k);h.element.css("top",b);h.self._raiseResizeEvent(0)}return k},_raiseResizeEvent:function(l){var m=this._resizeEvents[l],k=a.Event(m),n={};n.width=parseInt(this.resizeTarget[0].style.width);n.height=parseInt(this.resizeTarget[0].style.height);k.args=n;if(l==0){var m=this._resizeEvents[2],b=a.Event(m);b.args=n;this.resizeTarget.trigger(b)}return this.resizeTarget.trigger(k)}}}(jQuery));c.extend(c.jqx._jqxWindow.prototype,d)}(jQuery));(function(c){var d=(function(){var L={},a,x,E,C,H,G,z,y;function K(m,f,e,k,l,h,g){this.hierarchy=l;this.exportFormat=h;this.filename=g;m.beginFile(g);A(m);D(m);m.endFile(g);return m.getFile()}function A(h){var e=true;c.each(x,function(){if(this.hidden){e=false;return false}});h.beginHeader(e);var f=0;for(var g in x){var k=B(g,x[g]);h.appendHeaderCell(x[g],g,k,e,f);f++}h.endHeader(e)}function D(e){e.beginBody();if(this.hierarchy){var f=function(h){for(var k=0;k<h.length;k+=1){if(h[k]!==undefined){e.beginRow(h[k].level);J(e,h[k],k,true);if(h[k].records){e.beginRows(h[k].level);f(h[k].records);e.endRows(h[k].level)}e.endRow(h[k].level)}}};f(a);e.endBody();return}for(var g=0;g<a.length;g+=1){if(a[g]!==undefined){J(e,a[g],g)}}e.endBody()}function J(f,l,n,h){var e;if(h!=true){f.beginRow()}var m=0;for(var g in x){e=v(n,g);if(e){if(e.level!=undefined){if(e.index-1>l.level&&e.index-1<e.maxLevel){m++;continue}}if(e.maxLevel!=undefined){if(e.index-1==e.maxLevel){e=c.extend({},e);e.merge=e.maxLevel-l.level-1}}}if(l.level!=undefined&&l.label!=undefined){if(this.exportFormat==="xml"||this.exportFormat==="json"){var k={};k.text="group";f.appendBodyCell(l.label,k,e,l,m,"group");break}}if(l.hasOwnProperty(g)){f.appendBodyCell(l[g],x[g],e,l,m)}else{f.appendBodyCell("",x[g],e,l,m)}m++}if(h!=true){f.endRow()}}function B(f,e){if(e.style){return E[e.style]}var g=b();if(g.length>0){return g[0].style}return null}function b(){if(!H){H=new Array();c.each(E,function(f,e){H[H.length]={name:f,style:e}})}return H}function v(f,k){var m=x[k];if(m){if(m.customCellStyles){var e=m.customCellStyles[f];if(e){return E[e]}}if(m.cellStyle){if(m.cellAltStyle){var g=f%2;if(g==0){return E[m.cellStyle]}return E[m.cellAltStyle]}return E[m.cellStyle]}else{var h=b();if(h.length>0){var g=f%(h.length-1);var l=h[g+1].style;return l}}}return null}function w(h,f,e){var g=document.createElement("input");g.name=f;g.value=h;g.type="hidden";e.appendChild(g);return g}function I(e,g,f){var h=document.createElement("textarea");h.name=g;h.value=e;f.appendChild(h);return h}function F(g,k,l,h,f){var e=document.createElement("form");w(g,"filename",e);w(k,"format",e);I(l,"content",e);if(h==undefined||h==""){if(window&&window.location.toString().indexOf("jqwidgets.com")>=0){h="http://jqwidgets.com/export_server/save-file.php"}else{h="http://jquerygrid.net/export_server/save-file.php"}}e.action=h;e.method="post";if(f){e.acceptCharset=f}document.body.appendChild(e);return e}C=function(f,l,e,g,k,h){if(!(this instanceof d)){return new d(f,l,e,k,h)}a=f;x=l;E=e;this.exportTo=function(m,o,q,p){m=m.toString().toLowerCase();var n=L[m];if(typeof n==="undefined"){throw"You can't export to "+m+" format."}return K(n,a,x,E,o,q,p)};this.exportToFile=function(n,s,t,m,q){var o=this.exportTo(n,q,n,s),p=F(s,n,o,t,m);p.submit();document.body.removeChild(p)};this.exportToLocalFile=function(m,p,o,q){var n=this.exportTo(m,o,q);document.location.href="data:application/octet-stream;filename="+p+","+encodeURIComponent(n)}};C.extend=function(f,e){if(e instanceof c.jqx.dataAdapter.DataExportModuleBase){L[f]=e}else{throw"The module "+f+" is not instance of DataExportModuleBase."}};return C}());c.jqx.dataAdapter.ArrayExporter=d})(jQuery);(function(c){var d=function(){this.formatData=function(k,l,n,a){if(l==="date"){var m="";if(typeof k==="string"){m=c.jqx.dataFormat.tryparsedate(k);k=m}if(k===""||k===null){return""}m=c.jqx.dataFormat.formatdate(k,n,a);if(m.toString()=="NaN"||m==null){return""}k=m}else{if(l==="number"||l==="float"||l==="int"||l=="integer"){if(k===""||k===null){return""}if(!isNaN(new Number(k))){var b=c.jqx.dataFormat.formatnumber(k,n,a);if(b.toString()=="NaN"){return""}else{k=b}}}else{k=k}}if(k===null){return""}return k};this.getFormat=function(a){var h=a?a.formatString:"";var b=a?a.localization:"";var g="string";g=a?a.type:"string";if(g=="number"||g=="float"){if(!h){h="f2"}}if(g=="int"||g=="integer"){if(!h){h="n0"}}if(g=="date"){if(!h){h="d"}}return{type:g,formatString:h,localization:b}};this.beginFile=function(){throw"Not implemented!"};this.beginHeader=function(){throw"Not implemented!"};this.appendHeaderCell=function(){throw"Not implemented!"};this.endHeader=function(){throw"Not implemented!"};this.beginBody=function(){throw"Not implemented!"};this.beginRow=function(){throw"Not implemented!"};this.beginRows=function(){throw"Not implemented!"};this.endRows=function(){throw"Not implemented!"};this.appendBodyCell=function(){throw"Not implemented!"};this.endRow=function(){throw"Not implemented!"};this.endBody=function(){throw"Not implemented!"};this.endFile=function(){throw"Not implemented!"};this.getFile=function(){throw"Not implemented!"}};c.jqx.dataAdapter.DataExportModuleBase=d})(jQuery);(function(g){var h=function(c){var p,m,n;var a=0;var d=this;this.beginFile=function(){p=""};this.beginHeader=function(){};this.appendHeaderCell=function(s,l,t,k,v){if(t){if(t.level!=undefined){if(v<t.maxLevel){return}else{if(v===t.maxLevel){if(k){b(s.text)}for(var u=0;u<t.maxLevel;u++){b("")}return}}}}n=k;if(k){b(s.text)}};this.endHeader=function(){this.endRow()};this.beginBody=function(){a=0};this.beginRow=function(){if((a>0)||(a==0&&n)){p+="\n"}a++};this.appendBodyCell=function(s,k,t,l,v){if(t){if(t.maxLevel!=undefined){if(v===t.maxLevel){b(s,k);for(var u=0;u<t.maxLevel-l.level-1;u++){b("",k)}return}}}b(s,k)};this.endRow=function(){p=p.substring(0,p.length-1)};this.endBody=function(){};this.endFile=function(){};this.getFile=function(){return p};function o(k,l){if(l){var q=d.getFormat(l);k=d.formatData(k,q.type,q.formatString,q.localization)}k='"'+k+'"';return k}function b(k,l){k=o(k,l);p+=k+c}};h.prototype=new g.jqx.dataAdapter.DataExportModuleBase();var f=function(){};f.prototype=new h(",");var e=function(){};e.prototype=new h("\t");g.jqx.dataAdapter.ArrayExporter.extend("csv",new f());g.jqx.dataAdapter.ArrayExporter.extend("tsv",new e())})(jQuery);(function(k){var g=function(){var b=false;var d;var c;var a=0;this.setPDF=function(){b=true};this.beginFile=function(m){if(b||m==undefined){d='<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}else{d='<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}};this.beginHeader=function(){if(b){d+="\n\t<thead><tr>"}else{d+="\n\t\t\t<thead>"}};this.appendHeaderCell=function(o,s,p,q){c=q;if(!q){return}if(b){d+='\n\t\t\t\t<th style="'+e(p)+'">'+o.text+"</th>"}else{if(p.disabled){return}if(p.merge){if(o.width){d+="\n\t\t\t\t<th colspan="+(1+p.merge)+' style="width: '+o.width+"px; "+e(p)+'">'+o.text+"</th>"}else{d+="\n\t\t\t\t<th colspan="+(1+p.merge)+' style="'+e(p)+'">'+o.text+"</th>"}}else{if(o.width){d+='\n\t\t\t\t<th style="width: '+o.width+"px; "+e(p)+'">'+o.text+"</th>"}else{d+='\n\t\t\t\t<th style="'+e(p)+'">'+o.text+"</th>"}}}};this.endHeader=function(){if(b){d+="\n\t</tr></thead>"}else{d+="\n\t\t\t</thead>"}};this.beginBody=function(){if(b){d+="\n\t<tbody>"}else{d+="\n\t\t\t<tbody>"}a=0};this.beginRow=function(){if(b){d+="\n\t<tr>"}else{d+="\n\t\t\t\t<tr>"}a++};this.appendBodyCell=function(p,s,q){var o=this.getFormat(s);if(p===""){p="&nbsp;"}if(b){if(a==1&&!c){d+='\n\t\t\t\t\t<td style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+='\n\t\t\t\t\t<td style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}else{if(q.merge){if(a==1&&!c){d+="\n\t\t\t\t\t<td colspan="+(1+q.merge)+' style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+="\n\t\t\t\t\t<td colspan="+(1+q.merge)+' style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}else{if(a==1&&!c){d+='\n\t\t\t\t\t<td style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+='\n\t\t\t\t\t<td style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}}};this.endRow=function(){if(b){d+="\n\t</tr>"}else{d+="\n\t\t\t\t</tr>"}};this.endBody=function(){if(b){d+="\n\t</tbody>"}else{d+="\n\t\t\t</tbody>"}};this.endFile=function(m){if(b||m==undefined){d+="\n</table>"}else{d+="\n\t\t</table>\n\t</body>\n</html>\n"}};this.getFile=function(){return d};function e(n){var p="";for(var o in n){if(n.hasOwnProperty(o)){if(b&&o=="font-size"){n[o]="100%"}p+=o+":"+n[o]+";"}}return p}};g.prototype=new k.jqx.dataAdapter.DataExportModuleBase();var h=function(){};h.prototype=new g();var l=function(){};l.prototype=new g();var f=new l();f.setPDF();k.jqx.dataAdapter.ArrayExporter.extend("html",new h());k.jqx.dataAdapter.ArrayExporter.extend("pdf",f)})(jQuery);(function(c){var d=function(){var v,q,z,u,A,t,p={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(f){if(f["text-align"]){var e=this.stylesMap.alignment[f["text-align"]];if(!e){e="Left"}var g='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+e+'"/>';this.style+=g}},buildBorder:function(g){if(g["border-color"]){var h="\n\t\t\t<Borders>";var e='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var l='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var k='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var f='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';h+=e;h+=l;h+=k;h+=f;h+="\n\t\t\t</Borders>";this.style+=h}},buildFont:function(g){var f=this.stylesMap.font,h="\n\t\t\t<Font ";for(var e in f){if(typeof g[e]!=="undefined"){if(e==="font-style"&&g[e].toString().toLowerCase()==="italic"){h+='ss:Italic="1" '}else{if(e==="font-weight"&&g[e].toString().toLowerCase()==="bold"){h+='ss:Bold="1" '}else{if(e==="color"){h+="ss:"+f[e]+'="'+g[e]+'" '}}}}}h+="/>";this.style+=h},buildInterior:function(h){var g=this.stylesMap.interior,e="\n\t\t\t<Interior ";var k=false;for(var f in g){if(typeof h[f]!=="undefined"){e+="ss:"+g[f]+'="'+h[f]+'" ';k=true}}if(k){e+='ss:Pattern="Solid"'}e+="/>";this.style+=e},buildFormat:function(e){if(e.dataType=="number"||e.dataType=="float"||e.dataType=="int"||e.dataType=="integer"){var f=e.formatString;if(f==""||f.indexOf("n")!=-1||f.indexOf("N")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>'}else{if(f=="f"||f=="F"||f=="D"||f.indexOf("d")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>'}else{if(f.indexOf("p")!=-1||f.indexOf("P")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>'}else{if(f.indexOf("c")!=-1||f.indexOf("C")!=-1){if(parseInt(e.currencysymbol.charCodeAt(0))==8364){this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>'}else{this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>'}}}}}}else{if(e.dataType=="date"){this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>'}}},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;this.style="";return e}};this.beginFile=function(){A={};t=0;v='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'};this.beginHeader=function(){q='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>';z=[];u=[]};this.appendHeaderCell=function(f,e,g){var h=f.width!=undefined?f.width:f.text.length*10;q+='\n\t\t\t<Column ss:Width="'+h+'"/>';z.push(f);u.push(g)};this.endHeader=function(f){if(f){this.beginRow();for(var e=0;e<z.length;e+=1){if(u[e].disabled){continue}w.call(this,z[e]["text"],null,u[e])}this.endRow()}};this.beginBody=function(){};this.beginRow=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="<Row>";return}q+="\n\t\t\t<Row>"};this.beginRows=function(e){q+="\n\t\t\t\t<Rows>"};this.appendBodyCell=function(f,h,g,e){w.call(this,f,h,g,e)};this.endRow=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="</Row>";return}q+="\n\t\t\t</Row>"};this.endRows=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="</Rows>";return}};this.endBody=function(){q+="\n\t\t</Table>"};this.endFile=function(){q+="\n\t</Worksheet>\n</Workbook>";v+="\n\t</Styles>"};this.getFile=function(){return v+q};function w(h,e,k,f){var l="String";var g=this.getFormat(e);if(h!=null&&h.toString().substring(0,2)=="AG"){h=h.toString().substring(2);l="String"}else{if(g.type=="date"){h=this.formatData(h,g.type,g.formatString,g.localization);if(h===null||h===""){h="";l="String"}}if(g.type=="string"){if(h===null||h===undefined){h=""}else{if(h.toString().indexOf("&")>=0){h=h.toString().replace(/&/g,"&amp;")}if(h.toString().indexOf(">")>=0){h=h.toString().replace(/>/g,"&gt;")}if(h.toString().indexOf("<")>=0){h=h.toString().replace(/</g,"&lt;")}if(h.toString().indexOf('"')>=0){h=h.toString().replace(/"/g,"&quot;")}if(h.toString().indexOf("'")>=0){h=h.toString().replace(/'/g,"&apos;")}}}if(k.dataType=="number"||k.dataType=="float"||k.dataType=="int"||k.dataType=="integer"){l="Number";h=parseFloat(h);if(h===null||isNaN(h)||h===""){h="";l="String"}if(h&&l!="String"&&h!=""){if(e&&e.formatString&&e.formatString.indexOf("p")>=0){h=h/100}}k.currencysymbol=e.localization.currencysymbol}}var m=x(k);if(k.merge){q+='\n\t\t\t\t<Cell ss:MergeAcross="'+k.merge+'" ss:StyleID="'+m+'"><Data ss:Type="'+l+'">'+h+"</Data></Cell>"}else{q+='\n\t\t\t\t<Cell ss:StyleID="'+m+'"><Data ss:Type="'+l+'">'+h+"</Data></Cell>"}}function b(){t+=1;return"xls-style-"+t}function s(e){for(var f in A){if(a(e,A[f])&&a(A[f],e)){return f}}return undefined}function a(e,h){var f=true;for(var g in e){if(e[g]!==h[g]){f=false}}return f}function y(e,f){p.startStyle(e);p.buildAlignment(f);p.buildBorder(f);p.buildFont(f);p.buildInterior(f);p.buildFormat(f);p.closeStyle();v+=p.toString()}function x(f){if(!f){return""}var e=s(f);if(typeof e==="undefined"){e=b();A[e]=f;y(e,f)}return e}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xls",new d())})(jQuery);(function(c){var d=function(){var a,f,b;this.beginFile=function(){a='<?xml version="1.0" encoding="UTF-8" ?>';a+="\n<table>"};this.beginHeader=function(){f=[]};this.appendHeaderCell=function(h,e){f.push(e)};this.endHeader=function(){};this.beginBody=function(e,h){};this.beginRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var h=0;h<e;h++){a+="\t\t"}a+="<row>";b=0;return}}a+="\n\t<row>";b=0};this.beginRows=function(e){if(e!=undefined){a+="\n\t\t";for(var h=0;h<e;h++){a+="\t\t"}a+="<rows>";b=0;return}a+="\n\t\t<rows>"};this.appendBodyCell=function(q,v,t,e,s,o){var p=this.getFormat(v);q=this.formatData(q,p.type,p.formatString,p.localization);if(p.type=="string"){if(q.toString().indexOf("&")>=0){q=q.toString().replace(/&/g,"&amp;")}if(q.toString().indexOf(">")>=0){q=q.toString().replace(/>/g,"&gt;")}if(q.toString().indexOf("<")>=0){q=q.toString().replace(/</g,"&lt;")}if(q.toString().indexOf('"')>=0){q=q.toString().replace(/"/g,"&quot;")}if(q.toString().indexOf("'")>=0){q=q.toString().replace(/'/g,"&apos;")}}if(e.level!=undefined){if(this.hierarchy){a+="\n\t\t";for(var u=0;u<e.level;u++){a+="\t\t"}if(o===undefined){a+="<"+f[b]+">"+q+"</"+f[b]+">"}else{a+="<"+o+">"+q+"</"+o+">"}}else{if(o!=undefined){a+="\n\t\t<"+o+">"+q+"</"+o+">"}else{a+="\n\t\t<"+f[b]+">"+q+"</"+f[b]+">"}}}else{a+="\n\t\t<"+f[b]+">"+q+"</"+f[b]+">"}b++};this.endRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var h=0;h<e;h++){a+="\t\t"}a+="</row>";b=0;return}}a+="\n\t</row>";b=0};this.endRows=function(e){if(e!=undefined){a+="\n\t\t";for(var h=0;h<e;h++){a+="\t\t"}a+="</rows>";b=0;return}a+="\n\t\t</rows>"};this.endBody=function(){};this.endFile=function(){a+="\n</table>"};this.getFile=function(){return a}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xml",new d())})(jQuery);(function(x){var q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function A(a){return'"'+a.replace(q,function(c){var b=o[c];return typeof b==="string"?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"'}function z(a){return a<10?"0"+a:a}function w(a){var b;if(isFinite(a.valueOf())){b=a.getUTCFullYear()+"-"+z(a.getUTCMonth()+1)+"-"+z(a.getUTCDate())+"T"+z(a.getUTCHours())+":"+z(a.getUTCMinutes())+":"+z(a.getUTCSeconds())+'Z"'}else{b="null"}return b}function u(a){var d=a.length,c=[],b;for(b=0;b<d;b++){c.push(t(b,a)||"null")}return"["+c.join(",")+"]"}function n(a){var c=[],b,d;for(b in a){if(Object.prototype.hasOwnProperty.call(a,b)){d=t(b,a);if(d){c.push(A(b)+":"+d)}}}return"{"+c.join(",")+"}"}function s(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return w(a);case"[object Array]":return u(a)}return n(a)}function p(a,b){switch(b){case"string":return A(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function t(c,d){var a=d[c],b=typeof a;if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(c);b=typeof a}if(/(number|float|int|integer|string|boolean)/.test(b)||(!a&&b==="object")){return p(a,b)}else{return s(a)}}function v(a){if(window.JSON&&typeof window.JSON.stringify==="function"){return window.JSON.stringify(a)}return t("",{"":a})}var y=function(){var c=this;this.prepareData=function(k,g){if(g){var h=c.getFormat(g);k=c.formatData(k,h.type,h.formatString,h.localization)}return k};var f,d,b,e=[],a=0;this.beginFile=function(){d=[]};this.beginHeader=function(){};this.appendHeaderCell=function(g){};this.endHeader=function(){};this.beginBody=function(g,h){};this.beginRow=function(){if(hierarchy){e[a]={}}else{b={}}};this.beginRows=function(){e[a].rows=[];a++;e[a]={}};this.endRows=function(){a--};this.appendBodyCell=function(h,k){var g=this.prepareData(h,k);if(hierarchy){e[a][k.text]=g}else{b[k.text]=g}};this.endRow=function(){if(hierarchy){if(a==0){d.push(e[a])}else{e[a-1].rows.push(e[a])}}else{d.push(b)}};this.endBody=function(){};this.endFile=function(){f=v(d)};this.getFile=function(){return f}};y.prototype=new x.jqx.dataAdapter.DataExportModuleBase();x.jqx.dataAdapter.ArrayExporter.extend("json",new y())})(jQuery);(function(d){d.jqx.jqxWidget("jqxGrid","",{});d.extend(d.jqx._jqxGrid.prototype,{defineInstance:function(){this.disabled=false;this.width=600;this.height=400;this.pagerheight=28;this.groupsheaderheight=34;this.pagesize=10;this.pagesizeoptions=["5","10","20"];this.rowsheight=25;this.columnsheight=25;this.filterrowheight=31;this.groupindentwidth=30;this.rowdetails=false;this.enablerowdetailsindent=true;this.enablemousewheel=true;this.initrowdetails=null;this.layoutrowdetails=null;this.editable=false;this.editmode="selectedcell";this.pageable=false;this.pagermode="default";this.pagerbuttonscount=5;this.groupable=false;this.sortable=false;this.filterable=false;this.filtermode="default";this.autoshowfiltericon=true;this.showfiltercolumnbackground=true;this.showpinnedcolumnbackground=true;this.showsortcolumnbackground=true;this.altrows=false;this.altstart=1;this.altstep=1;this.showrowdetailscolumn=true;this.showtoolbar=false;this.toolbarheight=34;this.showstatusbar=false;this.statusbarheight=34;this.enableellipsis=true;this.groups=[];this.groupsrenderer=null;this.groupcolumnrenderer=null;this.groupsexpandedbydefault=false;this.pagerrenderer=null;this.touchmode="auto";this.columns=[];this.selectedrowindex=-1;this.selectedrowindexes=new Array();this.selectedcells=new Array();this.autobind=true;this.selectedcell=null;this.tableZIndex=799;this.headerZIndex=199;this.updatefilterconditions=null;this.showaggregates=false;this.showfilterrow=false;this.autorowheight=false;this.autokoupdates=true;this.handlekeyboardnavigation=null;this.showsortmenuitems=true;this.showfiltermenuitems=true;this.showgroupmenuitems=true;this.enablebrowserselection=false;this.enablekeyboarddelete=true;this.clipboard=true;this.ready=null;this.updatefilterpanel=null;this.autogeneratecolumns=false;this.rowdetailstemplate=null;this.scrollfeedback=null;this.rendertoolbar=null;this.renderstatusbar=null;this.rendered=null;this.multipleselectionbegins=null;this.columngroups=null;this.cellhover=null;this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null};this.dataview=null;this.updatedelay=null;this.autoheight=false;this.autowidth=false;this.showheader=true;this.showgroupsheader=true;this.closeablegroups=true;this.scrollbarsize=d.jqx.utilities.scrollBarSize;this.touchscrollbarsize=d.jqx.utilities.touchScrollBarSize;this.virtualmode=false;this.sort=null;this.columnsmenu=true;this.columnsresize=false;this.columnsreorder=false;this.columnsmenuwidth=15;this.autoshowcolumnsmenubutton=true;this.popupwidth="auto";this.sorttogglestates=2;this.rendergridrows=null;this.enableanimations=true;this.enabletooltips=false;this.selectionmode="singlerow";this.enablehover=true;this.loadingerrormessage="The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.";this.verticalscrollbarstep=25;this.verticalscrollbarlargestep=400;this.horizontalscrollbarstep=10;this.horizontalscrollbarlargestep=50;this.keyboardnavigation=true;this.touchModeStyle="auto";this.autoshowloadelement=true;this.showdefaultloadelement=true;this.showemptyrow=true;this.autosavestate=false;this.autoloadstate=false;this._updating=false;this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this._requiresupdate=false;this._hasOpenedMenu=false;this.scrollmode="physical";this.deferreddatafields=null;this.localization=null;this.rtl=false;this.menuitemsarray=[];this.events=["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]},createInstance:function(p){this.that=this;var q="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";this.element.innerText="";this.element.innerHTML="";if(d.jqx.utilities.scrollBarSize!=15){this.scrollbarsize=d.jqx.utilities.scrollBarSize}if(this.source){if(!this.source.dataBind){this.source=new d.jqx.dataAdapter(this.source)}var u=this.source._source.datafields;if(u&&u.length>0){this._camelCase=this.source._source.dataFields!==undefined;this.editmode=this.editmode.toLowerCase();this.selectionmode=this.selectionmode.toLowerCase()}}this.host.attr("role","grid");this.host.attr("align","left");this.element.innerHTML=q;this.host.addClass(this.toTP("jqx-grid"));this.host.addClass(this.toTP("jqx-reset"));this.host.addClass(this.toTP("jqx-rc-all"));this.host.addClass(this.toTP("jqx-widget"));this.host.addClass(this.toTP("jqx-widget-content"));this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var m=this.host.find("#verticalScrollBar"+this.element.id);var a=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal"));if(!m.jqxScrollBar){throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");return}this.editors=new Array();this.vScrollBar=m.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=a.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:false});this.pager=this.host.find("#pager");this.pager[0].id="pager"+this.element.id;this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-grid-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.statusbar=this.host.find("#statusbar");this.statusbar[0].id="statusbar"+this.element.id;this.statusbar.addClass(this.toTP("jqx-grid-statusbar"));this.statusbar.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.groupsheader=this.host.find("#groupsheader");this.groupsheader.addClass(this.toTP("jqx-grid-groups-header"));this.groupsheader.addClass(this.toTP("jqx-widget-header"));this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=d.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=d.data(this.hScrollBar[0],"jqxScrollBar").instance;this.gridtable=null;this.isNestedGrid=this.host.parent()?this.host.parent().css("z-index")==2000:false;this.touchdevice=this.isTouchDevice();if(this.localizestrings){this.localizestrings();if(this.localization!=null){this.localizestrings(this.localization,false)}}if(this.rowdetailstemplate){if(undefined==this.rowdetailstemplate.rowdetails){this.rowdetailstemplate.rowdetails="<div></div>"}if(undefined==this.rowdetailstemplate.rowdetailsheight){this.rowdetailstemplate.rowdetailsheight=200}if(undefined==this.rowdetailstemplate.rowdetailshidden){this.rowdetailstemplate.rowdetailshidden=true}}if(this.showfilterrow&&!this.filterable){throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');this.host.remove();return}if(this.autorowheight&&!this.autoheight&&!this.pageable){throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');this.host.remove();return}if(this.virtualmode&&this.rendergridrows==null){throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');this.host.remove();return}if(this.virtualmode&&!this.pageable&&this.groupable){throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');this.host.remove();return}if(this._testmodules()){return}this._builddataloadelement();this._cachedcolumns=this.columns;if(this.rowsheight!=25){this._measureElement("cell")}if(this.columnsheight!=25||this.columngroups){this._measureElement("column")}if(this.source){var u=this.source.datafields;if(u==null&&this.source._source){u=this.source._source.datafields}if(u){for(var t=0;t<this.columns.length;t++){var s=this.columns[t];if(s&&s.cellsformat&&s.cellsformat.length>2){for(var b=0;b<u.length;b++){if(u[b].name==s.datafield&&!u[b].format){u[b].format=s.cellsformat;break}}}}}}this.databind(this.source);if(this.showtoolbar){this.toolbar.css("visibility","visible")}if(this.showstatusbar){this.statusbar.css("visibility","visible")}this._arrange();if(this.pageable&&this._initpager){this._initpager()}this.tableheight=null;var o=this.that;var c=function(){if(o.content){o.content[0].scrollTop=0;o.content[0].scrollLeft=0}if(o.gridcontent){o.gridcontent[0].scrollLeft=0;o.gridcontent[0].scrollTop=0}};this.addHandler(this.content,"mousedown",function(){c()});this.addHandler(this.content,"scroll",function(g){c();return false});if(!this.showfilterrow){if(!this.showstatusbar&&!this.showtoolbar){this.host.addClass("jqx-disableselect")}this.content.addClass("jqx-disableselect")}if(this.enablebrowserselection){this.content.removeClass("jqx-disableselect");this.host.removeClass("jqx-disableselect")}this._resizeWindow();if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.hasTransform=d.jqx.utilities.hasTransform(this.host);if(this.scrollmode=="logical"){this.vScrollInstance.thumbStep=this.rowsheight;this.vScrollInstance.step=this.rowsheight}if(!d.jqx.isHidden(this.host)){if(this.filterable||this.groupable||this.sortable){this._initmenu()}}},_resizeWindow:function(){var a=this.that;if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){this._updatesizeonwindowresize=true;d.jqx.utilities.resize(this.host,function(c){var k=d(window).width();var m=d(window).height();var l=a.host.width();var b=a.host.height();if(a.autoheight){a._lastHostWidth=m}if(a._lastHostWidth!=l||a._lastHostHeight!=b){if(a.touchdevice&&a.editcell&&c!=="orientationchange"){return}a._updatesize(a._lastHostWidth!=l,a._lastHostHeight!=b)}a._lastWidth=k;a._lastHeight=m;a._lastHostWidth=l;a._lastHostHeight=b})}},_builddataloadelement:function(){if(this.dataloadelement){this.dataloadelement.remove()}this.dataloadelement=d('<div style="overflow: hidden; position: absolute;"></div>');if(this.showdefaultloadelement){var a=d('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");a.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));a.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(a)}else{this.dataloadelement.addClass(this.toTP("jqx-grid-load"))}this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement)},_measureElement:function(a){var b=d("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");b.addClass(this.toTP("jqx-widget"));d(document.body).append(b);if(a=="cell"){this._cellheight=b.height()}else{this._columnheight=b.height()}b.remove()},_measureMenuElement:function(){var a=d("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");a.addClass(this.toTP("jqx-widget"));a.addClass(this.toTP("jqx-menu"));a.addClass(this.toTP("jqx-menu-item-top"));a.addClass(this.toTP("jqx-fill-state-normal"));d(document.body).append(a);var b=a.outerHeight();a.remove();return b},_measureElementWidth:function(a){var b=d("<span style='visibility: hidden; white-space: nowrap;'>"+a+"</span>");b.addClass(this.toTP("jqx-widget"));b.addClass(this.toTP("jqx-grid"));b.addClass(this.toTP("jqx-grid-column-header"));b.addClass(this.toTP("jqx-widget-header"));d(document.body).append(b);var c=b.outerWidth()+20;b.remove();return c},_getBodyOffset:function(){var a=0;var b=0;if(d("body").css("border-top-width")!="0px"){a=parseInt(d("body").css("border-top-width"));if(isNaN(a)){a=0}}if(d("body").css("border-left-width")!="0px"){b=parseInt(d("body").css("border-left-width"));if(isNaN(b)){b=0}}return{left:b,top:a}},_testmodules:function(){var a="";var c=this.that;var o=function(){if(a.length!=""){a+=","}};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)){o();a+=" jqxmenu.js"}if(!this.host.jqxScrollBar){o();a+=" jqxscrollbar.js"}if(!this.host.jqxButton){o();a+=" jqxbuttons.js"}if(!d.jqx.dataAdapter){o();a+=" jqxdata.js"}if(this.pageable&&!this.gotopage){o();a+="jqxgrid.pager.js"}if(this.filterable&&!this.applyfilters){o();a+=" jqxgrid.filter.js"}if(this.groupable&&!this._initgroupsheader){o();a+=" jqxgrid.grouping.js"}if(this.columnsresize&&!this.autoresizecolumns){o();a+=" jqxgrid.columnsresize.js"}if(this.columnsreorder&&!this.setcolumnindex){o();a+=" jqxgrid.columnsreorder.js"}if(this.sortable&&!this.sortby){o();a+=" jqxgrid.sort.js"}if(this.editable&&!this.begincelledit){o();a+=" jqxgrid.edit.js"}if(this.showaggregates&&!this.getcolumnaggregateddata){o();a+=" jqxgrid.aggregates.js"}if(this.keyboardnavigation&&!this.selectrow){o();a+=" jqxgrid.selection.js"}if(a!=""||this.editable||this.filterable||this.pageable){var m=[];var b=function(g){switch(g){case"checkbox":if(!c.host.jqxCheckBox&&!m.checkbox){m.checkbox=true;o();a+=" jqxcheckbox.js"}break;case"numberinput":if(!c.host.jqxNumberInput&&!m.numberinput){m.numberinput=true;o();a+=" jqxnumberinput.js"}break;case"datetimeinput":if(!c.host.jqxDateTimeInput&&!m.datetimeinput){o();m.datetimeinput=true;a+=" jqxdatetimeinput.js(requires: jqxcalendar.js)"}else{if(!c.host.jqxCalendar&&!m.calendar){o();a+=" jqxcalendar.js"}}break;case"combobox":if(!c.host.jqxComboBox&&!m.combobox){o();m.combobox=true;a+=" jqxcombobox.js(requires: jqxlistbox.js)"}else{if(!c.host.jqxListBox&&!m.listbox){o();m.listbox=true;a+=" jqxlistbox.js"}}break;case"dropdownlist":if(!c.host.jqxDropDownList&&!m.dropdownlist){o();m.dropdownlist=true;a+=" jqxdropdownlist.js(requires: jqxlistbox.js)"}else{if(!c.host.jqxListBox&&!m.listbox){o();m.listbox=true;a+=" jqxlistbox.js"}}break}};if(this.filterable||this.pageable){b("dropdownlist")}for(var n=0;n<this.columns.length;n++){if(this.columns[n]==undefined){continue}var l=this.columns[n].columntype;b(l);if(this.filterable&&this.showfilterrow){var l=this.columns[n].filtertype;if(l=="checkedlist"||l=="bool"){b("checkbox")}if(l=="date"){b("datetimeinput")}}}if(a!=""){throw new Error("jqxGrid: Missing references to the following module(s): "+a);this.host.remove();return true}}return false},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25);this.focused=true}catch(b){}},hiddenParent:function(){return d.jqx.isHidden(this.host)},resize:function(a,b){this.width=a;this.height=b;this._updatesize(true,true)},_updatesize:function(a,b){if(this._loading){return}var k=this.that;k._newmax=null;var c=k.host.width();var l=k.host.height();if(!k._oldWidth){k._oldWidth=c}if(!k._oldHeight){k._oldHeight=l}if(k._resizeTimer){clearTimeout(k._resizeTimer)}var m=5;k._resizeTimer=setTimeout(function(){k.resizingGrid=true;if(d.jqx.isHidden(k.host)){return}if(k.editcell){k.endcelledit(k.editcell.row,k.editcell.column,true,true);k._oldselectedcell=null}if(y!=k._oldHeight||b==true){var x=k.groupable&&k.groups.length>0;var s=k.vScrollBar.css("visibility");if(!k.autoheight){if(k.virtualmode){k._pageviews=new Array()}if(!x&&!k.rowdetails&&!k.pageable){k._arrange();k.virtualsizeinfo=k._calculatevirtualheight();var y=Math.round(k.host.height())+2*k.rowsheight;if(parseInt(y)>=parseInt(k._oldHeight)){k.prerenderrequired=true}k._renderrows(k.virtualsizeinfo)}else{k._arrange();k.prerenderrequired=true;var y=Math.round(k.host.height())+2*k.rowsheight;realheight=k._gettableheight();var g=Math.round(y/k.rowsheight);var v=Math.max(k.dataview.totalrows,k.dataview.totalrecords);if(k.pageable){v=k.pagesize;if(k.pagesize>Math.max(k.dataview.totalrows,k.dataview.totalrecords)&&k.autoheight){v=Math.max(k.dataview.totalrows,k.dataview.totalrecords)}else{if(!k.autoheight){if(k.dataview.totalrows<k.pagesize){v=Math.max(k.dataview.totalrows,k.dataview.totalrecords)}}}}var t=v*k.rowsheight;var w=k._getpagesize();if(!k.pageable&&k.autoheight){g=v}if(k.virtualsizeinfo){k.virtualsizeinfo.visiblerecords=g}k.rendergridcontent(true,false);k._renderrows(k.virtualsizeinfo)}if(s!=k.vScrollBar.css("visibility")){k.vScrollInstance.setPosition(0);k._arrange();k._updatecolumnwidths();if(k.table){k.table.width(k.columnsheader.width())}k._updatecellwidths()}}}if(c!=k._oldWidth||a==true){var h=false;if(k.editcell&&k.editcell.editor){switch(k.editcell.columntype){case"dropdownlist":h=k.editcell.editor.jqxDropDownList("isOpened")||(k.editcell.editor.jqxDropDownList("isanimating")&&!k.editcell.editor.jqxDropDownList("ishiding"));if(h){k.editcell.editor.jqxDropDownList({openDelay:0});k.editcell.editor.jqxDropDownList("open");k.editcell.editor.jqxDropDownList({openDelay:250});return}break;case"combobox":h=k.editcell.editor.jqxComboBox("isOpened")||(k.editcell.editor.jqxComboBox("isanimating")&&!k.editcell.editor.jqxComboBox("ishiding"));if(h){k.editcell.editor.jqxComboBox({openDelay:0});k.editcell.editor.jqxComboBox("open");k.editcell.editor.jqxComboBox({openDelay:250});return}break;case"datetimeinput":if(h){h=k.editcell.editor.jqxDateTimeInput("isOpened")||(k.editcell.editor.jqxDateTimeInput("isanimating")&&!k.editcell.editor.jqxDateTimeInput("ishiding"));k.editcell.editor.jqxDateTimeInput({openDelay:0});k.editcell.editor.jqxDateTimeInput("open");k.editcell.editor.jqxDateTimeInput({openDelay:250});return}break}}var u=k.hScrollBar.css("visibility");k._arrange();k._updatecolumnwidths();if(k.table){k.table.width(k.columnsheader.width())}k._updatecellwidths();if(!(a==false&&k._oldWidth>c)){if(!b||k.dataview.rows.length==0){k._renderrows(k.virtualsizeinfo)}}if(u!=k.hScrollBar.css("visibility")){k.hScrollInstance.setPosition(0)}}k._oldWidth=c;k._oldHeight=y;k.resizingGrid=false},m)},getTouches:function(a){return d.jqx.mobile.getTouches(a)},_updateTouchScrolling:function(){var c=this.that;if(c.isTouchDevice()){c.scrollmode="logical";c.vScrollInstance.thumbStep=c.rowsheight;var a=d.jqx.mobile.getTouchEventName("touchstart");var b=d.jqx.mobile.getTouchEventName("touchend");var h=d.jqx.mobile.getTouchEventName("touchmove");c.enablehover=false;if(c.gridcontent){c.removeHandler(c.gridcontent,a+".touchScroll");c.removeHandler(c.gridcontent,h+".touchScroll");c.removeHandler(c.gridcontent,b+".touchScroll");c.removeHandler(c.gridcontent,"touchcancel.touchScroll");d.jqx.mobile.touchScroll(c.gridcontent[0],c.vScrollInstance.max,function(g,k){if(c.vScrollBar.css("visibility")=="visible"){var l=c.vScrollInstance.value;c.vScrollInstance.setPosition(l+k)}if(c.hScrollBar.css("visibility")=="visible"){var l=c.hScrollInstance.value;c.hScrollInstance.setPosition(l+g)}c.vScrollInstance.thumbCapture=true;c._lastScroll=new Date()},this.element.id,this.hScrollBar,this.vScrollBar);if(c._overlayElement){c.removeHandler(c._overlayElement,a+".touchScroll");c.removeHandler(c._overlayElement,h+".touchScroll");c.removeHandler(c._overlayElement,b+".touchScroll");c.removeHandler(c._overlayElement,"touchcancel.touchScroll");d.jqx.mobile.touchScroll(c._overlayElement[0],c.vScrollInstance.max,function(g,k){if(c.vScrollBar.css("visibility")=="visible"){var l=c.vScrollInstance.value;c.vScrollInstance.setPosition(l+k)}if(c.hScrollBar.css("visibility")=="visible"){var l=c.hScrollInstance.value;c.hScrollInstance.setPosition(l+g)}c.vScrollInstance.thumbCapture=true;c._lastScroll=new Date()},this.element.id,this.hScrollBar,this.vScrollBar);this.addHandler(this.host,a,function(){if(!c.editcell){c._overlayElement.css("visibility","visible")}else{c._overlayElement.css("visibility","hidden")}});this.addHandler(this.host,b,function(){if(!c.editcell){c._overlayElement.css("visibility","visible")}else{c._overlayElement.css("visibility","hidden")}})}}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var a=d.jqx.mobile.isTouchDevice();this.touchDevice=a;if(this.touchmode==true){if(d.jqx.browser.msie&&d.jqx.browser.version<9){this.enablehover=false;return false}a=true;d.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else{if(this.touchmode==false){a=false}}if(a&&this.touchModeStyle!=false){this.touchDevice=true;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"));this.scrollbarsize=this.touchscrollbarsize}return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(c,b){this._cellscache=new Array();if(d.jqx.dataFormat){d.jqx.dataFormat.cleardatescache()}if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(c!=null){for(var a in c){if(a.toLowerCase()!==a){c[a.toLowerCase()]=c[a]}}if(c.pagergotopagestring){this.gridlocalization.pagergotopagestring=c.pagergotopagestring}if(c.pagershowrowsstring){this.gridlocalization.pagershowrowsstring=c.pagershowrowsstring}if(c.pagerrangestring){this.gridlocalization.pagerrangestring=c.pagerrangestring}if(c.pagernextbuttonstring){this.gridlocalization.pagernextbuttonstring=c.pagernextbuttonstring}if(c.pagerpreviousbuttonstring){this.gridlocalization.pagerpreviousbuttonstring=c.pagerpreviousbuttonstring}if(c.pagerfirstbuttonstring){this.gridlocalization.pagerfirstbuttonstring=c.pagerfirstbuttonstring}if(c.pagerlastbuttonstring){this.gridlocalization.pagerlastbuttonstring=c.pagerlastbuttonstring}if(c.groupsheaderstring){this.gridlocalization.groupsheaderstring=c.groupsheaderstring}if(c.sortascendingstring){this.gridlocalization.sortascendingstring=c.sortascendingstring}if(c.sortdescendingstring){this.gridlocalization.sortdescendingstring=c.sortdescendingstring}if(c.sortremovestring){this.gridlocalization.sortremovestring=c.sortremovestring}if(c.groupbystring){this.gridlocalization.groupbystring=c.groupbystring}if(c.groupremovestring){this.gridlocalization.groupremovestring=c.groupremovestring}if(c.firstDay){this.gridlocalization.firstDay=c.firstDay}if(c.days){this.gridlocalization.days=c.days}if(c.months){this.gridlocalization.months=c.months}if(c.AM){this.gridlocalization.AM=c.AM}if(c.PM){this.gridlocalization.PM=c.PM}if(c.patterns){this.gridlocalization.patterns=c.patterns}if(c.percentsymbol){this.gridlocalization.percentsymbol=c.percentsymbol}if(c.currencysymbol){this.gridlocalization.currencysymbol=c.currencysymbol}if(c.currencysymbolposition){this.gridlocalization.currencysymbolposition=c.currencysymbolposition}if(c.decimalseparator!=undefined){this.gridlocalization.decimalseparator=c.decimalseparator}if(c.thousandsseparator!=undefined){this.gridlocalization.thousandsseparator=c.thousandsseparator}if(c.filterclearstring){this.gridlocalization.filterclearstring=c.filterclearstring}if(c.filterstring){this.gridlocalization.filterstring=c.filterstring}if(c.filtershowrowstring){this.gridlocalization.filtershowrowstring=c.filtershowrowstring}if(c.filterselectallstring){this.gridlocalization.filterselectallstring=c.filterselectallstring}if(c.filterchoosestring){this.gridlocalization.filterchoosestring=c.filterchoosestring}if(c.filterorconditionstring){this.gridlocalization.filterorconditionstring=c.filterorconditionstring}if(c.filterandconditionstring){this.gridlocalization.filterandconditionstring=c.filterandconditionstring}if(c.filterstringcomparisonoperators){this.gridlocalization.filterstringcomparisonoperators=c.filterstringcomparisonoperators}if(c.filternumericcomparisonoperators){this.gridlocalization.filternumericcomparisonoperators=c.filternumericcomparisonoperators}if(c.filterdatecomparisonoperators){this.gridlocalization.filterdatecomparisonoperators=c.filterdatecomparisonoperators}if(c.filterbooleancomparisonoperators){this.gridlocalization.filterbooleancomparisonoperators=c.filterbooleancomparisonoperators}if(c.emptydatastring){this.gridlocalization.emptydatastring=c.emptydatastring}if(c.filterselectstring){this.gridlocalization.filterselectstring=c.filterselectstring}if(c.todaystring){this.gridlocalization.todaystring=c.todaystring}if(c.clearstring){this.gridlocalization.clearstring=c.clearstring}if(c.validationstring){this.gridlocalization.validationstring=c.validationstring}if(c.loadtext){this.gridlocalization.loadtext=c.loadtext}if(b!==false){if(this._initpager){this._initpager()}if(this._initgroupsheader){this._initgroupsheader()}if(this._initmenu){this._initmenu()}this._builddataloadelement();d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none");if(this.filterable&&this.showfilterrow){if(this._updatefilterrow){for(var a in this._filterrowcache){d(this._filterrowcache[a]).remove()}this._filterrowcache=[];this._updatefilterrow()}}if(this.showaggregates&&this.refresheaggregates){this.refresheaggregates()}this._renderrows(this.virtualsizeinfo)}}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}}},_initmenu:function(){var G=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu){return}if(this.filterable){if(this._destroyfilterpanel){this._destroyfilterpanel()}}this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu.removeData();this.gridmenu.remove()}this.menuitemsarray=new Array();this.gridmenu=d('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>');this.host.append(this.gridmenu);var B=d("<ul></ul>");var Q='<div class="jqx-grid-sortasc-icon"></div>';var E=d("<li>"+Q+this.gridlocalization.sortascendingstring+"</li>");var J='<div class="jqx-grid-sortdesc-icon"></div>';var c=d("<li>"+J+this.gridlocalization.sortdescendingstring+"</li>");var L='<div class="jqx-grid-sortremove-icon"></div>';var O=d("<li>"+L+this.gridlocalization.sortremovestring+"</li>");var P='<div class="jqx-grid-groupby-icon"></div>';var H=d("<li>"+P+this.gridlocalization.groupbystring+"</li>");var T=d("<li>"+P+this.gridlocalization.groupremovestring+"</li>");var V=d('<li type="separator"></li>');var C=d('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>');var M=this.gridlocalization.sortascendingstring.length;var F=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>M){M=this.gridlocalization.sortdescendingstring.length;F=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>M){M=this.gridlocalization.sortremovestring.length;F=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){if(this.gridlocalization.groupbystring.length>M){M=this.gridlocalization.groupbystring.length;F=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>M){M=this.gridlocalization.groupremovestring.length;F=this.gridlocalization.groupremovestring}}var b=200;F=d.trim(F).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var S=d("<span>"+F+"</span>");S.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(S);b=S.outerWidth()+60;S.remove();var U=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){B.append(E);this.menuitemsarray[0]=E[0];B.append(c);this.menuitemsarray[1]=c[0];B.append(O);this.menuitemsarray[2]=O[0];U=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){B.append(H);this.menuitemsarray[3]=H[0];B.append(T);this.menuitemsarray[4]=T[0];U+=2}var D=this._measureMenuElement();var N=U*D+9;var I=true;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(this._initfilterpanel){this.menuitemsarray[5]=C[0];this.menuitemsarray[6]=C[0];B.append(V);B.append(C);N+=180;if(d.jqx.browser.msie&&d.jqx.browser.version<8){N+=20}var K=d(C).find("div:first");b+=20;this._initfilterpanel(this,K,"",b);I=false;this.removeHandler(d(document),"click.menu"+G.element.id,G._closemenuafterclick,G);this.addHandler(d(document),"click.menu"+G.element.id,G._closemenuafterclick,G)}else{throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.")}}this.gridmenu.append(B);if(d.jqx.browser.msie&&d.jqx.browser.version<8&&this.filterable){d("#listBoxfilter1"+this.element.id).css("z-index",4990);d("#listBoxfilter2"+this.element.id).css("z-index",4990);d("#listBoxfilter3"+this.element.id).css("z-index",4990);d("#gridmenu"+this.element.id).css("z-index",5000);this.addHandler(d("#gridmenu"+this.element.id),"initialized",function(){d("#menuWrappergridmenu"+G.element.id).css("z-index",4980)})}if(this.menuitemsarray[0]==undefined){N=65}this.removeHandler(this.gridmenu,"keydown");this.addHandler(this.gridmenu,"keydown",function(h){if(h.keyCode==27){G.gridmenu.jqxMenu("close")}else{if(h.keyCode==13&&G.filterable){if(G._buildfilter){var k=d(d.find("#filter1"+G.element.id)).jqxDropDownList("container").css("display")=="block";var l=d(d.find("#filter2"+G.element.id)).jqxDropDownList("container").css("display")=="block";var n=d(d.find("#filter3"+G.element.id)).jqxDropDownList("container").css("display")=="block";var g=d(d.find("#filterclearbutton"+G.element.id)).hasClass("jqx-fill-state-focus");if(g){var m=d.data(document.body,"contextmenu"+G.element.id).column;G._clearfilter(G,G.element,m);G.gridmenu.jqxMenu("close")}else{if(!k&&!l&&!n){var m=d.data(document.body,"contextmenu"+G.element.id).column;G.gridmenu.jqxMenu("close");G._buildfilter(G,C,m)}}}}}});if(this.popupwidth!="auto"){b=this.popupwidth}this.gridmenu.jqxMenu({popupZIndex:999999,width:b,height:N,autoCloseOnClick:I,autoOpenPopup:false,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});if(this.filterable){this.gridmenu.jqxMenu("_setItemProperty",C[0].id,"closeOnClick",false)}if(this.rtl){var a=this.that;d.each(B.find("li"),function(){d(this).addClass(a.toTP("jqx-rtl"))});var R=function(h){var g=h.find("div");g.css("float","right");g.css("margin-left","4px");g.css("margin-right","-4px")};R(O);R(c);R(E);R(H);R(T)}this._handlemenueevents()}else{this.columnsmenu=false}},_arrangemenu:function(){if(!this.gridmenu){this._initmenu()}var a=this.gridlocalization.sortascendingstring.length;var m=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>a){a=this.gridlocalization.sortdescendingstring.length;m=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>a){a=this.gridlocalization.sortremovestring.length;m=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader){if(this.gridlocalization.groupbystring.length>a){a=this.gridlocalization.groupbystring.length;m=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>a){a=this.gridlocalization.groupremovestring.length;m=this.gridlocalization.groupremovestring}}var l=200;m=d.trim(m).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var k=d("<span>"+m+"</span>");k.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(k);l=k.outerWidth()+60;k.remove();var c=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){c=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){c+=2}var b=c*27+3;if(this.filterable&&this.showfiltermenuitems){if(this._initfilterpanel){b+=180;l+=20;if(d.jqx.browser.msie&&d.jqx.browser.version<8){b+=20}}}if(this.menuitemsarray[0]==undefined){b=65}if(this.popupwidth!="auto"){l=this.popupwidth}this.gridmenu.jqxMenu({width:l,height:b})},_closemenuafterclick:function(v){var q=v!=null?v.data:this;var t=false;if(v.target==undefined||(v.target!=undefined&&v.target.className.indexOf==undefined)){q.gridmenu.jqxMenu("close");return}if(v.target.className.indexOf("filter")!=-1&&v.target.className.indexOf("jqx-grid-cell-filter")==-1){return}if(v.target.className.indexOf("jqx-grid-cell")!=-1){q.gridmenu.jqxMenu("close");return}if(q._hasOpenedMenu){if(d(v.target).ischildof(q.gridmenu)){return}}var w=q.host.coord();var u=q.gridmenu.coord();var o=v.pageX;var p=v.pageY;d.each(d(v.target).parents(),function(){if(this.id!=null&&this.id.indexOf&&this.id.indexOf("filter")!=-1){t=true;return false}if(this.className.indexOf&&this.className.indexOf("filter")!=-1&&this.className.indexOf("jqx-grid-cell-filter")==-1){t=true;return false}if(this.className.indexOf&&this.className.indexOf("jqx-grid-cell")!=-1){q.gridmenu.jqxMenu("close");return false}if(this.className.indexOf&&this.className.indexOf("jqx-grid-column")!=-1){q.gridmenu.jqxMenu("close");return false}});if(t){return}try{if(q.filtermode==="default"){var a=d(d.find("#filter1"+q.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;var c=new Date();if(c-a<100){return}var b=d(d.find("#filter3"+q.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(c-b<100){return}if((d(d.find("#filter3"+q.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if((d(d.find("#filter1"+q.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if((d(d.find("#filter2"+q.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if(q._hasdatefilter){if(d(".filtertext1"+q.element.id)[0].nodeName.toLowerCase()=="div"){if(d(".filtertext1"+q.element.id).jqxDateTimeInput("container").css("display")=="block"){return}if(d(".filtertext2"+q.element.id).jqxDateTimeInput("container").css("display")=="block"){return}}}}else{var a=d(d.find("#filter1"+q.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;var c=new Date();if(c-a<100){return}var b=d(d.find("#filter1"+q.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(c-b<100){return}}}catch(s){}if(o>=u.left&&o<=u.left+q.gridmenu.width()){if(p>=u.top&&p<=u.top+q.gridmenu.height()){return}}q.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var a=this.that;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(b){a._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(p){var q=p.args;for(var t=0;t<a.menuitemsarray.length;t++){var o=a.menuitemsarray[t];if(q==o){if(d(q).attr("ignoretheme")!=undefined){return}var n=d.data(document.body,"contextmenu"+a.element.id);var s=n.column;if(a.filterable){a.gridmenu.jqxMenu("close")}var b=s.displayfield;if(b==null){b=s.datafield}if(n!=null){switch(t){case 0:a.sortby(b,"ascending",null);break;case 1:a.sortby(b,"descending",null);break;case 2:a.sortby(b,null,null);break;case 3:a.addgroup(s.datafield);break;case 4:a.removegroup(s.datafield);break;case 5:var c=d(a.menuitemsarray[6]);d(c).css("display","block");break;case 7:break}}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;if(this.summaryrows){a+=this.summaryrows.length}return{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var a=this.that;this.hiddens=new Array();var b=this.hiddenboundrows;d.each(b,function(k){if(this.index!=undefined){var l=this.index;var c=a.getrowvisibleindex(k);a.hiddens[c]=this.hidden}})},_updaterowheights:function(){var a=this.that;this.heights=new Array();var b=this.heightboundrows;d.each(b,function(k){if(this.index!=undefined){var l=this.index;var c=a.getrowvisibleindex(k);a.heights[c]=this.height}})},_updaterowdetails:function(){var b=this.that;this.details=new Array();var a=this.detailboundrows;d.each(a,function(k){if(this.index!=undefined){var l=this.index;var c=b.getrowvisibleindex(k);b.details[c]=this.details}})},_getmenuitembyindex:function(a){if(a==undefined){return null}return this.menuitemsarray[a]},openmenu:function(k){if(this._openingmenu){return}this._openingmenu=true;this.closemenu();var a=this.getcolumn(k);if(!a.menu){return false}if(!this.gridmenu){this._initmenu()}var l=a.columnsmenu;d(a.element).trigger("mouseenter");var b=this;for(var c=0;c<b.columns.records.length;c++){if(b.columns.records[c].datafield!=k){d(b.columns.records[c].element).trigger("mouseleave")}}setTimeout(function(){if(d(l)[0].style.display=="block"){d(l).trigger("click")}b._openingmenu=false},200)},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.gridmenu!=null){this.gridmenu.jqxMenu("close")}var c=d.data(document.body,"contextmenu"+this.element.id);var m=16;if(c!=null&&this.autoshowcolumnsmenubutton){if(this.enableanimations){d(c.columnsmenu).animate({"margin-left":0},"fast",function(){d(c.columnsmenu).css("display","none")});var k=!this.rtl?-32:0;c.column.iconscontainer.animate({"margin-left":k},"fast")}else{d(c.columnsmenu).css("display","none");var k=!this.rtl?-32:0;c.column.iconscontainer.css("margin-left",k)}d.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=false;var a=this._getmenuitembyindex(5);if(a){var b=d(a).find("#filter1"+this.element.id);var n=d(a).find("#filter2"+this.element.id);var l=d(a).find("#filter3"+this.element.id);if(b.length>0&&this.filtermode==="default"){b.jqxDropDownList("hideListBox");n.jqxDropDownList("hideListBox");l.jqxDropDownList("hideListBox")}}}},scrolloffset:function(a,b){if(a==null||b==null||a==undefined||b==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",a);this.hScrollBar.jqxScrollBar("setPosition",b)},scrollleft:function(a){if(a==null||a==undefined){return}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.jqxScrollBar("setPosition",a)}},scrolltop:function(a){if(a==null||a==undefined){return}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar("setPosition",a)}},beginupdate:function(){this._updating=true;this._datachanged=false},endupdate:function(){this.resumeupdate()},resumeupdate:function(){this._updating=false;if(this._datachanged==true){var a=this.vScrollInstance.value;this.render(true,true,false);this._datachanged=false;if(a!=0&&a<this.vScrollInstance.max){this.scrolltop(a)}}else{this.rendergridcontent(true);this._renderrows(this.virtualsizeinfo)}if(this.showaggregates&&this.renderaggregates){this.renderaggregates()}this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){if(this.renderloadelement){this.dataloadelement.html(this.renderloadelement())}d(this.dataloadelement).css("visibility","visible");d(this.dataloadelement).css("display","block")},hideloadelement:function(){d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;if(a.focusedfilter){a.focusedfilter.focus();setTimeout(function(){a.focusedfilter.focus();if(a.focusedfilter[0].nodeName.toLowerCase()=="input"){var b=a.focusedfilter.val().length;try{if("selectionStart" in a.focusedfilter[0]){a.focusedfilter[0].setSelectionRange(b,b)}else{var h=a.focusedfilter[0].createTextRange();h.collapse(true);h.moveEnd("character",b);h.moveStart("character",b);h.select()}}catch(c){}}},10)}},databind:function(c,a){if(this.loadingstate===true){return}if(this.host.css("display")=="block"){if(this.autoshowloadelement){d(this.dataloadelement).css("visibility","visible");d(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());this._hideemptyrow()}else{d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none")}}if(!this._initgroupsheader&&this.groups.length>0){this.groups=new Array()}var k=this.that;if(c==null){c={}}if(!c.recordstartindex){c.recordstartindex=0}if(!c.recordendindex){c.recordendindex=0}if(c.loadallrecords==undefined||c.loadallrecords==null){c.loadallrecords=true}if(c.sortcomparer==undefined||c.sortcomparer==null){c.sortcomparer=null}if(c.filter==undefined||c.filter==null){c.filter=null}if(c.sort==undefined||c.sort==null){c.sort=null}if(c.data==undefined||c.data==null){c.data=null}var m=null;if(c!=null){m=c._source!=undefined?c._source.url:c.url}this.dataview=this.dataview||new d.jqx.dataview();if(d.jqx.dataview.sort){d.extend(this.dataview,new d.jqx.dataview.sort())}if(d.jqx.dataview.grouping){d.extend(this.dataview,new d.jqx.dataview.grouping())}this.dataview.suspendupdate();this.dataview.pageable=this.pageable;this.dataview.groupable=this.groupable;this.dataview.groups=this.groups;this.dataview.virtualmode=this.virtualmode;this.dataview.grid=this;this.dataview._clearcaches();if(!this.pageable&&this.virtualmode){this.loadondemand=true}if(!k.initializedcall){if(c._source){if(this.sortable){if(c._source.sortcolumn!=undefined){this.sortcolumn=c._source.sortcolumn;this.source.sortcolumn=this.sortcolumn;this.dataview.sortfield=c._source.sortcolumn;c._source.sortcolumn=null}if(c._source.sortdirection!=undefined){this.dataview.sortfielddirection=c._source.sortdirection;var b=c._source.sortdirection;if(b=="a"||b=="asc"||b=="ascending"||b==true){var l=true}else{var l=false}if(b!=null){this.sortdirection={ascending:l,descending:!l}}else{this.sortdirection={ascending:false,descending:false}}}}}if(this.pageable){if(c._source){if(c._source.pagenum!=undefined){this.dataview.pagenum=c._source.pagenum}if(c._source.pagesize!=undefined){this.pagesize=c._source.pagesize;this.dataview.pagesize=c._source.pagesize}else{this.dataview.pagesize=c._source.pagesize;if(this.dataview.pagesize==undefined){this.dataview.pagesize=this.pagesize}}}}if(this.sortable){if(c.sortcolumn){this.dataview.sortfield=c.sortcolumn}if(c.sortdirection){this.dataview.sortfielddirection=c.sortdirection}}}this._loading=true;this.dataview.update=function(h){if(!k.pageable&&k.virtualmode){k.loadondemand=true}k._loading=false;if(k.dataview.isupdating()){k.dataview.resumeupdate(false)}if(k.pageable&&k.pagerrenderer){if(k._initpager){k._initpager()}else{throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.")}}if((k.source&&k.source.sortcolumn)&&k.sortby&&!k.virtualmode){k.render();if(!k.source._source.sort){k.sortby(k.source.sortcolumn,k.source.sortdirection,k.source.sortcomparer)}k.source.sortcolumn=null}else{var s=k.vScrollInstance.value;var x=k.hScrollInstance.value;var w=k.source?k.source.datatype:"array";if(w!="local"||w!="array"){var u=k.virtualsizeinfo==null||(k.virtualsizeinfo!=null&&k.virtualsizeinfo.virtualheight==0);if(a=="cells"){var g=false;if(k.filterable&&k._initfilterpanel&&k.dataview.filters.length){g=true}if(false==h){if(!k.vScrollInstance.isScrolling()&&!k.hScrollInstance.isScrolling()){k._cellscache=new Array();k._pagescache=new Array();k._renderrows(k.virtualsizeinfo);if(k.showfilterrow&&k.filterable&&k.filterrow){k._updatelistfilters(true)}if(k.showaggregates&&k._updateaggregates){k._updateaggregates()}}if(k.sortcolumn){k.sortby(k.sortcolumn,k.dataview.sortfielddirection,k.source.sortcomparer)}if(k.autoshowloadelement){d(k.dataloadelement).css("visibility","hidden");d(k.dataloadelement).css("display","none")}if(k.virtualmode&&!k._loading){k.loadondemand=true;k._renderrows(k.virtualsizeinfo)}return}else{if(g){a="filter"}else{if(k.sortcolumn!=undefined){a="sort"}}}}if(!k.virtualmode||u||(k.virtualmode&&k.pageable)){if(k.initializedcall==true&&a=="pagechanged"){s=0;if(k.groupable&&k.groups.length>0){k._render(true,true,false,false,false);k._updatecolumnwidths();k._updatecellwidths();k._renderrows(k.virtualsizeinfo)}else{k.rendergridcontent(true);if(k.pageable&&k.updatepagerdetails){k.updatepagerdetails();if(k.autoheight){k._updatepageviews();if(k.autorowheight){k._renderrows(this.virtualsizeinfo)}}else{if(k.autorowheight){k._updatepageviews();k._renderrows(this.virtualsizeinfo)}}}}if(k.showaggregates&&k._updateaggregates){k._updateaggregates()}}else{if(a=="filter"){if(k.virtualmode){k._render(true,true,false,false,false);k._updatefocusedfilter();k._updatecolumnwidths();k._updatecellwidths();k._renderrows(k.virtualsizeinfo)}else{k._render(true,true,false,false,false)}}else{if(a=="sort"){if(k.virtualmode){k.rendergridcontent(true);if(k.showaggregates&&k._updateaggregates){k._updateaggregates()}}else{k._render(true,true,false,false,false);if(k.sortcolumn&&!k.source.sort){k.sortby(k.sortcolumn,k.dataview.sortfielddirection,k.source.sortcomparer)}}if(k.source.sort){k._updatefocusedfilter()}}else{if(a=="data"){k._render(true,true,false,false,false)}else{if(a=="state"){k._render(true,true,false,k.menuitemsarray&&k.menuitemsarray.length>0&&!k.virtualmode)}else{k._render(true,true,true,k.menuitemsarray&&k.menuitemsarray.length>0&&!k.virtualmode)}}}}}}else{if(k.virtualmode&&h==true&&!k.pageable){k._render(true,true,false,false,false);k._updatefocusedfilter();k._updatecolumnwidths();k._updatecellwidths();k._renderrows(k.virtualsizeinfo)}else{if(k.virtualmode&&!k.pageable&&h==false&&a!=undefined){k.rendergridcontent(true);if(k.showaggregates&&k._updateaggregates){k._updateaggregates()}}else{if(k.virtualmode&&k.dataview.totalrecords==0&&k.dataview.filters.length>0){k._render(true,true,true,k.menuitemsarray&&!k.virtualmode)}else{k._pagescache=new Array();k._renderrows(k.virtualsizeinfo)}}}}if(k.vScrollInstance.value!=s&&s<=k.vScrollInstance.max){k.vScrollInstance.setPosition(s)}if(k.hScrollInstance.value!=x&&x<=k.hScrollInstance.max){k.hScrollInstance.setPosition(x)}}}if(k.autoshowloadelement){d(k.dataloadelement).css("visibility","hidden");d(k.dataloadelement).css("display","none")}if(k.pageable){if(k.pagerrightbutton){k.pagerrightbutton.jqxButton({disabled:false});k.pagerleftbutton.jqxButton({disabled:false});k.pagershowrowscombo.jqxDropDownList({disabled:false})}if(k.pagerfirstbutton){k.pagerfirstbutton.jqxButton({disabled:false});k.pagerlastbutton.jqxButton({disabled:false})}}k._raiseEvent(11);if(!k.initializedcall){var v=function(){k._raiseEvent(0);k.initializedcall=true;k.isInitialized=true;if(k.ready){k.ready()}if(k.renderstatusbar){k.renderstatusbar(k.statusbar)}if(k.rendertoolbar){k.rendertoolbar(k.toolbar)}if(k.autoloadstate){if(k.loadstate){k.loadstate(null,true)}}};if(!d.jqx.isHidden(k.host)){v()}else{if(k.readyInterval){clearInterval(k.readyInterval)}k.readyInterval=setInterval(function(){if(!d.jqx.isHidden(k.host)){if(k.__isRendered){clearInterval(k.readyInterval);k.readyInterval=null;v();k._initmenu()}}},200)}if((k.width!=null&&k.width.toString().indexOf("%")!=-1)||(k.height!=null&&k.height.toString().indexOf("%")!=-1)){}if(k.host.css("visibility")=="hidden"){var t=d.jqx.browser.msie&&d.jqx.browser.version<8;if(k.vScrollBar.css("visibility")=="visible"){k.vScrollBar.css("visibility","inherit")}if(!k.autowidth){if(k.hScrollBar.css("visibility")=="visible"){k.hScrollBar.css("visibility","inherit")}}k._intervalTimer=setInterval(function(){if(k.host.css("visibility")=="visible"){k._updatesize(true);clearInterval(k._intervalTimer)}},100)}}else{k._updateTouchScrolling()}};this.dataview.databind(c);if(this.dataview.isupdating()){if(m!=undefined){this.dataview.suspend=false}else{this.dataview.resumeupdate(false)}}this._initializeRows()},scrollto:function(a,b){if(undefined!=a){this.hScrollInstance.setPosition(a)}if(undefined!=b){this.vScrollInstance.setPosition(b)}},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(q){if(this.autoheight&&!this.pageable){return true}var u=this._getpagesize();var s=Math.floor(q/u);if(!this._pageviews[s]&&!this.pageable){this._updatepageviews()}if(this.groupable&&this.groups.length>0){return true}var a=false;if(this.pageable&&this.gotopage&&!this.virtualmode){var s=Math.floor(q/u);if(this.dataview.pagenum!=s){if(this.groupable&&this.groups.length>0){return true}this.gotopage(s);a=true}}var c=this.vScrollInstance.value;var b=this._gettableheight()-this.rowsheight;var v=u*(q/u-s);v=Math.round(v);if(this._pageviews[s]){var o=this._pageviews[s].top;var p=o+v*this.rowsheight;if(this.rowdetails){for(var t=u*s;t<q;t++){if(this.details[t]){if(this.details[t].rowdetailshidden==false){p+=this.details[t].rowdetailsheight}}}}if(this.scrollmode=="deferred"){if(this.vScrollInstance.max<=p+this.rowsheight){p=this.vScrollInstance.max}}if(p<c){this.scrolltop(p);a=true}else{if(p>c+b+2){this.scrolltop(p-b);a=true}}}else{if(this.pageable){var p=v*this.rowsheight;if(this.rowdetails){for(var t=u*s;t<u*s+v;t++){if(this.details[t]&&this.details[t].rowdetailshidden==false){p+=this.details[t].rowdetailsheight}}}if(p<c||p>c+b){this.scrollto(0,p);a=true}}}return a},ensurecellvisible:function(u,y){var b=this.that;var t=this.hScrollBar.jqxScrollBar("value");var s=b.hScrollInstance.max;if(b.rtl){if(this.hScrollBar.css("visibility")!="visible"){s=0}}var a=this.ensurerowvisible(u);var x=0;if(this.columns.records){var c=t;if(this.hScrollBar.css("visibility")=="hidden"){return}var p=this.host.width();var q=0;var w=this.vScrollBar.css("visibility")=="visible"?20:0;var v=false;d.each(this.columns.records,function(){if(this.hidden){return true}if(this.datafield==y){var g=0;var h=!b.rtl?c:s-t;if(x+this.width>h+p-w){g=x+this.width-p+w;if(b.rtl){g=s-g}b.scrollleft(g);v=true}else{if(x<=h){g=x-this.width;if(b.rtl){g=s-g}b.scrollleft(g);v=true}}if(q==0){if(b.rtl){b.scrollleft(s)}else{b.scrollleft(0)}v=true}else{if(q==b.columns.records.length-1){if(b.hScrollBar.css("visibility")=="visible"){if(!b.rtl){b.scrollleft(b.hScrollBar.jqxScrollBar("max"))}else{b.scrollleft(b.hScrollBar.jqxScrollBar("min"))}v=true}}}return false}q++;x+=this.width});if(!v){b.scrollleft(c)}}return a},setrowheight:function(a,b){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==null||b==null){return false}this.heightboundrows[a]={index:a,height:b};a=this.getrowvisibleindex(a);if(a<0){return false}if(this.rows.records[a]){this.rows.records[a].height=b}else{row=new e(this,null);row.height=b;this.rows.replace(a,row)}this.heights[a]=b;this.rendergridcontent(true);return true},getrowheight:function(a){if(a==null){return null}a=this.getrowvisibleindex(a);if(a<0){return false}if(this.rows.records[a]){return this.rows.records[a].height}},setrowdetails:function(l,c,n,a){if(l==undefined||l==null||l<0){return}var m=l+"_";if(this._rowdetailscache[m]){var k=this._rowdetailscache[m].element;d(k).remove();this._rowdetailscache[m]=null}var b=this.dataview.generatekey();this.detailboundrows[l]={index:l,details:{rowdetails:c,rowdetailsheight:n,rowdetailshidden:a,key:b}};l=this.getrowvisibleindex(l);if(l<0){return false}return this._setrowdetails(l,c,n,a,b)},getcolumn:function(b){var a=null;if(this.columns.records){d.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b){a=this;return false}})}return a},_getcolumnindex:function(a){var b=-1;if(this.columns.records){d.each(this.columns.records,function(){b++;if(this.datafield==a){return false}})}return b},_getcolumnat:function(b){var a=this.columns.records[b];return a},_getprevvisiblecolumn:function(b){var c=this.that;while(b>0){b--;var a=c.getcolumnat(b);if(!a){return null}if(!a.hidden){return a}}return null},_getnextvisiblecolumn:function(b){var c=this.that;while(b<this.columns.records.length){b++;var a=c.getcolumnat(b);if(!a){return null}if(!a.hidden){return a}}return null},getcolumnat:function(b){if(!isNaN(b)){var a=this.columns.records[b];return a}return null},_getcolumn:function(b){var a=null;d.each(this._columns,function(){if(this.datafield==b||this.displayfield==b){a=this;return false}});return a},_setcolumnproperty:function(l,c,b){if(l==null||c==null||b==null){return null}c=c.toLowerCase();var k=this.getcolumn(l);if(k==null){return}var a=k[c];k[c]=b;var m=this._getcolumn(l);if(m!=null){m[c]=b}this._cellscache=new Array();switch(c){case"filteritems":if(this.filterable&&this.showfilterrow){this._updatelistfilters(true,true)}break;case"text":this.prerenderrequired=true;this._rendercolumnheaders();this._updatecellwidths();if(this._groupsheader()){if(this._initgroupsheader){this._initgroupsheader()}}this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if(c=="editable"){if(b!=a){if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,true)}if(k.columntype=="checkbox"){this.prerenderrequired=true;this.rendergridcontent(true,false);if(this.updating()){return false}}if(this.updating()){return false}this._renderrows(this.virtualsizeinfo)}}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":this.prerenderrequired=true;if(c=="pinned"){this._initializeColumns()}this.rendergridcontent(true);if(this.updating()){return false}if(c=="hidden"){this._updatecolumnwidths();this._updatecellwidths()}this._renderrows(this.virtualsizeinfo);if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}break;case"width":case"minwidth":case"maxwidth":if(this.updating()){return false}k._width=null;k._percentagewidth=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);break}},_getcolumnproperty:function(c,a){if(c==null||a==null){return null}a=a.toLowerCase();var b=this.getcolumn(c);return b[a]},setcolumnproperty:function(c,b,a){this._setcolumnproperty(c,b,a)},getcolumnproperty:function(b,a){return this._getcolumnproperty(b,a)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",true)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",false)},iscolumnvisible:function(a){return !this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",true)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",false)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(p,v,a,q,u){if(a==0){a=100}if(p==null||a==null){return false}if(u!=null){this.details[p]={rowdetails:v,rowdetailsheight:a,rowdetailshidden:q,detailskey:u}}else{var b=this.details[p]!=null?this.details[p].detailskey:null;var c={rowdetails:v,rowdetailsheight:a,rowdetailshidden:q,detailskey:b};var o=this.that;for(var s=0;s<this.detailboundrows.length;s++){if(this.detailboundrows[s]!=undefined){var t=this.detailboundrows[s];if(t.details.detailskey==b){t.details.rowdetailsheight=c.rowdetailsheight;t.details.rowdetailshidden=c.rowdetailshidden;t.details.rowdetails=c.rowdetails;break}}}this.details[p]=c}this.rendergridcontent(true);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);return true},getrowdetails:function(a){if(a==null){return false}a=this.getrowvisibleindex(a);return this._getrowdetails(a)},_getrowdetails:function(a){if(a==null){return false}if(a<0){return false}if(this.details[a]){return this.details[a]}if(this.rowdetailstemplate){return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(b){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(b==null){return false}b=this.getrowvisibleindex(b);if(b<0){return false}var a=this._getrowdetails(b);return this._setrowdetailsvisibility(b,a,false)},hiderowdetails:function(b){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}b=this.getrowvisibleindex(b);if(b<0){return false}var a=this._getrowdetails(b);return this._setrowdetailsvisibility(b,a,true)},_togglerowdetails:function(a){var k=a.visibleindex;var c=this._getrowdetails(k);if(c!=null){var l=this.vScrollInstance.value;var b=!c.rowdetailshidden;var m=this._setrowdetailsvisibility(k,c,b);if(l!==0&&this.vScrollBar.css("visibility")!=="hidden"){if(l<=this.vScrollInstance.max){this.vScrollInstance.setPosition(l)}else{this.vScrollInstance.setPosition(this.vScrollInstance.max)}}return m}return false},_setrowdetailsvisibility:function(k,c,a){if(this.rowdetailstemplate){if(!this.details){this.details=new Array()}if(!this.details[k]){this.details[k]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var b=this.dataview.generatekey();this.details[k].detailskey=b;this.detailboundrows[k]={index:k,details:this.details[k]}}}if(c!=null){this.details[k].rowdetailshidden=a}else{return false}var l=this.details[k];if(a){this._raiseEvent(21,{rowindex:k,details:l.rowdetails,height:l.rowdetailsheight})}else{this._raiseEvent(20,{rowindex:k,details:l.rowdetails,height:l.rowdetailsheight})}return this._setrowdetails(k,l.rowdetails,l.rowdetailsheight,l.rowdetailshidden)},getrowvisibleindex:function(b){if(b==undefined||b==null||b<0){return false}if(this.virtualmode){var a=this.dataview.loadedrecords[b];if(a==undefined){return -1}return a.visibleindex}return this.getrowdisplayindex(b)},hiderow:function(a){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==undefined||a==null||a<0){return false}if(a==null){return false}this.hiddenboundrows[a]={index:a,hidden:true};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,true)},showrow:function(a){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==undefined||a==null||a<0){return false}if(a==null){return false}this.hiddenboundrows[a]={index:a,hidden:false};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,false)},isrowhiddenat:function(a){if(a==null){return null}a=this.getrowvisibleindex(a);if(this.rows.records[a]){return this.rows.records[a].hidden}},_setrowvisibility:function(c,a,b){if(c==null){return false}this.hiddens[c]=a;if(b==undefined||b){this.rendergridcontent(true);return true}return false},_loadrows:function(){if(!this._pageviews[this.dataview.pagenum]&&!this.pageable){return}var c=!this.pageable?this._pageviews[this.dataview.pagenum].top:0;if(!this.pageable&&this._pagescache[this.dataview.pagenum]!=undefined){return null}if(!this.virtualsizeinfo){return}var H=this.that;var y=new Array();var b=new Array();var E=H.groupable&&H.groups.length>0;var A=this.dataview.totalrecords;var v=this.virtualsizeinfo.virtualheight;var I=0;this.rows.beginupdate();var D=this.dataview.pagesize;if(this.pageable&&E){D=this.dataview.rows.length}for(var C=0;C<D;C++){if(C>=this.dataview.rows.length){break}var z=this.dataview.rows[C];var G=null;if(!H.rows.records[z.visibleindex]){G=new e(H,z)}else{G=H.rows.records[z.visibleindex];G.setdata(z)}G.hidden=this.hiddens[G.visibleindex];if(this.rowdetailstemplate){G.rowdetails=this.rowdetailstemplate.rowdetails;G.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight;G.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden}var F=this.details[G.visibleindex];if(F){G.rowdetails=F.rowdetails;G.rowdetailsheight=F.rowdetailsheight;G.rowdetailshidden=F.rowdetailshidden}else{if(!this.rowdetailstemplate){G.rowdetails=null}}if(E&&this.pageable&&G.parentbounddata!=null){var a=y[G.parentbounddata.uniqueid];if(a!=null){var w=this._findgroupstate(a.uniqueid);if(this._setsubgroupsvisibility){this._setsubgroupsvisibility(this,G.parentbounddata,!w,false)}G.hidden=this.hiddens[G.visibleindex]}if(a!=null&&a!=undefined){G.parentrow=a;a.subrows[a.subrows.length++]=G}}if(G.hidden){continue}var B=z.visibleindex;if(!this.heights[B]){this.heights[B]=this.rowsheight}G.height=this.heights[B];if(this.rowdetails){if(G.rowdetails&&!G.rowdetailshidden){G.height+=G.rowdetailsheight}}y[G.uniqueid]=G;b[I++]=G;G.top=c;c+=G.height;var x=B;H.rows.replace(x,G)}if((this.autoheight||this.pageable)&&this.autorowheight){if(this._pageviews&&this._pageviews.length>0){this._pageviews[0].height=c}}this.rows.resumeupdate();if(b.length>0){this._pagescache[this.dataview.pagenum]=b}},_gettableheight:function(){if(this.tableheight!=undefined){return this.tableheight}var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();if(!this.showheader){b=0}}a-=b;if(this.hScrollBar[0].style.visibility=="visible"){a-=this.hScrollBar.outerHeight()}if(this.pageable){a-=this.pager.outerHeight()}if(this._groupsheader()){a-=this.groupsheader.outerHeight()}if(this.showtoolbar){a-=this.toolbarheight}if(this.showstatusbar){a-=this.statusbarheight}if(a>0){this.tableheight=a;return a}return this.host.height()},_getpagesize:function(){if(this.pageable){return this.pagesize}if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight;var b=Math.round(a/this.rowsheight);return b}if(this.autoheight||this.autorowheight){if(this.dataview.totalrows==0){return 1}return this.dataview.totalrows}if(this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0){return this.dataview.totalrows}return 100},_calculatevirtualheight:function(){var c=this.that;var y=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var a=Math.round(y/this.rowsheight);this.heights=new Array();this.hiddens=new Array();this.details=new Array();this.expandedgroups=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();var v=Math.max(this.dataview.totalrows,this.dataview.totalrecords);if(this.pageable){v=this.pagesize;if(this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight){v=Math.max(this.dataview.totalrows,this.dataview.totalrecords)}else{if(!this.autoheight){if(this.dataview.totalrows<this.pagesize){v=Math.max(this.dataview.totalrows,this.dataview.totalrecords)}}}}var s=v*this.rowsheight;var q=0;var u=0;var t=0;var x=this._getpagesize();var z=x*this.rowsheight;var w=0;if(!this.pageable&&this.autoheight){a=v}if(v+x>0){while(w<=v+x){q+=z;if(w-x<v&&w>=v){var b=w-v;if(b>0){t-=z;this._pageviews[u-1]={top:t,height:z-b*this.rowsheight}}break}else{this._pageviews[u++]={top:t,height:z}}t=q;w+=x}}if(this.resizingGrid!=true){this.vScrollBar.jqxScrollBar({value:0})}if(s>realheight&&!this.autoheight){this.vScrollBar.css("visibility","visible");if(this.scrollmode=="deferred"){this.vScrollBar.jqxScrollBar({max:s})}else{this.vScrollBar.jqxScrollBar({max:s-realheight})}}else{this.vScrollBar.css("visibility","hidden")}this.dataview.pagesize=x;this.dataview.updateview();return{visiblerecords:a,virtualheight:s}},_updatepageviews:function(){if(this.updating()){return}this._pagescache=new Array();this._pageviews=new Array();this.tableheight=null;var G=this.that;var E=Math.round(this.host.height())+2*this.rowsheight;var F=Math.round(E/this.rowsheight);var w=Math.max(this.dataview.totalrows,this.dataview.totalrecords);var b=w*this.rowsheight;var H=0;var C=0;var k=0;var c=0;var z=0;var A=this._getpagesize();if(!this.pageable){for(var x=0;x<w;x++){var I={index:x,height:this.heights[x],hidden:this.hiddens[x],details:this.details[x]};if(this.heights[x]==undefined){this.heights[x]=this.rowsheight;I.height=this.rowsheight}if(this.hiddens[x]==undefined){this.hiddens[x]=false;I.hidden=false}if(this.details[x]==undefined){this.details[x]=null}if(I.height!=G.rowsheight){b-=G.rowsheight;b+=I.height}if(I.hidden){b-=I.height}else{C+=I.height;var y=0;if(this.rowdetails){if(this.rowdetailstemplate){if(!I.details){I.details=this.rowdetailstemplate}}if(I.details&&I.details.rowdetails&&!I.details.rowdetailshidden){y=I.details.rowdetailsheight;C+=y;b+=y}}H+=I.height+y}z++;if(z>=A||x==w-1){this._pageviews[k++]={top:c,height:C};C=0;c=H;z=0}}}else{if(this._updatepagedview){b=this._updatepagedview(w,b,0)}if(this.autoheight){this._arrange()}}var D=this._gettableheight();if(b>D){if(this.pageable&&this.gotopage){b=this._pageviews[0].height;if(b<0){b=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(b<=D||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(b-D>0){if(this.scrollmode!="deferred"){var a=b-D;var B=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:a});if(a!=B){this.vScrollBar.jqxScrollBar({value:0})}}}else{this.vScrollBar.jqxScrollBar({value:0,max:b})}}else{if(!this._loading){this.vScrollBar.css("visibility","hidden")}this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.autoheight){F=Math.round(this.host.height()/this.rowsheight)}this.virtualsizeinfo={visiblerecords:F,virtualheight:b}},updatebounddata:function(a){if(a!="data"&&a!="sort"&&a!="filter"&&a!="cells"&&a!="pagechanged"&&a!="pagesizechanged"&&!this.virtualmode){this.virtualsizeinfo=null;if(this.showfilterrow&&this.filterable&&this.filterrow){if(this.clearfilters){this.clearfilters(false)}this.filterrow.remove();this._filterrowcache=new Array();this.filterrow=null}else{if(this.filterable){if(this.clearfilters){this.clearfilters(false)}}}if(this.groupable){this.dataview.groups=[];this.groups=[]}if(this.pageable){this.pagenum=0;this.dataview.pagenum=0}if(this.sortable){this.sortcolumn=null;this.sortdirection="";this.dataview.sortfielddirection="";this.dataview.clearsortdata()}}this.databind(this.source,a)},refreshdata:function(){this._refreshdataview();this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height;if(this.virtualmode||!this.pageable){a=this.virtualsizeinfo.virtualheight}var b=this._gettableheight();if(a>b){if(this.pageable&&this.gotopage){a=this._pageviews[0].height;if(a<0){a=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(a<=b||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(a-b>0){var c=a-b;this.vScrollBar.jqxScrollBar({max:c})}else{this.vScrollBar.jqxScrollBar({value:0,max:a})}}else{this.vScrollBar.css("visibility","hidden");this.vScrollBar.jqxScrollBar({value:0})}}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(a){if(a!=true){if(d.jqx.isHidden(this.host)){return}if(this.virtualsizeinfo!=null){this._cellscache=new Array();this._renderrows(this.virtualsizeinfo);this._updatesize()}}},render:function(){this._render(true,true,true,true)},invalidate:function(){if(this.virtualsizeinfo){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}},clear:function(){this.databind(null);this.render()},_preparecolumngroups:function(){var u=this.columnsheight;if(this.columngroups){this.columnshierarchy=new Array();if(this.columngroups.length){var v=this;for(var z=0;z<this.columngroups.length;z++){this.columngroups[z].parent=null;this.columngroups[z].groups=null}for(var z=0;z<this.columns.records.length;z++){this.columns.records[z].parent=null;this.columns.records[z].groups=null}var c=function(k){for(var h=0;h<v.columngroups.length;h++){var g=v.columngroups[h];if(g.name===k){return g}}return null};for(var z=0;z<this.columngroups.length;z++){var b=this.columngroups[z];if(!b.groups){b.groups=null}if(b.parentgroup){var F=c(b.parentgroup);if(F){b.parent=F;if(!F.groups){F.groups=new Array()}if(F.groups.indexOf(b)===-1){F.groups.push(b)}}}}for(var z=0;z<this.columns.records.length;z++){var b=this.columns.records[z];if(b.columngroup){var F=c(b.columngroup);if(F){if(!F.groups){F.groups=new Array()}b.parent=F;if(F.groups.indexOf(b)===-1){F.groups.push(b)}}}}var a=0;for(var z=0;z<this.columns.records.length;z++){var b=this.columns.records[z];var C=b;b.level=0;while(C.parent){C=C.parent;b.level++}var C=b;var D=b.level;a=Math.max(a,b.level);while(C.parent){C=C.parent;if(C){C.level=--D}}}var w=function(m){var g=new Array();if(m.columngroup){g.push(m)}if(m.groups){for(var h=0;h<m.groups.length;h++){if(m.groups[h].columngroup){g.push(m.groups[h])}else{if(m.groups[h].groups){var k=w(m.groups[h]);for(var l=0;l<k.length;l++){g.push(k[l])}}}}}return g};for(var z=0;z<this.columngroups.length;z++){var b=this.columngroups[z];var B=w(b);b.columns=B;var y=new Array();var E=0;for(var A=0;A<B.length;A++){y.push(this.columns.records.indexOf(B[A]));if(B[A].pinned){E++}}if(E!=0){throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.")}y.sort(function(g,h){g=parseInt(g);h=parseInt(h);if(g<h){return -1}if(g>h){return 1}return 0});for(var x=1;x<y.length;x++){if(y[x]!=y[x-1]+1){throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.");this.host.remove()}}}}this.columngroupslevel=1+a;u=this.columngroupslevel*this.columnsheight}return u},_render:function(l,b,m,p,n){if(this.dataview==null){return}if(this._loading){return}if(d.jqx.isHidden(this.host)){var c=this;if(c.___hiddenTimer){clearInterval(c.___hiddenTimer);c.___hiddenTimer=null}this.___hiddenTimer=setInterval(function(){if(!d.jqx.isHidden(c.host)){clearInterval(c.___hiddenTimer);c.render()}},300);return}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this.validationpopup=null;this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=b!=undefined?b:true;this._newmax=null;if(m){if(!this._requiresupdate){if(p!=false){this._initmenu()}}if(this.columns==null){this.columns=new d.jqx.collection(this.element)}else{this._initializeColumns()}}this.tableheight=null;this._pagescache=new Array();this._pageviews=new Array();this.visiblerows=new Array();this.hittestinfo=new Array();if(this._requiresupdate){this._clearcaches();if(p==true){this._initmenu()}}this.virtualsizeinfo=null;this.prerenderrequired=true;if((this.groupable&&this.groups.length>0&&this.rowdetails)||(this.rowdetails)){if(this.gridcontent){this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this.detailboundrows=new Array();this.details=new Array();d.jqx.utilities.html(this.gridcontent,"");this.gridcontent=null}}if(this.gridcontent){if(this.editable&&this._destroyeditors){this._destroyeditors()}}if(m){if(this.filterrow){this.filterrow.detach()}d.jqx.utilities.html(this.content,"");this.columnsheader=this.columnsheader||d('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"))}else{if(this.gridcontent){d.jqx.utilities.html(this.gridcontent,"")}}if(!this.showheader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||d('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();var o=this.columnsheight;o=this._preparecolumngroups();if(this.showfilterrow&&this.filterable){this.columnsheader.height(o+this.filterrowheight)}else{this.columnsheader.height(o)}this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();if(this._initgroupsheader){this._initgroupsheader()}this.selectionarea=this.selectionarea||d("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(false,m);if(this.groups.length>0&&this.groupable){var a=this.vScrollBar[0].style.visibility;this.suspendgroupevents=true;if(this.collapseallgroups){if(!this.groupsexpandedbydefault){this.collapseallgroups(false);this._updatescrollbarsafterrowsprerender()}else{this.expandallgroups(false)}}if(this.vScrollBar[0].style.visibility!=a){this._updatecolumnwidths();this._updatecellwidths()}this.suspendgroupevents=false}if(this.pageable&&this.updatepagerdetails){this.updatepagerdetails();if(this.autoheight){this._updatepageviews()}if(this.autorowheight){if(!this.autoheight){this._updatepageviews()}this._renderrows(this.virtualsizeinfo)}}if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}this._addoverlayelement();if(this.scrollmode=="deferred"){this._addscrollelement()}if(this.showfilterrow&&this.filterable&&this.filterrow&&(n==undefined||n==true)){this._updatelistfilters(!m)}if(this.rendered){this.rendered("full")}this.__isRendered=true},_addoverlayelement:function(){if(this.autoheight){if(this._overlayElement){this._overlayElement.remove()}this._updateTouchScrolling();return}var c=d.jqx.utilities.getBrowser();if((c.browser=="msie"&&parseInt(c.version)<9)||this.isTouchDevice()){if(this._overlayElement){this._overlayElement.remove()}this._overlayElement=d("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>");this._overlayElement.css("background","white");this._overlayElement.css("z-index",18000);this._overlayElement.css("opacity",0.001);if(this.isTouchDevice()){if(this.vScrollBar.css("visibility")!=="hidden"||this.hScrollBar.css("visibility")!=="hidden"){var b=0;if(this.selectionmode=="checkbox"){b+=30}if(this.groupable||this.rowdetails){this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)))}var a=this._overlayElement.css("left");this._overlayElement.css("left",a+b)}else{if(this._overlayElement){this._overlayElement.remove()}}}else{this.content.prepend(this._overlayElement)}}this._updateTouchScrolling()},_addscrollelement:function(){if(this._scrollelement){this._scrollelement.remove()}if(this._scrollelementoverlay){this._scrollelementoverlay.remove()}this._scrollelementoverlay=d("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>");this._scrollelementoverlay.css("background","black");this._scrollelementoverlay.css("z-index",18000);this._scrollelementoverlay.css("opacity",0.1);this._scrollelement=d("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>");this._scrollelement.css("z-index",18005);this._scrollelement.addClass(this.toThemeProperty("jqx-button"));this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all"));this._scrollelement.addClass(this.toThemeProperty("jqx-shadow"));this.content.prepend(this._scrollelement);this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(l,c){if(this.updating()){return false}if(l==undefined||l==null){l=false}this._requiresupdate=l;var a=this.prerenderrequired;if(this.prerenderrequired){this._arrange()}var b=this.that;var c=c;if(c==null||c==undefined){c=true}this.tableheight=null;b.virtualsizeinfo=b.virtualsizeinfo||b._calculatevirtualheight();if(b.pageable&&!b.autoheight){if(b.dataview.totalrows<b.pagesize){b._requiresupdate=true}}if(c){b._rendercolumnheaders()}else{if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}}b._renderrows(b.virtualsizeinfo);if(this.gridcontent){if(this.gridcontent[0].scrollTop!=0){this.gridcontent[0].scrollTop=0}if(this.gridcontent[0].scrollLeft!=0){this.gridcontent[0].scrollLeft=0}}if(a){var k=this.tableheight;this._arrange();if(k!=this.tableheight&&this.autoheight){b._renderrows(b.virtualsizeinfo)}}if(this.rtl){this._renderhorizontalscroll()}if(this.autosavestate){if(this.initializedcall!=null){if(this.savestate){this.savestate()}}}return true},_updatecolumnwidths:function(){var c=this.host.width();var v=c;var o="";if(this.columns==undefined||this.columns.records==undefined){return}var a=this.that;var t=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;d.each(this.columns.records,function(k,h){if(!(this.hidden&&this.hideable)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var h=0;var g=a.vScrollBar[0].style.visibility=="hidden"?0:a.scrollbarsize+5;var l=v;h=parseFloat(this.width)*l/100;g+=t;if(this._percentagewidth!=undefined){h=parseFloat(this._percentagewidth)*(l-g)/100}if(h<this.minwidth&&this.minwidth!="auto"){h=this.minwidth}if(h>this.maxwidth&&this.maxwidth!="auto"){h=this.maxwidth}c-=h}else{if(this.width!="auto"&&!this._width){c-=this.width}else{o+=this.text}}}});var u=this._gettableheight();if(!this.autoheight){if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>u){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var b=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable){for(var w=0;w<this.dataview.rows.length;w++){if(this.dataview.rows[w].group&&this.dataview.rows[w].level===0){b+=this.rowsheight}}}if(b>u){c-=this.scrollbarsize+5;v-=this.scrollbarsize+5}else{if(this.vScrollBar.css("visibility")=="visible"){c-=this.scrollbarsize+5;v-=this.scrollbarsize+5}}}else{c-=this.scrollbarsize+5;v-=this.scrollbarsize+5}}else{c-=this.scrollbarsize+5;v-=this.scrollbarsize+5}}}var t=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;v-=t;if(!this.columnsheader){return}var q=this.columnsheader.find("#columntable"+this.element.id);if(q.length==0){return}var p=q.find(".jqx-grid-column-header");var s=0;d.each(this.columns.records,function(m,g){var k=d(p[m]);var n=false;var h=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){h=parseFloat(this._percentagewidth)*v/100}else{h=parseFloat(this.width)*v/100}n=true}if(this.width!="auto"&&!this._width&&!n){if(parseInt(k[0].style.width)!=this.width){k.width(this.width)}}else{if(n){if(h<this.minwidth&&this.minwidth!="auto"){h=this.minwidth;this.width=h}if(h>this.maxwidth&&this.maxwidth!="auto"){h=this.maxwidth;this.width=h}if(parseInt(k[0].style.width)!=h){k.width(h);this.width=h}}else{var l=Math.floor(c*(this.text.length/o.length));if(isNaN(l)){l=this.minwidth}if(l<0){$element=d("<span>"+this.text+"</span>");d(document.body).append($element);l=10+$element.width();$element.remove()}if(l<this.minwidth){l=this.minwidth}if(l>this.maxwidth){l=this.maxwidth}this._width="auto";this.width=l;k.width(this.width)}}if(parseInt(k[0].style.left)!=s){k.css("left",s)}if(!(this.hidden&&this.hideable)){s+=this.width}this._requirewidthupdate=true});this.columnsheader.width(2+s);q.width(this.columnsheader.width());if(s==0){this.columnsheader[0].style.visibility="hidden"}else{this.columnsheader[0].style.visibility="inherit"}this._resizecolumngroups();if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}if(this.autowidth){this._arrange()}},_rendercolumnheaders:function(){var q=this.that;if(!this.prerenderrequired){if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var M=d('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');M[0].cells=new Array();var c=0;var P=0;var G="";var F=this.host.width();var K=F;var Q=new Array();var k=new Array();var J=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;d.each(this.columns.records,function(h,g){if(!(this.hidden&&this.hideable)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){F-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){F-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var g=0;var l=q.vScrollBar[0].style.visibility=="hidden"?0:q.scrollbarsize+5;l+=J;g=parseFloat(this.width)*(K-l)/100;if(g<this.minwidth&&this.minwidth!="auto"){g=this.minwidth}if(g>this.maxwidth&&this.maxwidth!="auto"){g=this.maxwidth}F-=g}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}F-=this.width}}}}else{G+=this.text}}if(this.pinned||this.grouped||this.checkboxcolumn){if(q._haspinned){this.pinned=true}Q[Q.length]=this}else{k[k.length]=this}});if(!this.rtl){for(var a=0;a<Q.length;a++){this.columns.replace(a,Q[a])}for(var b=0;b<k.length;b++){this.columns.replace(Q.length+b,k[b])}}else{var p=0;Q.reverse();for(var a=this.columns.records.length-1;a>=this.columns.records.length-Q.length;a--){this.columns.replace(a,Q[p++])}for(var b=0;b<k.length;b++){this.columns.replace(b,k[b])}}var N=this.headerZIndex;var L=q.groupable?q.groups.length:0;if(this.rowdetails&&this.showrowdetailscolumn){L++}var O=q.columnsheader.height();if(this.showfilterrow){if(!this.columngroups){O=this.columnsheight}else{O-=this.filterrowheight}}var E=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>E){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var I=0;if(!this.pageable){var I=this.dataview.loadedrootgroups.length*this.rowsheight}else{if(this.pageable){for(var D=0;D<this.dataview.rows.length;D++){if(this.dataview.rows[D].group&&this.dataview.rows[D].level===0){I+=this.rowsheight}}}}if(I>E){F-=this.scrollbarsize+5;K-=this.scrollbarsize+5}}else{F-=this.scrollbarsize+5;K-=this.scrollbarsize+5}}else{if(!this.autoheight){F-=this.scrollbarsize+5;K-=this.scrollbarsize+5}}}K-=J;var R=function(h,g){var l=q.columngroupslevel*q.columnsheight;l=l-(g.level*q.columnsheight);return l};d.each(this.columns.records,function(o,t){this.height=q.columnsheight;if(q.columngroups){if(q.columngroups.length){this.height=R(this.datafield,this);O=this.height}}var h=q.toTP("jqx-grid-column-header")+" "+q.toTP("jqx-widget-header");if(q.rtl){h+=" "+q.toTP("jqx-grid-column-header-rtl")}var m=!q.rtl?150+N-1:150+N+1;var v=!q.rtl?N--:N++;var ab=d('<div role="columnheader" style="z-index: '+v+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');if(q.columngroups){ab[0].style.height=O+"px";ab[0].style.bottom="0px";if(this.pinned){ab[0].style.zIndex=m}}this.uielement=ab;if(this.classname!=""&&this.classname){ab.addClass(this.classname)}var y=this.width;var x=false;if(this.width===null){this.width="auto"}if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){y=parseFloat(this._percentagewidth)*K/100}else{y=parseFloat(this.width)*K/100}x=true}if(this.width!="auto"&&!this._width&&!x){if(y<this.minwidth&&this.minwidth!="auto"){y=this.minwidth;this.width=y}if(y>this.maxwidth&&this.maxwidth!="auto"){y=this.maxwidth;this.width=y}ab[0].style.width=parseInt(y)+"px"}else{if(x){if(y<this.minwidth&&this.minwidth!="auto"){y=this.minwidth}if(y>this.maxwidth&&this.maxwidth!="auto"){y=this.maxwidth}if(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1){this._percentagewidth=this.width}ab.width(y);this.width=y}else{if(!this.hidden){var u=Math.floor(F*(this.text.length/G.length));if(isNaN(u)){u=this.minwidth}if(u<0){$element=d("<span>"+this.text+"</span>");d(document.body).append($element);u=10+$element.width();$element.remove()}if(u<this.minwidth){u=this.minwidth}if(u>this.maxwidth){u=this.maxwidth}this._width="auto";this.width=u;y=this.width;ab.width(this.width)}}}if(this.hidden&&this.hideable){ab.css("display","none")}var ad=d(ab.children()[0]);var n=q.rtl?q.toTP("jqx-grid-column-menubutton")+" "+q.toTP("jqx-grid-column-menubutton-rtl"):q.toTP("jqx-grid-column-menubutton");n+=" "+q.toTP("jqx-icon-arrow-down");var Y=d('<div style="height: '+O+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+n+'" style="width: 100%; height:100%;"></div></div>');if(!q.enableanimations){Y.css("margin-left",-16)}if(q.rtl){Y.css("left","0px")}this.columnsmenu=Y[0];M[0].cells[o]=ab[0];Y[0].style.width=parseInt(q.columnsmenuwidth)+"px";var Z=q.columnsmenu;var ac=false;var s=false;var w=(q.groupable&&L>0&&c<L)||(q.rowdetails&&c<L);if(q.rtl){w=(q.groupable&&L>0&&c<L)||(q.rowdetails&&c<L);w&=o>q.columns.records.length-1-L}if(w){c++;Z&=false;this.sortable=false;this.editable=false;s=true}else{var B=this.renderer!=null?this.renderer(this.text,this.align,O):q._rendercolumnheader(this.text,this.align,O,q);if(B==null){B=q._rendercolumnheader(this.text,this.align,O,q)}if(this.renderer!=null){B=d(B)}Z&=true;ac=true}if(q.WinJS){MSApp.execUnsafeLocalFunction(function(){ad.append(d(B))})}else{if(this.renderer){ad.append(d(B))}else{if(B){ad[0].innerHTML=B}}}if(B!=null){var z=d('<div class="iconscontainer" style="height: '+O+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+q.toTP("jqx-widget-header")+'" style="height: '+O+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+q.toTP("jqx-widget-header")+'" style="height: '+O+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-sortascbutton")+" "+q.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+q.toTP("jqx-widget-header")+'" style="height: '+O+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-sortdescbutton")+" "+q.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');Y.addClass(q.toTP("jqx-widget-header"));ad.append(z);var g=z.children();this.sortasc=g[1];this.sortdesc=g[2];this.filtericon=g[0];this.iconscontainer=z;if(q.rtl){z.css("margin-left","0px");z.css("left","0px");d(this.sortasc).css("float","left");d(this.filtericon).css("float","left");d(this.sortdesc).css("float","left")}if(!q.autoshowfiltericon&&this.filterable){d(this.filtericon).css("display","block")}}if(Z){q._handlecolumnsmenu(q,ad,ab,Y,this);if(!this.menu){Y.hide()}}M.append(ab);if(q.groupable&&ac){ab[0].id=q.dataview.generatekey();if(q._handlecolumnstogroupsdragdrop){q._handlecolumnstogroupsdragdrop(this,ab)}else{throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.")}}if(q.columnsreorder&&this.draggable&&q._handlecolumnsdragreorder){q._handlecolumnsdragreorder(this,ab)}var l=this;q.addHandler(ab,"click",function(S){if(l.checkboxcolumn){return true}if(q.sorttogglestates>0&&q._togglesort){if(!q._loading){q._togglesort(l)}}S.preventDefault();q._raiseEvent(7,{column:l.getcolumnproperties(),datafield:l.datafield,originalEvent:S})});if(l.resizable&&q.columnsresize&&!s){var aa=false;var af="mousemove";if(q.isTouchDevice()&&q.touchmode!==true){aa=true;af=d.jqx.mobile.getTouchEventName("touchstart")}q.addHandler(ab,af,function(ag){var S=parseInt(ag.pageX);var X=5;var T=parseInt(ab.coord().left);if(q.hasTransform){T=d.jqx.utilities.getOffset(ab).left}if(q.resizing){return true}if(q._handlecolumnsresize){if(aa){var W=q.getTouches(ag);var U=W[0];S=U.pageX;X=40;if(S>=T+l.width-X){q.resizablecolumn={columnelement:ab,column:l};ab.css("cursor","col-resize")}else{ab.css("cursor","");q.resizablecolumn=null}return true}var V=l.width;if(q.rtl){V=0}if(S>=T+V-X){if(S<=T+V+X){q.resizablecolumn={columnelement:ab,column:l};ab.css("cursor","col-resize");return false}else{ab.css("cursor","");q.resizablecolumn=null}}else{ab.css("cursor","");if(S<T+V-X){if(!l._animating&&!l._menuvisible){ab.mouseenter()}}q.resizablecolumn=null}}})}ab.css("left",P);if(!(this.hidden&&this.hideable)){P+=y}if(l.rendered){var A=l.rendered(d(ad[0].firstChild),l.align,O);if(A&&z!=null){z.hide()}}if(l.checkboxcolumn){if(z){z.hide()}if(!q.host.jqxCheckBox){throw new Error("jqxGrid: Missing reference to jqxcheckbox.js")}ad.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var ae=ad.find("div:first");ae.jqxCheckBox({_canFocus:false,disabled:q.disabled,disabledContainer:true,theme:q.theme,enableContainerClick:false,width:16,height:16,animationShowDelay:0,animationHideDelay:0});l.checkboxelement=ae;var C=ae.data().jqxCheckBox.instance;q._checkboxcolumn=l;C.updated=function(U,S,T){q._checkboxcolumnupdating=true;if(q.disabled){ae.jqxCheckBox({disabled:q.disabled});S=T}if(S){q.selectallrows()}else{q.unselectallrows()}q._checkboxcolumnupdating=false}}});if(P>0){this.columnsheader.width(2+P)}else{this.columnsheader.width(P)}this.columnsrow=M;q.columnsheader.append(M);if(this.showfilterrow&&this._updatefilterrow){if(!this.columngroups){M.height(this.columnsheight)}else{M.height(this.columngroupslevel*this.columnsheight)}if(!this.filterrow){var H=d("<div></div>");H[0].id="filterrow."+this.element.id;H.height(this.filterrowheight);this.filterrow=H}this.filterrow.width(2+P);this.columnsheader.append(this.filterrow);this._updatefilterrow()}if(P==0){M[0].style.visibility="hidden"}else{M[0].style.visibility="inherit"}M.width(P);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._handlecolumnsreorder){this._handlecolumnsreorder()}if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this._handlecolumnsresize){this._handlecolumnsresize()}if(this.columngroups){this._rendercolumngroups()}if(this._updatecheckboxselection){this._updatecheckboxselection()}},_rendercolumngroups:function(){if(!this.columngroups){return}var c=0;for(var y=0;y<this.columns.records.length;y++){if(this.columns.records[y].pinned){c++}}var H=this.headerZIndex-c+this.columns.records.length;var G=this.that;var B=G.toTP("jqx-grid-column-header")+" "+G.toTP("jqx-grid-columngroup-header")+" "+G.toTP("jqx-widget-header");if(G.rtl){B+=" "+G.toTP("jqx-grid-columngroup-header-rtl")}var D=this.columnsheader.find("#columntable"+this.element.id);D.find("jqx-grid-columngroup-header").remove();for(var A=0;A<this.columngroupslevel-1;A++){for(var y=0;y<this.columngroups.length;y++){var a=this.columngroups[y];var F=a.level;if(F!==A){continue}var b=F*this.columnsheight;var E=99999;if(a.groups){var I=function(l){var g=0;for(var h=0;h<l.groups.length;h++){var k=l.groups[h];if(!k.groups){if(!k.hidden){g+=k.width;E=Math.min(parseFloat(k.element.style.left),E)}}else{g+=I(k)}}return g};a.width=I(a);a.left=E;var J=this.columnsheight;var x=H--;var C=d('<div role="columnheader" style="z-index: '+x+';position: absolute;" class="'+B+'"></div>');var z=d(this._rendercolumnheader(a.text,a.align,this.columnsheight,this));if(a.renderer){var z=d("<div style='height: 100%; width: 100%;'></div>");var w=a.renderer(a.text,a.align,J);z.html(w)}C.append(z);C[0].style.left=E+"px";if(E===0){C[0].style.borderLeftColor="transparent"}C[0].style.top=b+"px";C[0].style.height=J+"px";C[0].style.width=-1+a.width+"px";D.append(C);a.element=C;if(a.rendered){a.rendered(z,a.align,J)}}}}},_resizecolumngroups:function(){if(!this.columngroups){return}for(var p=0;p<this.columngroups.length;p++){var b=this.columngroups[p];var a=b.level;var c=a*this.columnsheight;var m=99999;if(b.groups){var n=function(k){var l=0;for(var g=0;g<k.groups.length;g++){var h=k.groups[g];if(!h.groups){if(!h.hidden){l+=h.width;m=Math.min(parseFloat(h.element.style.left),m)}}else{l+=n(h)}}return l};b.width=n(b);b.left=m;var q=this.columnsheight;var o=b.element;o[0].style.left=m+"px";o[0].style.top=c+"px";o[0].style.height=q+"px";o[0].style.width=-1+b.width+"px"}}},_handlecolumnsmenu:function(a,x,w,t,q){a.dragmousedown=null;t[0].id=a.dataview.generatekey();x.append(t);w[0].columnsmenu=t[0];q.element=w[0];var s=this.columnsmenuwidth+1;var b=function(){if(!q.menu){return false}if(!a.resizing){if(q._menuvisible&&a._hasOpenedMenu){return false}q._animating=true;if(a.menuitemsarray&&a.menuitemsarray.length>0){if(!a.enableanimations){t.css("display","block");var g=!a.rtl?-48:16;q.iconscontainer.css("margin-left",g+"px");q._animating=false;q._menuvisible=true}else{t.css("display","block");t.stop();q.iconscontainer.stop();if(!a.rtl){t.css("margin-left","0px");t.animate({"margin-left":-s},"fast",function(){t.css("display","block");q._animating=false;q._menuvisible=true})}else{t.css("margin-left",-s);t.animate({"margin-left":"0px"},"fast",function(){t.css("display","block");q._animating=false;q._menuvisible=true})}var g=!a.rtl?-(32+s):s;q.iconscontainer.animate({"margin-left":g},"fast")}}}};var y="mouseenter";if(a.isTouchDevice()){y="touchstart"}a.addHandler(w,y,function(m){var n=parseInt(m.pageX);var k=a.columnsresize&&q.resizable?3:0;var g=parseInt(w.coord().left);if(a.hasTransform){g=d.jqx.utilities.getOffset(w).left}var h=q.width;if(a.rtl){h=0}if(k!=0){if(n>=g+h-k){if(n<=g+h+k){return false}}}var l=a.vScrollInstance.isScrolling();if(q.menu&&a.autoshowcolumnsmenubutton&&!l&&!a.disabled){b()}});if(!a.autoshowcolumnsmenubutton){t.css("display","block");var z=!a.rtl?-48:16;q.iconscontainer.css("margin-left",z+"px");if(!a.rtl){t.css({"margin-left":-s})}else{t.css({"margin-left":"0px"})}}a.addHandler(w,"mouseleave",function(k){if(a.menuitemsarray&&a.menuitemsarray.length>0&&q.menu){var g=d.data(document.body,"contextmenu"+a.element.id);if(g!=undefined&&t[0].id==g.columnsmenu.id){return}if(a.autoshowcolumnsmenubutton){if(!a.enableanimations){t.css("display","none");var h=!a.rtl?-32:0;q.iconscontainer.css("margin-left",h+"px");q._menuvisible=false}else{if(!a.rtl){t.css("margin-left",-s)}else{t.css("margin-left","0px")}t.stop();q.iconscontainer.stop();if(!a.rtl){t.animate({"margin-left":0},"fast",function(){t.css("display","none");q._menuvisible=false})}else{t.animate({"margin-left":-s},"fast",function(){t.css("display","none");q._menuvisible=false})}var h=!a.rtl?-32:0;q.iconscontainer.animate({"margin-left":h},"fast")}}}});var u=true;var A="";var v=d(q.filtericon);a.addHandler(t,"mousedown",function(g){if(!a.gridmenu){a._initmenu()}u=!d.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);A=d.data(document.body,"contextmenu"+a.element.id);if(A!=null){A=A.column.datafield}});a.addHandler(v,"mousedown",function(g){if(!a.gridmenu){a._initmenu()}u=!d.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);A=d.data(document.body,"contextmenu"+a.element.id);if(A!=null){A=A.column.datafield}});var c=function(){if(!q.menu){return false}if(!a.gridmenu){a._initmenu()}if(a.disabled){return false}for(var G=0;G<a.columns.records.length;G++){if(a.columns.records[G].datafield!=q.datafield){a.columns.records[G]._menuvisible=false}}var I=t.coord(true);var n=t.height();if(!u){u=true;if(A==q.datafield){a._closemenu();return false}}var E=a.host.coord(true);if(a.hasTransform){E=d.jqx.utilities.getOffset(a.host);I=d.jqx.utilities.getOffset(t)}if(E.left+a.host.width()>parseInt(I.left)+a.gridmenu.width()){a.gridmenu.jqxMenu("open",I.left,I.top+n)}else{a.gridmenu.jqxMenu("open",t.width()+I.left-a.gridmenu.width(),I.top+n)}if(a.gridmenu.width()<100){a._arrangemenu()}a._hasOpenedMenu=true;var p=a._getmenuitembyindex(0);var h=a._getmenuitembyindex(1);var l=a._getmenuitembyindex(2);var o=a._getmenuitembyindex(3);var k=a._getmenuitembyindex(4);var g=a._getmenuitembyindex(5);if(p!=null&&h!=null&&l!=null){var H=q.sortable&&a.sortable;a.gridmenu.jqxMenu("disable",p.id,!H);a.gridmenu.jqxMenu("disable",h.id,!H);a.gridmenu.jqxMenu("disable",l.id,!H);if(q.datafield){if(a.sortcolumn==q.datafield){var F=a.getsortinformation();if(H){if(F.sortdirection.ascending){a.gridmenu.jqxMenu("disable",p.id,true)}else{a.gridmenu.jqxMenu("disable",h.id,true)}}}else{a.gridmenu.jqxMenu("disable",l.id,true)}}}if(o!=null&&k!=null){if(!a.groupable||!q.groupable){a.gridmenu.jqxMenu("disable",k.id,true);a.gridmenu.jqxMenu("disable",o.id,true)}else{if(a.groups&&a.groups.indexOf(q.datafield)!=-1){a.gridmenu.jqxMenu("disable",o.id,true);a.gridmenu.jqxMenu("disable",k.id,false)}else{a.gridmenu.jqxMenu("disable",o.id,false);a.gridmenu.jqxMenu("disable",k.id,true)}}}if(g!=null){a._updatefilterpanel(a,g,q);var J=0;if(a.sortable&&a._togglesort&&a.showsortmenuitems){J+=3}if(a.groupable&&a.addgroup&&a.showgroupmenuitems){J+=2}var m=J*27+3;if(d.jqx.browser.msie&&d.jqx.browser.version<8){m+=20;d(g).height(190)}if(a.filterable&&a.showfiltermenuitems){if(!q.filterable){a.gridmenu.height(m);d(g).css("display","none")}else{a.gridmenu.height(m+180);d(g).css("display","block")}}}d.data(document.body,"contextmenu"+a.element.id,{column:q,columnsmenu:t[0]})};a.addHandler(v,"click",function(g){if(!q.menu){return false}if(!a.showfilterrow){if(t[0].style.display!="block"){w.trigger("mouseenter")}setTimeout(function(){if(t[0].style.display!="block"){w.trigger("mouseenter")}c()},200)}return false});a.addHandler(t,"click",function(g){if(!q.menu){return false}c();return false});if(a.isTouchDevice()){a.addHandler(t,d.jqx.mobile.getTouchEventName("touchstart"),function(g){if(!q.menu){return false}if(!a._hasOpenedMenu){c()}else{a._closemenu()}return false})}},_removecolumnhandlers:function(a){var k=this.that;var c=d(a.element);if(c.length>0){k.removeHandler(c,"mouseenter");k.removeHandler(c,"mouseleave");var b=d(a.filtericon);k.removeHandler(b,"mousedown");k.removeHandler(b,"click");k.removeHandler(c,"click");k.removeHandler(c,"mousemove");if(k.columnsreorder){k.removeHandler(c,"mousedown.drag");k.removeHandler(c,"mousemove.drag")}k.removeHandler(c,"dragstart");if(c[0].columnsmenu){var l=d(c[0].columnsmenu);k.removeHandler(l,"click");k.removeHandler(l,"mousedown");k.removeHandler(l,d.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(b,a,l,m){var c="4px";if(m.columngroups){c=(l/2-this._columnheight/2);if(c<0){c=4}c+="px"}else{if(this.columnsheight!=25){c=(this.columnsheight/2-this._columnheight/2);if(c<0){c=4}c+="px"}}if(this.enableellipsis){return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+a+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+c+"; margin-top: "+c+';"><span style="text-overflow: ellipsis; cursor: default;">'+b+"</span></div>"}if(a=="center"||a=="middle"){return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+c+';"><a href="#">'+b+"</a></div>"}var k='<a style="margin-top: '+c+"; float: "+a+';" href="#">'+b+"</a>";return k},_renderrows:function(D,B,x){var a=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length<this.dataview.rows.length){a.prerenderrequired=true}}if(!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var c=this.source.totalrecords;if(!isNaN(c)){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=c){a.prerenderrequired=true}}}if((this.autoheight||this.autorowheight)&&!a.prerenderrequired){if(this.table&&this.table[0].rows){if(this.table[0].rows.length<this.dataview.records.length){if(this.pageable&&this.table[0].rows.length<this.dataview.pagesize){a.prerenderrequired=true}else{if(!this.pageable){a.prerenderrequired=true}}}if(this.table[0].rows.length<this.dataview.cachedrecords.length){if(this.pageable&&this.table[0].rows.length<this.dataview.pagesize){a.prerenderrequired=true}else{if(!this.pageable){a.prerenderrequired=true}}}}}a._prerenderrows(D);if(a._requiresupdate){a._requiresupdate=false;a._updatepageviews()}var b=function(){if(a._loading){return}if(a.WinJS){MSApp.execUnsafeLocalFunction(function(){a._rendervisualrows()})}else{a._rendervisualrows()}if(a.virtualmode&&a.showaggregates&&a._updateaggregates){a.refreshaggregates()}};var G=d.jqx.browser.msie&&d.jqx.browser.version<10;if(this.virtualmode){var A=function(){if(a.rendergridrows){var h=a._startboundindex;if(h==undefined){h=0}var l=h+1+a.dataview.pagesize;if(h!=null&&l!=null){var k=a.source._source?true:false;var g=!k?a.source.recordstartindex:a.source._source.recordstartindex;if(g!=h||B==true){if(!k){a.source.recordstartindex=h;a.source.recordendindex=l}else{if(l>=a.source._source.totalrecords){l=a.source._source.totalrecords;h=l-a.dataview.pagesize-1;if(h<0){h=0}if(a.source._source.recordendindex==l&&a.source._source.recordstartindex==h){return}}a.source._source.recordstartindex=h;a.source._source.recordendindex=l}a.updatebounddata("cells")}}}};if(this.loadondemand){b();A();this.loadondemand=false}var z=this._browser==undefined?this._isIE10():this._browser;if(this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){b()}else{if(this.autoheight){b()}else{if(z||G||(navigator&&navigator.userAgent.indexOf("Safari")!=-1)){if(this._scrolltimer!=null){clearTimeout(this._scrolltimer)}this._scrolltimer=setTimeout(function(){b()},5)}else{b()}}}}else{if(this.scrollmode=="deferred"&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){if(this._scrolltimer!=null){clearInterval(this._scrolltimer)}var H=this._getfirstvisualrow();if(H!=null){var w=function(n){if(H==null){return""}var o="<table>";var k=a.deferreddatafields;if(k==null){if(a.columns.records.length>0){k=new Array();k.push(a.columns.records[0].displayfield)}}for(var l=0;l<k.length;l++){var h=k[l];var g=a._getcolumnbydatafield(h);if(g){var m=a._getcellvalue(g,H);if(g.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(m)){m=d.jqx.dataFormat.formatdate(m,g.cellsformat,a.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(m)){m=d.jqx.dataFormat.formatnumber(m,g.cellsformat,a.gridlocalization)}}}}o+="<tr><td>"+m+"</td></tr>"}}o+="</table>";return o};var y=this.scrollfeedback?this.scrollfeedback(H.bounddata):w(H.bounddata);if(y!=this._scrollelementcontent){this._scrollelement[0].innerHTML=y;this._scrollelementcontent=y}}this._scrollelement.css("visibility","visible");this._scrollelementoverlay.css("visibility","visible");this._scrollelement.css("margin-top",-this._scrollelement.height()/2);this._scrolltimer=setInterval(function(){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){b();a._scrollelement.css("visibility","hidden");a._scrollelementoverlay.css("visibility","hidden");clearInterval(a._scrolltimer);if(H){a.ensurerowvisible(H.visibleindex)}}},100);return}if(navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1){this._updatedelay=1}if(this.touchDevice!=undefined&&this.touchDevice==true){this._updatedelay=5}var z=this._browser==undefined?this._isIE10():this._browser;if(z||G){this._updatedelay=5}if((z)&&this.hScrollInstance.isScrolling()){b();return}if(d.jqx.browser.mozilla&&this._updatedelay==0&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())){this._updatedelay=0}if(this.updatedelay!=null){this._updatedelay=this.updatedelay}if(this._updatedelay==0){b()}else{var F=this._jqxgridrendertimer;if(F!=null){clearTimeout(F)}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){F=setTimeout(function(){b()},this._updatedelay);this._jqxgridrendertimer=F}else{this._jqxgridrendertimer=F;b()}}}if(a.autorowheight&&!a.autoheight){if(this._pageviews.length>0){var E=this._gettableheight();var v=this._pageviews[0].height;if(v>E){if(this.pageable&&this.gotopage){v=this._pageviews[0].height;if(v<0){v=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(v<=E||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(v-E>0){if(this.scrollmode!="deferred"){var u=v-E;var C=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:u});if(Math.round(u)!=Math.round(C)){this.vScrollBar.jqxScrollBar({value:0})}}}else{this.vScrollBar.jqxScrollBar({value:0,max:v})}}else{if(!this._loading){this.vScrollBar.css("visibility","hidden")}this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.virtualsizeinfo){this.virtualsizeinfo.virtualheight=v}}}},scrolling:function(){var a=this.vScrollInstance.isScrolling();var b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var y=this.hScrollInstance;var x=y.value;if(this.hScrollBar.css("visibility")==="hidden"){y.value=0;x=0}var G=parseInt(x);if(this.table==null){return}var B=this.table[0].rows.length;var C=this.columnsrow;var A=this.groupable&&this.groups.length>0?this.groups.length:0;var F=this.columns.records.length-A;var J=this.columns.records;var D=this.dataview.rows.length==0;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){G=y.max-G}}if(D&&!this._haspinned){for(var b=0;b<B;b++){var z=this.table[0].rows[b];for(var c=0;c<A+F;c++){var L=z.cells[c];if(L!=undefined){var I=J[c];if(I.pinned){L.style.marginLeft=G+"px";if(b==0){var K=C[0].cells[c];K.style.marginLeft=G+"px"}}}}}this.table[0].style.marginLeft=-G+"px";C[0].style.marginLeft=-G+"px"}else{if(this._haspinned||this._haspinned==undefined){for(var b=0;b<B;b++){var z=this.table[0].rows[b];for(var c=0;c<A+F;c++){var L=z.cells[c];if(L!=undefined){var I=J[c];if(I.pinned){if(G==0&&L.style.marginLeft==""){continue}var H=null;var a=null;if(this.showfilterrow&&this.filterrow){if(this.filterrow[0].cells){a=this.filterrow[0].cells[c]}}if(this.showaggregates){if(this.statusbar[0].cells){H=this.statusbar[0].cells[c]}}if(!this.rtl){L.style.marginLeft=G+"px";if(b==0){var K=C[0].cells[c];K.style.marginLeft=G+"px";if(H){H.style.marginLeft=G+"px"}if(a){a.style.marginLeft=G+"px"}}}else{L.style.marginLeft=-parseInt(x)+"px";if(b==0){var K=C[0].cells[c];K.style.marginLeft=-parseInt(x)+"px";if(H){H.style.marginLeft=-parseInt(x)+"px"}if(a){a.style.marginLeft=-parseInt(x)+"px"}}}}}}}this.table[0].style.marginLeft=-G+"px";C[0].style.marginLeft=-G+"px"}else{if(this._haspinned==false){this.table[0].style.marginLeft=-G+"px";C[0].style.marginLeft=-G+"px"}}}if(this.showaggregates){if(this.statusbar[0].cells){var E=0;if(this.rtl){if(this.vScrollBar.css("visibility")!="hidden"){if(this.hScrollBar.css("visibility")!="hidden"){E=2+parseInt(this.hScrollBar.css("left"))}}}this.statusbar[0].style.marginLeft=-G+E+"px"}}if(this.showfilterrow&&this.filterrow){if(this.filterrow[0].cells){this.filterrow[0].style.marginLeft=-G+"px"}}},_updaterowdetailsvisibility:function(){if(this.rowdetails){for(var a=0;a<this._rowdetailselementscache.length;a++){d(this._rowdetailselementscache[a]).css("display","none")}}},_getvisualcolumnsindexes:function(w,c,s,p,x){if(this.rowdetails||this.rtl||this.editcell||(this.width&&this.width.toString().indexOf("%")>=0)||this.exporting){return{start:0,end:s+p}}var v=0;var q=-1;var u=s+p;var b=false;if(this.autorowheight){return{start:0,end:s+p}}if(!x){for(var t=0;t<s+p;t++){var a=t;if(!b){if(this.columns.records[t].pinned){b=true}}if(!this.columns.records[t].hidden){v+=this.columns.records[t].width}if(v>=w&&q==-1){q=t}if(v>c+w){u=t;break}}}u++;if(u>s+p){u=s+p}if(q==-1||b){q=0}return{start:q,end:u}},_getfirstvisualrow:function(){var l=this.vScrollInstance;var c=l.value;var k=parseInt(c);if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar[0].style.visibility!="visible"){k=0}if(!this.pageable){var m=this._findvisiblerow(k,this._pageviews);if(m==-1){return null}if(m!=this.dataview.pagenum){this.dataview.pagenum=m;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var b=this._findvisiblerow(k,this._pagescache[this.dataview.pagenum]);var a=this._pagescache[this.dataview.pagenum];if(a&&a[0]){return a[b]}},_rendervisualrows:function(){if(!this.virtualsizeinfo){return}var ai=this.vScrollInstance;var aP=this.hScrollInstance;var aV=ai.value;var aF=aP.value;var aQ=parseInt(aV);var aT=parseInt(aF);var aI=this._gettableheight();var aw=this._hostwidth!=undefined?this._hostwidth:this.host.width();if(this.hScrollBar[0].style.visibility=="visible"){aI+=29}if(this.scrollmode=="deferred"&&this._newmax!=0){if(aQ>this._newmax&&this._newmax!=null){aQ=this._newmax}}var aC=ai.isScrolling()||aP.isScrolling()||this._keydown;var aD=this.groupable&&this.groups.length>0;this.visiblerows=new Array();this.hittestinfo=new Array();if(this.editcell&&this.editrow==undefined){this._hidecelleditor(false)}if(this.editrow!=undefined){this._hideeditors()}if(this.virtualmode&&!this.pageable){this._pagescache=new Array()}if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar[0].style.visibility=="hidden"){aQ=0}if(!this.pageable){var au=this._findvisiblerow(aQ,this._pageviews);if(au==-1){this._clearvisualrows();this._renderemptyrow();this._updaterowdetailsvisibility();return}if(au!=this.dataview.pagenum){this.dataview.pagenum=au;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var az=this.groupable&&this.groups.length>0?this.groups.length:0;if(!this.columns.records){return}var aN=this.columns.records.length-az;var ae=this._findvisiblerow(aQ,this._pagescache[this.dataview.pagenum]);var at=this._pagescache[this.dataview.pagenum];var an=ae;if(an<0){an=0}var c=0;var af=0;var ao=0;var aY=0;var am=this.virtualsizeinfo.visiblerecords;var ap=this.groupable?this.groups.length:0;var aG=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");if(this.rtl){aG+=" "+this.toTP("jqx-grid-cell-rtl")}if((this.autoheight||this.autorowheight)&&this.pageable){if(!this.groupable||(this.groupable&&this.groups.length===0)){am=this.dataview.pagesize}}if(aD){aG=" "+this.toTP("jqx-grid-group-cell")}if(this.isTouchDevice()){aG+=" "+this.toTP("jqx-touch")}if(this.autorowheight){aG+=" jqx-grid-cell-wrap"}var aq=this.rowsheight;var ax=an;var aB=this._rendercell;var aM=true;var aO=this._getvisualcolumnsindexes(aT,aw,az,aN,aD);var aZ=aO.start;var ag=aO.end;if((this.autoheight||this.pageable)&&this.autorowheight){if(this._pageviews[0]){this._oldpageviewheight=this._pageviews[0].height}}if(this.autorowheight){an=0}if(an>=0){this._updaterowdetailsvisibility();this._startboundindex=at!=null?at[an].bounddata.boundindex:0;this._startvisibleindex=at!=null?at[an].bounddata.visibleindex:0;for(var aR=0;aR<am&&af<am;aR++){var y=at!=undefined?at[an+aR]:null;if(y==null){an=-aR;if(this._pagescache[this.dataview.pagenum+1]){at=this._pagescache[this.dataview.pagenum+1];this.dataview.pagenum++}else{var aL=this._pageviews.length;do{if(this.dataview.pagenum<this._pageviews.length-1){this.dataview.pagenum++;at=undefined;if(this._pageviews[this.dataview.pagenum].height>0){this.dataview.updateview();this._loadrows();at=this._pagescache[this.dataview.pagenum]}}else{at=undefined;break}}while(at==undefined&&this.dataview.pagenum<aL)}if(at!=undefined){y=at[an+aR]}}if(y!=null){if(y.hidden){continue}this._endboundindex=this._startboundindex+aR;this._endvisibleindex=this._startvisibleindex+aR;if(aR==0){var aS=Math.abs(aQ-y.top);this.table[0].style.top=-aS+"px";aY=-aS}var aU=this.table[0].rows[af];if(!aU){continue}if(parseInt(aU.style.height)!=y.height){aU.style.height=parseInt(y.height)+"px"}ao+=y.height;var aj=this.rowdetails&&y.rowdetails;var aJ=!y.rowdetailshidden;if(aj&&aJ){aU.style.height=parseInt(y.height-y.rowdetailsheight)+"px";am++}var av=this._isrowselected(aM,y);for(var al=aZ;al<ag;al++){var a=al;this._rendervisualcell(aB,aG,av,aj,aJ,aD,ap,aU,y,a,af,aC)}if(y.group!=undefined&&this._rendergroup){this._rendergroup(ap,aU,y,az,aN,af,aw)}if(this.autorowheight&&(this.autoheight||this.pageable)){var aq=this.rowsheight;for(var al=aZ;al<ag;al++){if(this.editable&&this.editcell&&this.editcell.column==this.columns.records[al].datafield&&this.editcell.row==this.getboundindex(y)){aq=Math.max(aq,this.editcell.editor.height());continue}if(aU.cells[al].firstChild){aq=Math.max(aq,8+parseInt(aU.cells[al].firstChild.offsetHeight))}}aU.style.height=parseInt(aq)+"px";this.heights[this._startboundindex+aR]=aq;if(aj&&aJ){aq+=y.rowdetailsheight}y.height=aq}this.visiblerows[this.visiblerows.length]=y;this.hittestinfo[this.hittestinfo.length]={row:y,visualrow:aU,details:false};if(aj&&aJ){af++;var aU=this.table[0].rows[af];this._renderrowdetails(aG,aU,y,az,aN,af);this.visiblerows[this.visiblerows.length]=y;this.hittestinfo[this.hittestinfo.length]={row:y,visualrow:aU,details:true}}if(!this.autorowheight){if(ao+aY>=aI){break}}}else{cansetheight=true;this._clearvisualrow(aT,aD,af,az,aN);if(ao+c+aY<=aI){c+=aq}}af++}this._horizontalvalue=aT;if(c>0){if(this.vScrollBar[0].style.visibility=="visible"){var aE=parseInt(this.table.css("top"));var ay=this._pageviews[this._pageviews.length-1];var aK=ai.max;var aA=ay.top+ay.height-aI;if(this.hScrollBar.css("visibility")=="visible"){aA+=this.scrollbarsize+20}if(aK!=aA&&!this.autorowheight){if(aA>=0){if(this.scrollmode!="deferred"){ai.max=aA;ai.setPosition(ai.max)}else{if(this._newmax!=aA){this._newmax=aA;this._rendervisualrows()}}}}}}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array();var ak=0;var aW=0;for(var b=0;b<this.visiblerows.length;b++){var aH=this.visiblerows[b];aH.top=ak;ak+=aH.height;aW+=aH.height;var aj=this.rowdetails&&aH.rowdetails;var aJ=!aH.rowdetailshidden;var aU=this.table[0].rows[b];if(aj&&aJ){b++}for(var al=aZ;al<ag;al++){var ah=this.columns.records[al];if(!ah.hidden){if(!ah.cellsrenderer){var ar=aU.cells[al];var aX=0;if(ar.firstChild){var aX=(aH.height-parseInt(ar.firstChild.offsetHeight)-8)/2;if(aj&&aJ){var aX=(aH.height-aH.rowdetailsheight-d(ar.firstChild).height()-8)/2}}else{var aX=(aH.height-parseInt(d(ar).height())-8)/2}if(aX>=0){aX=parseInt(aX)+4;if(ar.firstChild){if(ar.firstChild.className.indexOf("jqx-grid-groups-row")==-1){if(ah.columntype!="checkbox"&&ah.columntype!="button"){if(this.editable&&this.editcell&&this.editcell.column==ah.datafield&&this.editcell.row==this.getboundindex(aH)){continue}ar.firstChild.style.marginTop=aX+"px"}}}}}}}}if(this._pageviews[0]){this._pageviews[0].height=aW}this._arrange()}this._renderemptyrow()},_hideemptyrow:function(){if(!this.showemptyrow){return}if(!this.table){return}if(!this.table[0].rows){return}var b=this.table[0].rows[0];if(!b){return}var a=false;for(var c=0;c<b.cells.length;c++){var h=d(b.cells[c]);if(h.css("display")!="none"&&!a){if(h.width()==this.host.width()||h.text()==this.gridlocalization.emptydatastring){h[0].checkbox=null;h[0].button=null;a=true;h[0].innerHTML=""}}}},_renderemptyrow:function(){if(this._loading){return}if(this.dataview.records.length==0&&this.showemptyrow){var a=false;var p=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var b=this.table[0].rows[0];this.table[0].style.top="0px";for(var o=0;o<b.cells.length;o++){var q=d(b.cells[o]);if(q.css("display")!="none"&&!a){q[0].checkbox=null;q[0].button=null;q[0].className=p;a=true;q[0].innerHTML="";var n=d("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");n.text(this.gridlocalization.emptydatastring);q.append(n);var c=0;if(!this.oldhscroll){c=parseInt(this.table[0].style.marginLeft);if(this.rtl){q.css("z-index",999);q.css("overflow","visible")}}n.css("left",-c-(n.width()/2));n.css("top",this._gettableheight()/2-n.height()/2);if(d.jqx.browser.msie&&d.jqx.browser.version<8){n.css("margin-left","0px");n.css("left",this.host.width()/2-n.width()/2)}var m=Math.abs(parseInt(this.table[0].style.top));if(isNaN(m)){m=0}d(b).height(this._gettableheight()+m);q.css("margin-left","0px");q.width(this.host.width());if(this.table.width()<this.host.width()){this.table.width(this.host.width())}}q.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var l=this.virtualsizeinfo.visiblerecords;var k=this.hScrollInstance;var m=k.value;var c=parseInt(m);var a=this.groupable&&this.groups.length>0;if(!this.columns.records){return}for(var b=0;b<l;b++){this._clearvisualrow(c,a,b,0,this.columns.records.length)}},_iscellselected:function(a,b,k){var l=false;var m=0;if(this.virtualmode&&this.pageable&&this.groupable){if(this.groups.length>0){m=this.dataview.pagesize*this.dataview.pagenum}}if(this.groups.length>0&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(b.bounddata.uid);for(var c in this.selectedcells){if(c==n+"_"+k){l=true}}return l}if(a&&b.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0){if(!this.virtualmode&&b.bounddata.dataindex!=undefined){for(var c in this.selectedcells){if(c==m+b.bounddata.dataindex+"_"+k){l=true}}}else{for(var c in this.selectedcells){if(c==m+b.bounddata.boundindex+"_"+k){l=true}}}}else{for(var c in this.selectedcells){if(c==m+b.bounddata.boundindex+"_"+k){l=true;break}}}}else{if(this.dataview.filters.length>0){if(!this.virtualmode&&b.bounddata.dataindex!=undefined){for(var c in this.selectedcells){if(c==m+b.bounddata.dataindex+"_"+k){l=true;break}}}else{for(var c in this.selectedcells){if(c==m+b.bounddata.boundindex+"_"+k){l=true;break}}}}else{for(var c in this.selectedcells){if(c==m+b.bounddata.boundindex==this.selectedrowindex){l=true;break}}}}}return l},_isrowselected:function(a,b){var c=false;var k=0;if(this.virtualmode&&this.pageable&&this.groupable){if(this.groups.length>0){k=this.dataview.pagesize*this.dataview.pagenum}}if(this.groupable&&this.groups.length>0&&this.pageable){var l=this.getrowboundindexbyid(b.bounddata.uid);if(this.selectedrowindexes.indexOf(l)!=-1){c=true}if(!c){c=l==this.selectedrowindex&&this.selectedrowindex!=-1}return c}if(a&&b.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0){if(!this.virtualmode&&b.bounddata.dataindex!=undefined){if(this.selectedrowindexes.indexOf(k+b.bounddata.dataindex)!=-1){c=true}}else{if(this.selectedrowindexes.indexOf(k+b.bounddata.boundindex)!=-1){c=true}}}else{if(this.selectedrowindexes.indexOf(k+b.bounddata.boundindex)!=-1){c=true}}}else{if(this.dataview.filters.length>0){if(!this.virtualmode&&b.bounddata.dataindex!=undefined){if(this.selectedrowindexes.indexOf(k+b.bounddata.dataindex)!=-1){c=true}}else{if(this.selectedrowindexes.indexOf(k+b.bounddata.boundindex)!=-1){c=true}}}else{if(k+b.bounddata.boundindex==this.selectedrowindex){c=true}}}}return c},_rendervisualcell:function(a,O,H,M,D,c,N,G,T,P,E,J){var R=null;var Q=this.columns.records[P];if(Q.hidden){var S=G.cells[P];S.innerHTML="";return}cellvalue=this._getcellvalue(Q,T);var S=G.cells[P];var A=O;if(this.selectionmode.indexOf("cell")!=-1){if(this.dataview.filters.length>0){if(this.selectedcells[T.bounddata.dataindex+"_"+Q.datafield]){H=true}else{H=false}}else{if(this.selectedcells[T.boundindex+"_"+Q.datafield]){H=true}else{H=false}}if(this.editcell){if(this.editcell.row===T.boundindex&&this.editcell.column===Q.datafield){if(Q.columntype!=="checkbox"){H=false}}}if(this.virtualmode||(this.groupable&&this.groups.length>0&&this.pageable)){H=this._iscellselected(true,T,Q.datafield)}}if(Q.cellclassname!=""&&Q.cellclassname){if(typeof Q.cellclassname=="string"){A+=" "+Q.cellclassname}else{var K=Q.cellclassname(this.getboundindex(T),Q.datafield,cellvalue,T.bounddata);if(K){A+=" "+K}}}var I=this.showsortcolumnbackground&&this.sortcolumn&&Q.displayfield==this.sortcolumn;if(I){A+=" "+this.toTP("jqx-grid-cell-sort")}if(Q.filter&&this.showfiltercolumnbackground){A+=" "+this.toTP("jqx-grid-cell-filter")}if((Q.pinned&&this.showpinnedcolumnbackground)||Q.grouped){if(c){A+=" "+this.toTP("jqx-grid-cell-pinned")}else{A+=" "+this.toTP("jqx-grid-cell-pinned")}}if(this.altrows&&T.group==undefined){var b=T.visibleindex;if(b>=this.altstart){if((this.altstart+b)%(1+this.altstep)==0){if(!I){A+=" "+this.toTP("jqx-grid-cell-alt")}else{A+=" "+this.toTP("jqx-grid-cell-sort-alt")}if(Q.filter&&this.showfiltercolumnbackground){A+=" "+this.toTP("jqx-grid-cell-filter-alt")}if(Q.pinned&&this.showpinnedcolumnbackground){A+=" "+this.toTP("jqx-grid-cell-pinned-alt")}}}}if(P<=N){if(c||this.rowdetails){var C=d(S);var L=this.columns.records[P].width;if(S.style.width!=parseInt(L)+"px"){C.width(L)}}}else{if(c||this.rowdetails){if(this._hiddencolumns){var C=d(S);var L=this.columns.records[P].width;if(parseInt(S.style.width)!=L){C.width(L)}}}}var B=true;if(this.rowdetails&&M){if(D&&!c){A+=" "+this.toTP("jqx-grid-details-cell")}else{if(c){A+=" "+this.toTP("jqx-grid-group-details-cell")}}if(this.showrowdetailscolumn){if(!this.rtl){if(T.group==undefined&&P==N){var F=this.toThemeProperty("jqx-icon-arrow-down");if(D){A+=" "+this.toTP("jqx-grid-group-expand");A+=" "+F}else{A+=" "+this.toTP("jqx-grid-group-collapse");var F=this.toThemeProperty("jqx-icon-arrow-right");A+=" "+F}B=false;S.title="";S.innerHTML="";if(S.className!=A){S.className=A}return}}else{if(T.group==undefined&&P==G.cells.length-N-1){var F=this.toThemeProperty("jqx-icon-arrow-down");if(D){A+=" "+this.toTP("jqx-grid-group-expand-rtl");A+=" "+F}else{A+=" "+this.toTP("jqx-grid-group-collapse-rtl");var F=this.toThemeProperty("jqx-icon-arrow-left");A+=" "+F}B=false;S.title="";S.innerHTML="";if(S.className!=A){S.className=A}return}}}}if(H&&B&&P>=N){A+=" "+this.toTP("jqx-grid-cell-selected");A+=" "+this.toTP("jqx-fill-state-pressed")}if(S.className!=A){S.className=A}if(T.group!=undefined){cellvalue="";S.title="";S.innerHTML="";return}a(this,Q,T,cellvalue,S,J)},_rendercell:function(a,H,D,c,J,w){var G=c+"_"+H.visibleindex;if(H.columntype=="number"||H.cellsrenderer!=null){var G=D.uniqueid+"_"+H.visibleindex}if(a.editcell&&a.editrow==undefined){if(a.editmode=="selectedrow"&&H.editable&&a.editable){if(a.editcell.row==a.getboundindex(D)){if(a._showcelleditor){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){a._showcelleditor(a.editcell.row,H,J,a.editcell.init)}else{a._showcelleditor(a.editcell.row,H,J,false,false)}return}}}else{if(a.editcell.row==a.getboundindex(D)&&a.editcell.column==H.datafield){a.editcell.element=J;if(a.editcell.editing){if(a._showcelleditor){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){a._showcelleditor(a.editcell.row,H,a.editcell.element,a.editcell.init)}else{a._showcelleditor(a.editcell.row,H,a.editcell.element,a.editcell.init,false)}return}}}}}var v=a._defaultcellsrenderer(c,H);var z=a._cellscache[G];if(z){if(H.columntype=="inline"){a._renderinlinecell(a,J,H,D,c);if(H.cellsrenderer!=null){var F=H.cellsrenderer(a.getboundindex(D),H.datafield,c,v,H.getcolumnproperties(),D.bounddata);if(F!=undefined){J.innerHTML=F}}return}else{if(H.columntype=="checkbox"){if(a.host.jqxCheckBox){if(c===""){c=null}var A=J.innerHTML.toString().length==0;if(J.checkbox&&!a.groupable&&!A){J.checkboxrow=a.getboundindex(D);if(c==""){c=false}if(c=="1"){c=true}if(c=="0"){c=false}if(c==1){c=true}if(c==0){c=false}if(c=="true"){c=true}if(c=="false"){c=false}if(c==null&&!H.threestatecheckbox){c=false}if(H.checkboxcolumn){c=false;if(a.dataview.filters.length>0&&!a.virtualmode&&D.bounddata.dataindex!=undefined){if(a.selectedrowindexes.indexOf(D.bounddata.dataindex)!=-1){c=true}}else{if(a.selectedrowindexes.indexOf(D.bounddata.boundindex)!=-1){c=true}}}if(!a.disabled){if(J.checkboxinstance){J.checkboxinstance._setState(c)}else{J.checkbox.jqxCheckBox("_setState",c)}}}else{a._rendercheckboxcell(a,J,H,D,c)}if(H.cellsrenderer!=null){var F=H.cellsrenderer(a.getboundindex(D),H.datafield,c,v,H.getcolumnproperties(),D.bounddata);if(F!=undefined){J.innerHTML=F}}return}}else{if(H.columntype=="button"){if(a.host.jqxButton){if(c==""){c=false}if(H.cellsrenderer!=null){c=H.cellsrenderer(a.getboundindex(D),H.datafield,c,v,H.getcolumnproperties(),D.bounddata)}if(J.innerHTML==""){J.buttonrow=a.getboundindex(D);J.button=null;a._renderbuttoncell(a,J,H,D,c)}if(J.button&&!a.groupable){J.buttonrow=a.getboundindex(D);J.button.val(c)}else{a._renderbuttoncell(a,J,H,D,c)}return}}}}var b=z.element;if(H.cellsrenderer!=null||(J.childNodes&&J.childNodes.length==0)||a.groupable||a.rowdetails){if(J.innerHTML!=b){J.innerHTML=b}}else{if(J.innerHTML.indexOf("editor")>=0){J.innerHTML=b}else{if(w){var y=b.indexOf(">");var B=b.indexOf("</");var x=b.substring(y+1,B);var E=J.childNodes[0];if(x.indexOf(">")>=0){J.innerHTML=b}else{if(E.childNodes[0]){if(x!=E.childNodes[0].nodeValue){if(x.indexOf("&")>=0){J.innerHTML=b}else{E.childNodes[0].nodeValue=x}}}else{var I=document.createTextNode(x);E.appendChild(I)}}}else{if(J.innerHTML!=b){J.innerHTML=b}}}}if(a.enabletooltips&&H.enabletooltips){J.title=z.title}return}if(H.columntype=="checkbox"){a._rendercheckboxcell(a,J,H,D,c);a._cellscache[G]={element:"",title:c};if(a.enabletooltips&&H.enabletooltips){J.title=c}return}else{if(H.columntype=="button"){if(H.cellsrenderer!=null){c=H.cellsrenderer(a.getboundindex(D),H.datafield,c,v,H.getcolumnproperties(),D.bounddata)}a._renderbuttoncell(a,J,H,D,c);a._cellscache[G]={element:"",title:c};if(a.enabletooltips&&H.enabletooltips){J.title=c}return}else{if(H.columntype=="number"){c=D.visibleindex}else{if(H.columntype=="inline"){a._renderinlinecell(a,J,H,D,c);a._cellscache[G]={element:"",title:c};if(a.enabletooltips&&H.enabletooltips){J.title=c}return}}}}var b=null;if(H.cellsrenderer!=null){b=H.cellsrenderer(a.getboundindex(D),H.datafield,c,v,H.getcolumnproperties(),D.bounddata)}else{b=v}if(b==null){b=v}var C=c;if(a.enabletooltips&&H.enabletooltips){if(H.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(c)){C=d.jqx.dataFormat.formatdate(C,H.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(c)){C=d.jqx.dataFormat.formatnumber(C,H.cellsformat,this.gridlocalization)}}}}J.title=C}if(a.WinJS){d(J).html(b)}else{J.innerHTML=b}a._cellscache[G]={element:J.innerHTML,title:C};return true},_isIE10:function(){if(this._browser==undefined){var a=d.jqx.utilities.getBrowser();if(a.browser=="msie"&&parseInt(a.version)>9){this._browser=true}else{this._browser=false;if(a.browser=="msie"){var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("Zune 4.7")!=-1){this._browser=true}}}}return this._browser},_renderinlinecell:function(k,m,l,a,c){var b=d(m);m.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(m,o,n,a,l){if(m.host.jqxCheckBox){var b=d(o);if(l===""){if(n.threestatecheckbox){l=null}else{l=false}}if(l=="1"){l=true}if(l=="0"){l=false}if(l==1){l=true}if(l==0){l=false}if(l=="true"){l=true}if(l=="false"){l=false}if(n.checkboxcolumn){l=false;if(this.dataview.filters.length>0&&a.bounddata.dataindex!=undefined){if(this.selectedrowindexes.indexOf(a.bounddata.dataindex)!=-1){l=true}}else{if(this.selectedrowindexes.indexOf(a.bounddata.boundindex)!=-1){l=true}}}if(b.find(".jqx-checkbox").length==0){o.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>';d(o.firstChild).jqxCheckBox({disabled:m.disabled,_canFocus:false,hasInput:false,hasThreeStates:n.threestatecheckbox,enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,locked:true,theme:m.theme,checked:l});if(this.editable&&n.editable){d(o.firstChild).jqxCheckBox({locked:false})}if(n.checkboxcolumn){d(o.firstChild).jqxCheckBox({locked:false})}o.checkbox=d(o.firstChild);o.checkboxinstance=o.checkbox.data().jqxCheckBox.instance;o.checkboxrow=a.boundindex;if(this.dataview.filters.length>0){var p=a.bounddata.dataindex;if(p==undefined){p=a.boundindex}o.checkboxrow=p}var c=d.data(o.firstChild,"jqxCheckBox").instance;c.updated=function(w,x,u){if(m.disabled){x=u;var v=m.table[0].rows.length;var k=m._getcolumnindex(n.datafield);for(var g=0;g<v;g++){var h=m.table[0].rows[g].cells[k].firstChild;if(h){d(h).jqxCheckBox({disabled:m.disabled})}}}if(n.editable&&!m.disabled){var v=m.table[0].rows.length;var k=m._getcolumnindex(n.datafield);if(m.editrow==undefined){if(n.cellbeginedit){var t=n.cellbeginedit(o.checkboxrow,n.datafield,n.columntype,!x);if(t==false){m.setcellvalue(o.checkboxrow,n.datafield,!x,true);return}}if(m.editmode!=="selectedrow"){for(var g=0;g<v;g++){var h=m.table[0].rows[g].cells[k].firstChild;if(h){d(h).jqxCheckBox("destroy")}}}if(m.editcell&&m.editcell.validated==false){m.setcellvalue(o.checkboxrow,n.datafield,!x,true)}else{if(m.editmode!=="selectedrow"||m.editcell==null){m._raiseEvent(17,{rowindex:o.checkboxrow,datafield:n.datafield,value:u,columntype:n.columntype});m.setcellvalue(o.checkboxrow,n.datafield,x,true);m._raiseEvent(18,{rowindex:o.checkboxrow,datafield:n.datafield,oldvalue:u,value:x,columntype:n.columntype})}else{m.setcellvalue(o.checkboxrow,n.datafield,x,false,false)}}}}else{if(n.checkboxcolumn){if(m.editcell){m.endcelledit(m.editcell.row,m.editcell.column,false,true)}if(!m.disabled){if(x){m.selectrow(o.checkboxrow)}else{m.unselectrow(o.checkboxrow)}if(m.autosavestate){if(m.savestate){m.savestate()}}}}}}}else{o.checkboxrow=a.boundindex;if(this.dataview.filters.length>0){p=a.bounddata.dataindex;o.checkboxrow=p}d(o.firstChild).jqxCheckBox("_setState",l)}}},_renderbuttoncell:function(l,o,m,a,c){if(l.host.jqxButton){var b=d(o);if(c==""){c=false}if(b.find(".jqx-button").length==0){o.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>';d(o.firstChild).val(c);d(o.firstChild).attr("hideFocus","true");d(o.firstChild).jqxButton({disabled:l.disabled,theme:l.theme,height:l.rowsheight-4,width:m.width-4});o.button=d(o.firstChild);o.buttonrow=l.getboundindex(a);var p=this.isTouchDevice();if(p){var n=d.jqx.mobile.getTouchEventName("touchend");l.addHandler(d(o.firstChild),n,function(g){if(m.buttonclick){m.buttonclick(o.buttonrow,g)}})}else{l.addHandler(d(o.firstChild),"click",function(g){if(m.buttonclick){m.buttonclick(o.buttonrow,g)}})}}else{o.buttonrow=l.getboundindex(a);d(o.firstChild).val(c)}}},_clearvisualrow:function(w,x,b,u,c){var q=this.toTP("jqx-grid-cell");if(x){q=" "+this.toTP("jqx-grid-group-cell")}q+=" "+this.toTP("jqx-grid-cleared-cell");var a=this.table[0].rows;for(var t=0;t<u+c;t++){if(a[b]){var y=a[b].cells[t];if(y.className!=q){y.className=q}var z=this.columns.records[t];if(this._horizontalvalue!=w&&!z.pinned){if(this.oldhscroll==true){var v=-w;y.style.marginLeft=-w+"px"}}var s=z.width;if(s<z.minwidth){s=z.minwidth}if(s>z.maxwidth){s=z.maxwidth}if(parseInt(y.style.width)!=s){if(s!="auto"){d(y)[0].style.width=s+"px"}else{d(y)[0].style.width=s}}if(y.title!=""){y.title=""}if(y.innerHTML!=""){y.innerHTML=""}}}if(a[b]){if(parseInt(a[b].style.height)!=this.rowsheight){a[b].style.height=parseInt(this.rowsheight)+"px"}}},_findgroupstate:function(a){var b=this._findgroup(a);if(b==null){return false}return b.expanded},_findgroup:function(a){var b=null;if(this.expandedgroups[a]){return this.expandedgroups[a]}return b},_clearcaches:function(){this._columnsbydatafield=new Array();this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this.heights=new Array();this.hiddens=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();this.details=new Array();this.expandedgroups=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();if(d.jqx.dataFormat){d.jqx.dataFormat.cleardatescache()}this.tableheight=null},_getColumnText:function(c){if(this._columnsbydatafield==undefined){this._columnsbydatafield=new Array()}if(this._columnsbydatafield[c]){return this._columnsbydatafield[c]}var a=c;var b=null;d.each(this.columns.records,function(){if(this.datafield==c){a=this.text;b=this;return false}});this._columnsbydatafield[c]={label:a,column:b};return this._columnsbydatafield[c]},_getcolumnbydatafield:function(c){if(this.__columnsbydatafield==undefined){this.__columnsbydatafield=new Array()}if(this.__columnsbydatafield[c]){return this.__columnsbydatafield[c]}var a=c;var b=null;d.each(this.columns.records,function(){if(this.datafield==c||this.displayfield==c){a=this.text;b=this;return false}});this.__columnsbydatafield[c]=b;return this.__columnsbydatafield[c]},isscrollingvertically:function(){var a=(this.vScrollBar.jqxScrollBar("isScrolling"));return a},_renderrowdetails:function(M,b,Z,c,Q,N){if(b==undefined){return}var G=d(b);var W=0;var H=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;if(this.groupable&&this.groups.length>0){for(var K=0;K<=Q;K++){var Y=d(b.cells[K]);Y[0].innerHTML="";Y[0].className="jqx-grid-details-cell"}}var Y=d(b.cells[W]);if(Y[0].style.display=="none"){var P=b.cells[W];var L=2;var R=W;while(P!=undefined&&P.style.display=="none"&&L<10){P=b.cells[R+L-1];L++}Y=d(P)}if(this.rtl){for(var s=c;s<Q;s++){b.cells[s].innerHTML="";b.cells[s].className="jqx-grid-details-cell"}}Y.css("width","100%");G.height(Z.rowdetailsheight);Y[0].className=M;var O=this.getboundindex(Z);var T=O+"_";if(this._rowdetailscache[T]){var F=this._rowdetailscache[T];var J=F.html;if(this.initrowdetails){if(this._rowdetailscache[T].element){var X=this._rowdetailscache[T].element;var U=Y.coord();var a=this.gridcontent.coord();var m=parseInt(U.top)-parseInt(a.top);var S=parseInt(U.left)-parseInt(a.left);if(this.rtl){S=0}d(X).css("top",m);d(X).css("left",S);d(X).css("display","block");d(X).width(this.host.width()-H);if(this.layoutrowdetails){this.layoutrowdetails(O,X,this.element,this.getrowdata(O))}}}else{Y[0].innerHTML=J}return}Y[0].innerHTML="";if(!this.enablerowdetailsindent){H=0}var V='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+H+'px;">'+Z.rowdetails+"</div>";if(this.rtl){var V='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+0+"px; margin-right: "+H+'px;">'+Z.rowdetails+"</div>"}this._rowdetailscache[T]={id:b.id,html:V};if(this.initrowdetails){var X=d(V)[0];d(this.gridcontent).prepend(d(X));d(X).css("position","absolute");d(X).width(this.host.width()-H);d(X).height(Y.height());var U=Y.coord();d(X).css("z-index",2000);if(this.isTouchDevice()){d(X).css("z-index",99999)}d(X).addClass(this.toThemeProperty("jqx-widget-content"));var U=Y.coord();var a=this.gridcontent.coord();var m=parseInt(U.top)-parseInt(a.top);var S=parseInt(U.left)-parseInt(a.left);d(X).css("top",m);d(X).css("left",S);this.content[0].scrollTop=0;this.content[0].scrollLeft=0;var I=d(d(X).children()[0]);if(I[0].id!=""){I[0].id=I[0].id+O}this.initrowdetails(O,X,this.element,this.getrowdata(O));this._rowdetailscache[T].element=X;this._rowdetailselementscache[O]=X}else{Y[0].innerHTML=V}},_defaultcellsrenderer:function(a,c){if(c.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(a)){a=d.jqx.dataFormat.formatdate(a,c.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(a)){a=d.jqx.dataFormat.formatnumber(a,c.cellsformat,this.gridlocalization)}}}}var b="4px";if(this.rowsheight!=25){b=(this.rowsheight/2-this._cellheight/2);if(b<0){b=4}b+="px"}if(this.enableellipsis){if(c.cellsalign=="center"||c.cellsalign=="middle"){return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+b+';">'+a+"</div>"}if(c.cellsalign=="left"){return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+b+';">'+a+"</div>"}if(c.cellsalign=="right"){return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+b+';">'+a+"</div>"}}if(c.cellsalign=="center"||c.cellsalign=="middle"){return'<div style="text-align: center; margin-top: '+b+';">'+a+"</div>"}return'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+b+"; float: "+c.cellsalign+';">'+a+"</span>"},getcelltext:function(a,c){if(a==null||c==null){return null}var h=this.getcellvalue(a,c);var b=this.getcolumn(c);if(b&&b.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(h)){h=d.jqx.dataFormat.formatdate(h,b.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(h)){h=d.jqx.dataFormat.formatnumber(h,b.cellsformat,this.gridlocalization)}}}}return h},getcelltextbyid:function(a,c){if(a==null||c==null){return null}var h=this.getcellvaluebyid(a,c);var b=this.getcolumn(c);if(b&&b.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(h)){h=d.jqx.dataFormat.formatdate(h,b.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(h)){h=d.jqx.dataFormat.formatnumber(h,b.cellsformat,this.gridlocalization)}}}}return h},_getcellvalue:function(c,a){var b=null;b=a.bounddata[c.datafield];if(c.displayfield!=null){b=a.bounddata[c.displayfield]}if(b==null){b=""}return b},getcell:function(a,l){if(a==null||l==null){return null}var k=parseInt(a);var b=a;var c="";if(!isNaN(k)){b=this.getrowdata(k)}if(b!=null){c=b[l]}return this._getcellresult(c,a,l)},getrenderedcell:function(a,l){if(a==null||l==null){return null}var k=parseInt(a);var b=a;var c="";if(!isNaN(k)){b=this.getrenderedrowdata(k)}if(b!=null){c=b[l]}return this._getcellresult(c,a,l)},_getcellresult:function(o,a,v){var u=this.getcolumn(v);if(u==null||u==undefined){return null}var q=u.getcolumnproperties();var t=q.hidden;var w=q.width;var b=q.pinned;var s=q.cellsalign;var p=q.cellsformat;var c=this.getrowheight(a);if(c==false){return null}return{value:o,row:a,column:v,datafield:v,width:w,height:c,hidden:t,pinned:b,align:s,format:p}},setcellvaluebyid:function(a,m,b,k,c){var l=this.getrowboundindexbyid(a);return this.setcellvalue(l,m,b,k,c)},getcellvaluebyid:function(a,c){var b=this.getrowboundindexbyid(a);return this.getcellvalue(b,c)},setcellvalue:function(aa,p,Y,aj,S){if(aa==null||p==null){return false}var am=parseInt(aa);var ag=am;var ai=aa;if(!isNaN(am)){ai=this.getrowdata(am)}var af=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){af=true}if(this.virtualmode){this._pagescache=new Array()}if(this.sortcache){this.sortcache={}}var W="";var O="";if(ai!=null&&ai[p]!==Y){if(ai[p]===null&&Y===""){return}var an=this._getcolumnbydatafield(p);var al="string";var N=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(N){var ae="";d.each(N,function(){if(this.name==an.displayfield){if(this.type){ae=this.type}return false}});if(ae){al=ae}O=ai[an.displayfield]}W=ai[p];if(!an.nullable||(Y!=null&&Y!==""&&an.nullable&&Y.label===undefined)){if(d.jqx.dataFormat.isNumber(W)||al=="number"||al=="float"||al=="int"||al=="decimal"&&al!="date"){Y=new Number(Y);Y=parseFloat(Y);if(isNaN(Y)){Y=0}}else{if(d.jqx.dataFormat.isDate(W)||al=="date"){if(Y!=""){var Q=Y;Q=new Date(Q);if(Q!="Invalid Date"&&Q!=null){Y=Q}else{if(Q=="Invalid Date"){Q=new Date();Y=Q}}}}}if(ai[p]===Y){if(!this._updating&&aj!=false){this._renderrows(this.virtualsizeinfo)}return}}ai[p]=Y;var a=this.getrenderedrowdata(am,true);if(!a){return}a[p]=Y;if(Y!=null&&Y.label!=null){var an=this._getcolumnbydatafield(p);ai[an.displayfield]=Y.label;a[an.displayfield]=Y.label;ai[p]=Y.value;a[p]=Y.value}if(af){if(ai.dataindex!=undefined){ag=ai.dataindex;this.dataview.cachedrecords[ai.dataindex][p]=Y;if(Y!=null&&Y.label!=undefined){this.dataview.cachedrecords[ai.dataindex][p]=Y.value;this.dataview.cachedrecords[ai.dataindex][an.displayfield]=Y.label}}}}else{if(!this._updating&&aj!=false){this._renderrows(this.virtualsizeinfo)}return false}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates){if(this.source._source._localdata){var R=am;if(af){if(ai.dataindex!=undefined){R=ai.dataindex}}var Z=this.source._source._localdata()[R];this.source.suspendKO=true;var ac=Z;if(ac[p]&&ac[p].subscribe){if(Y!=null&&Y.label!=null){ac[an.displayfield](Y.label);ac[p](Y.value)}else{ac[p](Y)}}else{var N=this.source._source.datafields;var ao=null;var c=null;if(N){d.each(N,function(){if(this.name==p){c=this.map;return false}})}if(c==null){if(Y!=null&&Y.label!=null){ac[p]=Y.value;ac[an.displayfield]=Y.label}else{ac[p]=Y}}else{var ak=c.split(this.source.mapChar);if(ak.length>0){var aq=ac;for(var ab=0;ab<ak.length-1;ab++){aq=aq[ak[ab]]}aq[ak[ak.length-1]]=Y}}this.source._source._localdata.replace(Z,d.extend({},ac))}this.source.suspendKO=false}}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var U=this.getsortinformation();if(this.sortcolumn==p){this.dataview.clearsortdata();this.dataview.sortby(U.sortcolumn,U.sortdirection.ascending)}}else{if(!this._updating){if(this.dataview.sortby){if(this.dataview.sortcache[p]){this.dataview.sortcache[p]=null}}}}this._cellscache=new Array();if(this.source.updaterow&&(S==undefined||S==true)){var X=false;var b=this.that;var P=function(g){if(false==g){b.setcellvalue(aa,p,W,true,false);if(W!=O){b.setcellvalue(aa,b.getcolumn(p).displayfield,O,true,false)}}};try{var ad=this.getrowid(am);X=this.source.updaterow(ad,ai,P);if(X==undefined){X=true}}catch(V){X=false;b.setcellvalue(aa,p,W,true,false);if(W!=O){b.setcellvalue(aa,b.getcolumn(p).displayfield,O,true,false)}return}}var ah=this.vScrollInstance.value;if(this._updating&&aj!=true){aj=false}if(aj==true||aj==undefined){var b=this.that;var ap=function(){if(b.pageable&&b.updatepagerdetails){b.updatepagerdetails();if(b.autoheight||b.autorowheight){b._updatepageviews()}}};var T=this.groupable&&this.groups.length>0;if(af&&!T){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}this.dataview.refresh();this.rendergridcontent(true,false);ap();this._renderrows(this.virtualsizeinfo)}else{if(this.sortcolumn&&!T){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}this.dataview.reloaddata();this.rendergridcontent(true,false);ap();this._renderrows(this.virtualsizeinfo)}else{if(this.groupable&&this.groups.length>0){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}if(this.pageable){if(this.groups.indexOf(p)!=-1){this._pagescache=new Array();this._cellscache=new Array();this.dataview.refresh();this._render(true,true,false,false)}else{this._pagescache=new Array();this._cellscache=new Array();this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}else{this._pagescache=new Array();this._cellscache=new Array();this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}else{this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}}}this.vScrollInstance.setPosition(ah);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}if(this.showfilterrow&&this.filterable&&this.filterrow){var ar=this.getcolumn(p).filtertype;if(ar=="list"||ar=="checkedlist"){this._updatelistfilters(true)}}this._raiseEvent(19,{rowindex:aa,datafield:p,newvalue:Y,value:Y,oldvalue:W});return true},getcellvalue:function(a,l){if(a==null||l==null){return null}var k=parseInt(a);var b=a;if(!isNaN(k)){b=this.getrowdata(k)}if(b!=null){var c=b[l];return c}return null},getrows:function(){var b=this.dataview.records.length;if(this.virtualmode){var a=new Array();for(var l=0;l<this.dataview.records.length;l++){var m=this.dataview.records[l];if(m){a.push(m)}}if(this.dataview.records.length===undefined){d.each(this.dataview.records,function(){var g=this;if(g){a.push(g)}})}var c=0;if(this.pageable){c=this.dataview.pagenum*this.dataview.pagesize}if(a.length>this.source._source.totalrecords-c){return a.slice(0,this.source._source.totalrecords-c)}return a}if(this.dataview.sortdata){var a=new Array();for(var l=0;l<b;l++){var k={};k=d.extend({},this.dataview.sortdata[l].value);a[l]=k}return a}else{return this.dataview.records}},getrowboundindexbyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b){if(b.boundindex){return this.getboundindex(b)}}var c=this.getboundrows();for(var h=0;h<c.length;h++){if(c[h]){if(c[h].uid==a){return h}}}return -1},getrowdatabyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b){return b}else{var c=this.getrowboundindexbyid(a);return this.getboundrows()[c]}return null},getrowdata:function(b){if(b==undefined){b=0}if(this.virtualmode){var a=this.dataview.records[b];return a}else{var a=this.getboundrows()[b];return a}return null},getrenderedrowdata:function(h,b){if(h==undefined){h=0}if(this.virtualmode){var a=this.getrowvisibleindex(h);var c=this.dataview.loadedrecords[a];return c}var a=this.getrowvisibleindex(h);if(a>=0){if(this.groupable&&this.groups.length>0){var c=this.dataview.loadedrecords[a]}else{var c=this.dataview.loadedrecords[a];if(this.pageable&&(b==undefined||b==false)){var c=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+h]}}return c}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(c){var a=this.getdisplayrows();for(var b=0;b<a.length;b++){if(a[b].dataindex!==undefined){if(a[b].dataindex===c){return a[b].visibleindex}}else{if(a[b].boundindex===c){return a[b].visibleindex}}}return -1},getboundindex:function(a){var b=a.boundindex;if(this.groupable&&this.groups.length>0&&this.pageable){b=this.getrowboundindexbyid(a.bounddata.uid)}if(this.dataview.filters.length>0){if(a.bounddata){if(a.bounddata.dataindex!==undefined){b=a.bounddata.dataindex}}else{if(a.dataindex!==undefined){b=a.dataindex}}}return b},getrowboundindex:function(b){var a=this.getdisplayrows()[b];if(a){if(a.dataindex!==undefined){return a.dataindex}return a.boundindex}return -1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var b=this.getvisiblerows();if(b){return b[a]}return null},getloadedrowdata:function(a){var b=this.getloadedrows();if(b){return b[a]}return null},getvisiblerows:function(){if(this.virtualmode){return this.dataview.loadedrecords}if(this.pageable){var a=[];for(var b=0;b<this.dataview.pagesize;b++){var c=this.dataview.loadedrecords[b+(this.dataview.pagesize*this.dataview.pagenum)];if(c==undefined){break}a.push(c)}return a}else{if(this._startboundindex!=undefined&&this._endboundindex!=undefined){var a=[];for(var b=this._startvisibleindex;b<=this._endvisibleindex;b++){var c=this.dataview.loadedrecords[b];if(c==undefined){break}a.push(c)}return a}}return this.dataview.loadedrecords},getrowid:function(h){if(h==undefined){h=0}if(this.virtualmode){var a=this.getrowvisibleindex(h);var b=this.dataview.loadedrecords[a];if(b){return b.uid}}else{var b=null;var c=this.dataview.filters.length>0;if(h>=0&&h<this.dataview.bounditems.length&&!c){if(this.groupable&&this.groups.length>0){var a=this.getrowvisibleindex(h);var b=this.dataview.loadedrecords[a]}else{var a=this.getrowvisibleindex(h);var b=this.dataview.loadedrecords[a]}if(b){return b.uid}}if(this.dataview.filters.length>0){var b=this.getboundrows()[h];if(b){if(b.uid!=null){return b.uid}}return null}}return null},_updateGridData:function(a){var b=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){b=true}if(b){this.dataview.refresh();if(a=="updaterow"){this._render(true,true,false,false,false);this.invalidate()}else{this.render()}}else{if(this.sortcolumn||(this.groupable&&this.groups.length>0)){this.dataview.reloaddata();this.render()}else{this._cellscache=new Array();this._pagescache=new Array();this._renderrows(this.virtualsizeinfo)}}if(this.showfilterrow&&this.filterable&&this.filterrow){this._updatelistfilters(true)}},updaterow:function(c,a,m){if(c!=undefined&&a!=undefined){var l=this.that;var b=false;l._datachanged=true;var o=function(w,x,k){if(w._loading){throw new Error("jqxGrid: "+w.loadingerrormessage);return false}var u=false;if(!d.isArray(x)){u=w.dataview.updaterow(x,k)}else{d.each(x,function(s,q){u=w.dataview.updaterow(this,k[s],false)});w.dataview.refresh()}var t=w.vScrollInstance.value;if(m==undefined||m==true){if(w._updating==undefined||w._updating==false){w._updateGridData("updaterow")}}if(w.showaggregates&&w._updatecolumnsaggregates){w._updatecolumnsaggregates()}if(w.source&&w.source._knockoutdatasource&&!w._updateFromAdapter&&w.autokoupdates){if(w.source._source._localdata){var g=w.dataview.recordsbyid["id"+x];var v=w.dataview.records.indexOf(g);var h=w.source._source._localdata()[v];w.source.suspendKO=true;w.source._source._localdata.replace(h,d.extend({},g));w.source.suspendKO=false}}w.vScrollInstance.setPosition(t);return u};if(this.source.updaterow){var p=function(g){if(g==true||g==undefined){o(l,c,a)}else{b=false}};try{b=this.source.updaterow(c,a,p);if(b==undefined){b=true}}catch(n){b=false}}else{b=o(l,c,a)}return b}return false},deleterow:function(b,l){if(b!=undefined){this._datachanged=true;var a=false;var c=this.that;var m=this.getrowboundindexbyid(b);if(m!=undefined){if(this.selectedrowindexes.indexOf(m)>=0){this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(m),1)}if(this.selectedrowindex==m){this.selectedrowindex=-1}}var o=function(g,h){if(g._loading){throw new Error("jqxGrid: "+g.loadingerrormessage);return false}var q=false;var k=g.vScrollInstance.value;if(!d.isArray(h)){var q=g.dataview.deleterow(h)}else{d.each(h,function(){q=g.dataview.deleterow(this,false)});g.dataview.refresh()}if(g._updating==undefined||g._updating==false){if(l==undefined||l==true){g._render(true,true,false,false);if(g.vScrollBar.css("visibility")!="visible"){g._arrange();g._updatecolumnwidths();g._updatecellwidths();g._renderrows(g.virtualsizeinfo)}}}if(g.source&&g.source._knockoutdatasource&&!g._updateFromAdapter&&g.autokoupdates){if(g.source._source._localdata){g.source.suspendKO=true;g.source._source._localdata.pop(rowdata);g.source.suspendKO=false}}if(g.dataview.sortby){g.dataview.clearsortdata()}g.vScrollInstance.setPosition(k);return q};if(this.source.deleterow){var p=function(g){if(g==true||g==undefined){o(c,b)}};try{this.source.deleterow(b,p);if(a==undefined){a=true}}catch(n){a=false}}else{a=o(c,b)}return a}return false},addrow:function(w,a,s){if(a!=undefined){this._datachanged=true;if(s==undefined){s="last"}var b=false;var c=this.that;if(w==null){var v=this.dataview.filters&&this.dataview.filters.length>0;var p=!v?this.dataview.totalrecords:this.dataview.cachedrecords.length;if(!d.isArray(a)){w=this.dataview.getid(this.dataview.source.id,a,p);while(null!=this.dataview.recordsbyid["id"+w]){w++}}else{var x=new Array();d.each(a,function(k,h){var g=c.dataview.getid(c.dataview.source.id,a[k],p+k);x.push(g)});w=x}}var u=function(l,n,g,m){if(l._loading){throw new Error("jqxGrid: "+l.loadingerrormessage);return false}var h=l.vScrollInstance.value;var k=false;if(!d.isArray(g)){if(g!=undefined&&g.dataindex!=undefined){delete g.dataindex}k=l.dataview.addrow(n,g,m)}else{d.each(g,function(z,y){if(this.dataindex!=undefined){delete this.dataindex}var o=null;if(n!=null&&n[z]!=null){o=n[z]}k=l.dataview.addrow(o,this,m,false)});l.dataview.refresh()}if(l._updating==undefined||l._updating==false){l._render(true,true,false,false);l.invalidate()}if(l.source&&l.source._knockoutdatasource&&!l._updateFromAdapter&&l.autokoupdates){if(l.source._source._localdata){l.source.suspendKO=true;l.source._source._localdata.push(g);l.source.suspendKO=false}}if(l.scrollmode!="deferred"){l.vScrollInstance.setPosition(h)}else{l.vScrollInstance.setPosition(0)}return k};if(this.source.addrow){var t=function(h,g){if(h==true||h==undefined){if(g!=undefined){w=g}u(c,w,a,s)}};try{b=this.source.addrow(w,a,s,t);if(b==undefined){b=true}}catch(q){b=false}if(b==false){return false}}else{u(this,w,a,s)}return b}return false},_findvisiblerow:function(b,a){if(b==undefined){b=parseInt(this.vScrollInstance.value)}var k=0;if(a==undefined||a==null){a=this.rows.records}var l=a.length;while(k<=l){mid=parseInt((k+l)/2);var c=a[mid];if(c==undefined){break}if(c.top>b&&c.top+c.height>b){l=mid-1}else{if(c.top<b&&c.top+c.height<b){k=mid+1}else{return mid;break}}}return -1},_updatecellwidths:function(){var B=this.virtualsizeinfo;if(!B){return}var c=this.that;if(this.gridcontent==undefined){return}if(this.table==undefined){this.table=this.gridcontent.find("#contenttable"+this.element.id)}var y=this.groupable&&this.groups.length>0;var b=0;var x=B.visiblerecords;if(this.pageable&&(this.autoheight||this.autorowheight)){x=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();x=this.dataview.rows.length}}if(!this.groupable&&!this.pageable&&(this.autoheight||this.autorowheight)){x=this.dataview.totalrecords}if(this.rowdetails){x+=this.dataview.pagesize}if(!this.columns.records){return}var a=this.columns.records.length;var E=this.table[0].rows;for(var v=0;v<x;v++){var D=E[v];if(!D){break}var F=D.cells;var z=0;for(var w=0;w<a;w++){var A=this.columns.records[w];var C=A.width;var u=F[w];if(parseInt(u.style.left)!=z){u.style.left=z+"px"}if(parseInt(u.style.width)!=C){u.style.width=C+"px"}if(!(A.hidden&&A.hideable)){z+=parseFloat(C)}else{u.style.display="none"}}if(b==0){this.table.width(parseFloat(z)+2);b=z}}if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}if(this.showfilterrow&&this.filterable&&this._updatefilterrowui){this._updatefilterrowui()}this._updatescrollbarsafterrowsprerender();if(y){this._renderrows(this.virtualsizeinfo)}},_updatescrollbarsafterrowsprerender:function(){var c=this.hScrollBar[0].style.visibility;var a=0;var l=this.vScrollBar[0].style.visibility;if(l=="visible"){a=this.scrollbarsize+3}var k=this.element.style.width;if(k.toString().indexOf("%")>=0){k=this.host.width()}else{k=parseInt(k)}if(parseInt(this.table[0].style.width)-2>k-a){if(c!="visible"){if(!this.autowidth){this.hScrollBar[0].style.visibility="visible"}this._arrange()}if(l=="visible"){if(this.scrollmode!="deferred"&&!this.virtualmode){if(this.virtualsizeinfo){var b=this.virtualsizeinfo.virtualheight-this._gettableheight();if(!isNaN(b)&&b>0){if(c!="hidden"){this.vScrollBar.jqxScrollBar("max",b+this.scrollbarsize+4)}else{this.vScrollBar.jqxScrollBar("max",b)}}}}else{this._updatevscrollbarmax()}}else{a=-2}this.hScrollBar.jqxScrollBar("max",a+this.table.width()-this.host.width())}else{if(c!="hidden"){this.hScrollBar.css("visibility","hidden");this._arrange()}}this._renderhorizontalscroll()},_prerenderrows:function(M){var J=this.that;if(this.prerenderrequired==true){this.prerenderrequired=false;if(this.editable&&this._destroyeditors){this._destroyeditors()}if(this.gridcontent==undefined){return}this.gridcontent.find("#contenttable"+this.element.id).remove();if(this.table!=null){this.table.remove();this.table=null}this.table=d('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>');this.gridcontent.addClass(this.toTP("jqx-grid-content"));this.gridcontent.addClass(this.toTP("jqx-widget-content"));this.gridcontent.append(this.table);var K=this.groupable&&this.groups.length>0;var L=0;this.table[0].rows=new Array();var P=this.toTP("jqx-grid-cell");if(K){P=" "+this.toTP("jqx-grid-group-cell")}var E=M.visiblerecords;if(this.pageable&&(this.autoheight||this.autorowheight)){E=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();E=this.dataview.rows.length;if(E<this.dataview.pagesize){E=this.dataview.pagesize}}}if(!this.pageable&&(this.autoheight||this.autorowheight)){E=this.dataview.totalrecords}if(this.groupable&&(this.autoheight||this.autorowheight)&&!this.pageable){E=this.dataview.rows.length}if(this.rowdetails){if(this.autoheight||this.autorowheight){E+=this.dataview.pagesize}else{E+=E}}if(!this.columns.records){return}var a=this.columns.records.length;if(d.jqx.browser.msie&&d.jqx.browser.version>8){this.table.css("opacity","0.99")}if(d.jqx.browser.mozilla){}if(navigator.userAgent.indexOf("Safari")!=-1){this.table.css("opacity","0.99")}var H=d.jqx.browser.msie&&d.jqx.browser.version<8;if(H){this.host.attr("hideFocus","true")}var Q=this.tableZIndex;if(E*a>Q){Q=E*a}var S=this.dataview.records.length==0;var N=this.isTouchDevice();var D="";this._hiddencolumns=false;for(var b=0;b<E;b++){var G='<div role="row" style="position: relative; height='+this.rowsheight+'px;" id="row'+b+this.element.id+'">';if(H){var G='<div role="row" style="position: relative; z-index: '+Q+"; height:"+this.rowsheight+'px;" id="row'+b+this.element.id+'">';Q--}var T=0;for(var C=0;C<a;C++){var c=this.columns.records[C];var F=c.width;if(F<c.minwidth){F=c.minwidth}if(F>c.maxwidth){F=c.maxwidth}if(this.rtl){var I=Q-a+2*C;var V='<div role="gridcell" style="left: '+T+"px; z-index: "+I+"; width:"+F+"px;";Q--}else{var V='<div role="gridcell" style="left: '+T+"px; z-index: "+Q--+"; width:"+F+"px;"}if(!(c.hidden&&c.hideable)){T+=F}else{V+="display: none;";this._hiddencolumns=true;Q++}V+='" class="'+P+'"></div>';G+=V}if(L==0){this.table.width(parseInt(T)+2);L=T}G+="</div>";D+=G}if(J.WinJS){MSApp.execUnsafeLocalFunction(function(){J.table.html(D)})}else{J.table[0].innerHTML=D}this.table[0].rows=new Array();var O=this.table.children();for(var b=0;b<E;b++){var R=O[b];this.table[0].rows.push(R);R.cells=new Array();var U=d(R).children();for(var C=0;C<a;C++){R.cells.push(U[C])}}if(E==0){var T=0;if(this.showemptyrow){var G=d('<div style="position: relative;" id="row0'+this.element.id+'"></div>');this.table.append(G);G.height(this.rowsheight);this.table[0].rows[0]=G[0];this.table[0].rows[0].cells=new Array()}for(var C=0;C<a;C++){var c=this.columns.records[C];var F=c.width;if(this.showemptyrow){var V=d('<div style="position: absolute; height: 100%; left: '+T+"px; z-index: "+Q--+"; width:"+F+'px;" class="'+P+'"></div>');V.height(this.rowsheight);G.append(V);this.table[0].rows[0].cells[C]=V[0]}if(F<c.minwidth){F=c.minwidth}if(F>c.maxwidth){F=c.maxwidth}if(!(c.hidden&&c.hideable)){T+=F}}this.table.width(parseInt(T)+2);L=T}this._updatescrollbarsafterrowsprerender();if(this.rendered){this.rendered("rows")}this._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var Q=null;var c=null;this.tableheight=null;var H=this.that;var T=false;var U=false;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){Q=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){Q=this.width}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){Q=this.width;T=true}if(this.autowidth){var R=0;for(var P=0;P<this.columns.records.length;P++){var ab=this.columns.records[P].width;if(ab=="auto"){ab=this._measureElementWidth(this.columns.records[P].text);R+=ab}else{R+=ab}}if(this.vScrollBar.css("visibility")!="hidden"){R+=this.scrollbarsize+4}Q=R;this.width=Q}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){c=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){c=this.height}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){c=this.height;U=true}var W=function(){var h=0;var g=H.showheader?H.columnsheader!=null?H.columnsheader.height()+2:0:0;h+=g;if(H.pageable){h+=H.pagerheight}if(H._groupsheader()){h+=H.groupsheaderheight}if(H.showtoolbar){h+=H.toolbarheight}if(H.showstatusbar){h+=H.statusbarheight}if(H.hScrollBar[0].style.visibility=="visible"){h+=20}return h};if(this.autoheight&&this.virtualsizeinfo){if(this.pageable&&this.gotopage){var N=0;c=N+(this._pageviews[0]?this._pageviews[0].height:0);c+=W();if(this.showemptyrow&&this.dataview.totalrecords==0){c+=this.rowsheight}}else{var N=this.host.height()-this._gettableheight();if(this._pageviews.length>0){c=N+this._pageviews[this._pageviews.length-1].height+this._pageviews[this._pageviews.length-1].top;this.vScrollBar[0].style.visibility="hidden"}else{c=W();if(this.showemptyrow){c+=this.rowsheight}}}}else{if(this.autoheight){c=this.dataview.totalrecords*this.rowsheight;if(this._loading){c=250;this.dataloadelement.height(c)}c+=W();if(c>10000){c=10000}}}if(Q!=null){Q=parseInt(Q);if(!T){if(this.element.style.width!=parseInt(this.width)+"px"){this.element.style.width=parseInt(this.width)+"px"}}else{this.element.style.width=this.width}if(T){Q=this.host.width();if(Q<=2){Q=600;this.host.width(Q)}if(!this._oldWidth){this._oldWidth=Q}}}else{this.host.width(250)}if(c!=null){if(!U){c=parseInt(c)}if(!U){if(this.element.style.height!=parseInt(c)+"px"){this.element.style.height=parseInt(c)+"px"}}else{this.element.style.height=this.height}if(U&&!this.autoheight){c=this.host.height();if(c==0){c=400;this.host.height(c)}if(!this._oldHeight){this._oldHeight=c}}}else{this.host.height(250)}if(this.autoheight){this.tableheight=null;this._gettableheight()}var w=0;if(this.showtoolbar){this.toolbar.width(Q);this.toolbar.height(this.toolbarheight-1);this.toolbar.css("top",0);w+=this.toolbarheight;c-=parseInt(this.toolbarheight)}else{this.toolbar[0].style.height="0px"}if(this.showstatusbar){if(this.showaggregates){this.statusbar.width(!this.table?Q:Math.max(Q,this.table.width()))}else{this.statusbar.width(Q)}this.statusbar.height(this.statusbarheight)}else{this.statusbar[0].style.height="0px"}if(this._groupsheader()){this.groupsheader.width(Q);this.groupsheader.height(this.groupsheaderheight);this.groupsheader.css("top",w);var b=this.groupsheader.height()+1;w+=b;if(c>b){c-=parseInt(b)}}else{if(this.groupsheader[0].style.width!=Q+"px"){this.groupsheader[0].style.width=parseInt(Q)+"px"}this.groupsheader[0].style.height="0px";if(this.groupsheader[0].style.top!=w+"px"){this.groupsheader.css("top",w)}var b=this.showgroupsheader&&this.groupable?this.groupsheaderheight:0;var aa=w+b+"px";if(this.content[0].style.top!=aa){this.content.css("top",w+this.groupsheaderheight)}}var ac=this.scrollbarsize;if(isNaN(ac)){ac=parseInt(ac);if(isNaN(ac)){ac="17px"}else{ac=ac+"px"}}ac=parseInt(ac);var L=4;var Y=2;var X=0;if(this.vScrollBar[0].style.visibility=="visible"){X=ac+L}if(this.hScrollBar[0].style.visibility=="visible"){Y=ac+L+2}var M=0;if(this.pageable){M=this.pagerheight;Y+=this.pagerheight}if(this.showstatusbar){Y+=this.statusbarheight;M+=this.statusbarheight}if(this.hScrollBar[0].style.height!=ac+"px"){this.hScrollBar[0].style.height=parseInt(ac)+"px"}if(this.hScrollBar[0].style.top!=w+c-L-ac-M+"px"||this.hScrollBar[0].style.left!="0px"){this.hScrollBar.css({top:w+c-L-ac-M+"px",left:"0px"})}var O=this.hScrollBar[0].style.width;var V=false;var K=false;if(X==0){if(O!=(Q-2)+"px"){this.hScrollBar.width(Q-2);V=true}}else{if(O!=(Q-ac-L)+"px"){this.hScrollBar.width(Q-ac-L+"px");V=true}}if(!this.autoheight){if(this.vScrollBar[0].style.width!=ac+"px"){this.vScrollBar.width(ac);K=true}if(this.vScrollBar[0].style.height!=parseInt(c)-Y+"px"){this.vScrollBar.height(parseInt(c)-Y+"px");K=true}if(this.vScrollBar[0].style.left!=parseInt(Q)-parseInt(ac)-L+"px"||this.vScrollBar[0].style.top!=w+"px"){this.vScrollBar.css({left:parseInt(Q)-parseInt(ac)-L+"px",top:w})}}if(this.rtl){this.vScrollBar.css({left:"0px",top:w});if(this.vScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({left:ac+2})}}var S=this.vScrollInstance;S.disabled=this.disabled;if(!this.autoheight){if(K){S.refresh()}}var a=this.hScrollInstance;a.disabled=this.disabled;if(V){a.refresh()}if(this.autowidth){this.hScrollBar[0].style.visibility="hidden"}this.statusbarheight=parseInt(this.statusbarheight);this.toolbarheight=parseInt(this.toolbarheight);var J=function(g){if((g.vScrollBar[0].style.visibility=="visible")&&(g.hScrollBar[0].style.visibility=="visible")){g.bottomRight[0].style.visibility="visible";g.bottomRight.css({left:1+parseInt(g.vScrollBar.css("left")),top:parseInt(g.hScrollBar.css("top"))});if(g.rtl){g.bottomRight.css("left","0px")}g.bottomRight.width(parseInt(ac)+3);g.bottomRight.height(parseInt(ac)+4);if(g.showaggregates){g.bottomRight.css("z-index",99);g.bottomRight.height(parseInt(ac)+4+g.statusbarheight);g.bottomRight.css({top:parseInt(g.hScrollBar.css("top"))-g.statusbarheight})}}else{g.bottomRight[0].style.visibility="hidden"}};J(this);if(this.content[0].style.width!=Q-X+"px"){this.content.width(Q-X)}if(this.content[0].style.height!=c-Y+3+"px"){this.content.height(c-Y+3)}if(this.content[0].style.top!=w+"px"){this.content.css("top",w)}if(this.rtl){this.content.css("left",X);if(this.table){var G=this.table.width();if(G<Q-X){this.content.css("left",Q-G)}}}if(this.showstatusbar){this.statusbar.css("top",w+c-this.statusbarheight-(this.pageable?this.pagerheight:0));if(this.showaggregates){if(this.hScrollBar.css("visibility")=="visible"){this.hScrollBar.css({top:w+c-L-ac-M+this.statusbarheight+"px"});this.statusbar.css("top",1+w+c-ac-5-this.statusbarheight-(this.pageable?this.pagerheight:0))}J(this)}if(this.rtl){if(this.hScrollBar.css("visibility")!="visible"){this.statusbar.css("left",this.content.css("left"))}else{this.statusbar.css("left","0px")}}}if(this.pageable){this.pager.width(Q);this.pager.height(this.pagerheight);this.pager.css("top",w+c-this.pagerheight-1)}else{this.pager[0].style.height="0px"}if(this.table!=null){var Z=-2;if(this.vScrollBar[0].style.visibility=="visible"){Z=this.scrollbarsize+3}if(this.hScrollBar[0].style.visibility=="visible"){var I=Z+this.table.width()-this.host.width();if(I>=0){this.hScrollBar.jqxScrollBar("max",I)}if(this.hScrollBar[0].style.visibility=="visible"&&I==0){this.hScrollBar[0].style.visibility="hidden";this._arrange()}}}if(Q!=parseInt(this.dataloadelement[0].style.width)){this.dataloadelement[0].style.width=this.element.style.width}if(c!=parseInt(this.dataloadelement[0].style.height)){this.dataloadelement[0].style.height=this.element.style.height}this._hostwidth=Q},destroy:function(){delete d.jqx.dataFormat.datescache;delete this.gridlocalization;d.jqx.utilities.resize(this.host,null,true);if(this.table&&this.table[0]){var t=this.table[0].rows.length;for(var v=0;v<t;v++){var a=this.table[0].rows[v];var b=a.cells;var y=b.length;for(var w=0;w<y;w++){d(a.cells[w]).remove();a.cells[w]=null;delete a.cells[w]}a.cells=null;if(a.cells){delete a.cells}d(this.table[0].rows[v]).remove();this.table[0].rows[v]=null}try{delete this.table[0].rows}catch(s){}this.table.remove();delete this.table}if(this.columns&&this.columns.records){for(var v=0;v<this.columns.records.length;v++){var z=this.columns.records[v];this._removecolumnhandlers(this.columns.records[v]);if(z.element){d(z.element).remove();d(z.sortasc).remove();d(z.sortdesc).remove();d(z.filtericon).remove();d(z.menu).remove();z.element=null;z.uielement=null;z.sortasc=null;z.sortdesc=null;z.filtericon=null;z.menu=null;delete z.element;delete z.uielement;delete z.sortasc;delete z.sortdesc;delete z.filtericon;delete z.menu;delete this.columnsrow[0].cells[v]}}try{delete this.columnsrow[0].cells}catch(s){}delete this.columnsrow}jQuery.removeData(document.body,"contextmenu"+this.element.id);if(this.host.jqxDropDownList){if(this._destroyfilterpanel){this._destroyfilterpanel()}}if(this.editable&&this._destroyeditors){this._destroyeditors()}if(this.filterable&&this._destroyedfilters&&this.showfilterrow){this._destroyedfilters()}if(this.host.jqxMenu){if(this.gridmenu){this.removeHandler(d(document),"click.menu"+this.element.id);this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu=null}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList("destroy");this.pagershowrowscombo=null}if(this.pagerrightbutton){this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.pagerrightbutton.jqxButton("destroy");this.pagerrightbutton=null}if(this.pagerleftbutton){this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.jqxButton("destroy");this.removeHandler(d(document),"mouseup.pagerbuttons"+this.element.id);this.pagerleftbutton=null}this.removeHandler(d(document),"selectstart."+this.element.id);this.removeHandler(d(document),"mousedown.resize"+this.element.id);this.removeHandler(d(document),"mouseup.resize"+this.element.id);this.removeHandler(d(document),"mousemove.resize"+this.element.id);if(this.isTouchDevice()){var u=d.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var A=d.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var x=d.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(d(document),u);this.removeHandler(d(document),A);this.removeHandler(d(document),x)}this.removeHandler(d(document),"mousedown.reorder"+this.element.id);this.removeHandler(d(document),"mouseup.reorder"+this.element.id);this.removeHandler(d(document),"mousemove.reorder"+this.element.id);if(this.isTouchDevice()){var u=d.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;var A=d.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;var x=d.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(d(document),u);this.removeHandler(d(document),A);this.removeHandler(d(document),x)}this.removeHandler(d(window),"resize."+this.element.id);if(this.groupable){var u="mousemove.grouping"+this.element.id;var A="mousedown.grouping"+this.element.id;var x="mouseup.grouping"+this.element.id;this.removeHandler(d(document),u);this.removeHandler(d(document),A);this.removeHandler(d(document),x)}if(this.columnsreorder){var u="mousemove.reorder"+this.element.id;var A="mousedown.reorder"+this.element.id;var x="mouseup.reorder"+this.element.id;this.removeHandler(d(document),u);this.removeHandler(d(document),A);this.removeHandler(d(document),x);delete this.columnsbounds}if(this.content){this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"scroll")}this._removeHandlers();this.hScrollInstance.destroy();this.vScrollInstance.destroy();this.hScrollBar.remove();this.vScrollBar.remove();this._clearcaches();delete this.hScrollInstance;delete this.vScrollInstance;delete this.visiblerows;delete this.hittestinfo;delete this.rows;delete this.columns;delete this.columnsbydatafield;delete this.pagescache;delete this.pageviews;delete this.cellscache;delete this.heights;delete this.hiddens;delete this.hiddenboundrows;delete this.heightboundrows;delete this.detailboundrows;delete this.details;delete this.expandedgroups;delete this._rowdetailscache;delete this._rowdetailselementscache;delete this.columnsmenu;this.columnsheader.remove();delete this.columnsheader;this.selectionarea.remove();delete this.selectionarea;if(this.menuitemsarray&&this.menuitemsarray.length){var c=this.menuitemsarray.length;for(var v=0;v<c;v++){d(this.menuitemsarray[v]).remove()}}delete this.menuitemsarray;this.dataview._clearcaches();this.content.removeClass();this.content.remove();this.content=null;delete this.content;this.vScrollBar=null;this.hScrollBar=null;delete this.hScrollBar;delete this.hScrollBar;this.gridcontent.remove();delete this.gridcontent;if(this.gridmenu){this.gridmenu=null;delete this.gridmenu}delete this._mousemovefunc;delete this._mousewheelfunc;this.dataview.destroy();delete this.dataview;this.bottomRight.remove();delete this.bottomRight;this.wrapper.remove();delete this.wrapper;if(this.pagerdiv){this.pagerdiv.remove();delete this.pagerdiv}if(this.pagerpageinput){this.pagerpageinput.remove();delete this.pagerpageinput}if(this.pagergoto){this.pagergoto.remove();delete this.pagergoto}if(this.pagershowrows){this.pagershowrows.remove();delete this.pagershowrows}if(this.pagerfirstbutton){this.pagerfirstbutton.remove();delete this.pagerfirstbutton}if(this.pagerlastbutton){this.pagerlastbutton.remove();delete this.pagerlastbutton}if(this.pagerbuttons){this.pagerbuttons.remove();delete this.pagerbuttons}if(this.pagerdetails){this.pagerdetails.remove();delete this.pagerdetails}if(this.pagergotoinput){this.pagergotoinput.remove();delete this.pagergotoinput}this.pager.remove();delete this.pager;this.groupsheader.remove();delete this.groupsheader;this.dataloadelement.remove();delete this.dataloadelement;this.toolbar.remove();delete this.toolbar;this.statusbar.remove();delete this.statusbar;this.host.removeData();this.host.removeClass();this.host.remove();this.host=null;delete this.host;delete this.element;delete this.set;delete this.get;delete this.that;delete this.call},_initializeColumns:function(){var t=this.source?this.source.datafields:null;if(t==null&&this.source&&this.source._source){t=this.source._source.datafields}var p=t?t.length>0:false;if(this.autogeneratecolumns){var c=new Array();if(t){d.each(t,function(){var g={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};c.push(g)})}else{if(this.source.records.length>0){var a=this.source.records[0];for(obj in a){if(obj!="uid"){var s={width:100,datafield:obj,text:obj};c.push(s)}}}}this.columns=c}if(this.columns&&this.columns.records){for(var q=0;q<this.columns.records.length;q++){this._removecolumnhandlers(this.columns.records[q])}}var o=this.that;var u=new d.jqx.collection(this.element);var v=0;this._haspinned=false;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.groupable){d.each(this.groups,function(g){var h=new f(o,this);h.visibleindex=v++;h.width=o.groupindentwidth;u.add(h);h.grouped=true;h.filterable=false;h.sortable=false;h.editable=false;h.resizable=false;h.draggable=false})}if(this.rowdetails&&this.showrowdetailscolumn){var s=new f(o,this);s.visibleindex=v++;s.width=o.groupindentwidth;s.pinned=true;s.editable=false;s.filterable=false;s.draggable=false;s.groupable=false;s.resizable=false;u.add(s);o._haspinned=true}if(this.selectionmode=="checkbox"){var s=new f(o,null);s.visibleindex=v++;s.width=o.groupindentwidth;s.checkboxcolumn=true;s.editable=false;s.columntype="checkbox";s.groupable=false;s.draggable=false;s.filterable=false;s.resizable=false;s.datafield="_checkboxcolumn";u.add(s)}var b=new Array();d.each(this.columns,function(g){if(o.columns[g]!=undefined){var h=new f(o,this);h.visibleindex=v++;if(this.dataField!=undefined){this.datafield=this.dataField}if(this.pinned){o._haspinned=true}if(this.datafield==null){if(o.source&&o.source._source&&(o.source._source.datatype=="array")){if(!p){if(!o.source._source.datafields){o.source._source.datafields=new Array();o.source._source.datafields.push({name:g.toString()})}else{o.source._source.datafields.push({name:g.toString()})}}this.datafield=g.toString();this.displayfield=g.toString();h.datafield=this.datafield;h.displayfield=this.displayfield}}else{if(b[this.datafield]){throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");o.host.remove();return false}else{b[this.datafield]=true}}u.add(h)}});if(this.rtl){u.records.reverse()}this.columns=u},_initializeRows:function(){var a=new d.jqx.collection(this.element);if(this.rows){this.rows.clear()}this.rows=a},_raiseEvent:function(a,k){if(k==undefined){k={owner:null}}if(this._trigger===false){return}var c=this.events[a];if(!this._camelCase){c=c.toLowerCase()}args=k;args.owner=this;var b=new jQuery.Event(c);b.owner=this;b.args=args;var l=this.host.trigger(b);k=b.args;return l},wheel:function(b,c){if(c.autoheight&&c.hScrollBar.css("visibility")!="visible"){b.returnValue=true;return true}var a=0;if(!b){b=window.event}if(b.originalEvent&&b.originalEvent.wheelDelta){b.wheelDelta=b.originalEvent.wheelDelta}if(b.wheelDelta){a=b.wheelDelta/120}else{if(b.detail){a=-b.detail/3}}if(a){var h=c._handleDelta(a);if(h){if(b.preventDefault){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}}if(h){h=false;b.returnValue=h;return h}else{return false}}if(b.preventDefault){b.preventDefault()}b.returnValue=false},_handleDelta:function(a){if(this.vScrollBar.css("visibility")!="hidden"){var b=this.vScrollInstance.value;if(a<0){this.scrollDown()}else{this.scrollUp()}var c=this.vScrollInstance.value;if(b!=c){return true}}else{if(this.hScrollBar.css("visibility")!="hidden"){var b=this.hScrollInstance.value;if(a>0){if(this.hScrollInstance.value>2*this.horizontalscrollbarstep){this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep)}else{this.hScrollInstance.setPosition(0)}}else{if(this.hScrollInstance.value<this.hScrollInstance.max){this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep)}else{this.hScrollInstance.setPosition(this.hScrollInstance.max)}}var c=this.hScrollInstance.value;if(b!=c){return true}}}return false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var a=this.vScrollInstance;if(a.value+this.rowsheight<=a.max){a.setPosition(parseInt(a.value)+this.rowsheight)}else{a.setPosition(a.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var a=this.vScrollInstance;if(a.value-this.rowsheight>=a.min){a.setPosition(parseInt(a.value)-this.rowsheight)}else{a.setPosition(a.min)}},_removeHandlers:function(){var b=this.that;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.vScrollInstance.valuechanged=null;this.hScrollInstance.valuechanged=null;var a="mousedown.jqxgrid";if(this.isTouchDevice()){a=d.jqx.mobile.getTouchEventName("touchend")}this.removeHandler(this.host,"dblclick.jqxgrid");this.removeHandler(this.host,a);this.removeHandler(this.content,"mousemove",this._mousemovefunc);this.removeHandler(this.host,"mouseleave.jqxgrid");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"scroll");this.removeHandler(this.content,"selectstart."+this.element.id);this.removeHandler(this.host,"dragstart."+this.element.id);this.removeHandler(this.host,"keydown.edit"+this.element.id);this.removeHandler(d(document),"keydown.edit"+this.element.id);this.removeHandler(d(document),"keyup.edit"+this.element.id);if(this._mousemovedocumentfunc){this.removeHandler(d(document),"mousemove.selection"+this.element.id,this._mousemovedocumentfunc)}this.removeHandler(d(document),"mouseup.selection"+this.element.id);if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}if(this.editable){this.removeHandler(d(document),"mousedown.gridedit"+this.element.id)}if(this.host.off){this.content.off("mousemove");this.host.off("mousewheel")}},_addHandlers:function(){var l=this.that;var m=l.isTouchDevice();if(!m){this.addHandler(this.host,"dragstart."+this.element.id,function(g){return false})}if(this.editable){this.addHandler(d(document),"mousedown.gridedit"+this.element.id,function(A){if(l.editable&&l.begincelledit){if(l.editcell){if(!l.vScrollInstance.isScrolling()&&!l.vScrollInstance.isScrolling()){var g=l.host.coord();var h=l.host.width();var z=l.host.height();var F=false;var C=false;var H=false;if(A.pageY<g.top||A.pageY>g.top+z){F=true;C=true}if(A.pageX<g.left||A.pageX>g.left+h){F=true;H=true}if(F){var G=false;if(l.editcell&&l.editcell.editor){switch(l.editcell.columntype){case"datetimeinput":if(l.editcell.editor.jqxDateTimeInput&&l.editcell.editor.jqxDateTimeInput("container")&&l.editcell.editor.jqxDateTimeInput("container")[0].style.display=="block"){var I=l.editcell.editor.jqxDateTimeInput("container").coord().top;var D=l.editcell.editor.jqxDateTimeInput("container").coord().top+l.editcell.editor.jqxDateTimeInput("container").height();if(C&&(A.pageY<I||A.pageY>D)){F=true;l.editcell.editor.jqxDateTimeInput("close")}else{return}}break;case"combobox":if(l.editcell.editor.jqxComboBox&&l.editcell.editor.jqxComboBox("container")&&l.editcell.editor.jqxComboBox("container")[0].style.display=="block"){var I=l.editcell.editor.jqxComboBox("container").coord().top;var D=l.editcell.editor.jqxComboBox("container").coord().top+l.editcell.editor.jqxComboBox("container").height();if(C&&(A.pageY<I||A.pageY>D)){F=true;l.editcell.editor.jqxComboBox("close")}else{return}}break;case"dropdownlist":if(l.editcell.editor.jqxDropDownList&&l.editcell.editor.jqxDropDownList("container")&&l.editcell.editor.jqxDropDownList("container")[0].style.display=="block"){var I=l.editcell.editor.jqxDropDownList("container").coord().top;var D=l.editcell.editor.jqxDropDownList("container").coord().top+l.editcell.editor.jqxDropDownList("container").height();if(C&&(A.pageY<I||A.pageY>D)){F=true;l.editcell.editor.jqxDropDownList("close")}else{return}}break;case"template":case"custom":var B=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"];var x=function(o){var p=l.editcell.editor.data();if(p[o]&&p[o].instance.container&&p[o].instance.container[0].style.display=="block"){var n=p[o].instance;var s=n.container.coord().top;var q=n.container.coord().top+n.container.height();if(C&&(A.pageY<s||A.pageY>q)){F=true;n.close();return true}else{return false}}};for(var y=0;y<B.length;y++){var E=x(B[y]);if(E==false){return}}break}}l.endcelledit(l.editcell.row,l.editcell.column,false,true);l._oldselectedcell=null}}}}})}this.vScrollInstance.valuechanged=function(g){if(l.virtualsizeinfo){l._closemenu();if(l.scrollmode!="physical"){l._renderrows(l.virtualsizeinfo);l.currentScrollValue=g.currentValue}else{if(l.currentScrollValue!=undefined&&Math.abs(l.currentScrollValue-g.currentValue)>=5){l._renderrows(l.virtualsizeinfo);l.currentScrollValue=g.currentValue}else{l._renderrows(l.virtualsizeinfo);l.currentScrollValue=g.currentValue}}if(!l.pageable&&!l.groupable&&l.dataview.virtualmode){if(l.loadondemandupdate){clearTimeout(l.loadondemandupdate)}l.loadondemandupdate=setTimeout(function(){l.loadondemand=true;l._renderrows(l.virtualsizeinfo)},100)}if(m){l._lastScroll=new Date()}}};this.hScrollInstance.valuechanged=function(g){if(l.virtualsizeinfo){l._closemenu();var h=function(){l._renderhorizontalscroll();l._renderrows(l.virtualsizeinfo);if(l.editcell&&!l.editrow){if(l._showcelleditor&&l.editcell.editing){if(!l.hScrollInstance.isScrolling()){l._showcelleditor(l.editcell.row,l.getcolumn(l.editcell.column),l.editcell.element,l.editcell.init)}}}};var n=l._browser==undefined?l._isIE10():l._browser;if(navigator&&navigator.userAgent.indexOf("Safari")!=-1){if(l._hScrollTimer){clearTimeout(l._hScrollTimer)}l._hScrollTimer=setTimeout(function(){h()},1)}else{if(d.jqx.browser.msie){if(l._hScrollTimer){clearTimeout(l._hScrollTimer)}l._hScrollTimer=setTimeout(function(){h()},0.01)}else{h()}}if(m){l._lastScroll=new Date()}}};this._mousewheelfunc=this._mousewheelfunc||function(g){if(!l.editcell&&l.enablemousewheel){l.wheel(g,l);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var b="mousedown.jqxgrid";if(m){b=d.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.host,b,function(g){if(l.isTouchDevice()){l._newScroll=new Date();if(l._newScroll-l._lastScroll<500){return false}if(d(g.target).ischildof(l.vScrollBar)){return false}if(d(g.target).ischildof(l.hScrollBar)){return false}}l._mousedown=new Date();var h=l._handlemousedown(g,l);if(l.isNestedGrid){if(!l.resizablecolumn&&!l.columnsreorder){g.stopPropagation()}}l._lastmousedown=new Date();return h});if(!m){this.addHandler(this.host,"dblclick.jqxgrid",function(g){if(l.editable&&l.begincelledit&&l.editmode=="dblclick"){l._handledblclick(g,l)}else{if(d.jqx.browser.msie&&d.jqx.browser.version<9){var h=l._handlemousedown(g,l)}}l.mousecaptured=false;l._lastmousedown=new Date();return true});this._mousemovefunc=function(g){if(l._handlemousemove){return l._handlemousemove(g,l)}};this.addHandler(this.content,"mousemove",this._mousemovefunc);if(l._handlemousemoveselection){this._mousemovedocumentfunc=function(g){if(l._handlemousemoveselection){return l._handlemousemoveselection(g,l)}};this.addHandler(d(document),"mousemove.selection"+this.element.id,this._mousemovedocumentfunc)}this.addHandler(d(document),"mouseup.selection"+this.element.id,function(g){if(l._handlemouseupselection){l._handlemouseupselection(g,l)}})}try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var a=null;if(window.parent&&document.referrer){a=document.referrer}if(a&&a.indexOf(document.location.host)!=-1){var c=function(g){if(l._handlemouseupselection){l._handlemouseupselection(g,l)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}}}catch(k){}this.focused=false;if(!m){this.addHandler(this.content,"mouseenter",function(g){l.focused=true;if(l.wrapper){l.wrapper.attr("tabindex",1);l.content.attr("tabindex",2)}if(l._overlayElement){if(l.vScrollInstance.isScrolling()||l.hScrollInstance.isScrolling()){l._overlayElement[0].style.visibility="visible"}else{l._overlayElement[0].style.visibility="hidden"}}});this.addHandler(this.content,"mouseleave",function(g){if(l._handlemousemove){if(l.enablehover){l._clearhoverstyle()}}if(l._overlayElement){l._overlayElement[0].style.visibility="hidden"}l.focused=false});if(this.groupable||this.columnsreorder){this.addHandler(d(document),"selectstart."+this.element.id,function(g){if(l.__drag===true){return false}})}this.addHandler(this.content,"selectstart."+this.element.id,function(g){if(l.enablebrowserselection){return true}if(l.showfilterrow){if(d(g.target).ischildof(l.filterrow)){return true}}if(!l.editcell){return false}if(g.stopPropagation){g.stopPropagation()}});this.addHandler(d(document),"keyup.edit"+this.element.id,function(g){l._keydown=false});this.addHandler(d(document),"keydown.edit"+this.element.id,function(h){l._keydown=true&&!l.editcell;var n=h.charCode?h.charCode:h.keyCode?h.keyCode:0;if(l.handlekeyboardnavigation){var g=l.handlekeyboardnavigation(h);if(g==true){return false}}if(l.editable&&l.editcell){if(n==13||n==27){if(l._handleeditkeydown){o=l._handleeditkeydown(h,l)}}}if(n==27){l.mousecaptured=false;if(l.selectionarea.css("visibility")=="visible"){l.selectionarea.css("visibility","hidden")}}if(d.jqx.browser.msie&&d.jqx.browser.version<8&&l.focused&&!l.isNestedGrid){if(n==13&&o==false){return o}var o=true;var n=h.charCode?h.charCode:h.keyCode?h.keyCode:0;if(!l.editcell&&l.editable&&l.editmode!="programmatic"){if(l._handleeditkeydown){o=l._handleeditkeydown(h,l)}}if(o&&l.keyboardnavigation&&l._handlekeydown){o=l._handlekeydown(h,l);if(!o){if(h.preventDefault){h.preventDefault()}if(h.stopPropagation!=undefined){h.stopPropagation()}}return o}}return true});this.addHandler(this.host,"keydown.edit"+this.element.id,function(h){var n=true;if(l.handlekeyboardnavigation){var g=l.handlekeyboardnavigation(h);if(g==true){return false}}if(l.editable&&l.editmode!="programmatic"){if(l._handleeditkeydown){n=l._handleeditkeydown(h,l);if(l.isNestedGrid){h.stopPropagation()}}}if(!(d.jqx.browser.msie&&d.jqx.browser.version<8)){if(n&&l.keyboardnavigation&&l._handlekeydown){n=l._handlekeydown(h,l);if(l.isNestedGrid){h.stopPropagation()}}}else{if(l.isNestedGrid){if(n&&l.keyboardnavigation&&l._handlekeydown){n=l._handlekeydown(h,l);h.stopPropagation()}}}if(!n){if(h.preventDefault){h.preventDefault()}if(h.stopPropagation!=undefined){h.stopPropagation()}}return n})}},_hittestrow:function(F,b){if(this.vScrollInstance==null||this.hScrollInstance==null){return}if(F==undefined){F=0}if(b==undefined){b==0}var w=this.vScrollInstance;var x=this.hScrollInstance;var C=w.value;if(this.vScrollBar.css("visibility")!="visible"){C=0}var v=x.value;if(this.hScrollBar.css("visibility")!="visible"){v=0}if(this.scrollmode=="deferred"&&this._newmax!=null){if(C>this._newmax){C=this._newmax}}var a=parseInt(C)+b;var y=parseInt(v)+F;if(this.visiblerows==null){return}if(this.visiblerows.length==0){return}var D=false;var z=this._findvisiblerow(a,this.visiblerows);if(z>=0){var t=this.visiblerows[z];var E=this.rowdetails&&t.rowdetails;var u=!t.rowdetailshidden;if(E){var B=this.visiblerows[z-1];if(B==t){t=B;z--}if(u){var A=d(this.hittestinfo[z].visualrow).position().top+parseInt(this.table.css("top"));var c=d(this.hittestinfo[z].visualrow).height();if(!(b>=A&&b<=A+c)){z++;t=this.visiblerows[z];D=true}}}}return{index:z,row:t,details:D}},getcellatposition:function(P,H){var F=this.that;var a=this.showheader?this.columnsheader.height()+2:0;var D=this._groupsheader()?this.groupsheader.height():0;var G=this.showtoolbar?this.toolbarheight:0;D+=G;var R=this.host.coord();if(this.hasTransform){R=d.jqx.utilities.getOffset(this.host)}var J=P-R.left;var L=H-a-R.top-D;var U=this._hittestrow(J,L);var O=U.row;var N=U.index;var y=this.table[0].rows[N];if(this.dataview&&this.dataview.records.length==0){var K=this.table[0].rows;var E=0;for(var b=0;b<K.length;b++){if(L>=E&&L<E+this.rowsheight){y=K[b];break}E+=this.rowsheight}O={boundindex:b}}if(y==null){return true}var x=this.hScrollInstance;var c=x.value;var S=0;var M=this.groupable?this.groups.length:0;for(var b=0;b<y.cells.length;b++){var Q=parseInt(d(this.columnsrow[0].cells[b]).css("left"));var P=Q-c;if(F.columns.records[b].pinned){P=Q}var I=P+d(this.columnsrow[0].cells[b]).width();if(I>=J&&J>=P){S=b;break}}if(O!=null){var T=this._getcolumnat(S);return{row:this.getboundindex(O),column:T.datafield,value:this.getcellvalue(this.getboundindex(O),T.datafield)}}return null},_handlemousedown:function(c,ar){if(c.target==null){return true}if(ar.disabled){return true}if(d(c.target).ischildof(this.columnsheader)){return true}var aq;if(c.which){aq=(c.which==3)}else{if(c.button){aq=(c.button==2)}}var W;if(c.which){W=(c.which==2)}else{if(c.button){W=(c.button==1)}}if(W){return true}if(this.showstatusbar){if(d(c.target).ischildof(this.statusbar)){return true}if(c.target==this.statusbar[0]){return true}}if(this.showtoolbar){if(d(c.target).ischildof(this.toolbar)){return true}if(c.target==this.toolbar[0]){return true}}if(this.pageable){if(d(c.target).ischildof(this.pager)){return true}if(c.target==this.pager[0]){return true}}if(!this.columnsheader){return true}if(!this.editcell){if(this.pageable){if(d(c.target).ischildof(this.pager)){return true}}}var y=this.showheader?this.columnsheader.height()+2:0;var ai=this._groupsheader()?this.groupsheader.height():0;var af=this.showtoolbar?this.toolbarheight:0;ai+=af;var T=this.host.coord();if(this.hasTransform){T=d.jqx.utilities.getOffset(this.host);var a=this._getBodyOffset();T.left-=a.left;T.top-=a.top}var av=parseInt(c.pageX);var au=parseInt(c.pageY);if(this.isTouchDevice()){var b=ar.getTouches(c);var X=b[0];av=parseInt(X.pageX);au=parseInt(X.pageY);if(ar.touchmode==true){av=parseInt(X._pageX);au=parseInt(X._pageY)}}var ac=av-T.left;var ad=au-y-T.top-ai;if(this.pageable&&!this.autoheight&&this.gotopage){var az=this.pager.coord().top-T.top-ai-y;if(ad>az){return}}var S=this._hittestrow(ac,ad);if(!S){return}if(S.details){return}var an=S.row;var ag=S.index;var am=c.target.className;var aw=this.table[0].rows[ag];if(aw==null){if(ar.editable&&ar.begincelledit){if(ar.editcell){ar.endcelledit(ar.editcell.row,ar.editcell.column,false,true)}}return true}ar.mousecaptured=true;ar.mousecaptureposition={left:c.pageX,top:c.pageY-ai,clickedrow:aw};var at=this.hScrollInstance;var ak=at.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){ak=at.max-at.value}}var ae=-1;var ah=this.groupable?this.groups.length:0;if(this.rtl){if(this.vScrollBar[0].style.visibility!="hidden"){ak-=this.scrollbarsize+4}if(this.hScrollBar[0].style.visibility=="hidden"){ak=-parseInt(this.content.css("left"))}}for(var V=0;V<aw.cells.length;V++){var U=parseInt(d(this.columnsrow[0].cells[V]).css("left"));var av=U-ak;if(ar.columns.records[V].pinned&&!ar.rtl){av=U}var ab=this._getcolumnat(V);if(ab!=null&&ab.hidden){continue}var aa=av+d(this.columnsrow[0].cells[V]).width();if(aa>=ac&&ac>=av){ae=V;ar.mousecaptureposition.clickedcell=V;break}}if(this.rtl&&this._haspinned){for(var V=aw.cells.length-1;V>=0;V--){if(!ar.columns.records[V].pinned){break}var U=d(this.columnsrow[0].cells[V]).coord().left-this.host.coord().left;var av=U;var ab=this._getcolumnat(V);if(ab!=null&&ab.hidden){continue}var aa=av+d(this.columnsrow[0].cells[V]).width();if(aa>=ac&&ac>=av){ae=V;ar.mousecaptureposition.clickedcell=V;break}}}if(an!=null&&ae>=0){this._raiseEvent(1,{rowindex:this.getboundindex(an),visibleindex:an.visibleindex,group:an.group,rightclick:aq,originalEvent:c});var ab=this._getcolumnat(ae);var Z=this.getcellvalue(this.getboundindex(an),ab.datafield);if(this.editable&&this.editcell){if(ab.datafield==this.editcell.column){if(this.getboundindex(an)==this.editcell.row){this.mousecaptured=false}}}this._raiseEvent(8,{rowindex:this.getboundindex(an),column:ab?ab.getcolumnproperties():null,datafield:ab?ab.datafield:null,columnindex:ae,value:Z,rightclick:aq,originalEvent:c});if(this.isTouchDevice()){if(ab.columntype=="checkbox"&&this.editable&&this._overlayElement){if(!this.editcell){this._overlayElement.css("visibility","hidden");this.editcell=this.getcell(ag,ab.datafield);return true}}else{if(ab.columntype=="button"&&this._overlayElement){if(ab.buttonclick){ab.buttonclick(aw.cells[ae].buttonrow,c)}return true}}}var ax=false;if(this._lastmousedown!=null){if(this._mousedown-this._lastmousedown<300){if(this._clickedrowindex==this.getboundindex(an)){this._raiseEvent(22,{rowindex:this.getboundindex(an),visibleindex:an.visibleindex,group:an.group,rightclick:aq,originalEvent:c});if(this._clickedcolumn==ab.datafield){this._raiseEvent(23,{rowindex:this.getboundindex(an),column:ab?ab.getcolumnproperties():null,datafield:ab?ab.datafield:null,columnindex:ae,value:Z,rightclick:aq,originalEvent:c})}ax=true;this._clickedrowindex=-1;this._clickedcolumn=null;if(c.isPropagationStopped&&c.isPropagationStopped()){return false}}}}if(aq){return true}if(!ax){this._clickedrowindex=this.getboundindex(an);this._clickedcolumn=ab.datafield}var ay=d.jqx.utilities.getBrowser();if(ay.browser=="msie"&&parseInt(ay.version)<=7){if(ae==0&&this.rowdetails){am="jqx-grid-group-collapse"}if(ah>0){if(ae<=ah){am="jqx-grid-group-collapse"}}}if(am.indexOf("jqx-grid-group-expand")!=-1||am.indexOf("jqx-grid-group-collapse")!=-1){if(!this.rtl){if(ah>0&&ae<ah&&this._togglegroupstate){this._togglegroupstate(an.bounddata,true)}else{if(ae==ah&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(an.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}else{if(ah>0&&ae>aw.cells.length-ah-1&&this._togglegroupstate){this._togglegroupstate(an.bounddata,true)}else{if(ae==aw.cells.length-1-ah&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(an.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}}else{if(an.boundindex!=-1){var ap=this.selectedrowindexes.slice(0);var x=false;if(ar.selectionmode!="none"&&ar.selectionmode!="checkbox"&&this._selectrowwithmouse){if(ar.selectionmode=="multiplecellsadvanced"||ar.selectionmode=="multiplecellsextended"||ar.selectionmode=="multiplerowsextended"||ar.selectionmode=="multiplerowsadvanced"){if(!c.ctrlKey&&!c.shiftKey){ar.selectedrowindexes=new Array();ar.selectedcells=new Array()}}var aj=false;var ao=this.getboundindex(an);if(ar._oldselectedrow===ao||ar.selectionmode==="none"){aj=true}if(ar.selectionmode.indexOf("cell")==-1){if((ar.selectionmode!="singlerow")||(ar.selectedrowindex!=ao&&ar.selectionmode=="singlerow")){this._applyrowselection(ao,true,false,null,ab.datafield);this._selectrowwithmouse(ar,S,ap,ab.datafield,c.ctrlKey,c.shiftKey)}}else{if(ab.datafield!=null){this._selectrowwithmouse(ar,S,ap,ab.datafield,c.ctrlKey,c.shiftKey);if(!c.shiftKey){this._applycellselection(ao,ab.datafield,true,false)}}}if(ar._oldselectedcell){if(ar._oldselectedcell.datafield==ar.selectedcell.datafield&&ar._oldselectedcell.rowindex==ar.selectedcell.rowindex){x=true}}ar._oldselectedcell=ar.selectedcell;ar._oldselectedrow=ao}if(ar.autosavestate){if(ar.savestate){ar.savestate()}}if(ar.editable&&ar.begincelledit&&ar.editmode!="programmatic"){if(c.isPropagationStopped&&c.isPropagationStopped()){return false}if(ar.editmode=="selectedrow"){if(aj&&!ar.editcell){if(ab.columntype!=="checkbox"){var al=ar.beginrowedit(this.getboundindex(an))}}else{if(ar.editcell&&!aj&&ar.selectionmode!="none"){var al=ar.endrowedit(ar.editcell.row)}}}else{var Y=ar.editmode=="click"||(x&&ar.editmode=="selectedcell");if(ar.selectionmode.indexOf("cell")==-1){if(ar.editmode!="dblclick"){Y=true}}if(Y){if(an.boundindex!=undefined&&ab.editable){var al=ar.begincelledit(this.getboundindex(an),ab.datafield,ab.defaulteditorvalue);if(ar.selectionmode.indexOf("cell")!=-1){ar._applycellselection(ao,ab.datafield,false,false)}}}if(ar.selectionmode.indexOf("cell")!=-1){if(ar.editmode=="selectedcell"&&!x&&ar.editcell){ar.endcelledit(ar.editcell.row,ar.editcell.column,false,true)}}}return true}}}}return true},_columnPropertyChanged:function(c,h,a,b){},_rowPropertyChanged:function(a,h,b,c){},_serializeObject:function(b){if(b==null){return""}var a="";d.each(b,function(k){var c=this;if(k>0){a+=", "}a+="[";var l=0;for(obj in c){if(l>0){a+=", "}a+="{"+obj+":"+c[obj]+"}";l++}a+="]"});return a},propertyChangedHandler:function(l,k,a,b){if(this.isInitialized==undefined||this.isInitialized==false){return}k=k.toLowerCase();switch(k){case"enablebrowserselection":if(!l.showfilterrow){if(!l.showstatusbar&&!l.showtoolbar){l.host.addClass("jqx-disableselect")}l.content.addClass("jqx-disableselect")}if(l.enablebrowserselection){l.content.removeClass("jqx-disableselect");l.host.removeClass("jqx-disableselect")}break;case"columnsheight":if(l.columnsheight!=25||l.columngroups){l._measureElement("column")}l._render(true,true,true,false,false);break;case"rowsheight":if(b!=a){if(l.rowsheight!=25){l._measureElement("cell")}l.virtualsizeinfo=null;l.rendergridcontent(true,false);l.refresh()}break;case"scrollMode":l.vScrollInstance.thumbStep=l.rowsheight;break;case"showdefaultloadelement":l._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":l._initmenu();break;case"touchmode":if(a!=b){l._removeHandlers();l.touchDevice=null;l.vScrollBar.jqxScrollBar({touchMode:b});l.hScrollBar.jqxScrollBar({touchMode:b});l._updateTouchScrolling();l._arrange();l._updatecolumnwidths();l._updatecellwidths();l._addHandlers()}break;case"autoshowcolumnsmenubutton":if(a!=b){l._rendercolumnheaders()}break;case"rendergridrows":if(a!=b){l.updatebounddata()}break;case"editmode":if(a!=b){l._removeHandlers();l._addHandlers()}break;case"source":l.updatebounddata();if(l.virtualmode&&!l._loading){l.loadondemand=true;l._renderrows(l.virtualsizeinfo)}break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":if(l._initgroupsheader){l._initgroupsheader()}break;case"showgroupsheader":if(a!=b){l._arrange();if(l._initgroupsheader){l._initgroupsheader()}l._renderrows(l.virtualsizeinfo)}break;case"theme":if(b!=a){if(l.pager){l.pager.removeClass();l.pager.addClass(l.toTP("jqx-grid-pager"));l.pager.addClass(l.toTP("jqx-widget-header"));if(l.pageable&&l._updatepagertheme){l._updatepagertheme()}}if(l.groupsheader){l.groupsheader.removeClass();l.groupsheader.addClass(l.toTP("jqx-grid-groups-header"));l.groupsheader.addClass(l.toTP("jqx-widget-header"))}l.toolbar.removeClass();l.toolbar.addClass(l.toTP("jqx-grid-toolbar"));l.toolbar.addClass(l.toTP("jqx-widget-header"));l.statusbar.removeClass();l.statusbar.addClass(l.toTP("jqx-grid-statusbar"));l.statusbar.addClass(l.toTP("jqx-widget-content"));l.vScrollBar.jqxScrollBar({theme:l.theme});l.hScrollBar.jqxScrollBar({theme:l.theme});l.host.removeClass();l.host.addClass(l.toTP("jqx-grid"));l.host.addClass(l.toTP("jqx-reset"));l.host.addClass(l.toTP("jqx-rc-all"));l.host.addClass(l.toTP("jqx-widget"));l.host.addClass(l.toTP("jqx-widget-content"));l.bottomRight.removeClass();l.bottomRight.addClass(l.toTP("jqx-grid-bottomright"));l.bottomRight.addClass(l.toTP("jqx-scrollbar-state-normal"));l.toolbar.addClass(l.toTP("jqx-grid-toolbar"));l.toolbar.addClass(l.toTP("jqx-widget-header"));l.statusbar.addClass(l.toTP("jqx-grid-statusbar"));l.statusbar.addClass(l.toTP("jqx-widget-header"));l.render()}break;case"showtoolbar":case"toolbarheight":if(a!=b){l._arrange();l.refresh()}break;case"showstatusbar":if(a!=b){if(l.statusbar){if(b){l.statusbar.show()}else{l.statusbar.hide()}}l._arrange();l.refresh()}break;case"statusbarheight":if(a!=b){l._arrange();l.refresh()}break;case"filterable":case"showfilterrow":if(a!=b){l.render()}break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":if(a!=b){l.rendergridcontent()}break;case"showrowdetailscolumn":if(a!=b){l.render()}break;case"scrollbarsize":if(a!=b){l._arrange()}break;case"width":case"height":if(a!=b){l._updatesize(true,true);l._resizeWindow();if(l.virtualmode&&!l._loading){l.vScrollInstance.setPosition(0)}}break;case"altrows":case"altstart":case"altstep":if(a!=b){l._renderrows(l.virtualsizeinfo)}break;case"groupsheaderheight":if(a!=b){l._arrange();if(l._initgroupsheader){l._initgroupsheader()}}break;case"pagerheight":if(a!=b){l._initpager()}break;case"selectedrowindex":l.selectrow(b);break;case"selectionmode":if(a!=b){if(b=="none"){l.selectedrowindexes=new Array();l.selectedcells=new Array();l.selectedrowindex=-1}l._renderrows(l.virtualsizeinfo);if(b=="checkbox"){l._render(false,false,true,false,false)}}break;case"showheader":if(b){l.columnsheader.css("display","block")}else{l.columnsheader.css("display","none")}break;case"virtualmode":if(a!=b){l.dataview.virtualmode=l.virtualmode;l.dataview.refresh(false);l._render(false,false,false)}break;case"columnsmenu":if(a!=b){l.render()}break;case"columngroups":l._render(true,true,true,false,false);break;case"columns":if(l._serializeObject(l._cachedcolumns)!==l._serializeObject(b)){var m=false;if(l.filterable){if(a&&a.records){d.each(a.records,function(){if(this.filter){m=true}l.dataview.removefilter(this.displayfield,this.filter)})}}l._columns=null;l._filterrowcache=[];l.render();if(m){l.applyfilters()}l._cachedcolumns=l.columns;if(l.removesort){l.removesort()}}else{l._initializeColumns()}break;case"autoheight":if(a!=b){l._render(false,false,true)}break;case"pagermode":case"pagerbuttonscount":if(a!=b){if(l._initpager){if(l.pagershowrowscombo){l.pagershowrowscombo.jqxDropDownList("destroy");l.pagershowrowscombo=null}if(l.pagerrightbutton){l.removeHandler(l.pagerrightbutton,"mousedown");l.removeHandler(l.pagerrightbutton,"mouseup");l.removeHandler(l.pagerrightbutton,"click");l.pagerrightbutton.jqxButton("destroy");l.pagerrightbutton=null}if(l.pagerleftbutton){l.removeHandler(l.pagerleftbutton,"mousedown");l.removeHandler(l.pagerleftbutton,"mouseup");l.removeHandler(l.pagerleftbutton,"click");l.pagerleftbutton.jqxButton("destroy");l.removeHandler(d(document),"mouseup.pagerbuttons"+l.element.id);l.pagerleftbutton=null}l.pagerdiv.remove();l._initpager()}}break;case"pagesizeoptions":case"pageable":case"pagesize":if(a!=b){if(l._loading){throw new Error("jqxGrid: "+l.loadingerrormessage);return}if(!l.host.jqxDropDownList||!l.host.jqxListBox){l._testmodules();return}if(l._initpager){if(k!="pageable"&&k!="pagermode"){if(typeof(b)=="string"){var c="The expected value type is: Int.";if(k!="pagesize"){var c="The expected value type is: Array of Int values."}throw new Error("Invalid Value for: "+k+". "+c)}}l.dataview.pageable=l.pageable;l.dataview.pagenum=0;l.dataview.pagesize=l._getpagesize();if(l.virtualmode){l.updatebounddata()}l.dataview.refresh(true);l._initpager();if(k=="pagesizeoptions"){if(b!=null&&b.length>0){l.pagesize=parseInt(b[0]);l.dataview.pagesize=parseInt(b[0]);l.prerenderrequired=true;l._requiresupdate=true;l.dataview.pagenum=-1;l.gotopage(0)}}}l._render(false,false,false)}break;case"groups":if(l._serializeObject(a)!==l._serializeObject(b)){l.dataview.groups=b;l._refreshdataview();l._render(true,true,true,false)}break;case"groupable":if(a!=b){l.dataview.groupable=l.groupable;l.dataview.pagenum=0;l.dataview.refresh(false);l._render(false,false,true)}break;case"renderstatusbar":if(b!=null){l.renderstatusbar(l.statusbar)}break;case"rendertoolbar":if(b!=null){l.rendertoolbar(l.toolbar)}break;case"disabled":if(b){l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"))}else{l.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"))}d.jqx.aria(l,"aria-disabled",l.disabled);if(l.pageable){if(l.pagerrightbutton){l.pagerrightbutton.jqxButton({disabled:b});l.pagerleftbutton.jqxButton({disabled:b});l.pagershowrowscombo.jqxDropDownList({disabled:b});l.pagergotoinput.attr("disabled",b)}if(l.pagerfirstbutton){l.pagerfirstbutton.jqxButton({disabled:b});l.pagerlastbutton.jqxButton({disabled:b})}}l.vScrollBar.jqxScrollBar({disabled:b});l.hScrollBar.jqxScrollBar({disabled:b});if(l.filterable&&l.showfilterrow){l._updatefilterrowui(true)}break}}});function f(b,a){this.owner=b;this.datafield=null;this.displayfield=null;this.text="";this.sortable=true;this.hideable=true;this.editable=true;this.hidden=false;this.groupable=true;this.renderer=null;this.cellsrenderer=null;this.checkchange=null,this.threestatecheckbox=false;this.buttonclick=null,this.columntype=null;this.cellsformat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.filteritems=[];this.resizable=true;this.initeditor=null;this.createeditor=null;this.destroyeditor=null;this.geteditorvalue=null;this.validation=null;this.classname="";this.cellclassname="";this.cellendedit=null;this.cellbeginedit=null;this.cellvaluechanging=null;this.aggregates=null;this.aggregatesrenderer=null;this.menu=true;this.createfilterwidget=null;this.filtertype="default";this.filtercondition=null;this.rendered=null;this.exportable=true;this.exporting=false;this.draggable=true;this.nullable=true;this.enabletooltips=true;this.columngroup=null;this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(l,k){if(this[l]){var c=this[l];this[l]=k;this.owner._columnPropertyChanged(this,l,k,c)}else{if(this[l.toLowerCase()]){var c=this[l.toLowerCase()];this[l.toLowerCase()]=k;this.owner._columnPropertyChanged(this,l.toLowerCase(),k,c)}}};this._initfields=function(k){if(k!=null){var l=this.that;if(d.jqx.hasProperty(k,"dataField")){this.datafield=d.jqx.get(k,"dataField")}if(d.jqx.hasProperty(k,"displayField")){this.displayfield=d.jqx.get(k,"displayField")}else{this.displayfield=this.datafield}if(d.jqx.hasProperty(k,"enableTooltips")){this.enabletooltips=d.jqx.get(k,"enableTooltips")}if(d.jqx.hasProperty(k,"text")){this.text=d.jqx.get(k,"text")}if(d.jqx.hasProperty(k,"sortable")){this.sortable=d.jqx.get(k,"sortable")}if(d.jqx.hasProperty(k,"hideable")){this.hideable=d.jqx.get(k,"hideable")}if(d.jqx.hasProperty(k,"hidden")){this.hidden=d.jqx.get(k,"hidden")}if(d.jqx.hasProperty(k,"groupable")){this.groupable=d.jqx.get(k,"groupable")}if(d.jqx.hasProperty(k,"renderer")){this.renderer=d.jqx.get(k,"renderer")}if(d.jqx.hasProperty(k,"align")){this.align=d.jqx.get(k,"align")}if(d.jqx.hasProperty(k,"cellsAlign")){this.cellsalign=d.jqx.get(k,"cellsAlign")}if(d.jqx.hasProperty(k,"cellsFormat")){this.cellsformat=d.jqx.get(k,"cellsFormat")}if(d.jqx.hasProperty(k,"width")){this.width=d.jqx.get(k,"width")}if(d.jqx.hasProperty(k,"minWidth")){this.minwidth=d.jqx.get(k,"minWidth")}if(d.jqx.hasProperty(k,"maxWidth")){this.maxwidth=d.jqx.get(k,"maxWidth")}if(d.jqx.hasProperty(k,"cellsRenderer")){this.cellsrenderer=d.jqx.get(k,"cellsRenderer")}if(d.jqx.hasProperty(k,"columnType")){this.columntype=d.jqx.get(k,"columnType")}if(d.jqx.hasProperty(k,"checkChange")){this.checkchange=d.jqx.get(k,"checkChange")}if(d.jqx.hasProperty(k,"buttonClick")){this.buttonclick=d.jqx.get(k,"buttonClick")}if(d.jqx.hasProperty(k,"pinned")){this.pinned=d.jqx.get(k,"pinned")}if(d.jqx.hasProperty(k,"visibleIndex")){this.visibleindex=d.jqx.get(k,"visibleIndex")}if(d.jqx.hasProperty(k,"filterable")){this.filterable=d.jqx.get(k,"filterable")}if(d.jqx.hasProperty(k,"filter")){this.filter=d.jqx.get(k,"filter")}if(d.jqx.hasProperty(k,"resizable")){this.resizable=d.jqx.get(k,"resizable")}if(d.jqx.hasProperty(k,"editable")){this.editable=d.jqx.get(k,"editable")}if(d.jqx.hasProperty(k,"initEditor")){this.initeditor=d.jqx.get(k,"initEditor")}if(d.jqx.hasProperty(k,"createEditor")){this.createeditor=d.jqx.get(k,"createEditor")}if(d.jqx.hasProperty(k,"destroyEditor")){this.destroyeditor=d.jqx.get(k,"destroyEditor")}if(d.jqx.hasProperty(k,"getEditorValue")){this.geteditorvalue=d.jqx.get(k,"getEditorValue")}if(d.jqx.hasProperty(k,"validation")){this.validation=d.jqx.get(k,"validation")}if(d.jqx.hasProperty(k,"cellBeginEdit")){this.cellbeginedit=d.jqx.get(k,"cellBeginEdit")}if(d.jqx.hasProperty(k,"cellEndEdit")){this.cellendedit=d.jqx.get(k,"cellEndEdit")}if(d.jqx.hasProperty(k,"className")){this.classname=d.jqx.get(k,"className")}if(d.jqx.hasProperty(k,"cellClassName")){this.cellclassname=d.jqx.get(k,"cellClassName")}if(d.jqx.hasProperty(k,"menu")){this.menu=d.jqx.get(k,"menu")}if(d.jqx.hasProperty(k,"aggregates")){this.aggregates=d.jqx.get(k,"aggregates")}if(d.jqx.hasProperty(k,"aggregatesRenderer")){this.aggregatesrenderer=d.jqx.get(k,"aggregatesRenderer")}if(d.jqx.hasProperty(k,"createFilterWidget")){this.createfilterwidget=d.jqx.get(k,"createFilterWidget")}if(d.jqx.hasProperty(k,"filterType")){this.filtertype=d.jqx.get(k,"filterType")}if(d.jqx.hasProperty(k,"rendered")){this.rendered=d.jqx.get(k,"rendered")}if(d.jqx.hasProperty(k,"exportable")){this.exportable=d.jqx.get(k,"exportable")}if(d.jqx.hasProperty(k,"filterItems")){this.filteritems=d.jqx.get(k,"filterItems")}if(d.jqx.hasProperty(k,"cellValueChanging")){this.cellvaluechanging=d.jqx.get(k,"cellValueChanging")}if(d.jqx.hasProperty(k,"draggable")){this.draggable=d.jqx.get(k,"draggable")}if(d.jqx.hasProperty(k,"filterCondition")){this.filtercondition=d.jqx.get(k,"filterCondition")}if(d.jqx.hasProperty(k,"threeStateCheckbox")){this.threestatecheckbox=d.jqx.get(k,"threeStateCheckbox")}if(d.jqx.hasProperty(k,"nullable")){this.nullable=d.jqx.get(k,"nullable")}if(d.jqx.hasProperty(k,"columnGroup")){this.columngroup=d.jqx.get(k,"columnGroup")}if(!k instanceof String&&!(typeof k=="string")){for(var c in k){if(!l.hasOwnProperty(c)){if(!l.hasOwnProperty(c.toLowerCase())){b.host.remove();throw new Error("jqxGrid: Invalid property name - "+c+".")}}}}}};this._initfields(a);return this}function e(b,a){this.setdata=function(c){if(c!=null){this.bounddata=c;this.boundindex=c.boundindex;this.visibleindex=c.visibleindex;this.group=c.group;this.parentbounddata=c.parentItem;this.uniqueid=c.uniqueid;this.level=c.level}};this.setdata(a);this.parentrow=null;this.subrows=new Array();this.owner=b;this.height=25;this.hidden=false;this.rowdetails=null;this.rowdetailsheight=100;this.rowdetailshidden=true;this.top=-1;this.setrowinfo=function(c){this.hidden=c.hidden;this.rowdetails=c.rowdetails;this.rowdetailsheight=c.rowdetailsheight;this.rowdetailshidden=!c.showdetails;this.height=c.height};return this}d.jqx.collection=function(a){this.records=new Array();this.owner=a;this.updating=false;this.beginupdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};this._raiseEvent=function(b){};this.clear=function(){this.records=new Array()};this.replace=function(b,c){this.records[b]=c;if(!this.updating){this._raiseEvent({type:"replace",element:c})}};this.isempty=function(b){if(this.records[b]==undefined){return true}return false};this.initialize=function(b){if(b<1){b=1}this.records[b-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(b){return this.records.indexOf(b)};this.add=function(b){if(b==null){return false}this.records[this.records.length]=b;if(!this.updating){this._raiseEvent({type:"add",element:b})}return true};this.insertAt=function(b,c){if(b==null||b==undefined){return false}if(c==null){return false}if(b>=0){if(b<this.records.length){this.records.splice(b,0,c);if(!this.updating){this._raiseEvent({type:"insert",index:b,element:c})}return true}else{return this.add(c)}}return false};this.remove=function(b){if(b==null||b==undefined){return false}var c=this.records.indexOf(b);if(c!=-1){this.records.splice(c,1);if(!this.updating){this._raiseEvent({type:"remove",element:b})}return true}return false};this.removeAt=function(b){if(b==null||b==undefined){return false}if(b<0){return false}if(b<this.records.length){var c=this.records[b];this.records.splice(b,1);if(!this.updating){this._raiseEvent({type:"removeAt",index:b,element:c})}return true}return false};return this};d.jqx.dataview=function(){this.self=this;this.grid=null;this.uniqueId="id";this.records=[];this.rows=[];this.columns=[];this.groups=[];this.filters=new Array();this.updated=null;this.update=null;this.suspend=false;this.pagesize=0;this.pagenum=0;this.totalrows=0;this.totalrecords=0;this.groupable=true;this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this.virtualmode=true;this._cachegrouppages=new Array();this.source=null;this.changedrecords=new Array();this.rowschangecallback=null;this.that=this;this.destroy=function(){delete this.self;delete this.grid;delete this.uniqueId;delete this.records;delete this.rows;delete this.columns;delete this.groups;delete this.filters;delete this.updated;delete this.update;delete this.suspend;delete this.pagesize;delete this.pagenum;delete this.totalrows;delete this.totalrecords;delete this.groupable;delete this.loadedrecords;delete this.loadedrootgroups;delete this.loadedgroups;delete this.loadedgroupsByKey;delete this.virtualmode;delete this._cachegrouppages;delete this.source;delete this.changedrecords;delete this.rowschangecallback;delete this.that},this.suspendupdate=function(){this.suspend=true},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=false;if(a==undefined){a=true}this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array()};this.databind=function(B,F){var C=B._source?true:false;var K=null;if(C){K=B;B=B._source}else{K=new d.jqx.dataAdapter(B,{autoBind:false})}var M=function(g){K.recordids=[];K.records=new Array();K.cachedrecords=new Array();K.originaldata=new Array();K._options.virtualmode=g.virtualmode;K._options.totalrecords=g.totalrecords;K._options.originaldata=g.originaldata;K._options.recordids=g.recordids;K._options.cachedrecords=new Array();K._options.pagenum=g.pagenum;K._options.pageable=g.pageable;if(B.type!=undefined){K._options.type=B.type}if(B.formatdata!=undefined){K._options.formatData=B.formatdata}if(B.contenttype!=undefined){K._options.contentType=B.contenttype}if(B.async!=undefined){K._options.async=B.async}if(B.updaterow!=undefined){K._options.updaterow=B.updaterow}if(B.addrow!=undefined){K._options.addrow=B.addrow}if(B.deleterow!=undefined){K._options.deleterow=B.deleterow}if(g.pagesize==0){g.pagesize=10}K._options.pagesize=g.pagesize};var x=function(p){p.totalrecords=K.totalrecords;if(!p.virtualmode){p.originaldata=K.originaldata;p.records=K.records;p.recordids=K.recordids;p.cachedrecords=K.cachedrecords}else{var k={startindex:p.pagenum*p.pagesize,endindex:(p.pagenum*p.pagesize+p.pagesize)};if(B.recordstartindex!=undefined){k.startindex=parseInt(B.recordstartindex)}if(B.recordendindex!=undefined){k.endindex=parseInt(B.recordendindex)}else{if(!p.grid.pageable){k.endindex=k.startindex+100;if(p.grid.autoheight){k.endindex=k.startindex+p.totalrecords}}}if(!B.recordendindex){if(!p.grid.pageable){k.endindex=k.startindex+100;if(p.grid.autoheight){k.endindex=k.startindex+p.totalrecords}}else{k={startindex:p.pagenum*p.pagesize,endindex:(p.pagenum*p.pagesize+p.pagesize)}}}k.data=K.records;if(p.grid.rendergridrows&&p.totalrecords>0){var l=0;B.records=p.grid.rendergridrows(k);if(B.records.length){l=B.records.length}if(B.records&&!B.records[k.startindex]){var h=new Array();var n=k.startindex;d.each(B.records,function(){h[n]=this;n++;l++});B.records=h}if(l==0){if(B.records){d.each(B.records,function(){l++})}}if(l>0&&l<k.endindex-k.startindex&&!p.grid.groupable){var g=B.records[0];for(var o=0;o<k.endindex-k.startindex-l;o++){var q={};for(obj in g){q[obj]=""}if(B.records.push){B.records.push(q)}}}}if(!B.records||p.totalrecords==0){B.records=new Array()}p.originaldata=B.records;p.records=B.records;p.cachedrecords=B.records}};M(this);this.source=B;if(F!==undefined){uniqueId=F}var a=this.that;switch(B.datatype){case"local":case"array":default:if(B.localdata==null){B.localdata=[]}if(B.localdata!=null){K.unbindBindingUpdate(a.grid.element.id);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){K.dataBind()}var G=function(k){if(k!=undefined&&k!=""){var l=K._changedrecords[0];if(l){var h=new Array();d.each(K._changedrecords,function(n){var q=this.index;var p=this.record;a.grid._updateFromAdapter=true;switch(k){case"update":var o=a.grid.getrowid(q);if(n==K._changedrecords.length-1){a.grid.updaterow(o,p)}else{a.grid.updaterow(o,p,false)}a.grid._updateFromAdapter=false;return;case"add":a.grid.addrow(null,p);a.grid._updateFromAdapter=false;return;case"remove":var o=a.grid.getrowid(q);h.push(o);return}});if(h.length>0){a.grid.deleterow(h,false);a.grid._updateFromAdapter=false}}if(k=="update"){return}}var g=a.totalrecords;x(a,k);if(k=="updateData"){a.refresh();a.grid._updateGridData()}else{if(B.recordstartindex&&this.virtualmode){a.updateview(B.recordstartindex,B.recordstartindex+a.pagesize)}else{a.refresh()}a.update(g!=a.totalrecords)}};G();K.bindBindingUpdate(a.grid.element.id,G)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(B.localdata!=null){K.unbindBindingUpdate(a.grid.element.id);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){K.dataBind()}var G=function(h){var g=a.totalrecords;x(a);if(h=="updateData"){a.refresh();a.grid._updateGridData()}else{if(B.recordstartindex){a.updateview(B.recordstartindex,B.recordstartindex+a.pagesize)}else{a.refresh()}a.update(g!=a.totalrecords)}};G();K.bindBindingUpdate(a.grid.element.id,G);return}var m={};var D=0;var c={};for(var I=0;I<this.filters.length;I++){var L=this.filters[I].datafield;var H=this.filters[I].filter;var J=H.getfilters();c[L+"operator"]=H.operator;for(var z=0;z<J.length;z++){J[z].datafield=L;var E=J[z].value;if(J[z].type=="datefilter"){if(J[z].value&&J[z].value.toLocaleString){var N=this.grid.getcolumn(J[z].datafield);if(N.cellsformat){var A=this.grid.source.formatDate(J[z].value,N.cellsformat,this.grid.gridlocalization);if(A){c["filtervalue"+D]=A}else{c["filtervalue"+D]=J[z].value.toLocaleString()}}else{c["filtervalue"+D]=E.toString()}}else{c["filtervalue"+D]=E.toString()}}else{c["filtervalue"+D]=E.toString()}c["filtercondition"+D]=J[z].condition;c["filteroperator"+D]=J[z].operator;c["filterdatafield"+D]=L;D++}}c.filterscount=D;c.groupscount=a.groups.length;for(var I=0;I<a.groups.length;I++){c["group"+I]=a.groups[I]}if(B.recordstartindex==undefined){B.recordstartindex=0}if(B.recordendindex==undefined||B.recordendindex==0){if(a.grid.height&&a.grid.height.toString().indexOf("%")==-1){B.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight;B.recordendindex+=2}else{B.recordendindex=d(window).height()/a.grid.rowsheight}if(this.pageable){B.recordendindex=this.pagesize}}d.extend(c,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:B.recordstartindex,recordendindex:B.recordendindex});var b=K._options.data;if(K._options.data){d.extend(K._options.data,c)}else{if(B.data){d.extend(c,B.data)}K._options.data=c}var G=function(){var h=d.jqx.browser.msie&&d.jqx.browser.version<9;var k=function(){var l=a.totalrecords;x(a);if(B.recordstartindex){a.updateview(B.recordstartindex,B.recordstartindex+a.pagesize)}else{a.refresh()}a.update(l!=a.totalrecords)};if(h){try{k()}catch(g){}}else{k()}};K.unbindDownloadComplete(a.grid.element.id);K.bindDownloadComplete(a.grid.element.id,G);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){K.dataBind()}else{if(!a.grid.isInitialized&&!a.grid.autobind){G()}}K._options.data=b}};this.getid=function(a,c,b){if(d(a,c).length>0){return d(a,c).text()}if(a){if(a.toString().length>0){var h=d(c).attr(a);if(h!=null&&h.toString().length>0){return h}}}return b};this.getvaluebytype=function(a,h){var c=a;if(h.type=="date"){var b=new Date(a);if(b.toString()=="NaN"||b.toString()=="Invalid Date"){if(d.jqx.dataFormat){a=d.jqx.dataFormat.tryparsedate(a)}else{a=b}}else{a=b}if(a==null){a=c}}else{if(h.type=="float"){var a=parseFloat(a);if(isNaN(a)){a=c}}else{if(h.type=="int"){var a=parseInt(a);if(isNaN(a)){a=c}}else{if(h.type=="bool"){if(a!=null){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}if(a==1){a=true}else{if(a==0){a=false}else{a=""}}}}}}return a};this.setpaging=function(a){if(a.pageSize!=undefined){this.pagesize=a.pageSize}if(a.pageNum!=undefined){this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))}this.refresh()};this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}};this._clearcaches=function(){this.sortcache={};this.sortdata=null;this.changedrecords=new Array();this.records=new Array();this.rows=new Array();this.cacheddata=new Array();this.originaldata=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid=new Array();this.cachedrecords=new Array();this.recordids=new Array()};this.addfilter=function(a,b){var c=-1;for(var h=0;h<this.filters.length;h++){if(this.filters[h].datafield==a){c=h;break}}if(c==-1){this.filters[this.filters.length]={filter:b,datafield:a}}else{this.filters[c]={filter:b,datafield:a}}};this.removefilter=function(a){for(var b=0;b<this.filters.length;b++){if(this.filters[b].datafield==a){this.filters.splice(b,1);break}}};this.getItemFromIndex=function(a){return this.records[a]};this.updaterow=function(v,a,c){var u=this.filters&&this.filters.length>0&&!this.virtualmode;if(!u&&a!=undefined&&v!=undefined){a.uid=v;if(!(a[this.source.id])){a[this.source.id]=a.uid}var p=this.recordsbyid["id"+v];var o=this.records.indexOf(p);if(o==-1){return false}this.records[o]=a;if(this.cachedrecords){this.cachedrecords[o]=a}if(c==true||c==undefined){this.refresh()}this.changedrecords[a.uid]={Type:"Update",OldData:p,Data:a};return true}else{if(this.filters&&this.filters.length>0){var t=this.cachedrecords;var p=null;var o=-1;for(var q=0;q<t.length;q++){if(t[q].uid==v){p=t[q];o=q;break}}if(p){var b=this.that;for(var s in a){b.cachedrecords[o][s]=a[s]}if(c==true||c==undefined){this.refresh()}return true}}}return false};this.addrow=function(b,a,m,c){if(a!=undefined){if(!b){a.uid=this.getid(this.source.id,a,this.totalrecords);var l=this.recordsbyid["id"+a.uid];while(l!=null){var k=Math.floor(Math.random()*10000).toString();a.uid=k;l=this.recordsbyid["id"+k]}}else{a.uid=b}if(!(a[this.source.id])){if(this.source.id!=undefined){a[this.source.id]=a.uid}}if(m=="last"){this.records.push(a)}else{if(typeof m==="number"&&isFinite(m)){this.records.splice(m,0,a)}else{this.records.splice(0,0,a)}}if(this.filters&&this.filters.length>0){if(m=="last"){this.cachedrecords.push(a)}else{if(typeof m==="number"&&isFinite(m)){this.cachedrecords.splice(m,0,a)}else{this.cachedrecords.splice(0,0,a)}}}this.totalrecords++;if(this.virtualmode){this.source.totalrecords=this.totalrecords}if(c==true||c==undefined){this.refresh()}this.changedrecords[a.uid]={Type:"New",Data:a};return true}return false};this.deleterow=function(b,c){if(b!=undefined){var o=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+b]&&!o){var n=this.recordsbyid["id"+b];var a=this.records.indexOf(n);this.changedrecords[b]={Type:"Delete",Data:this.records[a]};this.records.splice(a,1);this.totalrecords--;if(this.virtualmode){this.source.totalrecords=this.totalrecords}if(c==true||c==undefined){this.refresh()}return true}else{if(this.filters&&this.filters.length>0){var m=this.cachedrecords;var n=null;var a=-1;for(var l=0;l<m.length;l++){if(m[l].uid==b){n=m[l];a=l;break}}if(n){this.cachedrecords.splice(a,1);if(c==true||c==undefined){this.totalrecords=0;this.records=this.cachedrecords;this.refresh()}return true}}}return false}return false};this.reload=function(L,N,z,K,J,c,x){var E=this.that;var F=new Array();var C=L;var I=N;var H=z;var B=K;var G=I.length;var a=0;var M=0;var y,D;this.columns=[];this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid={};if(this.totalrecords==0){Object.size=function(h){var k=0,g;for(g in h){if(h.hasOwnProperty(g)){k++}}return k};var b=Object.size(C);this.totalrecords=b;d.each(this.records,function(k){var h=this;var g=0;d.each(h,function(l,m){E.columns[g++]=l});return false})}if(this.virtualmode){if(this.pageable){this.updateview();return}var c=0;if(!this.groupable){this.updateview();return}else{var x=this.totalrecords}}else{var c=0;var x=this.totalrecords}if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var A=c;A=this.loadgrouprecords(0,c,x,H,M,B,I,G,F)}else{a=this.loadflatrecords(c,x,H,M,B,I,G,F)}if(G>M){I.splice(M,G-M)}if(this.groups.length>0&&this.groupable){this.totalrows=A}else{this.totalrows=a}return F};this.loadflatrecords=function(F,v,E,c,y,G,w,b){var H=this.that;var z=F;var x=F;v=Math.min(v,this.totalrecords);var C=this.sortdata!=null;var D=this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype=="");var A=C?this.sortdata:this.records;for(var B=F;B<v;B++){var I={};if(!C){I=d.extend({},A[B]);id=I[H.uniqueId];I.boundindex=z;H.loadedrecords[z]=I;if(I.uid==undefined){I.uid=H.getid(H.source.id,I,z)}H.recordsbyid["id"+I.uid]=A[B];I.uniqueid=H.generatekey();H.bounditems[this.bounditems.length]=I}else{I=d.extend({},A[B].value);id=I[H.uniqueId];I.boundindex=A[B].index;if(I.uid==undefined){I.uid=H.getid(H.source.id,I,I.boundindex)}H.recordsbyid["id"+I.uid]=A[B].value;H.loadedrecords[z]=I;I.uniqueid=H.generatekey();H.bounditems[I.boundindex]=I}if(c>=w||id!=G[c][H.uniqueId]||(y&&y[id])){b[b.length]=c}G[c]=I;c++;I.visibleindex=x;x++;z++}if(H.grid.summaryrows){var a=z;d.each(H.grid.summaryrows,function(){var g=d.extend({},this);g.boundindex=v++;H.loadedrecords[a]=g;g.uniqueid=H.generatekey();H.bounditems[H.bounditems.length]=g;G[c]=g;c++;g.visibleindex=x;x++;a++})}return x},this.updateview=function(t,c){var a=this.that;var x=this.pagesize*this.pagenum;var u=0;var E=new Array();var C=this.filters;var y=this.updated;var w=E.length;if(this.pageable){if(this.virtualmode){if(!this.groupable||this.groups.length==0){this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),C,u,y,E,w,[]);this.totalrows=E.length}else{if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=undefined){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}var v=this.pagesize*(1+this.pagenum);if(v>this.totalrecords){v=this.totalrecords}this.loadgrouprecords(0,this.pagesize*this.pagenum,v,C,u,y,E,w,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}}}else{if(this.virtualmode&&(!this.groupable||this.groups.length==0)){var A=this.pagesize;if(A==0){A=Math.min(100,this.totalrecords)}var D=A*this.pagenum;if(this.loadedrecords.length==0){D=0}if(t!=null&&c!=null){this.loadflatrecords(t,c,C,u,y,E,w,[])}else{this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),C,u,y,E,w,[])}this.totalrows=this.loadedrecords.length;this.rows=E;if(E.length>=A){return}}}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage){E=this._updategroupsinpage(a,C,x,u,w,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum))}else{for(var z=this.pagesize*this.pagenum;z<this.pagesize*(1+this.pagenum);z++){var b=z<this.loadedrecords.length?this.loadedrecords[z]:null;if(b==null){continue}if(!this.pagesize||(x>=this.pagesize*this.pagenum&&x<=this.pagesize*(this.pagenum+1))){E[u]=b;u++}x++}}if((E.length==0||E.length<this.pagesize)&&!this.pageable&&this.virtualmode){u=E.length;var B=E.length;for(var z=this.pagesize*this.pagenum;z<this.pagesize*(1+this.pagenum)-B;z++){var b={};b.boundindex=z+B;b.visibleindex=z+B;b.uniqueid=a.generatekey();b.empty=true;a.bounditems[z+B]=b;E[u]=b;u++}}this.rows=E};this.generatekey=function(){var a=function(){return(((1+Math.random())*16)|0)};return(""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())};this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,true)};this.refresh=function(B){if(this.suspend){return}if(B==undefined){B=true}var y=this.rows.length;var z=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var E="";var C=this.cachedrecords.length;var I=new Array();this.totalrecords=0;var w=this.cachedrecords;this._dataIndexToBoundIndex=new Array();var D=this.filters.length;if(this.source!=null&&this.source.filter!=undefined&&this.source.localdata!=undefined){I=this.source.filter(this.filters,w,C);if(I==undefined){I=new Array()}this.records=I}else{if(this.source.filter==null||this.source.filter==undefined){for(var G=0;G<C;G++){var v=w[G];var F=undefined;for(var x=0;x<D;x++){var E=this.filters[x].filter;var a=v[this.filters[x].datafield];var H=E.evaluate(a);if(F==undefined){F=H}else{if(E.operator=="or"){F=F||H}else{F=F&&H}}}if(F){I[I.length]=d.extend({dataindex:G},v);this._dataIndexToBoundIndex[G]={boundindex:I.length-1}}else{this._dataIndexToBoundIndex[G]=null}}this.records=I}}if(this.sortdata){var A=this.sortfield;if(this.sortcache[A]){this.sortdata=null;var c=this.sortcache[A].direction;this.sortcache[A]=null;this.sortby(this.sortfield,c);return}}}else{if(this.filters.length==0&&!this.virtualmode){if(this.cachedrecords){this.totalrecords=0;var w=this.cachedrecords;this.records=w;if(this.sortdata){var A=this.sortfield;if(this.sortcache[A]){this.sortdata=null;var c=this.sortcache[A].direction;this.sortcache[A]=null;this.sortby(this.sortfield,c);return}}}}}var b=this.reload(this.records,this.rows,this.filter,this.updated,B);this.updated=null;if(this.rowschangecallback!=null){if(z!=totalrows){this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()})}if(y!=rows.length){this.rowschangecallback({type:"RowsCountChanged",data:{previous:y,current:rows.length}})}if(b.length>0||y!=rows.length){this.rowschangecallback({type:"RowsChanged",data:{previous:y,current:rows.length,diff:b}})}}};return this}})(jQuery);(function(c){var d=(function(){var L={},a,x,E,C,H,G,z,y;function K(m,f,e,k,l,h,g){this.hierarchy=l;this.exportFormat=h;this.filename=g;m.beginFile(g);A(m);D(m);m.endFile(g);return m.getFile()}function A(h){var e=true;c.each(x,function(){if(this.hidden){e=false;return false}});h.beginHeader(e);var f=0;for(var g in x){var k=B(g,x[g]);h.appendHeaderCell(x[g],g,k,e,f);f++}h.endHeader(e)}function D(e){e.beginBody();if(this.hierarchy){var f=function(h){for(var k=0;k<h.length;k+=1){if(h[k]!==undefined){e.beginRow(h[k].level);J(e,h[k],k,true);if(h[k].records){e.beginRows(h[k].level);f(h[k].records);e.endRows(h[k].level)}e.endRow(h[k].level)}}};f(a);e.endBody();return}for(var g=0;g<a.length;g+=1){if(a[g]!==undefined){J(e,a[g],g)}}e.endBody()}function J(f,l,n,h){var e;if(h!=true){f.beginRow()}var m=0;for(var g in x){e=v(n,g);if(e){if(e.level!=undefined){if(e.index-1>l.level&&e.index-1<e.maxLevel){m++;continue}}if(e.maxLevel!=undefined){if(e.index-1==e.maxLevel){e=c.extend({},e);e.merge=e.maxLevel-l.level-1}}}if(l.level!=undefined&&l.label!=undefined){if(this.exportFormat==="xml"||this.exportFormat==="json"){var k={};k.text="group";f.appendBodyCell(l.label,k,e,l,m,"group");break}}if(l.hasOwnProperty(g)){f.appendBodyCell(l[g],x[g],e,l,m)}else{f.appendBodyCell("",x[g],e,l,m)}m++}if(h!=true){f.endRow()}}function B(f,e){if(e.style){return E[e.style]}var g=b();if(g.length>0){return g[0].style}return null}function b(){if(!H){H=new Array();c.each(E,function(f,e){H[H.length]={name:f,style:e}})}return H}function v(f,k){var m=x[k];if(m){if(m.customCellStyles){var e=m.customCellStyles[f];if(e){return E[e]}}if(m.cellStyle){if(m.cellAltStyle){var g=f%2;if(g==0){return E[m.cellStyle]}return E[m.cellAltStyle]}return E[m.cellStyle]}else{var h=b();if(h.length>0){var g=f%(h.length-1);var l=h[g+1].style;return l}}}return null}function w(h,f,e){var g=document.createElement("input");g.name=f;g.value=h;g.type="hidden";e.appendChild(g);return g}function I(e,g,f){var h=document.createElement("textarea");h.name=g;h.value=e;f.appendChild(h);return h}function F(g,k,l,h,f){var e=document.createElement("form");w(g,"filename",e);w(k,"format",e);I(l,"content",e);if(h==undefined||h==""){if(window&&window.location.toString().indexOf("jqwidgets.com")>=0){h="http://jqwidgets.com/export_server/save-file.php"}else{h="http://jquerygrid.net/export_server/save-file.php"}}e.action=h;e.method="post";if(f){e.acceptCharset=f}document.body.appendChild(e);return e}C=function(f,l,e,g,k,h){if(!(this instanceof d)){return new d(f,l,e,k,h)}a=f;x=l;E=e;this.exportTo=function(m,o,q,p){m=m.toString().toLowerCase();var n=L[m];if(typeof n==="undefined"){throw"You can't export to "+m+" format."}return K(n,a,x,E,o,q,p)};this.exportToFile=function(n,s,t,m,q){var o=this.exportTo(n,q,n,s),p=F(s,n,o,t,m);p.submit();document.body.removeChild(p)};this.exportToLocalFile=function(m,p,o,q){var n=this.exportTo(m,o,q);document.location.href="data:application/octet-stream;filename="+p+","+encodeURIComponent(n)}};C.extend=function(f,e){if(e instanceof c.jqx.dataAdapter.DataExportModuleBase){L[f]=e}else{throw"The module "+f+" is not instance of DataExportModuleBase."}};return C}());c.jqx.dataAdapter.ArrayExporter=d})(jQuery);(function(c){var d=function(){this.formatData=function(k,l,n,a){if(l==="date"){var m="";if(typeof k==="string"){m=c.jqx.dataFormat.tryparsedate(k);k=m}if(k===""||k===null){return""}m=c.jqx.dataFormat.formatdate(k,n,a);if(m.toString()=="NaN"||m==null){return""}k=m}else{if(l==="number"||l==="float"||l==="int"||l=="integer"){if(k===""||k===null){return""}if(!isNaN(new Number(k))){var b=c.jqx.dataFormat.formatnumber(k,n,a);if(b.toString()=="NaN"){return""}else{k=b}}}else{k=k}}if(k===null){return""}return k};this.getFormat=function(a){var h=a?a.formatString:"";var b=a?a.localization:"";var g="string";g=a?a.type:"string";if(g=="number"||g=="float"){if(!h){h="f2"}}if(g=="int"||g=="integer"){if(!h){h="n0"}}if(g=="date"){if(!h){h="d"}}return{type:g,formatString:h,localization:b}};this.beginFile=function(){throw"Not implemented!"};this.beginHeader=function(){throw"Not implemented!"};this.appendHeaderCell=function(){throw"Not implemented!"};this.endHeader=function(){throw"Not implemented!"};this.beginBody=function(){throw"Not implemented!"};this.beginRow=function(){throw"Not implemented!"};this.beginRows=function(){throw"Not implemented!"};this.endRows=function(){throw"Not implemented!"};this.appendBodyCell=function(){throw"Not implemented!"};this.endRow=function(){throw"Not implemented!"};this.endBody=function(){throw"Not implemented!"};this.endFile=function(){throw"Not implemented!"};this.getFile=function(){throw"Not implemented!"}};c.jqx.dataAdapter.DataExportModuleBase=d})(jQuery);(function(g){var h=function(c){var p,m,n;var a=0;var d=this;this.beginFile=function(){p=""};this.beginHeader=function(){};this.appendHeaderCell=function(s,l,t,k,v){if(t){if(t.level!=undefined){if(v<t.maxLevel){return}else{if(v===t.maxLevel){if(k){b(s.text)}for(var u=0;u<t.maxLevel;u++){b("")}return}}}}n=k;if(k){b(s.text)}};this.endHeader=function(){this.endRow()};this.beginBody=function(){a=0};this.beginRow=function(){if((a>0)||(a==0&&n)){p+="\n"}a++};this.appendBodyCell=function(s,k,t,l,v){if(t){if(t.maxLevel!=undefined){if(v===t.maxLevel){b(s,k);for(var u=0;u<t.maxLevel-l.level-1;u++){b("",k)}return}}}b(s,k)};this.endRow=function(){p=p.substring(0,p.length-1)};this.endBody=function(){};this.endFile=function(){};this.getFile=function(){return p};function o(k,l){if(l){var q=d.getFormat(l);k=d.formatData(k,q.type,q.formatString,q.localization)}k='"'+k+'"';return k}function b(k,l){k=o(k,l);p+=k+c}};h.prototype=new g.jqx.dataAdapter.DataExportModuleBase();var f=function(){};f.prototype=new h(",");var e=function(){};e.prototype=new h("\t");g.jqx.dataAdapter.ArrayExporter.extend("csv",new f());g.jqx.dataAdapter.ArrayExporter.extend("tsv",new e())})(jQuery);(function(k){var g=function(){var b=false;var d;var c;var a=0;this.setPDF=function(){b=true};this.beginFile=function(m){if(b||m==undefined){d='<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}else{d='<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}};this.beginHeader=function(){if(b){d+="\n\t<thead><tr>"}else{d+="\n\t\t\t<thead>"}};this.appendHeaderCell=function(o,s,p,q){c=q;if(!q){return}if(b){d+='\n\t\t\t\t<th style="'+e(p)+'">'+o.text+"</th>"}else{if(p.disabled){return}if(p.merge){if(o.width){d+="\n\t\t\t\t<th colspan="+(1+p.merge)+' style="width: '+o.width+"px; "+e(p)+'">'+o.text+"</th>"}else{d+="\n\t\t\t\t<th colspan="+(1+p.merge)+' style="'+e(p)+'">'+o.text+"</th>"}}else{if(o.width){d+='\n\t\t\t\t<th style="width: '+o.width+"px; "+e(p)+'">'+o.text+"</th>"}else{d+='\n\t\t\t\t<th style="'+e(p)+'">'+o.text+"</th>"}}}};this.endHeader=function(){if(b){d+="\n\t</tr></thead>"}else{d+="\n\t\t\t</thead>"}};this.beginBody=function(){if(b){d+="\n\t<tbody>"}else{d+="\n\t\t\t<tbody>"}a=0};this.beginRow=function(){if(b){d+="\n\t<tr>"}else{d+="\n\t\t\t\t<tr>"}a++};this.appendBodyCell=function(p,s,q){var o=this.getFormat(s);if(p===""){p="&nbsp;"}if(b){if(a==1&&!c){d+='\n\t\t\t\t\t<td style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+='\n\t\t\t\t\t<td style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}else{if(q.merge){if(a==1&&!c){d+="\n\t\t\t\t\t<td colspan="+(1+q.merge)+' style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+="\n\t\t\t\t\t<td colspan="+(1+q.merge)+' style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}else{if(a==1&&!c){d+='\n\t\t\t\t\t<td style="'+e(q)+' border-top-width: 1px;">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}else{d+='\n\t\t\t\t\t<td style="'+e(q)+'">'+this.formatData(p,o.type,o.formatString,o.localization)+"</td>"}}}};this.endRow=function(){if(b){d+="\n\t</tr>"}else{d+="\n\t\t\t\t</tr>"}};this.endBody=function(){if(b){d+="\n\t</tbody>"}else{d+="\n\t\t\t</tbody>"}};this.endFile=function(m){if(b||m==undefined){d+="\n</table>"}else{d+="\n\t\t</table>\n\t</body>\n</html>\n"}};this.getFile=function(){return d};function e(n){var p="";for(var o in n){if(n.hasOwnProperty(o)){if(b&&o=="font-size"){n[o]="100%"}p+=o+":"+n[o]+";"}}return p}};g.prototype=new k.jqx.dataAdapter.DataExportModuleBase();var h=function(){};h.prototype=new g();var l=function(){};l.prototype=new g();var f=new l();f.setPDF();k.jqx.dataAdapter.ArrayExporter.extend("html",new h());k.jqx.dataAdapter.ArrayExporter.extend("pdf",f)})(jQuery);(function(c){var d=function(){var v,q,z,u,A,t,p={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(f){if(f["text-align"]){var e=this.stylesMap.alignment[f["text-align"]];if(!e){e="Left"}var g='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+e+'"/>';this.style+=g}},buildBorder:function(g){if(g["border-color"]){var h="\n\t\t\t<Borders>";var e='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var l='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var k='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';var f='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+g["border-color"]+'"/>';h+=e;h+=l;h+=k;h+=f;h+="\n\t\t\t</Borders>";this.style+=h}},buildFont:function(g){var f=this.stylesMap.font,h="\n\t\t\t<Font ";for(var e in f){if(typeof g[e]!=="undefined"){if(e==="font-style"&&g[e].toString().toLowerCase()==="italic"){h+='ss:Italic="1" '}else{if(e==="font-weight"&&g[e].toString().toLowerCase()==="bold"){h+='ss:Bold="1" '}else{if(e==="color"){h+="ss:"+f[e]+'="'+g[e]+'" '}}}}}h+="/>";this.style+=h},buildInterior:function(h){var g=this.stylesMap.interior,e="\n\t\t\t<Interior ";var k=false;for(var f in g){if(typeof h[f]!=="undefined"){e+="ss:"+g[f]+'="'+h[f]+'" ';k=true}}if(k){e+='ss:Pattern="Solid"'}e+="/>";this.style+=e},buildFormat:function(e){if(e.dataType=="number"||e.dataType=="float"||e.dataType=="int"||e.dataType=="integer"){var f=e.formatString;if(f==""||f.indexOf("n")!=-1||f.indexOf("N")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>'}else{if(f=="f"||f=="F"||f=="D"||f.indexOf("d")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>'}else{if(f.indexOf("p")!=-1||f.indexOf("P")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>'}else{if(f.indexOf("c")!=-1||f.indexOf("C")!=-1){if(parseInt(e.currencysymbol.charCodeAt(0))==8364){this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>'}else{this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>'}}}}}}else{if(e.dataType=="date"){this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>'}}},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;this.style="";return e}};this.beginFile=function(){A={};t=0;v='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'};this.beginHeader=function(){q='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>';z=[];u=[]};this.appendHeaderCell=function(f,e,g){var h=f.width!=undefined?f.width:f.text.length*10;q+='\n\t\t\t<Column ss:Width="'+h+'"/>';z.push(f);u.push(g)};this.endHeader=function(f){if(f){this.beginRow();for(var e=0;e<z.length;e+=1){if(u[e].disabled){continue}w.call(this,z[e]["text"],null,u[e])}this.endRow()}};this.beginBody=function(){};this.beginRow=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="<Row>";return}q+="\n\t\t\t<Row>"};this.beginRows=function(e){q+="\n\t\t\t\t<Rows>"};this.appendBodyCell=function(f,h,g,e){w.call(this,f,h,g,e)};this.endRow=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="</Row>";return}q+="\n\t\t\t</Row>"};this.endRows=function(e){if(e!=undefined){q+="\n\t\t\t";for(var f=0;f<e;f++){q+="\t"}q+="</Rows>";return}};this.endBody=function(){q+="\n\t\t</Table>"};this.endFile=function(){q+="\n\t</Worksheet>\n</Workbook>";v+="\n\t</Styles>"};this.getFile=function(){return v+q};function w(h,e,k,f){var l="String";var g=this.getFormat(e);if(h!=null&&h.toString().substring(0,2)=="AG"){h=h.toString().substring(2);l="String"}else{if(g.type=="date"){h=this.formatData(h,g.type,g.formatString,g.localization);if(h===null||h===""){h="";l="String"}}if(g.type=="string"){if(h===null||h===undefined){h=""}else{if(h.toString().indexOf("&")>=0){h=h.toString().replace(/&/g,"&amp;")}if(h.toString().indexOf(">")>=0){h=h.toString().replace(/>/g,"&gt;")}if(h.toString().indexOf("<")>=0){h=h.toString().replace(/</g,"&lt;")}if(h.toString().indexOf('"')>=0){h=h.toString().replace(/"/g,"&quot;")}if(h.toString().indexOf("'")>=0){h=h.toString().replace(/'/g,"&apos;")}}}if(k.dataType=="number"||k.dataType=="float"||k.dataType=="int"||k.dataType=="integer"){l="Number";h=parseFloat(h);if(h===null||isNaN(h)||h===""){h="";l="String"}if(h&&l!="String"&&h!=""){if(e&&e.formatString&&e.formatString.indexOf("p")>=0){h=h/100}}k.currencysymbol=e.localization.currencysymbol}}var m=x(k);if(k.merge){q+='\n\t\t\t\t<Cell ss:MergeAcross="'+k.merge+'" ss:StyleID="'+m+'"><Data ss:Type="'+l+'">'+h+"</Data></Cell>"}else{q+='\n\t\t\t\t<Cell ss:StyleID="'+m+'"><Data ss:Type="'+l+'">'+h+"</Data></Cell>"}}function b(){t+=1;return"xls-style-"+t}function s(e){for(var f in A){if(a(e,A[f])&&a(A[f],e)){return f}}return undefined}function a(e,h){var f=true;for(var g in e){if(e[g]!==h[g]){f=false}}return f}function y(e,f){p.startStyle(e);p.buildAlignment(f);p.buildBorder(f);p.buildFont(f);p.buildInterior(f);p.buildFormat(f);p.closeStyle();v+=p.toString()}function x(f){if(!f){return""}var e=s(f);if(typeof e==="undefined"){e=b();A[e]=f;y(e,f)}return e}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xls",new d())})(jQuery);(function(c){var d=function(){var a,f,b;this.beginFile=function(){a='<?xml version="1.0" encoding="UTF-8" ?>';a+="\n<table>"};this.beginHeader=function(){f=[]};this.appendHeaderCell=function(h,e){f.push(e)};this.endHeader=function(){};this.beginBody=function(e,h){};this.beginRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var h=0;h<e;h++){a+="\t\t"}a+="<row>";b=0;return}}a+="\n\t<row>";b=0};this.beginRows=function(e){if(e!=undefined){a+="\n\t\t";for(var h=0;h<e;h++){a+="\t\t"}a+="<rows>";b=0;return}a+="\n\t\t<rows>"};this.appendBodyCell=function(q,v,t,e,s,o){var p=this.getFormat(v);q=this.formatData(q,p.type,p.formatString,p.localization);if(p.type=="string"){if(q.toString().indexOf("&")>=0){q=q.toString().replace(/&/g,"&amp;")}if(q.toString().indexOf(">")>=0){q=q.toString().replace(/>/g,"&gt;")}if(q.toString().indexOf("<")>=0){q=q.toString().replace(/</g,"&lt;")}if(q.toString().indexOf('"')>=0){q=q.toString().replace(/"/g,"&quot;")}if(q.toString().indexOf("'")>=0){q=q.toString().replace(/'/g,"&apos;")}}if(e.level!=undefined){if(this.hierarchy){a+="\n\t\t";for(var u=0;u<e.level;u++){a+="\t\t"}if(o===undefined){a+="<"+f[b]+">"+q+"</"+f[b]+">"}else{a+="<"+o+">"+q+"</"+o+">"}}else{if(o!=undefined){a+="\n\t\t<"+o+">"+q+"</"+o+">"}else{a+="\n\t\t<"+f[b]+">"+q+"</"+f[b]+">"}}}else{a+="\n\t\t<"+f[b]+">"+q+"</"+f[b]+">"}b++};this.endRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var h=0;h<e;h++){a+="\t\t"}a+="</row>";b=0;return}}a+="\n\t</row>";b=0};this.endRows=function(e){if(e!=undefined){a+="\n\t\t";for(var h=0;h<e;h++){a+="\t\t"}a+="</rows>";b=0;return}a+="\n\t\t</rows>"};this.endBody=function(){};this.endFile=function(){a+="\n</table>"};this.getFile=function(){return a}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xml",new d())})(jQuery);(function(x){var q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function A(a){return'"'+a.replace(q,function(c){var b=o[c];return typeof b==="string"?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"'}function z(a){return a<10?"0"+a:a}function w(a){var b;if(isFinite(a.valueOf())){b=a.getUTCFullYear()+"-"+z(a.getUTCMonth()+1)+"-"+z(a.getUTCDate())+"T"+z(a.getUTCHours())+":"+z(a.getUTCMinutes())+":"+z(a.getUTCSeconds())+'Z"'}else{b="null"}return b}function u(a){var d=a.length,c=[],b;for(b=0;b<d;b++){c.push(t(b,a)||"null")}return"["+c.join(",")+"]"}function n(a){var c=[],b,d;for(b in a){if(Object.prototype.hasOwnProperty.call(a,b)){d=t(b,a);if(d){c.push(A(b)+":"+d)}}}return"{"+c.join(",")+"}"}function s(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return w(a);case"[object Array]":return u(a)}return n(a)}function p(a,b){switch(b){case"string":return A(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function t(c,d){var a=d[c],b=typeof a;if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(c);b=typeof a}if(/(number|float|int|integer|string|boolean)/.test(b)||(!a&&b==="object")){return p(a,b)}else{return s(a)}}function v(a){if(window.JSON&&typeof window.JSON.stringify==="function"){return window.JSON.stringify(a)}return t("",{"":a})}var y=function(){var c=this;this.prepareData=function(k,g){if(g){var h=c.getFormat(g);k=c.formatData(k,h.type,h.formatString,h.localization)}return k};var f,d,b,e=[],a=0;this.beginFile=function(){d=[]};this.beginHeader=function(){};this.appendHeaderCell=function(g){};this.endHeader=function(){};this.beginBody=function(g,h){};this.beginRow=function(){if(hierarchy){e[a]={}}else{b={}}};this.beginRows=function(){e[a].rows=[];a++;e[a]={}};this.endRows=function(){a--};this.appendBodyCell=function(h,k){var g=this.prepareData(h,k);if(hierarchy){e[a][k.text]=g}else{b[k.text]=g}};this.endRow=function(){if(hierarchy){if(a==0){d.push(e[a])}else{e[a-1].rows.push(e[a])}}else{d.push(b)}};this.endBody=function(){};this.endFile=function(){f=v(d)};this.getFile=function(){return f}};y.prototype=new x.jqx.dataAdapter.DataExportModuleBase();x.jqx.dataAdapter.ArrayExporter.extend("json",new y())})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{exportdata:function(V,H,I,Y,T,P,af){if(!b.jqx.dataAdapter.ArrayExporter){throw"jqxGrid: Missing reference to jqxdata.export.js!"}if(I==undefined){I=true}var K=this;if(Y==undefined){var Y=this.getrows();if(Y.length==0){throw"No data to export."}}this.exporting=true;if(!this.pageable){this.loadondemand=true}if(this.altrows){this._renderrows(this.virtualsizeinfo)}var O=T!=undefined?T:false;var R={};var Z={};var L=[];var ab=this.host.find(".jqx-grid-cell:first");var J=this.host.find(".jqx-grid-cell-alt:first");ab.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));ab.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));J.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));J.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));ab.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));ab.removeClass(this.toThemeProperty("jqx-fill-state-hover"));J.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));J.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var ae="cell";var ag=1;var N="column";var ai=1;var ad=[];for(var X=0;X<this.columns.records.length;X++){var ah=this.columns.records[X];if(ah.cellclassname!=""){ah.customCellStyles=new Array();if(typeof ah.cellclassname=="string"){for(var U=0;U<Y.length;U++){ah.customCellStyles[U]=ah.cellclassname}}else{for(var U=0;U<Y.length;U++){var M=this.getrowboundindex(U);var aj=ah.cellclassname(M,ah.displayfield,Y[U][ah.displayfield],Y[U]);if(aj){ah.customCellStyles[U]=aj}}}}}b.each(this.columns.records,function(k){var f=b(K.table[0].rows[0].cells[k]);if(K.table[0].rows.length>1){var c=b(K.table[0].rows[1].cells[k])}var l=this;var h=function(o){o.removeClass(K.toThemeProperty("jqx-grid-cell-selected"));o.removeClass(K.toThemeProperty("jqx-fill-state-pressed"));o.removeClass(K.toThemeProperty("jqx-grid-cell-hover"));o.removeClass(K.toThemeProperty("jqx-fill-state-hover"));if(l.customCellStyles){for(var n in l.customCellStyles){o.removeClass(l.customCellStyles[n])}}};h(f);if(c){h(c)}if(this.displayfield==null){return true}if(K.showaggregates){if(K.getcolumnaggregateddata){ad.push(K.getcolumnaggregateddata(this.displayfield,this.aggregates,true,Y))}}var g=K._getexportcolumntype(this);if(this.exportable&&(!this.hidden||O)){R[this.displayfield]={};R[this.displayfield].text=this.text;R[this.displayfield].width=parseInt(this.width);if(isNaN(R[this.displayfield].width)){R[this.displayfield].width=60}R[this.displayfield].formatString=this.cellsformat;R[this.displayfield].localization=K.gridlocalization;R[this.displayfield].type=g;R[this.displayfield].cellsAlign=this.cellsalign;R[this.displayfield].hidden=!I}ae="cell"+ag;var e=b(this.element);if(this.element==undefined){e=b(this.uielement)}N="column"+ai;if(V=="html"||V=="xls"||V=="pdf"){var d=function(w,n,o,v,p,t,u,s,q){Z[w]={};Z[w]["font-size"]=n.css("font-size");Z[w]["font-weight"]=n.css("font-weight");Z[w]["font-style"]=n.css("font-style");Z[w]["background-color"]=t._getexportcolor(n.css("background-color"));Z[w]["color"]=t._getexportcolor(n.css("color"));Z[w]["border-color"]=t._getexportcolor(n.css("border-top-color"));if(o){Z[w]["text-align"]=p.align}else{Z[w]["text-align"]=p.cellsalign;Z[w]["formatString"]=p.cellsformat;Z[w]["dataType"]=g}if(V=="html"||V=="pdf"){Z[w]["border-top-width"]=n.css("border-top-width");Z[w]["border-left-width"]=n.css("border-left-width");Z[w]["border-right-width"]=n.css("border-right-width");Z[w]["border-bottom-width"]=n.css("border-bottom-width");Z[w]["border-top-style"]=n.css("border-top-style");Z[w]["border-left-style"]=n.css("border-left-style");Z[w]["border-right-style"]=n.css("border-right-style");Z[w]["border-bottom-style"]=n.css("border-bottom-style");if(o){if(u==0){Z[w]["border-left-width"]=n.css("border-right-width")}Z[w]["border-top-width"]=n.css("border-right-width");Z[w]["border-bottom-width"]=n.css("border-bottom-width")}else{if(u==0){Z[w]["border-left-width"]=n.css("border-right-width")}}Z[w]["height"]=n.css("height")}if(p.exportable&&(!p.hidden||O)){if(s==true){if(!R[p.displayfield].customCellStyles){R[p.displayfield].customCellStyles=new Array()}R[p.displayfield].customCellStyles[q]=w}else{if(o){R[p.displayfield].style=w}else{if(!v){R[p.displayfield].cellStyle=w}else{R[p.displayfield].cellAltStyle=w}}}}};d(N,e,true,false,this,K,k);ai++;d(ae,f,false,false,this,K,k);if(K.altrows){ae="cellalt"+ag;d(ae,c,false,true,this,K,k)}if(this.customCellStyles){for(var m in l.customCellStyles){f.removeClass(l.customCellStyles[m])}for(var m in l.customCellStyles){f.addClass(l.customCellStyles[m]);d(ae+l.customCellStyles[m],f,false,false,this,K,k,true,m);f.removeClass(l.customCellStyles[m])}}ag++}});if(this.showaggregates){var S=[];var a=V=="xls"?"AG":"";var ac=this.groupable?this.groups.length:0;if(this.rowdetails){ac++}if(ad.length>0){b.each(this.columns.records,function(f){if(this.aggregates){for(var e=0;e<this.aggregates.length;e++){if(!S[e]){S[e]={}}if(S[e]){var d=K._getaggregatename(this.aggregates[e]);var c=K._getaggregatetype(this.aggregates[e]);var g=ad[f-ac];if(g){S[e][this.displayfield]=a+d+": "+g[c]}}}}});b.each(this.columns.records,function(c){for(var d=0;d<S.length;d++){if(S[d][this.displayfield]==undefined){S[d][this.displayfield]=a}}})}b.each(S,function(){Y.push(this)})}var aa=this;var Q=b.jqx.dataAdapter.ArrayExporter(Y,R,Z);if(H==undefined){this._renderrows(this.virtualsizeinfo);var W=Q.exportTo(V);if(this.showaggregates){b.each(S,function(){Y.pop(this)})}setTimeout(function(){aa.exporting=false},50);return W}else{Q.exportToFile(V,H,P,af)}if(this.showaggregates){b.each(S,function(){Y.pop(this)})}this._renderrows(this.virtualsizeinfo);setTimeout(function(){aa.exporting=false},50)},_getexportcolor:function(g){var s=g;if(g=="transparent"){s="#FFFFFF"}if(!s||!s.toString()){s="#FFFFFF"}if(s.toString().indexOf("rgb")!=-1){var p=s.split(",");if(s.toString().indexOf("rgba")!=-1){var u=parseInt(p[0].substring(5));var q=parseInt(p[1]);var o=parseInt(p[2]);var n=parseInt(p[3].substring(1,4));var a={r:u,g:q,b:o};var t=this._rgbToHex(a);if(u==0&&q==0&&o==0&&n==0){return"#ffffff"}return"#"+t}var u=parseInt(p[0].substring(4));var q=parseInt(p[1]);var o=parseInt(p[2].substring(1,4));var a={r:u,g:q,b:o};var t=this._rgbToHex(a);return"#"+t}else{if(s.toString().indexOf("#")!=-1){if(s.toString().length==4){var v=s.toString().substring(1,4);s+=v}}}return s},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(d){var a=(parseInt(d).toString(16));if(a.length==1){a=("0"+a)}return a.toUpperCase()},_getexportcolumntype:function(n){var m=this;var o="string";var p=m.source.datafields||((m.source._source)?m.source._source.datafields:null);if(p){var k="";b.each(p,function(){if(this.name==n.displayfield){if(this.type){k=this.type}return false}});if(k){return k}}if(n!=null){if(this.dataview.cachedrecords==undefined){return o}var a=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return o}a=this.dataview.cachedrecords[0][n.displayfield];if(a!=null&&a.toString()==""){return"string"}}else{b.each(this.dataview.cachedrecords,function(){a=this[n.displayfield];return false})}if(a!=null){if(n.cellsformat.indexOf("c")!=-1){return"number"}if(n.cellsformat.indexOf("n")!=-1){return"number"}if(n.cellsformat.indexOf("p")!=-1){return"number"}if(n.cellsformat.indexOf("d")!=-1){return"date"}if(n.cellsformat.indexOf("y")!=-1){return"date"}if(n.cellsformat.indexOf("M")!=-1){return"date"}if(n.cellsformat.indexOf("m")!=-1){return"date"}if(n.cellsformat.indexOf("t")!=-1){return"date"}if(typeof a=="boolean"){o="boolean"}else{if(b.jqx.dataFormat.isNumber(a)){o="number"}else{var l=new Date(a);if(l.toString()=="NaN"||l.toString()=="Invalid Date"){if(b.jqx.dataFormat){l=b.jqx.dataFormat.tryparsedate(a);if(l!=null){if(l&&l.getFullYear()){if(l.getFullYear()==1970&&l.getMonth()==0&&l.getDate()==1){var q=new Number(a);if(!isNaN(q)){return"number"}return"string"}}return"date"}else{o="string"}}else{o="string"}}else{o="date"}}}}}return o}})})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=false;var k=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array();var h=this.dataview.loadedrecords;for(var l=0;l<k;l++){var g=h[l];if(!g){this.selectedrowindexes[l]=l;continue}var a=this.getboundindex(g);this.selectedrowindexes[l]=a}if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){if(this._checkboxcolumn){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:true})}}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(2,{rowindex:this.selectedrowindexes})}},unselectallrows:function(){this._trigger=false;var k=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array();var h=this.dataview.loadedrecords;for(var l=0;l<k;l++){var g=h[l];if(!g){this.selectedrowindexes[l]=l;continue}var a=this.getboundindex(g);this.selectedrowindexes[l]=-1}if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){if(this._checkboxcolumn){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:true})}}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(2,{rowindex:this.selectedrowindexes})}},selectrow:function(a,d){this._applyrowselection(a,true,d);if(d!==false){this._updatecheckboxselection()}},_updatecheckboxselection:function(){if(this.selectionmode=="checkbox"){var e=this.getrows();if(e&&this._checkboxcolumn){if(e.length===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false});return}var f=e.length;if(this.virtualmode){f=this.source._source.totalrecords}var a=this.selectedrowindexes.length;if(a===f){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:true})}else{if(a===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false})}else{this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}}}},unselectrow:function(a,d){this._applyrowselection(a,false,d);if(d!==false){this._updatecheckboxselection()}},selectcell:function(d,a){this._applycellselection(d,a,true)},unselectcell:function(d,a){this._applycellselection(d,a,false)},clearselection:function(f,e){this._trigger=false;this.selectedrowindex=-1;this._oldselectedcell=null;if(e!==false){for(var a=0;a<this.selectedrowindexes.length;a++){this._raiseEvent(3,{rowindex:this.selectedrowindexes[a]})}}this.selectedrowindexes=new Array();this.selectedcells=new Array();if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false})}if(false===f){this._trigger=true;return}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(3,{rowindex:this.selectedrowindexes})}},getselectedrowindex:function(){if(this.selectedrowindex==-1){for(var a=0;a<this.selectedrowindexes.length;a++){return this.selectedrowindexes[a]}}return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell){return null}var a=this.selectedcell;a.row=this.selectedcell.rowindex;a.column=this.selectedcell.datafield;a.value=this.getcellvalue(a.row,a.column);return a},getselectedcells:function(){var a=new Array();for(obj in this.selectedcells){a[a.length]=this.selectedcells[obj]}return a},_getcellsforcopypaste:function(){var n=new Array();if(this.selectionmode.indexOf("cell")==-1){var k=this.selectedrowindexes;for(var o=0;o<k.length;o++){var p=k[o];for(var m=0;m<this.columns.records.length;m++){var l=p+"_"+this.columns.records[m].datafield;var a={rowindex:p,datafield:this.columns.records[m].datafield};n.push(a)}}}return n},deleteselection:function(){var o=this;var m=o.getselectedcells();if(this.selectionmode.indexOf("cell")==-1){m=this._getcellsforcopypaste()}if(m!=null&&m.length>0){for(var n=0;n<m.length;n++){var a=m[n];var l=o.getcolumn(a.datafield);var k=o.getcellvalue(a.rowindex,a.datafield);if(!l){continue}if(k!==""){var p=null;if(l.columntype=="checkbox"){if(!l.threestatecheckbox){p=false}}o._raiseEvent(17,{rowindex:a.rowindex,datafield:a.datafield,value:k});if(n==m.length-1){o.setcellvalue(a.rowindex,a.datafield,p,true);if(l.displayfield!=l.datafield){o.setcellvalue(a.rowindex,l.displayfield,p,true)}}else{o.setcellvalue(a.rowindex,a.datafield,p,false);if(l.displayfield!=l.datafield){o.setcellvalue(a.rowindex,l.displayfield,p,true)}}o._raiseEvent(18,{rowindex:a.rowindex,datafield:a.datafield,oldvalue:k,value:p})}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="";var n=this;this.clipboardselection={};this._clipboardselection=[];var o=n.getselectedcells();if(this.selectionmode.indexOf("cell")==-1){o=this._getcellsforcopypaste()}if(o!=null&&o.length>0){var a=999999999999999;var p=-1;for(var v=0;v<o.length;v++){var s=o[v];var x=n.getcolumn(s.datafield);if(x!=null){var q=n.getcelltext(s.rowindex,s.datafield);if(!this.clipboardselection[s.rowindex]){this.clipboardselection[s.rowindex]={}}this.clipboardselection[s.rowindex][s.datafield]=q;a=Math.min(a,s.rowindex);p=Math.max(p,s.rowindex)}}for(var w=a;w<=p;w++){var u=0;this._clipboardselection[this._clipboardselection.length]=new Array();if(this.clipboardselection[w]!=undefined){b.each(this.clipboardselection[w],function(c,e){if(u>0){t+="\t"}var d=e;if(e==null){d=""}n._clipboardselection[n._clipboardselection.length-1][u]=d;u++;t+=d})}if(w<p){t+="\n"}}}this.clipboardselectedtext=t;return t},pasteselection:function(){var c=this.getselectedcells();if(this.selectionmode.indexOf("cell")==-1){c=this._getcellsforcopypaste()}if(c!=null&&c.length>0){var q=c[0].rowindex;var z=c[0].datafield;var u=this._getcolumnindex(z);var v=0;this.selectedrowindexes=new Array();this.selectedcells=new Array();if(!this._clipboardselection){return}for(var a=0;a<this._clipboardselection.length;a++){for(var w=0;w<this._clipboardselection[a].length;w++){var y=this.getcolumnat(u+w);if(!y){continue}var t=this.getcell(q+a,y.datafield);var B=null;B=this._clipboardselection[a][w];if(B!=null){if(y.cellsformat){if(y.cellsformat.indexOf("p")!=-1||y.cellsformat.indexOf("c")!=-1||y.cellsformat.indexOf("n")!=-1||y.cellsformat.indexOf("f")!=-1){if(B.indexOf(this.gridlocalization.currencysymbol)>-1){B=B.replace(this.gridlocalization.currencysymbol,"")}var x=function(d,f,e){var h=d;if(f==e){return d}var g=h.indexOf(f);while(g!=-1){h=h.replace(f,e);g=h.indexOf(f)}return h};B=x(B,this.gridlocalization.thousandsseparator,"");B=B.replace(this.gridlocalization.decimalseparator,".");if(B.indexOf(this.gridlocalization.percentsymbol)>-1){B=B.replace(this.gridlocalization.percentsymbol,"")}var A="";for(var s=0;s<B.length;s++){var C=B.substring(s,s+1);if(C==="-"){A+="-"}if(C==="."){A+="."}if(C.match(/^[0-9]+$/)!=null){A+=C}}B=A;B=B.replace(/ /g,"");B=new Number(B);if(isNaN(B)){B=""}}}this._raiseEvent(17,{rowindex:q+a,datafield:t.datafield,value:B});this.setcellvalue(t.row,t.column,B,false);this._raiseEvent(18,{rowindex:q+a,datafield:t.datafield,oldvalue:this.getcellvalue(t.rowindex,t.datafield),value:B});this._applycellselection(q+a,t.datafield,true,false)}}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(o,k,n,l,s){if(o==null){return false}var a=this.selectedrowindex;if(this.selectionmode=="singlerow"){if(k){this._raiseEvent(2,{rowindex:o,row:this.getrowdata(o)})}else{this._raiseEvent(3,{rowindex:o,row:this.getrowdata(o)})}this._raiseEvent(3,{rowindex:a});this.selectedrowindexes=new Array();this.selectedcells=new Array()}if(l==true){this.selectedrowindexes=new Array()}if(this.dataview.filters.length>0){var q=this.getrowdata(o);if(q&&q.dataindex!==undefined){o=q.dataindex}else{if(q&&q.dataindex===undefined){if(q.uid!=undefined){o=this.getrowboundindexbyid(q.uid)}}}}var p=this.selectedrowindexes.indexOf(o);if(k){this.selectedrowindex=o;if(p==-1){this.selectedrowindexes.push(o);if(this.selectionmode!="singlerow"){this._raiseEvent(2,{rowindex:o,row:this.getrowdata(o)})}}else{if(this.selectionmode=="multiplerows"){this.selectedrowindexes.splice(p,1);this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(o)});this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1}}}else{if(p>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"||this.selectionmode=="multiplerowsadvanced"){var m=this.selectedrowindexes[p];this.selectedrowindexes.splice(p,1);this._raiseEvent(3,{rowindex:m,row:this.getrowdata(o)});this.selectedrowindex=-1}}if(n==undefined||n){this._rendervisualrows()}return true},_applycellselection:function(o,s,l,n){if(o==null){return false}if(s==null){return false}var a=this.selectedrowindex;if(this.selectionmode=="singlecell"){var p=this.selectedcell;if(p!=null){this._raiseEvent(16,{rowindex:p.rowindex,datafield:p.datafield})}this.selectedcells=new Array()}if(this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced"){var p=this.selectedcell;if(p!=null){this._raiseEvent(16,{rowindex:p.rowindex,datafield:p.datafield})}}var m=o+"_"+s;if(this.dataview.filters.length>0){var q=this.getrowdata(o);if(q&&q.dataindex!==undefined){o=q.dataindex;var m=o+"_"+s}else{if(q&&q.dataindex===undefined){if(q.uid){o=this.getrowboundindexbyid(q.uid);var m=o+"_"+s}}}}var k={rowindex:o,datafield:s};if(l){this.selectedcell=k;if(!this.selectedcells[m]){this.selectedcells[m]=k;this.selectedcells.length++;this._raiseEvent(15,k)}else{if(this.selectionmode=="multiplecells"||this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced"){delete this.selectedcells[m];if(this.selectedcells.length>0){this.selectedcells.length--}this._raiseEvent(16,k)}}}else{delete this.selectedcells[m];if(this.selectedcells.length>0){this.selectedcells.length--}this._raiseEvent(16,k)}if(n==undefined||n){this._rendervisualrows()}return true},_getcellindex:function(a){var d=-1;b.each(this.selectedcells,function(){d++;if(this[a]){return false}});return d},_clearhoverstyle:function(){if(undefined==this.hoveredrow||this.hoveredrow==-1){return}if(this.vScrollInstance.isScrolling()){return}if(this.hScrollInstance.isScrolling()){return}var a=this.table.find(".jqx-grid-cell-hover");if(a.length>0){a.removeClass(this.toTP("jqx-grid-cell-hover"));a.removeClass(this.toTP("jqx-fill-state-hover"))}this.hoveredrow=-1},_clearselectstyle:function(){var v=this.table[0].rows.length;var a=this.table[0].rows;var u=this.toTP("jqx-grid-cell-selected");var B=this.toTP("jqx-fill-state-pressed");var t=this.toTP("jqx-grid-cell-hover");var w=this.toTP("jqx-fill-state-hover");for(var x=0;x<v;x++){var C=a[x];var y=C.cells.length;var q=C.cells;for(var z=0;z<y;z++){var A=q[z];var s=b(A);if(A.className.indexOf("jqx-grid-cell-selected")!=-1){s.removeClass(u);s.removeClass(B)}if(A.className.indexOf("jqx-grid-cell-hover")!=-1){s.removeClass(t);s.removeClass(w)}}}},_selectpath:function(a,w){var o=this;var s=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0;var p=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(s<=p){var t=this._getcolumnindex(this._lastClickedCell.column);var u=this._getcolumnindex(w);var v=Math.min(t,u);var x=Math.max(t,u);this.selectedcells=new Array();var c=this.dataview.loadedrecords;for(var y=s;y<=p;y++){for(var q=v;q<=x;q++){var a=c[y];this._applycellselection(o.getboundindex(a),o._getcolumnat(q).datafield,true,false)}}this._rendervisualrows()}},_selectrowpath:function(l){if(this.selectionmode=="multiplerowsextended"){var p=this;var a=this._lastClickedCell?Math.min(this._lastClickedCell.row,l):0;var k=this._lastClickedCell?Math.max(this._lastClickedCell.row,l):0;var m=this.dataview.loadedrecords;if(a<=k){this.selectedrowindexes=new Array();for(var n=a;n<=k;n++){var l=m[n];var o=this.getrowboundindex(n);this._applyrowselection(o,true,false)}this._rendervisualrows()}}},_selectrowwithmouse:function(C,Q,P,M,O,A){var I=Q.row;if(I==undefined){return}var H=Q.index;if(this.hittestinfo[H]==undefined){return}var z=this.hittestinfo[H].visualrow;if(this.hittestinfo[H].details){return}var F=z.cells[0].className;if(I.group){return}if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"||this.selectionmode=="checkbox"||(this.selectionmode.indexOf("multiple")!=-1&&(A==true||O==true))){var G=this.getboundindex(I);if(this.dataview.filters.length>0){var x=this.getrowdata(G);if(x){G=x.dataindex;if(G==undefined){var G=this.getboundindex(I)}}}var B=P.indexOf(G)!=-1;var a=this.getboundindex(I)+"_"+M;if(this.selectionmode.indexOf("cell")!=-1){var K=this.selectedcells[a]!=undefined;if(this.selectedcells[a]!=undefined&&K){this._selectcellwithstyle(C,false,H,M,z)}else{this._selectcellwithstyle(C,true,H,M,z)}if(A&&this._lastClickedCell==undefined){var L=this.getselectedcells();if(L&&L.length>0){this._lastClickedCell={row:L[0].rowindex,column:L[0].datafield}}}if(A&&this._lastClickedCell){this._selectpath(I.visibleindex,M);this.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden")}}}else{if(B){if(O){this._applyrowselection(this.getboundindex(I),false)}else{this._selectrowwithstyle(C,z,false,M)}}else{this._selectrowwithstyle(C,z,true,M)}if(A&&this._lastClickedCell==undefined){var J=this.getselectedrowindexes();if(J&&J.length>0){this._lastClickedCell={row:J[0],column:M}}}if(A&&this._lastClickedCell){this.selectedrowindexes=new Array();var N=this._lastClickedCell?Math.min(this._lastClickedCell.row,I.visibleindex):0;var y=this._lastClickedCell?Math.max(this._lastClickedCell.row,I.visibleindex):0;var E=this.dataview.loadedrecords;for(var D=N;D<=y;D++){var I=E[D];if(I){this._applyrowselection(this.getboundindex(I),true,false,false)}}this._rendervisualrows()}}}else{this._clearselectstyle();this._selectrowwithstyle(C,z,true,M);if(this.selectionmode.indexOf("cell")!=-1){this._selectcellwithstyle(C,true,H,M,z)}}if(!A){this._lastClickedCell={row:I.visibleindex,column:M}}},_selectcellwithstyle:function(m,n,h,k,l){var a=b(l.cells[m._getcolumnindex(k)]);a.removeClass(this.toTP("jqx-grid-cell-hover"));a.removeClass(this.toTP("jqx-fill-state-hover"));if(n){a.addClass(this.toTP("jqx-grid-cell-selected"));a.addClass(this.toTP("jqx-fill-state-pressed"))}else{a.removeClass(this.toTP("jqx-grid-cell-selected"));a.removeClass(this.toTP("jqx-fill-state-pressed"))}},_selectrowwithstyle:function(o,l,a,k){var q=l.cells.length;var n=0;if(o.rowdetails&&o.showrowdetailscolumn){if(!this.rtl){n=1+this.groups.length}else{q-=1;q-=this.groups.length}}else{if(this.groupable){if(!this.rtl){n=this.groups.length}else{q-=this.groups.length}}}for(var m=n;m<q;m++){var p=l.cells[m];if(a){b(p).removeClass(this.toTP("jqx-grid-cell-hover"));b(p).removeClass(this.toTP("jqx-fill-state-hover"));if(o.selectionmode.indexOf("cell")==-1){b(p).addClass(this.toTP("jqx-grid-cell-selected"));b(p).addClass(this.toTP("jqx-fill-state-pressed"))}}else{b(p).removeClass(this.toTP("jqx-grid-cell-hover"));b(p).removeClass(this.toTP("jqx-grid-cell-selected"));b(p).removeClass(this.toTP("jqx-fill-state-hover"));b(p).removeClass(this.toTP("jqx-fill-state-pressed"))}}},_handlemousemoveselection:function(aA,aK){if((aK.selectionmode=="multiplerowsextended"||aK.selectionmode=="multiplecellsextended"||aK.selectionmode=="multiplecellsadvanced")&&aK.mousecaptured){if(aK.multipleselectionbegins){var aV=aK.multipleselectionbegins(aA);if(aV===false){return true}}var aC=this.showheader?this.columnsheader.height()+2:0;var ap=this._groupsheader()?this.groupsheader.height():0;var an=this.showtoolbar?this.toolbarheight:0;ap+=an;var a=this.host.coord();if(this.hasTransform){a=b.jqx.utilities.getOffset(this.host);var ax=this._getBodyOffset();a.left-=ax.left;a.top-=ax.top}var al=aA.pageX;var am=aA.pageY-ap;if(Math.abs(this.mousecaptureposition.left-al)>3||Math.abs(this.mousecaptureposition.top-am)>3){var aR=parseInt(this.columnsheader.coord().top);if(this.hasTransform){aR=b.jqx.utilities.getOffset(this.columnsheader).top}if(al<a.left){al=a.left}if(al>a.left+this.host.width()){al=a.left+this.host.width()}var p=a.top+aC;if(am<p){am=p+5}var ao=parseInt(Math.min(aK.mousecaptureposition.left,al));var aQ=-5+parseInt(Math.min(aK.mousecaptureposition.top,am));var aq=parseInt(Math.abs(aK.mousecaptureposition.left-al));var ai=parseInt(Math.abs(aK.mousecaptureposition.top-am));ao-=a.left;aQ-=a.top;this.selectionarea.css("visibility","visible");if(aK.selectionmode=="multiplecellsadvanced"){var al=ao;var aH=al+aq;var ar=al;var aL=aK.hScrollInstance;var aF=aL.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){aF=aL.max-aL.value}if(this.vScrollBar[0].style.visibility!="hidden"){}}var aP=aK.table[0].rows[0];var ae=0;var az=aK.mousecaptureposition.clickedcell;var aB=az;var aM=false;var aJ=0;var ay=aP.cells.length;if(aK.mousecaptureposition.left<=aA.pageX){aJ=az}for(var q=aJ;q<ay;q++){var k=parseInt(b(this.columnsrow[0].cells[q]).css("left"));var aO=k-aF;if(aK.columns.records[q].pinned){aO=k;continue}var aj=this._getcolumnat(q);if(aj!=null&&aj.hidden){continue}if(aK.groupable&&aK.groups.length>0){if(q<aK.groups.length){continue}}var af=aO+b(this.columnsrow[0].cells[q]).width();if(aK.mousecaptureposition.left>aA.pageX){if(af>=al&&al>=aO){aB=q;aM=true;break}}else{if(af>=aH&&aH>=aO){aB=q;aM=true;break}}}if(!aM){if(aK.mousecaptureposition.left>aA.pageX){b.each(this.columns.records,function(d,c){if(aK.groupable&&aK.groups.length>0){if(d<aK.groups.length){return true}}if(!this.pinned&&!this.hidden){aB=d;return false}})}else{if(!aK.groupable||(aK.groupable&&!aK.groups.length>0)){aB=aP.cells.length-1}}}var ak=az;az=Math.min(az,aB);aB=Math.max(ak,aB);aQ+=5;aQ+=ap;var ag=aK.table[0].rows.indexOf(aK.mousecaptureposition.clickedrow);var aE=0;var aS=-1;var aG=-1;var aT=0;for(var q=0;q<aK.table[0].rows.length;q++){var aI=b(aK.table[0].rows[q]);if(q==0){aT=aI.coord().top}var at=aI.height();var aD=aT-a.top;if(aS==-1&&aD+at>=aQ){var aU=false;for(var ah=0;ah<aK.groups.length;ah++){var x=aI[0].cells[ah].className;if(x.indexOf("jqx-grid-group-collapse")!=-1||x.indexOf("jqx-grid-group-expand")!=-1){aU=true;break}}if(aU){continue}aS=q}aT+=at;if(aK.groupable&&aK.groups.length>0){var aU=false;for(var ah=0;ah<aK.groups.length;ah++){var x=aI[0].cells[ah].className;if(x.indexOf("jqx-grid-group-collapse")!=-1||x.indexOf("jqx-grid-group-expand")!=-1){aU=true;break}}if(aU){continue}var ae=0;for(var y=aK.groups.length;y<aI[0].cells.length;y++){var au=aI[0].cells[y];if(b(au).html()==""){ae++}}if(ae==aI[0].cells.length-aK.groups.length){continue}}if(aS!=-1){aE+=at}if(aD+at>aQ+ai){aG=q;break}}if(aS!=-1){aQ=b(aK.table[0].rows[aS]).coord().top-a.top-ap-2;var av=0;if(this.filterable&&this.showfilterrow){av=this.filterrowheight}if(parseInt(aK.table[0].style.top)<0&&aQ<this.rowsheight+av){aQ-=parseInt(aK.table[0].style.top);aE+=parseInt(aK.table[0].style.top)}ai=aE;var aN=b(this.columnsrow[0].cells[az]);var aw=b(this.columnsrow[0].cells[aB]);ao=parseInt(aN.css("left"));aq=parseInt(aw.css("left"))-parseInt(ao)+aw.width()-2;ao-=aF;if(aK.editcell&&aK.editable&&aK.endcelledit&&(az!=aB||aS!=aG)){if(aK.editcell.validated==false){return}aK.endcelledit(aK.editcell.row,aK.editcell.column,true,true)}}}this.selectionarea.width(aq);this.selectionarea.height(ai);this.selectionarea.css("left",ao);this.selectionarea.css("top",aQ)}}},_handlemouseupselection:function(y,N){if(!this.selectionarea){return}if(this.selectionarea.css("visibility")!="visible"){N.mousecaptured=false;return true}if(N.mousecaptured&&(N.selectionmode=="multiplerowsextended"||N.selectionmode=="multiplerowsadvanced"||N.selectionmode=="multiplecellsextended"||N.selectionmode=="multiplecellsadvanced")){N.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden");var m=this.showheader?this.columnsheader.height()+2:0;var M=this._groupsheader()?this.groupsheader.height():0;var K=this.showtoolbar?this.toolbarheight:0;M+=K;var I=this.selectionarea.coord();var X=this.host.coord();if(this.hasTransform){X=b.jqx.utilities.getOffset(this.host);I=b.jqx.utilities.getOffset(this.selectionarea)}var O=I.left-X.left;var Q=I.top-m-X.top-M;var F=Q;var T=O+this.selectionarea.width();var G=O;var P=new Array();var V=new Array();if(N.selectionmode=="multiplerowsextended"){while(Q<F+this.selectionarea.height()){var Y=this._hittestrow(O,Q);var U=Y.row;var S=Y.index;if(S!=-1){if(!V[S]){V[S]=true;P[P.length]=Y}}Q+=20}var F=0;b.each(P,function(){var d=this;var c=this.row;if(N.selectionmode!="none"&&N._selectrowwithmouse){if(y.ctrlKey){N._applyrowselection(N.getboundindex(c),true,false,false)}else{if(F==0){N._applyrowselection(N.getboundindex(c),true,false,true)}else{N._applyrowselection(N.getboundindex(c),true,false,false)}}F++}})}else{if(N.selectionmode=="multiplecellsadvanced"){Q+=2}var H=N.hScrollInstance;var E=H.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){E=H.max-H.value}if(this.vScrollBar[0].style.visibility!="hidden"){E-=this.scrollbarsize+4}}var J=N.table[0].rows[0];var R=N.selectionarea.height();if(!y.ctrlKey&&R>0){N.selectedcells=new Array()}var L=R;while(Q<F+L){var Y=N._hittestrow(O,Q);if(!Y){Q+=5;continue}var U=Y.row;var S=Y.index;if(S!=-1){if(!V[S]){V[S]=true;for(var x=0;x<J.cells.length;x++){var W=parseInt(b(N.columnsrow[0].cells[x]).css("left"))-E;var a=W+b(N.columnsrow[0].cells[x]).width();if((G>=W&&G<=a)||(T>=W&&T<=a)||(W>=G&&W<=T)){N._applycellselection(N.getboundindex(U),N._getcolumnat(x).datafield,true,false)}}}}Q+=5}}if(N.autosavestate){if(N.savestate){N.savestate()}}N._renderrows(N.virtualsizeinfo)}}},selectprevcell:function(h,l){var g=this._getcolumnindex(l);var a=this.columns.records.length;var k=this._getprevvisiblecolumn(g);if(k!=null){this.clearselection();this.selectcell(h,k.datafield)}},selectnextcell:function(h,k){var g=this._getcolumnindex(k);var l=this.columns.records.length;var a=this._getnextvisiblecolumn(g);if(a!=null){this.clearselection();this.selectcell(h,a.datafield)}},_getfirstvisiblecolumn:function(){var a=this;var f=this.columns.records.length;for(var h=0;h<f;h++){var g=this.columns.records[h];if(!g.hidden&&g.datafield!=null){return g}}return null},_getlastvisiblecolumn:function(){var a=this;var f=this.columns.records.length;for(var h=f-1;h>=0;h--){var g=this.columns.records[h];if(!g.hidden&&g.datafield!=null){return g}}return null},_handlekeydown:function(G,R){if(R.groupable&&R.groups.length>0){return true}if(R.disabled){return false}var N=G.charCode?G.charCode:G.keyCode?G.keyCode:0;if(R.editcell&&R.selectionmode!="multiplecellsadvanced"){return true}else{if(R.editcell&&R.selectionmode=="multiplecellsadvanced"){if(N>=33&&N<=40){if(!G.altKey){if(R._cancelkeydown==undefined||R._cancelkeydown==false){if(R.editmode!=="selectedrow"){R.endcelledit(R.editcell.row,R.editcell.column,false,true);R._cancelkeydown=false;if(R.editcell&&!R.editcell.validated){R._rendervisualrows();R.endcelledit(R.editcell.row,R.editcell.column,false,true);return false}}else{return true}}else{R._cancelkeydown=false;return true}}else{R._cancelkeydown=false;return true}}else{return true}}}if(R.selectionmode=="none"){return true}if(R.showfilterrow&&R.filterable){if(this.filterrow){if(b(G.target).ischildof(this.filterrow)){return true}}}if(R.pageable){if(b(G.target).ischildof(this.pager)){return true}}if(this.showtoolbar){if(b(G.target).ischildof(this.toolbar)){return true}}if(this.showstatusbar){if(b(G.target).ischildof(this.statusbar)){return true}}var T=false;if(G.altKey){return true}if(G.ctrlKey){if(this.clipboard){var ah=String.fromCharCode(N).toLowerCase();if(ah=="c"||ah=="x"){var U=this.copyselection();if(window.clipboardData){window.clipboardData.setData("Text",U)}else{var ac=b('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');ac.val(U);b("body").append(ac);ac.select();setTimeout(function(){document.designMode="off";ac.select();ac.remove();R.focus()},100)}}else{if(ah=="v"){var P=b('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');b("body").append(P);P.select();var Z=this;setTimeout(function(){Z._clipboardselection=new Array();var c=P.val();var d=c.split("\n");for(var e=0;e<d.length;e++){if(d[e].split("\t").length>0){var f=d[e].split("\t");if(f.length==1&&e==d.length-1&&f[0]==""){continue}if(f.length>0){Z._clipboardselection.push(f)}}}Z.pasteselection();P.remove();Z.focus()},100)}}if(ah=="x"){this.deleteselection();this.host.focus()}}}var X=Math.round(R._gettableheight());var I=Math.round(X/R.rowsheight);var ad=R.getdatainformation();switch(R.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var K=R.getselectedcell();if(K!=null){var ae=this.getrowvisibleindex(K.rowindex);var aa=ae;var V=K.datafield;var L=R._getcolumnindex(V);var ag=R.columns.records.length;var M=function(c,g,d){var h=function(l,k){var m=R.dataview.loadedrecords[l];if(m!=undefined&&k!=null){if(d||d==undefined){R.clearselection()}var n=R.getboundindex(m);R.selectcell(n,k);R._oldselectedcell=R.selectedcell;T=true;R.ensurecellvisible(l,k);return true}return false};if(!h(c,g)){R.ensurecellvisible(c,g);h(c,g);if(R.virtualmode){R.host.focus()}}if(G.shiftKey&&N!=9){if(R.selectionmode=="multiplecellsextended"||R.selectionmode=="multiplecellsadvanced"){if(R._lastClickedCell){R._selectpath(c,g);var e=R.dataview.loadedrecords[c];var f=R.getboundindex(e);R.selectedcell={rowindex:f,datafield:g};return}}}else{if(!G.shiftKey){R._lastClickedCell={row:c,column:g}}}};var F=G.shiftKey&&R.selectionmode!="singlecell"&&R.selectionmode!="multiplecells";var a=function(){M(0,V,!F)};var ab=function(){var c=ad.rowscount-1;M(c,V,!F)};var af=N==9&&!G.shiftKey;var Y=N==9&&G.shiftKey;if(af||Y){F=false}var W=G.ctrlKey;if(W&&N==37){var Q=R._getfirstvisiblecolumn(L);if(Q!=null){M(aa,Q.datafield)}}else{if(W&&N==39){var O=R._getlastvisiblecolumn(L);if(O!=null){M(aa,O.datafield)}}else{if(N==39||af){var J=R._getnextvisiblecolumn(L);if(J!=null){M(aa,J.datafield,!F)}else{if(!af){T=true}}}else{if(N==37||Y){var Q=R._getprevvisiblecolumn(L);if(Q!=null){M(aa,Q.datafield,!F)}else{if(!Y){T=true}}}else{if(N==36){a()}else{if(N==35){ab()}else{if(N==33){if(aa-I>=0){var S=aa-I;M(S,V,!F)}else{a()}}else{if(N==34){if(ad.rowscount>aa+I){var S=aa+I;M(S,V,!F)}else{ab()}}else{if(N==38){if(W){a()}else{if(aa>0){M(aa-1,V,!F)}else{T=true}}}else{if(N==40){if(W){ab()}else{if(ad.rowscount>aa+1){M(aa+1,V,!F)}else{T=true}}}}}}}}}}}}}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var aa=R.getselectedrowindex();if(aa==null||aa==-1){return true}aa=this.getrowvisibleindex(aa);var H=function(d,c){var e=function(g){var l=R.dataview.loadedrecords[g];if(l!=undefined){var f=R.getboundindex(l);var h=R.selectedrowindex;if(c||c==undefined){R.clearselection()}R.selectedrowindex=h;R.selectrow(f,false);var k=R.ensurerowvisible(g);if(!k||R.autoheight||R.groupable){R._rendervisualrows()}T=true;return true}return false};if(!e(d)){R.ensurerowvisible(d);e(d,c);if(R.virtualmode){setTimeout(function(){e(d,c)},25)}if(R.virtualmode){R.host.focus()}}if(G.shiftKey&&N!=9){if(R.selectionmode=="multiplerowsextended"){if(R._lastClickedCell){R._selectrowpath(d);R.selectedrowindex=R.getrowboundindex(d);return}}}else{if(!G.shiftKey){R._lastClickedCell={row:d};R.selectedrowindex=R.getrowboundindex(d)}}};var F=G.shiftKey&&R.selectionmode!="singlerow"&&R.selectionmode!="multiplerows";var a=function(){H(0,!F)};var ab=function(){var c=ad.rowscount-1;H(c,!F)};var W=G.ctrlKey;if(N==36||(W&&N==38)){a()}else{if(N==35||(W&&N==40)){ab()}else{if(N==33){if(aa-I>=0){var S=aa-I;H(S,!F)}else{a()}}else{if(N==34){if(ad.rowscount>aa+I){var S=aa+I;H(S,!F)}else{ab()}}else{if(N==38){if(aa>0){H(aa-1,!F)}else{T=true}}else{if(N==40){if(ad.rowscount>aa+1){H(aa+1,!F)}else{T=true}}}}}}}break}if(T){if(R.autosavestate){if(R.savestate){R.savestate()}}return false}return true},_handlemousemove:function(C,J){if(J.vScrollInstance.isScrolling()){return}if(J.hScrollInstance.isScrolling()){return}var x;var H;var S;var L;var M;if(J.enablehover||J.selectionmode=="multiplerows"){x=this.showheader?this.columnsheader.height()+2:0;H=this._groupsheader()?this.groupsheader.height():0;var I=this.showtoolbar?this.toolbarheight:0;H+=I;S=this.host.coord();if(this.hasTransform){S=b.jqx.utilities.getOffset(this.host);var O=this._getBodyOffset();S.left-=O.left;S.top-=O.top}L=C.pageX-S.left;M=C.pageY-x-S.top-H}if(J.selectionmode=="multiplerowsextended"||J.selectionmode=="multiplecellsextended"||J.selectionmode=="multiplecellsadvanced"){if(J.mousecaptured==true){return}}if(J.enablehover){if(J.disabled){return}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){return}var V=this._hittestrow(L,M);if(!V){return}var Q=V.row;var P=V.index;if(this.hoveredrow!=-1&&P!=-1&&this.hoveredrow==P&&this.selectionmode.indexOf("cell")==-1&&this.selectionmode!="checkbox"){return}this._clearhoverstyle();if(P==-1||Q==undefined){return}var F=this.hittestinfo[P].visualrow;if(F==null){return}if(this.hittestinfo[P].details){return}if(C.clientX>b(F).width()+b(F).coord().left){return}var G=0;var K=F.cells.length;if(J.rowdetails&&J.showrowdetailscolumn){if(!this.rtl){G=1+this.groups.length}else{K-=1;K-=this.groups.length}}else{if(this.groupable){if(!this.rtl){G=this.groups.length}else{K-=this.groups.length}}}if(F.cells.length==0){return}var N=F.cells[G].className;if(Q.group||(this.selectionmode.indexOf("row")>=0&&N.indexOf("jqx-grid-cell-selected")!=-1)){return}this.hoveredrow=P;if(this.selectionmode.indexOf("cell")!=-1||this.selectionmode=="checkbox"){var T=-1;var E=this.hScrollInstance;var D=E.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){D=E.max-E.value}}for(var y=G;y<K;y++){var R=parseInt(b(this.columnsrow[0].cells[y]).css("left"))-D;var a=R+b(this.columnsrow[0].cells[y]).width();if(a>=L&&L>=R){T=y;break}}if(T!=-1){var W=F.cells[T];if(W.className.indexOf("jqx-grid-cell-selected")==-1){if(this.editcell){var U=this._getcolumnat(T);if(U){if(this.editcell.row==P&&this.editcell.column==U.datafield){return}}}b(W).addClass(this.toTP("jqx-grid-cell-hover"));b(W).addClass(this.toTP("jqx-fill-state-hover"));if(this.cellhover){this.cellhover(W,C.pageX,C.pageY)}}}return}for(var y=G;y<K;y++){var W=F.cells[y];b(W).addClass(this.toTP("jqx-grid-cell-hover"));b(W).addClass(this.toTP("jqx-fill-state-hover"));if(this.cellhover){this.cellhover(W,C.pageX,C.pageY)}}}else{return true}}})})(jQuery);(function(b){b.jqx.dataview.sort=function(){this.sortby=function(I,G,x){var A=Object.prototype.toString;if(G==null){this.sortdata=null;this.refresh();return}if(G==undefined){G=true}if(G=="a"||G=="asc"||G=="ascending"||G==true){G=true}else{G=false}var F=I;this.sortfield=I;this.sortfielddirection=G?"asc":"desc";if(this.sortcache==undefined){this.sortcache={}}this.sortdata=[];var K=[];var J=false;if(F=="constructor"){F=""}if(!this.virtualmode&&this.sortcache[F]!=null){var y=this.sortcache[F];K=y._sortdata;if(y.direction==G){K.reverse()}else{if(!y.direction&&G){K.reverse()}J=true}if(K.length<this.totalrecords){this.sortcache={};J=false;K=[]}}Object.prototype.toString=(typeof I=="function")?I:function(){return this[I]};var v=this.records;var a=this.that;var z="";if(this.source.datafields){b.each(this.source.datafields,function(){if(this.name==I){if(this.type){z=this.type}return false}})}if(K.length==0){if(v.length){var E=v.length;for(var w=0;w<E;w++){var H=v[w];if(H!=null){var D=H;var u=D.toString();K.push({sortkey:u,value:D,index:w})}}}else{var B=false;for(obj in v){var H=v[obj];if(H==undefined){B=true;break}var D=H;K.push({sortkey:D.toString(),value:D,index:obj})}if(B){b.each(v,function(d,c){K.push({sortkey:c.toString(),value:c,index:d})})}}}if(!J){if(x==null){this._sortcolumntype=z;var C=this;K.sort(function(c,d){return C._compare(c,d,z)})}else{K.sort(x)}}if(!G){K.reverse()}Object.prototype.toString=A;this.sortdata=K;this.sortcache[F]={_sortdata:K,direction:G};this.reload(this.records,this.rows,this.filters,this.updated,true)},this.clearsortdata=function(){this.sortcache={};this.sortdata=null};this._compare=function(l,a,h){var l=l.sortkey;var a=a.sortkey;if(l===undefined){l=null}if(a===undefined){a=null}if(l===null&&a===null){return 0}if(l===null&&a!==null){return -1}if(l!==null&&a===null){return 1}if(b.jqx.dataFormat){if(h&&h!=""){switch(h){case"number":case"int":case"float":if(l<a){return -1}if(l>a){return 1}return 0;case"date":case"time":if(l<a){return -1}if(l>a){return 1}return 0;case"string":case"text":l=String(l).toLowerCase();a=String(a).toLowerCase();break}}else{if(b.jqx.dataFormat.isNumber(l)&&b.jqx.dataFormat.isNumber(a)){if(l<a){return -1}if(l>a){return 1}return 0}else{if(b.jqx.dataFormat.isDate(l)&&b.jqx.dataFormat.isDate(a)){if(l<a){return -1}if(l>a){return 1}return 0}else{if(!b.jqx.dataFormat.isNumber(l)&&!b.jqx.dataFormat.isNumber(a)){l=String(l).toLowerCase();a=String(a).toLowerCase()}}}}}try{if(l<a){return -1}if(l>a){return 1}}catch(k){var g=k}return 0};this._equals=function(d,a){return(this._compare(d,a)===0)}};b.extend(b.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var a=this.that;var e=this.getsortcolumn();if(this.sortdirection){var f=function(d,c){var h=a.getcolumn(d);if(h){if(c.ascending){b.jqx.aria(h.element,"aria-sort","ascending")}else{if(c.descending){b.jqx.aria(h.element,"aria-sort","descending")}else{b.jqx.aria(h.element,"aria-sort","none")}}}};if(this._oldsortinfo){if(this._oldsortinfo.column){f(this._oldsortinfo.column,{ascending:false,descending:false})}}f(e,this.sortdirection)}this._oldsortinfo={column:e,direction:this.sortdirection};if(this.sortdirection){b.each(this.columns.records,function(d,c){var h=b.data(document.body,"groupsortelements"+this.displayfield);if(e==null||this.displayfield!=e){b(this.sortasc).hide();b(this.sortdesc).hide();if(h!=null){h.sortasc.hide();h.sortdesc.hide()}}else{if(a.sortdirection.ascending){b(this.sortasc).show();b(this.sortdesc).hide();if(h!=null){h.sortasc.show();h.sortdesc.hide()}}else{b(this.sortasc).hide();b(this.sortdesc).show();if(h!=null){h.sortasc.hide();h.sortdesc.show()}}}})}},getsortcolumn:function(){if(this.sortcolumn!=undefined){return this.sortcolumn}return null},removesort:function(){this.sortby(null)},sortby:function(m,h,k,l,a){if(this._loading&&a!==false){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(m==null){h=null;m=this.sortcolumn}if(m!=undefined){var n=this.that;if(k==undefined&&n.source.sortcomparer!=null){k=n.source.sortcomparer}if(h=="a"||h=="asc"||h=="ascending"||h==true){ascending=true}else{ascending=false}if(h!=null){n.sortdirection={ascending:ascending,descending:!ascending}}else{n.sortdirection={ascending:false,descending:false}}if(h!=null){n.sortcolumn=m}else{n.sortcolumn=null}if(n.source.sort||n.virtualmode){n.dataview.sortfield=m;if(h==null){n.dataview.sortfielddirection=""}else{n.dataview.sortfielddirection=ascending?"asc":"desc"}if(n.source.sort&&!this._loading){n.source.sort(m,h);n._raiseEvent(6,{sortinformation:n.getsortinformation()});return}}else{n.dataview.sortby(m,h,k)}if(l===false){return}if(n.groupable&&n.groups.length>0){n._render(true,false,false);if(n._updategroupheadersbounds&&n.showgroupsheader){n._updategroupheadersbounds()}}else{if(n.pageable){n.dataview.updateview()}n._updaterowsproperties();n.rendergridcontent(true)}n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(g){var a=this.that;if(this.disabled){return}if(g.sortable&&a.sortable){var h=a.getsortinformation();var f=null;if(h.sortcolumn!=null&&h.sortcolumn==g.displayfield){f=h.sortdirection.ascending;if(a.sorttogglestates>1){if(f==true){f=false}else{f=null}}else{f=!f}}else{f=true}a.sortby(g.displayfield,f,null)}}})})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{autoresizecolumns:function(a,U){if(a!="cells"&&a!="all"&&a!="column"){a="all"}var N=this.that;var P=this.getrows();if(this.pageable){P=this.dataview.rows;if(this.groupable){P=this.dataview.records}}if(U==undefined){U=0}else{U=parseInt(U)}var W=P.length;if(W==undefined&&P!=undefined){var H=new Array();b.each(P,function(c){H.push(this)});P=H;W=P.length}var E=b("<span></span>");E.addClass(this.toThemeProperty("jqx-widget"));E.addClass(this.toThemeProperty("jqx-grid-cell"));b(document.body).append(E);var Y=[];var V=[];var Z=[];var L=[];var O=N.host.width();if(N.vScrollBar[0].style.visibility!="hidden"){O-=this.scrollbarsize+5}if(O<0){O=0}for(var D=0;D<W;D++){var S=P[D];for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(X.hidden){continue}if(V[X.displayfield]==undefined){V[X.displayfield]=0}if(Z[X.displayfield]==undefined){Z[X.displayfield]=""}var J=S[X.displayfield];if(X.cellsformat!=""){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isDate(J)){J=b.jqx.dataFormat.formatdate(J,X.cellsformat,this.gridlocalization)}else{if(b.jqx.dataFormat.isNumber(J)){J=b.jqx.dataFormat.formatnumber(J,X.cellsformat,this.gridlocalization)}}}}else{if(X.cellsrenderer){var I=N._defaultcellsrenderer(J,X);var M=X.cellsrenderer(D,X.datafield,J,I,X.getcolumnproperties(),S);if(M!=undefined){J=b(M).text()}}}if(a==undefined||a=="cells"||a=="all"){if(J!=null){var Y=J.toString().length;var G=J.toString();var K=G.replace(/[^A-Z]/g,"").length;if(Y>V[X.displayfield]){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}if(Y>0&&Y>=K){var Q=K*20+(Y-K)*15;var R=L[X.displayfield]*20+(V[X.displayfield]-L[X.displayfield])*15;if(Q>R&&Q>0&&R>0){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}}}}if(a=="column"||a=="all"){if(X.text.toString().length>V[X.displayfield]){Z[X.displayfield]=X.text;V[X.displayfield]=X.text.length;var G=X.text.toString();var K=G.replace(/[^A-Z]/g,"").length;L[X.displayfield]=K}var J=X.text;var Y=J.toString().length;var G=J.toString();var K=G.replace(/[^A-Z]/g,"").length;if(Y>0&&Y>=K){var Q=K*20+(Y-K)*15;var R=L[X.displayfield]*20+(V[X.displayfield]-L[X.displayfield])*15;if(Q>R&&Q>0&&R>0){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}}}}}if(!this.columns.records){return}for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(Z[X.displayfield]==undefined){Z[X.displayfield]=X.text}E[0].innerHTML=Z[X.displayfield].toString();var C=E.outerWidth()+10;if(E.children().length>0){C=E.children().outerWidth()+10}if(b.jqx.browser.msie&&b.jqx.browser.version<8){C+=10}if(this.filterable&&this.showfilterrow){C+=5}C+=U;if(C>X.maxwidth){C=X.maxwidth}if(X._width!=undefined){X.__width=X._width}X._width=null;if(X.maxwidth=="auto"||C<=X.maxwidth){var T=X.width;if(C<X.minwidth){C=X.minwidth}X.width=C;if(X._percentagewidth!=undefined){X._percentagewidth=null}this._raiseEvent(14,{columntext:X.text,column:X.getcolumnproperties(),datafield:X.datafield,displayfield:X.displayfield,oldwidth:T,newwidth:C})}}E.remove();this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(X.__width!=undefined){X._width=X.__width}}},autoresizecolumn:function(F,z,N){if(z!="cells"&&z!="all"&&z!="column"){z="all"}if(F==undefined){return false}var J=this.getrows();if(this.pageable){J=this.dataview.rows;if(this.groupable){J=this.dataview.records}}var Q=this.getcolumn(F);if(Q==undefined){return false}if(N==undefined){N=0}else{N=parseInt(N)}var P=J.length;var C=b("<span></span>");C.addClass(this.toThemeProperty("jqx-widget"));C.addClass(this.toThemeProperty("jqx-grid-cell"));b(document.body).append(C);var O=0;var S="";var G=0;var y=this.that;var I=y.host.width();if(y.vScrollBar[0].style.visibility!="hidden"){I-=this.scrollbarsize+5}if(I<0){I=0}if(z==undefined||z=="cells"||z=="all"){for(var B=0;B<P;B++){var E=J[B][Q.displayfield];if(Q.cellsformat!=""){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isDate(E)){E=b.jqx.dataFormat.formatdate(E,Q.cellsformat,this.gridlocalization)}else{if(b.jqx.dataFormat.isNumber(E)){E=b.jqx.dataFormat.formatnumber(E,Q.cellsformat,this.gridlocalization)}}}}else{if(Q.cellsrenderer){var H=Q.cellsrenderer(B,Q,E);if(H!=undefined){E=b(H).text()}}}if(E!=null){var R=E.toString().length;var D=E.toString();var a=D.replace(/[^A-Z]/g,"").length;if(R>O){O=R;S=E;G=a}if(R>0&&R>=a){var K=a*20+(R-a)*15;var L=G*20+(O-G)*15;if(K>L&&K>0&&L>0){O=R;S=E;G=a}}}}}if(z=="column"||z=="all"){if(Q.text.toString().length>O){S=Q.text}var E=Q.text.toString();var R=E.toString().length;var D=E.toString();var a=D.replace(/[^A-Z]/g,"").length;if(R>0&&R>=a){var K=a*20+(R-a)*15;var L=G*20+(O-G)*15;if(K>L&&K>0&&L>0){O=R;S=E;G=a}}}if(S==undefined){S=Q.text}C[0].innerHTML=S;var A=C.outerWidth()+10;if(b.jqx.browser.msie&&b.jqx.browser.version<8){A+=5}if(this.filterable&&this.showfilterrow){A+=5}A+=N;C.remove();if(A>Q.maxwidth){A=Q.maxwidth}if(Q.maxwidth=="auto"||A<=Q.maxwidth){var M=Q.width;if(A<Q.minwidth){A=Q.minwidth}Q.width=A;if(Q._width!=undefined){Q.__width=Q._width}Q._width=null;if(Q._percentagewidth!=undefined){Q._percentagewidth=null}this._updatecolumnwidths();this._updatecellwidths();this._raiseEvent(14,{columntext:Q.text,column:Q.getcolumnproperties(),datafield:F,displayfield:Q.displayfield,oldwidth:M,newwidth:A});this._renderrows(this.virtualsizeinfo);if(Q._width!=undefined){Q._width=Q.__width}}},_handlecolumnsresize:function(){var a=this.that;if(this.columnsresize){var k=false;if(a.isTouchDevice()&&a.touchmode!==true){k=true}var n="mousemove.resize"+this.element.id;var q="mousedown.resize"+this.element.id;var p="mouseup.resize"+this.element.id;if(k){var n=b.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var q=b.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var p=b.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id}this.removeHandler(b(document),n);this.addHandler(b(document),n,function(h){var g=b.data(document.body,"contextmenu"+a.element.id);if(g!=null&&a.autoshowcolumnsmenubutton){return true}if(a.resizablecolumn!=null&&!a.disabled&&a.resizing){if(a.resizeline!=null){var D=a.resizablecolumn.columnelement;var e=a.host.coord();var A=parseInt(a.resizestartline.coord().left);var y=A-a._startcolumnwidth;var z=a.resizablecolumn.column.minwidth;if(z=="auto"){z=0}else{z=parseInt(z)}var x=a.resizablecolumn.column.maxwidth;if(x=="auto"){x=0}else{x=parseInt(x)}var d=h.pageX;if(k){var C=a.getTouches(h);var c=C[0];d=c.pageX}y+=z;var B=x>0?A+x:0;var f=x==0?true:a._startcolumnwidth+d-A<x?true:false;if(a.rtl){var f=true}if(f){if(!a.rtl){if(d>=e.left&&d>=y){if(B!=0&&h.pageX<B){a.resizeline.css("left",d)}else{if(B==0){a.resizeline.css("left",d)}}if(k){return false}}}else{if(d>=e.left&&d<=e.left+a.host.width()){a.resizeline.css("left",d);if(k){return false}}}}}}if(!k&&a.resizablecolumn!=null){return false}});this.removeHandler(b(document),q);this.addHandler(b(document),q,function(c){var d=b.data(document.body,"contextmenu"+a.element.id);if(d!=null&&a.autoshowcolumnsmenubutton){return true}if(a.resizablecolumn!=null&&!a.disabled){var e=a.resizablecolumn.columnelement;if(e.coord().top+e.height()+5<c.pageY){a.resizablecolumn=null;return}if(e.coord().top-5>c.pageY){a.resizablecolumn=null;return}a._startcolumnwidth=a.resizablecolumn.column.width;a.resizablecolumn.column._width=null;b(document.body).addClass("jqx-disableselect");b(document.body).addClass("jqx-position-reset");a.host.addClass("jqx-disableselect");a.content.addClass("jqx-disableselect");a._mouseDownResize=new Date();a.resizing=true;a._resizecolumn=a.resizablecolumn.column;a.resizeline=a.resizeline||b('<div style="position: absolute;"></div>');a.resizestartline=a.resizestartline||b('<div style="position: absolute;"></div>');a.resizebackground=a.resizebackground||b('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');a.resizebackground.css("opacity",0.01);a.resizebackground.css("cursor","col-resize");a.resizeline.css("cursor","col-resize");a.resizestartline.css("cursor","col-resize");a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline"));a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline"));b(document.body).append(a.resizeline);b(document.body).append(a.resizestartline);b(document.body).append(a.resizebackground);var g=a.resizablecolumn.columnelement.coord();a.resizebackground.css("left",a.host.coord().left);a.resizebackground.css("top",a.host.coord().top);a.resizebackground.width(a.host.width());a.resizebackground.height(a.host.height());a.resizebackground.css("z-index",9999);var f=function(A){if(!a.rtl){A.css("left",parseInt(g.left)+a._startcolumnwidth)}else{A.css("left",parseInt(g.left))}var x=a._groupsheader();var y=x?a.groupsheader.height():0;var h=a.showtoolbar?a.toolbarheight:0;y+=h;var B=a.showstatusbar?a.statusbarheight:0;y+=B;var z=0;if(a.pageable){z=a.pagerheight}var w=a.hScrollBar.css("visibility")=="visible"?17:0;A.css("top",parseInt(g.top));A.css("z-index",99999);if(a.columngroups){A.height(a.host.height()+a.resizablecolumn.columnelement.height()-z-y-w-a.columngroupslevel*a.columnsheight)}else{A.height(a.host.height()-z-y-w)}if(a.enableanimations){A.show("fast")}else{A.show()}};f(a.resizeline);f(a.resizestartline);a.dragmousedown=null}});var o=function(){b(document.body).removeClass("jqx-disableselect");b(document.body).removeClass("jqx-position-reset");if(a.showfilterrow||a.showstatusbar||a.showtoolbar||a.enablebrowserselection){a.host.removeClass("jqx-disableselect");a.content.removeClass("jqx-disableselect")}if(!a.resizing){return}a._mouseUpResize=new Date();var f=a._mouseUpResize-a._mouseDownResize;if(f<200){a.resizing=false;if(a._resizecolumn!=null&&a.resizeline!=null&&a.resizeline.css("display")=="block"){a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove()}return}a.resizing=false;if(a.disabled){return}var h=a.host.width();if(a.vScrollBar[0].style.visibility!="hidden"){h-=20}if(h<0){h=0}if(a._resizecolumn!=null&&a.resizeline!=null&&a.resizeline.css("display")=="block"){var e=parseInt(a.resizeline.css("left"));var t=parseInt(a.resizestartline.css("left"));var c=a._startcolumnwidth+e-t;if(a.rtl){var c=a._startcolumnwidth-e+t}var g=a._resizecolumn.width;a._closemenu();if(c<a._resizecolumn.minwidth){c=a._resizecolumn.minwidth}a._resizecolumn.width=c;if(a._resizecolumn._percentagewidth!=undefined){a._resizecolumn._percentagewidth=(c/h)*100}for(var d=0;d<a._columns.length;d++){if(a._columns[d].datafield===a._resizecolumn.datafield){a._columns[d].width=a._resizecolumn.width;if(a._columns[d].width<a._resizecolumn.minwidth){a._columns[d].width=a._resizecolumn.minwidth}break}}var u=a.hScrollBar[0].style.visibility;a._updatecolumnwidths();a._updatecellwidths();a._raiseEvent(14,{columntext:a._resizecolumn.text,column:a._resizecolumn.getcolumnproperties(),datafield:a._resizecolumn.datafield,oldwidth:g,newwidth:c});a._renderrows(a.virtualsizeinfo);if(a.autosavestate){if(a.savestate){a.savestate()}}if(u!=a.hScrollBar[0].style.visibility){a.hScrollInstance.setPosition(0)}if(a.rtl){a._arrange()}a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove();a.resizablecolumn=null}else{a.resizablecolumn=null}};try{if(document.referrer!=""||window.frameElement){var s=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){s=document.referrer}}if(s&&s.indexOf(document.location.host)!=-1){var m=function(c){o()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",m,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",m)}}}}}catch(l){}this.removeHandler(b(document),p);this.addHandler(b(document),p,function(c){var d=b.data(document.body,"contextmenu"+a.element.id);if(d!=null&&a.autoshowcolumnsmenubutton){return true}o()})}}})})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{getcolumnindex:function(a){var f=this.getcolumn(a);var e=this.columns.records.indexOf(f);return e},setcolumnindex:function(w,s,q){var t=this.getcolumn(w);if(t.pinned){return}if(t.hidden){return}if(t.checkboxcolumn){return}if(t.grouped){return}var o=this.columns.records.indexOf(t);this.columns.records.splice(o,1);this.columns.records.splice(s,0,t);var v=0;var a=this.headerZIndex;this.columnsrow.children().detach();var p=this.toThemeProperty("jqx-grid-cell");p+=" "+this.toThemeProperty("jqx-grid-cell-pinned");if(this.filterrow){b(this.filterrow.children()[0]).children().detach();this.filterrow[0].cells=[]}var n=this;var y=null;if(n.filterrow!=undefined){var y=b(n.filterrow.children()[0])}this.columnsrow[0].cells=[];var u=false;b.each(this.columns.records,function(g,d){var f=this.uielement;n.columnsrow.append(f);if(!n.rtl){f.css("z-index",a--)}else{f.css("z-index",a++)}var e=this.width;f.css("left",v);n.columnsrow[0].cells[n.columnsrow[0].cells.length]=f[0];if(n.filterrow){var c=b('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+p+'"></div>');y.append(c);c.css("left",v);c.css("z-index",a+1);c.width(this.width);c[0].left=v;c.append(this._filterwidget);n.filterrow[0].cells[n.filterrow[0].cells.length]=c[0]}if(this.hidden){u=true}if(!(this.hidden&&this.hideable)){v+=e}});if(this.groupable){var x=this.groups.length;if(x>0){if(o-x>=0){o-=x;s-=x}}}if(this.rowdetails){if(o-1>=0){o--;s--}}if(this.selectionmode=="checkbox"){if(o-1>=0){o--;s--}}var t=this._columns[o];this._columns.splice(o,1);this._columns.splice(s,0,t);this._raiseEvent(24,{columntext:t.text,datafield:t.datafield,oldindex:o,newindex:s});if(q==false){return}if(u||t.columntype=="checkbox"){this.prerenderrequired=true;this.rendergridcontent(true,false);this._updatecolumnwidths();this._updatecellwidths()}else{this._updatecolumnwidths();this._updatecellwidths()}if(this._updatefilterrowui&&this.filterable&&this.showfilterrow){this._updatefilterrowui()}this._rendercolumngroups();this._renderrows(this.virtualsizeinfo)},_pinnedColumnsLength:function(){var a=0;b.each(this.columns.records,function(){if(this.pinned){a++}if(this.grouped){a++}});if(this.selectionmode=="checkbox"){a++}return a},_handlecolumnsreorder:function(){var o=this;var l=-1;var p=false;if(!o.columnsreorder){return}var m="mousemove.reorder"+this.element.id;var n="mousedown.reorder"+this.element.id;var k="mouseup.reorder"+this.element.id;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;m=b.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;n=b.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;k=b.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id}this.removeHandler(b(document),m);this.addHandler(b(document),m,function(w){if(o.resizing){return true}if(o.reordercolumn!=null){var v=parseInt(w.pageX);var c=parseInt(w.pageY);if(a){var f=o.getTouches(w);var g=f[0];if(g!=undefined){v=parseInt(g.pageX);c=parseInt(g.pageY)}}var h=o.host.coord();var z=parseInt(h.left);var y=parseInt(h.top);if(o.dragmousedownoffset==undefined||o.dragmousedownoffset==null){o.dragmousedownoffset={left:0,top:0}}var d=parseInt(v)-parseInt(o.dragmousedownoffset.left);var x=parseInt(c)-parseInt(o.dragmousedownoffset.top);o.reordercolumn.css({left:d+"px",top:x+"px"});p=false;if(v>=z&&v<=z+o.host.width()){if(c>=y&&c<=y+o.host.height()){p=true}}l=-1;if(p){o.reordercolumnicon.removeClass(o.toThemeProperty("jqx-grid-dragcancel-icon"));o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-drag-icon"));var e=o.columnsheader.coord();var u=e.top+o.columnsheader.height();if(o.columnsdropline!=null){if(c>=e.top&&c<=u){l=o._handlereordercolumnsdroplines(v)}else{o.columnsdropline.fadeOut("slow")}}}else{if(o.columnsdropline!=null){o.columnsdropline.fadeOut("slow")}o.reordercolumnicon.removeClass(o.toThemeProperty("jqx-grid-drag-icon"));o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-dragcancel-icon"))}if(a){w.preventDefault();w.stopPropagation();return false}}});this.columnsbounds=new Array();this.removeHandler(b(document),n);this.addHandler(b(document),n,function(e){if(o.resizing){return true}o.columnsbounds=new Array();var c=o.host.coord().left;var d=o.host.coord().top;if(o.showtoolbar){d+=o.toolbarheight}if(o.groupable&&o.showgroupsheader){d+=o.groupsheaderheight}var f=0;b.each(o.columns.records,function(q){var h=this;if(h.hidden){o.columnsbounds[o.columnsbounds.length]={top:d,column:h,left:c,width:0,height:2+o.rowsheight};return true}if(f==0){if(!o.rtl){c=parseInt(o.host.coord().left)-o.hScrollInstance.value}else{if(o.hScrollBar.css("visibility")!="hidden"){c=parseInt(o.host.coord().left)-o.hScrollInstance.max+o.hScrollInstance.value}else{c=parseInt(o.host.coord().left)+o.hScrollInstance.value}}}f++;var g=2+o.columnsheight;if(o.columnshierarchy){d=b(h.uielement).coord().top;g=b(h.uielement).height()}o.columnsbounds[o.columnsbounds.length]={top:d,column:h,left:c,width:h.width,height:g};c+=h.width})});this.removeHandler(b(document),k);this.addHandler(b(document),k,function(B){if(o.resizing){return true}o.__drag=false;b(document.body).removeClass("jqx-disableselect");var y=parseInt(B.pageX);var G=parseInt(B.pageY);if(a){var f=o.getTouches(B);var g=f[0];y=parseInt(g.pageX);G=parseInt(g.pageY)}var h=o.host.coord();var E=parseInt(h.left);var D=parseInt(h.top);var A=o.groupsheader.height();if(o.showtoolbar){D+=o.toolbarheight}o.columndragstarted=false;o.dragmousedown=null;if(o.reordercolumn!=null){var z=b.data(o.reordercolumn[0],"reorderrecord");var C=o.columns.records.indexOf(o.getcolumn(z));o.reordercolumn.remove();o.reordercolumn=null;var e=0;e+=o._pinnedColumnsLength();if(z!=null){if(p){if(l!=-1){var d=l.index;if(d>=e){var H=o.columns.records[d];if(H!=undefined){var F=o.columns.records.indexOf(o.getcolumn(H.datafield));if(H.datafield==null){var F=o.columns.records.indexOf(o.getcolumnbytext(H.text))}if(o.columngroups){var c=H;if(C<F){if(l.position=="before"){c=o.columns.records[F-1]}}if(c.columngroup!=o.getcolumn(z).columngroup){if(o.columnsdropline!=null){o.columnsdropline.remove();o.columnsdropline=null}return}}if(C<F){if(l.position=="before"){o.setcolumnindex(z,F-1)}else{o.setcolumnindex(z,F)}}else{if(C>F){o.setcolumnindex(z,F)}}if(o.autosavestate){if(o.savestate){o.savestate()}}}}}}if(o.columnsdropline!=null){o.columnsdropline.remove();o.columnsdropline=null}}}})},getcolumnbytext:function(d){var a=null;if(this.columns.records){b.each(this.columns.records,function(){if(this.text==d){a=this;return false}})}return a},_handlereordercolumnsdroplines:function(k){var a=this;var l=-1;var o=a._pinnedColumnsLength();var m=parseInt(a.host.coord().left);var p=m+a.host.width();var n=a.vScrollBar.css("visibility")!="hidden"?19:0;if(!a.rtl){n=0}b.each(a.columnsbounds,function(c){if(c>=o){if(this.width==0){return true}if(k<=this.left+this.width/2){if(k>p){a.columnsdropline.fadeOut();return false}a.columnsdropline.css("left",n+parseInt(this.left)+"px");a.columnsdropline.css("top",parseInt(this.top)+"px");a.columnsdropline.height(this.height);a.columnsdropline.fadeIn("slow");l={index:c,position:"before"};return false}else{if(k>=this.left+this.width/2){if(this.left+this.width>p){a.columnsdropline.fadeOut();return false}a.columnsdropline.css("left",n+1+this.left+this.width);a.columnsdropline.css("top",this.top);a.columnsdropline.height(this.height);a.columnsdropline.fadeIn("slow");l={index:c,position:"after"}}}}});return l},_createreordercolumn:function(q,o,l){var m=this;var n=o;if(m.reordercolumn){m.reordercolumn.remove()}if(m.columnsdropline){m.columnsdropline.remove()}m.reordercolumn=b("<div></div>");var a=q.clone();m.reordercolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var k=b(a.find("."+m.toThemeProperty("jqx-grid-column-menubutton")));if(k.length>0){k.css("display","none")}var s=b(a.find(".jqx-icon-close"));if(s.length>0){s.css("display","none")}m.reordercolumnicon=b('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');m.reordercolumnicon.addClass(m.toThemeProperty("jqx-grid-drag-icon"));m.reordercolumn.css("float","left");m.reordercolumn.css("position","absolute");var p=m.host.coord();a.width(q.width()+16);m.reordercolumn.append(a);m.reordercolumn.height(q.height());m.reordercolumn.width(a.width());m.reordercolumn.append(m.reordercolumnicon);b(document.body).append(m.reordercolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);m.reordercolumn.css("left",n.left+m.dragmousedown.left);m.reordercolumn.css("top",n.top+m.dragmousedown.top);if(l!=undefined&&l){m.columnsdropline=b('<div style="z-index: 9999; display: none; position: absolute;"></div>');m.columnsdropline.width(2);m.columnsdropline.addClass(m.toThemeProperty("jqx-grid-group-drag-line"));b(document.body).append(m.columnsdropline)}},_handlecolumnsdragreorder:function(n,k){if(this.reordercolumn){this.reordercolumn.remove()}if(this.columnsdropline){this.columnsdropline.remove()}this.dragmousedown=null;this.dragmousedownoffset=null;this.columndragstarted=false;this.reordercolumn=null;var h=this;var l;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true}var m="mousedown.drag";var l="mousemove.drag";if(a){m=b.jqx.mobile.getTouchEventName("touchstart")+".drag";l=b.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(k,"dragstart",function(c){return false})}this.addHandler(k,m,function(f){if(false==n.draggable){return true}if(h.resizing){return true}h.__drag=true;var g=f.pageX;var o=f.pageY;if(a){var e=h.getTouches(f);var c=e[0];g=c.pageX;o=c.pageY}h.dragmousedown={left:g,top:o};var d=b(f.target).coord();h.dragmousedownoffset={left:parseInt(g)-parseInt(d.left),top:parseInt(o-d.top)};return true});this.addHandler(k,l,function(f){if(!n.draggable){return true}if(undefined==n.datafield){return true}if(n.pinned){return true}if(h.resizing){return true}if(h.dragmousedown){var g=f.pageX;var o=f.pageY;if(a){var d=h.getTouches(f);var p=d[0];if(p!=undefined){g=p.pageX;o=p.pageY}}l={left:g,top:o};if(!h.columndragstarted&&h.reordercolumn==null){var e=Math.abs(l.left-h.dragmousedown.left);var c=Math.abs(l.top-h.dragmousedown.top);if(e>3||c>3){h._createreordercolumn(k,l,true);b(document.body).addClass("jqx-disableselect");b.data(h.reordercolumn[0],"reorderrecord",n.datafield)}}}})}})})(jQuery);(function(b){b.jqx.dataview.grouping=function(){this.loadgrouprecords=function(af,ac,ar,ae,ab,aD,q,ad,am){var X=af;var aA=this;var T=new Array();for(var aw=0;aw<aA.groups.length;aw++){T[aw]=aA.generatekey()}var Z=new Array();var aH=0;var T=T;var ai=new Array();var U=ac;var aE=ac;var ah=aA.groups.length;this.loadedrecords=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this.sortedgroups=new Array();var V=this.sortdata!=null;var a=V?this.sortdata:this.records;if(this.pageable){var aj=Object.prototype.toString;var ay=this.groups[0];Object.prototype.toString=(typeof ay=="function")?ay:function(){return this[ay]};if(V){var aG=this.sortfield;Object.prototype.toString=(typeof ay=="function")?ay:function(){return this[ay]+" "+this[aG]}}var ap=new Array();var ag=0;b.each(a,function(){ap[ac+ag++]=this});a=ap;if(!V){a.sort(function(f,e){if(f===undefined){f=null}if(e===undefined){e=null}if(f===null&&e===null){return 0}if(f===null&&e!==null){return 1}if(f!==null&&e===null){return -1}f=f.toString();e=e.toString();if(b.jqx.dataFormat.isNumber(f)&&b.jqx.dataFormat.isNumber(e)){if(f<e){return -1}if(f>e){return 1}return 0}else{if(b.jqx.dataFormat.isDate(f)&&b.jqx.dataFormat.isDate(e)){if(f<e){return -1}if(f>e){return 1}return 0}else{if(!b.jqx.dataFormat.isNumber(f)&&!b.jqx.dataFormat.isNumber(e)){f=String(f).toLowerCase();e=String(e).toLowerCase()}}}try{if(f<e){return -1}if(f>e){return 1}}catch(d){var c=d}return 0})}else{a.sort(function(f,e){var f=f.value;var e=e.value;if(f===undefined){f=null}if(e===undefined){e=null}if(f===null&&e===null){return 0}if(f===null&&e!==null){return 1}if(f!==null&&e===null){return -1}if(b.jqx.dataFormat.isNumber(f)&&b.jqx.dataFormat.isNumber(e)){if(f<e){return -1}if(f>e){return 1}return 0}else{if(b.jqx.dataFormat.isDate(f)&&b.jqx.dataFormat.isDate(e)){if(f<e){return -1}if(f>e){return 1}return 0}else{if(!b.jqx.dataFormat.isNumber(f)&&!b.jqx.dataFormat.isNumber(e)){f=String(f).toLowerCase();e=String(e).toLowerCase()}}}try{if(f<e){return -1}if(f>e){return 1}}catch(d){var c=d}return 0})}Object.prototype.toString=aj}if(this.virtualmode){var ap=new Array();var ag=0;for(var U=0;U<ar-ac;U++){ap[ac+ag++]=a[U]}U=0;a=ap}for(var aF=ac;aF<ar;aF++){var al={};if(!V){al=b.extend({},a[aF])}else{al=b.extend({},a[aF].value)}id=al[aA.uniqueId];if(ab>=ad||id!=q[ab][aA.uniqueId]||(aD&&aD[id])){am[am.length]=ab}var Y=new Array();var an=0;for(var aw=0;aw<ah;aw++){var aq=aA.groups[aw];var aa=al[aq];if(aa==null){aa=""}Y[an++]={value:aa,hash:T[aw]}}if(Y.length!=ah){break}var az=null;var ax="";var aC=-1;for(var W=0;W<Y.length;W++){aC++;var au=Y[W].value;var ao=Y[W].hash;ax=ax+"_"+ao+"_"+au;if(ai[ax]!=undefined&&ai[ax]!=null){az=ai[ax];continue}if(az==null){az={group:au,subItems:new Array(),subGroups:new Array(),level:0};Z[aH++]=az;az.uniqueid=aA.generatekey();aA.loadedgroupsByKey[au]=az}else{var av={group:au,subItems:new Array(),subGroups:new Array(),parentItem:az,level:az.level+1};aA.loadedgroupsByKey[az.uniqueid+"_"+au]=av;av.uniqueid=aA.generatekey();az.subGroups[az.subGroups.length++]=av;az=av}ai[ax]=az}if(az!=null){if(!al.uid){al.uid=this.getid(this.source.id,al,U)}if(!V){al.boundindex=U;this.recordsbyid["id"+al.uid]=a[aF]}else{al.boundindex=a[aF].index;this.recordsbyid["id"+al.uid]=a[aF].value}this.bounditems[al.boundindex]=al;this.sortedgroups[U]=al;al.uniqueid=aA.generatekey();al.parentItem=az;al.level=az.level+1;az.subItems[az.subItems.length++]=al}else{if(!al.uid){al.uid=this.getid(this.source.id,al,U)}if(!V){al.boundindex=U;this.recordsbyid["id"+al.uid]=a[aF]}else{al.boundindex=a[aF].index;this.recordsbyid["id"+al.uid]=a[aF].value}this.sortedgroups[U]=al;this.bounditems[al.boundindex]=al;al.uniqueid=aA.generatekey()}ab++;U++;aE++}var aB=function(f,d,c){for(var e=0;e<d.subItems.length;e++){d.subItems[e].visibleindex=af+c;f.rows[c]=d.subItems[e];f.loadedrecords[c]=d.subItems[e];c++}return c};var at=function(f,d,c){var g=function(k){if(f.aggregates==true){var h=k;var l={};if(h!=null){l.level=h.level;l.visibleindex=af+c;l.uniqueid=f.generatekey();f.rows[c]=l;f.loadedrecords[c++]=l;l.totalsrow=true;if(k.subItems.length>0){h=k.subItems[k.subItems.length-1];l.parentItem=h.parentItem;if(l.parentItem.subItems){l.parentItem.subItems[l.parentItem.subItems.length]=l}}else{if(k.subGroups.length>0){h=k.subGroups[k.subGroups.length-1];l.level=h.level;l.parentItem=k;k.subGroups[k.subGroups.length]=l}}}}};for(subGroup in d.subGroups){var e=d.subGroups[subGroup];if(e.subGroups){f.loadedgroups[f.loadedgroups.length]=e;e.visibleindex=af+c;f.rows[c]=e;f.loadedrecords[c]=e;c++;if(e.subGroups.length>0){c=at(f,e,c)}else{if(e.subItems.length>0){c=aB(f,e,c)}}g(e)}}if(d.subItems.length>0){c=aB(f,d,c)}g(d);return c};var ak=Z.length;this.loadedgroups=new Array();this.rows=new Array();var X=0;for(var U=0;U<ak;U++){var aq=Z[U];this.loadedrootgroups[U]=aq;this.loadedgroups[this.loadedgroups.length]=aq;aq.visibleindex=af+X;this.rows[X]=aq;this.loadedrecords[X]=aq;X++;X=at(this,aq,X)}return X};this._updategroupsinpage=function(Z,aa,q,ao,U,aj,am){var ad=new Array();var Q=[];if(this.groupable&&this.groups.length>0){var ab=0;var ak=new Array();var al=new Array();for(var ag=0;ag<Z.groups.length;ag++){al[ag]=Z.generatekey()}var T=0;var ae=new Array();var ai=0;if(am>this.totalrecords){am=this.totalrecords}for(var S=aj;S<am;S++){var P=b.extend({},Z.sortedgroups[S]);id=P[Z.uniqueId];if(!Z.pagesize||(q>=Z.pagesize*Z.pagenum&&q<Z.pagesize*(Z.pagenum+1))){if(ao>=U||id!=ad[ao][Z.uniqueId]||(updated&&updated[id])){Q[Q.length]=ao}var an=new Array();var M=0;for(var ag=0;ag<Z.groups.length;ag++){var af=Z.groups[ag];var Y=P[af];if(null==Y){Y=""}an[M++]={value:Y,hash:al[ag]}}if(an.length!=Z.groups.length){break}var a=null;var X="";var ap=-1;for(var ac=0;ac<an.length;ac++){ap++;var R=an[ac].value;var ah=an[ac].hash;X=X+"_"+ah+"_"+R;if(ak[X]!=undefined&&ak[X]!=null){a=ak[X];continue}if(a==null){a={group:R,subItems:new Array(),subGroups:new Array(),level:0};ae[ai++]=a;var W=Z.loadedgroupsByKey[R];if(W!=undefined){a.visibleindex=W.visibleindex;a.uniqueid=W.uniqueid}}else{var V={group:R,subItems:new Array(),subGroups:new Array(),parentItem:a,level:a.level+1};var W=Z.loadedgroupsByKey[a.uniqueid+"_"+R];V.visibleindex=W.visibleindex;V.uniqueid=W.uniqueid;a.subGroups[a.subGroups.length++]=V;a=V}ak[X]=a}if(a!=null){P.parentItem=a;P.level=a.level+1;a.subItems[a.subItems.length++]=P}ao++}T++;q++}var O=function(c,f,e){for(var d=0;d<f.subItems.length;d++){ad[e]=b.extend({},f.subItems[d]);e++}return e};var N=function(f){var e=false;for(subGroup in f.subGroups){var c=f.subGroups[subGroup];if(c.subGroups){if(c.subGroups.length>0){var d=N(c);if(d){e=true;return true}}if(c.subItems.length>0){e=true;return true}}}if(f.subItems.length>0){e=true;return true}return e};var aq=function(e,f,d){for(subGroup in f.subGroups){var c=f.subGroups[subGroup];if(c.subGroups){if(N(c)){ad[d]=c;d++;if(c.subGroups.length>0){d=aq(e,c,d)}else{if(c.subItems.length>0){d=O(e,c,d)}}}}}if(f.subItems.length>0){d=O(e,f,d)}return d};var L=0;for(var T=0;T<ae.length;T++){var af=ae[T];if(N(af)){ad[ab]=af;ab++;ab=aq(this,af,ab)}}}return ad}};b.extend(b.jqx._jqxGrid.prototype,{_initgroupsheader:function(){this.groupsheader.css("visibility","hidden");if(this._groupsheader()){this.groupsheader.css("visibility","inherit");var h=this;var l=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||b('<div style="width: 100%; position: relative;"></div>');this.groupsheaderdiv.height(this.groupsheaderheight);this.groupsheaderdiv.css("top",0);this.groupsheader.append(this.groupsheaderdiv);this.groupheadersbounds=new Array();var k=this.groups.length;this.groupsheaderdiv.children().remove();this.groupsheaderdiv[0].innerHTML="";var a=new Array();if(k>0){b.each(this.groups,function(o){var s=this;var c=h._getColumnText(this);var d=c.label;var e=h._rendergroupcolumn(d,s);e.addClass(h.toThemeProperty("jqx-grid-group-column"));h.groupsheaderdiv.append(e);if(h.closeablegroups){var f=b(e.find(".jqx-icon-close"));if(h.isTouchDevice()&&h.touchmode!==true){h.addHandler(f,"touchstart",function(){h.removegroupat(o);return false})}else{h.addHandler(f,"click",function(){h.removegroupat(o);return false})}}if(h.sortable){h.addHandler(e,"click",function(){var m=h.getcolumn(s);if(m!=null){h._togglesort(m)}return false})}a[a.length]=e;h._handlegroupstocolumnsdragdrop(this,e);if(o<k-1){var q=e.height();var p=b('<div style="float: left; position: relative;"></div>');if(h.rtl){p.css("float","right")}p.width(h.groupindentwidth/3);p.height(1);p.css("top",q/2);p.addClass(h.toThemeProperty("jqx-grid-group-column-line"));h.groupsheaderdiv.append(p)}})}else{var g=b('<div style="position: relative;">'+l+"</div>");this.groupsheaderdiv.append(g);if(this.rtl){g.addClass(this.toThemeProperty("jqx-rtl"))}}this._groupheaders=a;this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var f=this;var a=this.groupsheaderdiv.children().outerHeight();var e=(this.groupsheader.height()-a)/2;this.groupsheaderdiv.css("top",e);if(!this.rtl){this.groupsheaderdiv.css("left",e)}else{this.groupsheaderdiv.css("right",e)}if(this.rtl){this._groupheaders.reverse()}b.each(this._groupheaders,function(c){var d=this.coord();f.groupheadersbounds[c]={left:d.left,top:d.top,width:this.outerWidth(),height:this.outerHeight(),index:c}})},addgroup:function(d){if(d){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups[a.groups.length]=d;a.refreshgroups();this._raiseEvent(12,{type:"Add",index:a.groups[a.groups.length],groups:a.groups})}},insertgroup:function(e,f){if(e!=undefined&&e!=null&&e>=0&&e<=this.groups.length){if(f){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups.splice(e,0,f.toString());a.refreshgroups();this._raiseEvent(12,{type:"Insert",index:e,groups:a.groups})}}},refreshgroups:function(){this._refreshdataview();this._render(true,true,true,false)},_insertaftergroup:function(e,f){var a=this._getGroupIndexByDataField(e);this.insertgroup(a+1,f)},_insertbeforegroup:function(e,f){var a=this._getGroupIndexByDataField(e);this.insertgroup(a,f)},removegroupat:function(d){if(d>=0&&d!=null&&d!=undefined){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups.splice(d,1);a.refreshgroups();if(a.virtualmode){a.updatebounddata()}this._raiseEvent(12,{type:"Remove",index:d,groups:a.groups});return true}return false},cleargroups:function(){var a=this;a.groups=[];a.dataview.groups=a.groups;a.refreshgroups();this._raiseEvent(12,{type:"Clear",groups:a.groups});return true},removegroup:function(d){if(d==null){return false}var a=this.groups.indexOf(d.toString());return this.removegroupat(a)},getrootgroupscount:function(){var a=this.dataview.loadedrootgroups.length;return a},collapsegroup:function(a){return this._setrootgroupstate(a,false)},expandgroup:function(a){return this._setrootgroupstate(a,true)},collapseallgroups:function(a){this._setbatchgroupstate(false,a)},expandallgroups:function(a){this._setbatchgroupstate(true,a)},getgroup:function(o){var a=this.dataview.loadedrootgroups[o];if(a==null){return null}var n=this.expandedgroups[a.uniqueid].expanded;var m=a.group;var s=a.level;var q=new Array();this._getsubgroups(q,a);var k=this;var p={group:m,level:s,expanded:n,subgroups:q};if(a.subItems){var l=new Array();b.each(a.subItems,function(){var c=this.boundindex;l[l.length]=k.getrowdata(c)});if(l.length>0){p.subrows=l}}return p},getrootgroups:function(){var e=this.dataview.loadedrootgroups.length;var f=new Array();for(var a=0;a<e;a++){f[a]=this.getgroup(a)}return f},_getsubgroups:function(q,a){var k=this;for(obj in a.subGroups){var m=a.subGroups[obj];var o=k.expandedgroups[m.uniqueid].expanded;var n=m.group;var s=m.level;q[q.length]={group:n,level:s,expanded:o};if(m.subItems){var l=new Array();b.each(m.subItems,function(){var c=this.boundindex;l[l.length]=k.getrowdata(c)});q[q.length-1].subrows=l}if(m.subGroups){var p=new Array();k._getsubgroups(p,m)}}return q},_setbatchgroupstate:function(a,f){var h=this;for(obj in this.dataview.loadedrootgroups){h._setrootgroupstate(obj,a,false,true)}if(f==false){h._requiresupdate=true;h._renderrows(h.virtualsizeinfo);return true}var g=this.vScrollBar[0].style.visibility;this.rendergridcontent(true,false);if(g!=this.vScrollBar[0].style.visibility||this._hiddencolumns){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}return true},_setrootgroupstate:function(p,a,n,q){if(p==undefined||p==null||p<0){return false}if(!this.groupable||this.groups.length==0){return false}var k=n!=undefined?n:true;if(p>=0&&p<this.dataview.loadedrootgroups.length){var l=this.dataview.loadedrootgroups[p];if(this.pageable){var m=new Array();for(var o=0;o<this.dataview.rows.length;o++){if(this.dataview.rows[o].group!=null&&this.dataview.rows[o].level===0){m.push(this.dataview.rows[o])}}l=m[p];if(!l){return}}return this._setgroupstate(l,a,k,q)}return false},_togglegroupstate:function(h,g){if(h==null||h==undefined){return false}var l=this.vScrollInstance.value;var k=this.expandedgroups[h.uniqueid];if(k==undefined){k=false}else{k=k.expanded}k=!k;var a=this._setgroupstate(h,k,g);if(l!==0&&this.vScrollBar.css("visibility")!=="hidden"){if(l<=this.vScrollInstance.max){this.vScrollInstance.setPosition(l)}else{this.vScrollInstance.setPosition(this.vScrollInstance.max)}}return a},_setgroupstate:function(m,a,k,p){if(m==null||m==undefined){return false}var n=false;if(this.editable&&this.editcell){this.endcelledit(this.editcell.row,this.editcell.column,false,false)}var o=this.expandedgroups[m.uniqueid];if(o==undefined){o={expanded:false};n=true}if(o.expanded!=a){n=true}if(n){this.expandedgroups[m.uniqueid]={expanded:a,group:m};this._setsubgroupsvisibility(this,m,!a,p);if(k){var l=this.vScrollBar[0].style.visibility;this.rendergridcontent(true,false);if(l!=this.vScrollBar[0].style.visibility||this._hiddencolumns){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}if(undefined==this.suspendgroupevents||this.suspendgroupevents==false){if(a){this._raiseEvent(4,{group:m.group,parentgroup:m.parentItem?m.parentItem.group:null,level:m.level,visibleindex:m.visibleindex})}else{this._raiseEvent(5,{group:m.group,parentgroup:m.parentItem?m.parentItem.group:null,level:m.level,visibleindex:m.visibleindex})}}return true}return false},_setgroupitemsvisibility:function(h,f,g){for(var a=0;a<f.subItems.length;a++){h._setrowvisibility(f.subItems[a].visibleindex,g,false)}},_setsubgroupsvisibility:function(n,h,k,m){if(h.parentItem!=null){if(this.hiddens[h.parentItem.visibleindex]){return}}else{if(h.parentItem==null){if(this.hiddens[h.visibleindex]){return}}}for(subGroup in h.subGroups){var l=h.subGroups[subGroup];if(!k){n._setrowvisibility(l.visibleindex,k,false)}var a=!k;if(!m){if(n.expandedgroups[l.uniqueid]==undefined){a=false}else{a=n.expandedgroups[l.uniqueid].expanded}}else{this.expandedgroups[l.uniqueid]={expanded:a,group:l}}if(l.subGroups){if(l.subGroups.length>0){n._setsubgroupsvisibility(n,l,!a||k,m)}else{if(l.subItems.length>0){n._setgroupitemsvisibility(n,l,!a||k)}}}if(k){n._setrowvisibility(l.visibleindex,k,false)}}if(h.subItems&&h.subItems.length>0){n._setgroupitemsvisibility(n,h,k)}},_handlecolumnsdragdrop:function(){var o=this;var l=-1;var p=false;if(!o.groupable){return}var m="mousemove.grouping"+this.element.id;var n="mousedown.grouping"+this.element.id;var k="mouseup.grouping"+this.element.id;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;m=b.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id;n=b.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id;k=b.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id}this.removeHandler(b(document),m);this.addHandler(b(document),m,function(z){if(!o.showgroupsheader){return true}if(o.dragcolumn!=null){var x=parseInt(z.pageX);var D=parseInt(z.pageY);if(a){var c=o.getTouches(z);var e=c[0];x=parseInt(e.pageX);D=parseInt(e.pageY)}var g=o.host.coord();var C=parseInt(g.left);var B=parseInt(g.top);if(o.dragmousedownoffset==undefined||o.dragmousedownoffset==null){o.dragmousedownoffset={left:0,top:0}}var E=parseInt(x)-parseInt(o.dragmousedownoffset.left);var A=parseInt(D)-parseInt(o.dragmousedownoffset.top);o.dragcolumn.css({left:E+"px",top:A+"px"});p=false;if(x>=C&&x<=C+o.host.width()){if(D>=B&&D<=B+o.host.height()){p=true}}l=-1;if(p){o.dragcolumnicon.removeClass(o.toThemeProperty("jqx-grid-dragcancel-icon"));o.dragcolumnicon.addClass(o.toThemeProperty("jqx-grid-drag-icon"));var F=o.groupsheader.coord();var h=F.top+o.groupsheader.height();var d=b.data(o.dragcolumn[0],"datarecord");if(d){var y=o.groups.indexOf(d.toString())}else{var y=-1}var f=(y==-1)||(o.groups.length>1&&y>-1);if(o.dropline!=null){if(D>=F.top&&D<=h){if(f){l=o._handlegroupdroplines(x)}}else{o.dropline.fadeOut("slow")}}}else{if(o.dropline!=null){o.dropline.fadeOut("slow")}o.dragcolumnicon.removeClass(o.toThemeProperty("jqx-grid-drag-icon"));o.dragcolumnicon.addClass(o.toThemeProperty("jqx-grid-dragcancel-icon"))}if(a){z.preventDefault();z.stopPropagation();return false}}});this.removeHandler(b(document),k);this.addHandler(b(document),k,function(y){if(!o.showgroupsheader){return true}o.__drag=false;b(document.body).removeClass("jqx-disableselect");var h=parseInt(y.pageX);var B=parseInt(y.pageY);if(a){var e=o.getTouches(y);var f=e[0];h=parseInt(f.pageX);B=parseInt(f.pageY)}var g=o.host.coord();var A=parseInt(g.left);var z=parseInt(g.top);var w=o.groupsheader.height();if(o.showtoolbar){z+=o.toolbarheight}o.dragstarted=false;o.dragmousedown=null;if(o.dragcolumn!=null){var v=b.data(o.dragcolumn[0],"datarecord");o.dragcolumn.remove();o.dragcolumn=null;if(v!=null){if(!o.getcolumn(v).groupable){if(o.dropline!=null){o.dropline.remove();o.dropline=null}return}if(p){if(l!=-1){var d=l.index;var c=o.groups[d];var x=o._getGroupIndexByDataField(v);if(x!=d){if(x!=undefined&&x>=0){o.groups.splice(x,1)}if(l.position=="before"){if(!o.rtl){o._insertbeforegroup(c,v)}else{o._insertaftergroup(c,v)}}else{if(!o.rtl){o._insertaftergroup(c,v)}else{o._insertbeforegroup(c,v)}}}}else{if(o.groups.length==0){if(B>z&&B<=z+w){o.addgroup(v)}}else{if(B>z+w){var x=o._getGroupIndexByDataField(v);o.removegroupat(x)}}}}if(o.dropline!=null){o.dropline.remove();o.dropline=null}}}})},_getGroupIndexByDataField:function(a){for(var d=0;d<this.groups.length;d++){if(this.groups[d]==a){return d}}return -1},_isColumnInGroups:function(d){for(var a=0;a<this.groups.length;a++){if(this.groups[a]==d){return true}}return false},_handlegroupdroplines:function(e){var a=this;var f=-1;b.each(a.groupheadersbounds,function(d){if(e<=this.left+this.width/2){var c=this.left-3;if(d>0){c=this.left-1-a.groupindentwidth/6}a.dropline.css("left",c);a.dropline.css("top",this.top);a.dropline.height(this.height);a.dropline.fadeIn("slow");f={index:d,position:"before"};if(a.rtl){f={index:a.groupheadersbounds.length-1-d,position:"before"}}return false}else{if(e>=this.left+this.width/2){a.dropline.css("left",1+this.left+this.width);a.dropline.css("top",this.top);a.dropline.height(this.height);a.dropline.fadeIn("slow");f={index:d,position:"after"};if(a.rtl){f={index:a.groupheadersbounds.length-1-d,position:"after"}}}}});return f},_handlegroupstocolumnsdragdrop:function(p,n){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var m=this;var o;var k="mousedown";var l="mousemove";var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;k=b.jqx.mobile.getTouchEventName("touchstart");l=b.jqx.mobile.getTouchEventName("touchmove")}this.addHandler(n,"dragstart",function(c){return false});this.addHandler(n,k,function(g){if(!m.showgroupsheader){return true}var d=g.pageX;var e=g.pageY;m.__drag=true;m.dragmousedown={left:d,top:e};if(a){var f=m.getTouches(g);var h=f[0];d=h.pageX;e=h.pageY;m.dragmousedown={left:d,top:e};if(g.preventDefault){g.preventDefault()}}var c=b(g.target).coord();m.dragmousedownoffset={left:parseInt(d)-parseInt(c.left),top:parseInt(e-c.top)}});this.addHandler(n,l,function(g){if(!m.showgroupsheader){return true}if(m.dragmousedown){o={left:g.pageX,top:g.pageY};if(a){var e=m.getTouches(g);var c=e[0];o={left:c.pageX,top:c.pageY}}if(!m.dragstarted&&m.dragcolumn==null){var f=Math.abs(o.left-m.dragmousedown.left);var d=Math.abs(o.top-m.dragmousedown.top);if(f>3||d>3){m._createdragcolumn(n,o,true);b(document.body).addClass("jqx-disableselect");b.data(m.dragcolumn[0],"datarecord",p);if(g.preventDefault){g.preventDefault()}}}}})},_createdragcolumn:function(q,o,m){var l=this;var n=o;l.dragcolumn=b("<div></div>");var a=q.clone();l.dragcolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var k=b(a.find("."+l.toThemeProperty("jqx-grid-column-menubutton")));if(k.length>0){k.css("display","none")}var s=b(a.find(".jqx-icon-close"));if(s.length>0){s.css("display","none")}l.dragcolumnicon=b('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');l.dragcolumnicon.addClass(l.toThemeProperty("jqx-grid-drag-icon"));l.dragcolumn.css("float","left");l.dragcolumn.css("position","absolute");var p=l.host.coord();a.width(q.width()+16);l.dragcolumn.append(a);l.dragcolumn.height(q.height());l.dragcolumn.width(a.width());l.dragcolumn.append(l.dragcolumnicon);b(document.body).append(l.dragcolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);l.dragcolumn.css("left",n.left+l.dragmousedown.left);l.dragcolumn.css("top",n.top+l.dragmousedown.top);if(m!=undefined&&m){l.dropline=b('<div style="display: none; position: absolute;"></div>');l.dropline.width(2);l.dropline.addClass(l.toThemeProperty("jqx-grid-group-drag-line"));b(document.body).append(l.dropline)}},iscolumngroupable:function(a){return this._getcolumnproperty(a,"groupable")},_handlecolumnstogroupsdragdrop:function(n,k){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var h=this;var l;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true}var m="mousedown.drag";var l="mousemove.drag";if(a){m=b.jqx.mobile.getTouchEventName("touchstart")+".drag";l=b.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(k,"dragstart",function(c){return false})}this.addHandler(k,m,function(f){if(!h.showgroupsheader){return true}h.__drag=true;if(h._isColumnInGroups(n.displayfield)){if(k.css("cursor")!="col-resize"){return true}else{return true}}if(false==n.groupable){return true}var g=f.pageX;var o=f.pageY;if(a){var e=h.getTouches(f);var c=e[0];g=c.pageX;o=c.pageY}h.dragmousedown={left:g,top:o};if(a){if(f.preventDefault){f.preventDefault()}}var d=b(f.target).coord();h.dragmousedownoffset={left:parseInt(g)-parseInt(d.left),top:parseInt(o-d.top)}});this.addHandler(k,l,function(f){if(!h.showgroupsheader){return true}if(h._isColumnInGroups(n.displayfield)){if(k.css("cursor")!="col-resize"){return true}else{return true}}if(h.dragmousedown){var g=f.pageX;var o=f.pageY;if(a){var d=h.getTouches(f);var p=d[0];g=p.pageX;o=p.pageY}l={left:g,top:o};if(!h.dragstarted&&h.dragcolumn==null){var e=Math.abs(l.left-h.dragmousedown.left);var c=Math.abs(l.top-h.dragmousedown.top);if(e>3||c>3){h._createdragcolumn(k,l,true);b.data(h.dragcolumn[0],"datarecord",n.displayfield);if(f.preventDefault){f.preventDefault()}}}}})},_rendergroupcolumn:function(l,k){var n=b('<div style="float: left; position: relative;"></div>');if(this.rtl){n.css("float","right")}if(this.groupcolumnrenderer!=null){n[0].innerHTML=this.groupcolumnrenderer(l);n.addClass(this.toThemeProperty("jqx-grid-group-column"));n.addClass(this.toThemeProperty("jqx-fill-state-normal"))}if(this.closeablegroups){if(n[0].innerHTML==""){n[0].innerHTML='<a style="float: left;" href="#">'+l+"</a>"}if(this.rtl){n[0].innerHTML='<a style="float: right;" href="#">'+l+"</a>"}var o=!this.rtl?"right":"left";var p='<div style="float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(b.jqx.browser.msie&&b.jqx.browser.version<8){p='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'}if(this.rtl){var p='<div style="float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(b.jqx.browser.msie&&b.jqx.browser.version<8){p='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'}}n[0].innerHTML+=p}else{if(n[0].innerHTML==""){n[0].innerHTML='<a href="#">'+l+"</a>"}}if(this.sortable){var m=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups){var m=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}if(this.rtl){var m=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups){var m=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=b('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}}m.css("display","none");a.css("display","none");if(b.jqx.browser.msie&&b.jqx.browser.version<8){m.css("float","left");a.css("float","left")}n.append(m);n.append(a);b.data(document.body,"groupsortelements"+k,{sortasc:m,sortdesc:a})}n.addClass(this.toThemeProperty("jqx-fill-state-normal"));n.addClass(this.toThemeProperty("jqx-grid-group-column"));return n},_rendergroup:function(V,H,ah,K,Z,U,M){var J=H;var ag=H.cells[ah.level];if(this.rtl){ag=H.cells[H.cells.length-1-ah.level]}var L=this._findgroupstate(ah.uniqueid);if(ah.bounddata.subGroups.length>0||ah.bounddata.subItems.length>0){var aa=this.rtl?"-rtl":"";var R=this.toThemeProperty("jqx-icon-arrow-right");if(aa){R=this.toThemeProperty("jqx-icon-arrow-left")}if(L){ag.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+aa)+" "+this.toThemeProperty("jqx-icon-arrow-down")}else{ag.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+aa)+" "+R}}var O=this._getColumnText(this.groups[ah.level]).label;var af=this.groupindentwidth;var S=this.rowdetails&&this.showrowdetailscolumn?(1+V)*af:(V)*af;var G=M-S;var ac=ah.level+1;if(this.rtl){ac=0}var X=J.cells[ac];var a=2;while(X!=undefined&&X.style.display=="none"&&a<J.cells.length-1){X=J.cells[ac+a-1];a++}var ad=b(X);if(!X){return}X.style.width=parseInt(G)+"px";if(X.className.indexOf("jqx-grid-cell-filter")!=-1){ad.removeClass(this.toThemeProperty("jqx-grid-cell-filter"))}if(X.className.indexOf("jqx-grid-cell-sort")!=-1){ad.removeClass(this.toThemeProperty("jqx-grid-cell-sort"))}if(X.className.indexOf("jqx-grid-cell-pinned")!=-1){ad.removeClass(this.toThemeProperty("jqx-grid-cell-pinned"))}if(this.groupsrenderer!=null){var ab={group:ah.group,level:ah.level,parent:ah.bounddata.parentItem,subGroups:ah.bounddata.subGroups,subItems:ah.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[ah.level]).column};var T=this.groupsrenderer(O+": "+ah.group,ah.group,L,ab);if(T){X.innerHTML=T}else{var Y=ah.bounddata.subItems.length>0?ah.bounddata.subItems.length:ah.bounddata.subGroups.length;X.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+O+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+ah.group+" ("+Y+")</span></div>"}}else{var ae=this._getcolumnbydatafield(this.groups[ah.level]);var m=ah.group;if(ae!=null){if(ae.cellsformat){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isDate(m)){m=b.jqx.dataFormat.formatdate(m,ae.cellsformat,this.gridlocalization)}else{if(b.jqx.dataFormat.isNumber(m)){m=b.jqx.dataFormat.formatnumber(m,ae.cellsformat,this.gridlocalization)}}}}var Y=ah.bounddata.subItems.length>0?ah.bounddata.subItems.length:ah.bounddata.subGroups.length;X.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+O+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+m+" ("+Y+")</span></div>"}else{throw new Error("jqxGrid: Unable to find '"+this.groups[ah.level]+"' group in the Grid's columns collection.")}}if(this.rtl){if(!ae){ae=this._getcolumnbydatafield(this.groups[ah.level])}var Q=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max-this.hScrollInstance.value;var P=this.vScrollBar.css("visibility")=="hidden"?0:this.scrollbarsize+6;var S=this.rowdetails&&this.showrowdetailscolumn?(2+ah.level)*af:(1+ah.level)*af;X.style.width=M+parseInt(Q)-S-P+"px";ad.addClass(this.toThemeProperty("jqx-rtl"));var I=b(H.cells[H.cells.length-1]).css("z-index");ad.css("z-index",I);var N=ad.find("div");var G=N.width();N.css("left","100%");var W=this.columns.records[H.cells.length-2-ah.level]!=null?this.columns.records[H.cells.length-2-ah.level].pinned:false;if(this.table.width()<M){M=this.table.width();if(this.vScrollBar.css("visibility")!="hidden"){M+=this.vScrollBar.outerWidth()}}if(ae.pinned||W){if(this.rowdetails&&this.showrowdetailscolumn){M+=30}N.css("margin-left",-G);X.style.width=M+Q-S-P+"px"}else{var Q=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max;X.style.width=M+Q-S-P+"px";var G=N.width();N.css("margin-left",-G)}}}})})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{savestate:function(a){var d=this.getstate();if(a!==undefined&&!b.isEmptyObject(a)){if(a.indexOf("sort")==-1){delete d.sortcolumn;delete d.sortdirection}if(a.indexOf("pager")==-1){delete d.pagenum;delete d.pagesizeoptions;delete d.pagesize}if(a.indexOf("selection")==-1){delete d.selectedcells;delete d.selectedrowindexes;delete d.selectedrowindex}if(a.indexOf("grouping")==-1){delete d.groups}if(a.indexOf("filter")==-1){delete d.filters}b.each(this.columns.records,function(c){var f=d.columns[this.datafield];if(a.indexOf("hidden_columns")==-1){delete f.hidden}if(a.indexOf("reorder")==-1){delete f.index}if(a.indexOf("columns_width")==-1){delete f.width}if(a.indexOf("columns_text")==-1){delete f.text}if(a.indexOf("alignment")==-1){delete f.align;delete f.cellsalign}})}if(window.localStorage){window.localStorage["jqxGrid"+this.element.id]=this._stringify(d)}this._savedstate=d;return d},loadstate:function(p,k){var m="";if(p!=undefined&&p.width!=undefined){m=p}else{if(window.localStorage){var q=window.localStorage["jqxGrid"+this.element.id];if(q){var m=b.parseJSON(window.localStorage["jqxGrid"+this.element.id])}}else{if(this._savedstate){var m=this._savedstate}}}if(m!=null&&m!==""){if(this.virtualmode||(this.source._source.url&&this.source._source.url!="")){this.source.beginUpdate()}var n=m;if(n.width!==undefined){this.width=n.width}if(n.height!==undefined){this.height=n.height}if(this.pageable){if(n.pagesize!=undefined){this.pagesize=n.pagesize;this.dataview.pagesize=n.pagesize}if(n.pagenum!=undefined){this.dataview.pagenum=n.pagenum}if(n.pagesizeoptions!=undefined){this.pagesizeoptions=n.pagesizeoptions}if(this.pagesizeoptions){var o=0;for(var a=0;a<this.pagesizeoptions.length;a++){if(this.pagesize>=this.pagesizeoptions[a]){o=a}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({selectedIndex:o})}}}if(this.sortable){if(this._loading){this._loading=false}if(n.sortdirection){if(n.sortdirection.ascending||n.sortdirection.descending){this.dataview.sortfield=n.sortcolumn;var l=n.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=l;this.source.sortcolumn=n.sortcolumn;this.source.sortdirection=l;this.sortby(n.sortcolumn,l)}}else{if(this.dataview.sortfield!=null&&(this.dataview.sortfielddirection=="asc"||this.dataview.sortfielddirection=="desc")){this.sortby(this.dataview.sortfield,null)}}}if(this.groupable&&n.groups){this.dataview.groups=n.groups;this.groups=n.groups}this.loadingstate=true;if(this.virtualsizeinfo){this._loadselectionandcolumnwidths(n)}this.loadingstate=false;if(this.virtualmode||(this.source._source.url&&this.source._source.url!="")){if(k==true){this.source.endUpdate(false)}else{this.source.endUpdate(false);if(this.virtualmode||this.source._source.filter||this.source._source.sort){this.updatebounddata("state")}}}}},_loadselectionandcolumnwidths:function(aa){this.loadingstate=true;var X="";if(aa!=undefined&&aa.width!=undefined){X=aa}else{if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id]){var X=b.parseJSON(window.localStorage["jqxGrid"+this.element.id])}}else{if(this._savedstate){var X=this._savedstate}}}if(X!=null&&X!=""){var P=this._loading;this._loading=false;var K=X;var N=this;var ac=false;var ae=[];ae.length=0;var R=[];b.each(this.columns.records,function(d){var c=K.columns[this.datafield];if(c!=undefined){if(this.text!=c.text){ac=true}if(this.hidden!=c.hidden){ac=true}if(c.width!==undefined){this.width=c.width;if(this._width){this._width=null}if(this._percentagewidth){this._percentagewidth=null}}if(c.hidden!==undefined){this.hidden=c.hidden}if(c.pinned!==undefined){this.pinned=c.pinned}if(c.groupable!==undefined){this.groupable=c.groupable}if(c.resizable!==undefined){this.resizable=c.resizable}this.draggable=c.draggable;if(c.text!==undefined){this.text=c.text}if(c.align!==undefined){this.align=c.align}if(c.cellsalign!==undefined){this.cellsalign=c.cellsalign}if(N._columns){for(var e=0;e<N._columns.length;e++){if(N._columns[e].datafield==this.datafield){if(c.hidden!==undefined){N._columns[e]["hidden"]=c.hidden}if(c.width!==undefined){if(N._columns[e]["width"]!=undefined){N._columns[e]["width"]=c.width}}}}}if(c.index!==undefined){ae[this.datafield]=c.index;ae.length++}}});if(ae.length>0){if(this.setcolumnindex){var I=this.rowdetails?1:0;I+=this.groupable?this.groups.length:0;var L=new Array();for(var a=0;a<this.columns.records.length;a++){L.push(this.columns.records[a])}var F=0;for(var a=0;a<L.length;a++){var Z=L[a];var W=ae[Z.datafield];if(this.groupable&&Z.grouped){F++;continue}if(a==0&&this.rowdetails){F++;continue}if(a!==W||this.groupable||this.rowdetails){N.setcolumnindex(Z.datafield,F+W,false)}}}this.prerenderrequired=true;if(this.groupable){this._refreshdataview()}this.rendergridcontent(true);if(this._updatefilterrowui&&this.filterable&&this.showfilterrow){this._updatefilterrowui()}this._renderrows(this.virtualsizeinfo)}if(this.filterable&&K.filters!==undefined){if(this.clearfilters){this._loading=false;this.clearfilters(false)}var af="";var U=new b.jqx.filter();for(var a=0;a<K.filters.filterscount;a++){var T=K.filters["filtercondition"+a];var M=K.filters["filterdatafield"+a];var Z=this.getcolumn(M);if(M!=af){U=new b.jqx.filter()}af=M;if(Z&&Z.filterable){var H=K.filters["filtervalue"+a];var S=K.filters["filteroperator"+a];var ag=K.filters["filtertype"+a];if(ag=="datefilter"){var Q=U.createfilter(ag,H,T,null,Z.cellsformat,this.gridlocalization)}else{var Q=U.createfilter(ag,H,T)}U.addfilter(S,Q);if(this.showfilterrow){var Y=Z._filterwidget;var ad=Z._filterwidget.parent();if(Y!=null){switch(Z.filtertype){case"number":ad.find("input").val(H);if(this.host.jqxDropDownList){var V=U.getoperatorsbyfiltertype("numericfilter");Y.find(".filter").jqxDropDownList("selectIndex",V.indexOf(T))}break;case"date":if(this.host.jqxDateTimeInput){var O=K.filters["filtervalue"+(a+1)];var ag=K.filters["filtertype"+a];var Q=U.createfilter(ag,O,"LESS_THAN_OR_EQUAL");U.addfilter(S,Q);var G=new Date(H);var ab=new Date(O);if(isNaN(G)){G=b.jqx.dataFormat.tryparsedate(H)}if(isNaN(ab)){ab=b.jqx.dataFormat.tryparsedate(H)}b(ad.children()[0]).jqxDateTimeInput("setRange",G,ab);a++}else{Y.val(H)}break;case"textbox":case"default":Y.val(H);N["_oldWriteText"+Y[0].id]=H;break;case"list":if(this.host.jqxDropDownList){var J=b(ad.children()[0]).jqxDropDownList("getItems");var W=-1;b.each(J,function(c){if(this.value==H){W=c;return false}});b(ad.children()[0]).jqxDropDownList("selectIndex",W)}else{Y.val(H)}break;case"checkedlist":if(!this.host.jqxDropDownList){Y.val(H)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){Y.val(H)}else{b(ad.children()[0]).jqxCheckBox({checked:H})}break}}}this.addfilter(M,U)}}if(K.filters&&K.filters.filterscount>0){this.applyfilters();if(this.showfilterrow){b.each(this.columns.records,function(){if(this.filtertype=="checkedlist"&&this.filterable){if(N.host.jqxDropDownList){var e=this;var g=e._filterwidget;var l=g.jqxDropDownList("getItems");var k=g.jqxDropDownList("listBox");k.checkAll(false);if(e.filter){k.uncheckAll(false);var c=e.filter.getfilters();for(var f=0;f<k.items.length;f++){var h=k.items[f].label;b.each(c,function(){if(this.condition=="NOT_EQUAL"){return true}if(h==this.value){k.checkIndex(f,false,false)}})}k._updateCheckedItems();var d=k.getCheckedItems().length;if(k.items.length!=d&&d>0){k.host.jqxListBox("indeterminateIndex",0,true,false)}}}}})}}if(this.pageable&&K.pagenum!==undefined){if(this.gotopage&&!this.virtualmode){this.dataview.pagenum=-1;this.gotopage(K.pagenum)}else{if(this.gotopage&&this.virtualmode){this.gotopage(K.pagenum)}}}}if(K.selectedrowindexes&&K.selectedrowindexes&&K.selectedrowindexes.length>0){this.selectedrowindexes=K.selectedrowindexes;this.selectedrowindex=K.selectedrowindex;if(this.selectionmode==="checkbox"){this._updatecheckboxselection()}}if(K.selectedcells){if(this._applycellselection){b.each(K.selectedcells,function(){N._applycellselection(this.rowindex,this.datafield,true,false)})}}if(this.groupable&&K.groups!==undefined){this._refreshdataview();this.render();this._loading=P;this.loadingstate=false;return}if(ac){this.prerenderrequired=true;this.rendergridcontent(true);this._loading=P;this.loadingstate=false;if(this.updating()){return false}}else{this._loading=P;this._updatecolumnwidths();this._updatecellwidths();this.loadingstate=false}this.loadingstate=false;this._loading=P;this._renderrows(this.virtualsizeinfo)}this.loadingstate=false},getstate:function(){var m=this.getdatainformation();var y={};y.width=this.width;y.height=this.height;y.pagenum=m.paginginformation.pagenum;y.pagesize=m.paginginformation.pagesize;y.pagesizeoptions=this.pagesizeoptions;y.sortcolumn=m.sortinformation.sortcolumn;y.sortdirection=m.sortinformation.sortdirection;if(this.selectionmode!=null){if(this.getselectedcells){if(this.selectionmode.toString().indexOf("cell")!=-1){var s=this.getselectedcells();var a=new Array();b.each(s,function(){a.push({datafield:this.datafield,rowindex:this.rowindex})});y.selectedcells=a}else{var t=this.getselectedrowindexes();y.selectedrowindexes=t;y.selectedrowindex=this.selectedrowindex}}}var x={};var C=0;if(this.dataview.filters){for(var w=0;w<this.dataview.filters.length;w++){var B=this.dataview.filters[w].datafield;var E=this.dataview.filters[w].filter;var D=E.getfilters();x[B+"operator"]=E.operator;for(var A=0;A<D.length;A++){D[A].datafield=B;if(D[A].type=="datefilter"){if(D[A].value&&D[A].value.toLocaleString){var z=this.getcolumn(D[A].datafield);if(z.cellsformat){var u=this.source.formatDate(D[A].value,z.cellsformat,this.gridlocalization);if(u){x["filtervalue"+C]=u}else{x["filtervalue"+C]=D[A].value.toLocaleString()}}else{x["filtervalue"+C]=D[A].value.toLocaleString()}}else{x["filtervalue"+C]=D[A].value}}else{x["filtervalue"+C]=D[A].value}x["filtercondition"+C]=D[A].condition;x["filteroperator"+C]=D[A].operator;x["filterdatafield"+C]=B;x["filtertype"+C]=D[A].type;C++}}}x.filterscount=C;y.filters=x;y.groups=this.groups;y.columns={};var v=0;if(this.columns.records){b.each(this.columns.records,function(c,e){if(!this.datafield){return true}var d={};d.width=this.width;d.hidden=this.hidden;d.pinned=this.pinned;d.groupable=this.groupable;d.resizable=this.resizable;d.draggable=this.draggable;d.text=this.text;d.align=this.align;d.cellsalign=this.cellsalign;d.index=v++;y.columns[this.datafield]=d})}return y},_stringify:function(f){if(window.JSON&&typeof window.JSON.stringify==="function"){var g=this;var h="";try{h=window.JSON.stringify(f)}catch(a){return g._str("",{"":f})}return h}var h=this._str("",{"":f});return h},_quote:function(a){var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(e,function(d){var c=f[d];return typeof c==="string"?c:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(f){var a=f.length,h=[],g;for(var g=0;g<a;g++){h.push(this._str(g,f)||"null")}return"["+h.join(",")+"]"},_stringifyObject:function(g){var l=[],k,a;var h=this;for(k in g){if(Object.prototype.hasOwnProperty.call(g,k)){a=h._str(k,g);if(a){l.push(h._quote(k)+":"+a)}}}return"{"+l.join(",")+"}"},_stringifyReference:function(a){switch(Object.prototype.toString.call(a)){case"[object Array]":return this._stringifyArray(a)}return this._stringifyObject(a)},_stringifyPrimitive:function(d,a){switch(a){case"string":return this._quote(d);case"number":return isFinite(d)?d:"null";case"boolean":return d}return"null"},_str:function(h,a){var f=a[h],g=typeof f;if(f&&typeof f==="object"&&typeof f.toJSON==="function"){f=f.toJSON(h);g=typeof f}if(/(number|string|boolean)/.test(g)||(!f&&g==="object")){return this._stringifyPrimitive(f,g)}else{return this._stringifyReference(f)}}})})(jQuery);(function(b){b.extend(b.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var a=this.columns.records.length;var u=0;var n=this;for(var p=0;p<a;p++){var s=this.columns.records[p];var w=s.width;if(w<s.minwidth){w=s.minwidth}if(w>s.maxwidth){w=s.maxwidth}var o=b(this.filterrow[0].cells[p]);o.css("left",u);var q=true;if(o.width()==w){q=false}if(t){q=true}o.width(w);o[0].left=u;if(!(s.hidden&&s.hideable)){u+=w}else{o.css("display","none")}if(!q){continue}if(s.createfilterwidget&&s.filtertype=="custom"){s.createfilterwidget(s,o)}else{if(s.filterable){var v=function(e,d){var c=b(d.children()[0]);c.width(w-10);c.attr("disabled",e.disabled)};switch(s.filtertype){case"number":b(o.children()[0]).width(w);o.find("input").width(w-30);o.find("input").attr("disabled",n.disabled);b(o.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({disabled:n.disabled});break;case"date":if(this.host.jqxDateTimeInput){b(o.children()[0]).jqxDateTimeInput({disabled:n.disabled,width:w-10})}else{v(this,o)}break;case"textbox":case"default":v(this,o);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){b(o.children()[0]).jqxDropDownList({disabled:n.disabled,width:w-10})}else{v(this,o)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){v(this,o)}else{b(o.children()[0]).jqxCheckBox({disabled:n.disabled})}break}}}}var x=b(this.filterrow.children()[0]);x.width(parseInt(u)+2);x.height(this.filterrowheight)},clearfilterrow:function(n){this._disablefilterrow=true;if(!this.columns.records){return}var a=this.columns.records.length;var l=0;for(var o=0;o<a;o++){var p=this.columns.records[o];var k=b(this.filterrow[0].cells[o]);if(typeof n=="string"){if(p.displayfield!=n){continue}}if(p.filterable){var m=function(d,c){var e=b(c.children()[0]);e.val("");if(e[0]){d["_oldWriteText"+e[0].id]=""}};switch(p.filtertype){case"number":k.find("input").val("");break;case"date":if(this.host.jqxDateTimeInput){b(k.children()[0]).jqxDateTimeInput("setDate",null)}else{m(this,k)}break;case"textbox":case"default":m(this,k);break;case"list":if(this.host.jqxDropDownList){b(k.children()[0]).jqxDropDownList("clearSelection")}else{m(this,k)}break;case"checkedlist":if(this.host.jqxDropDownList){b(k.children()[0]).jqxDropDownList("checkAll",false)}else{m(this,k)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){m(this,k)}else{b(k.children()[0]).jqxCheckBox({checked:null})}break}}}this._disablefilterrow=false},_applyfilterfromfilterrow:function(){if(this._disablefilterrow==true){return}if(this.disabled){return}var a=this.columns.records.length;var O=this.that;for(var L=0;L<a;L++){var Y=new b.jqx.filter();var J=this.columns.records[L];if(!J.filterable){continue}if(J.datafield===null){continue}var ab=O._getcolumntypebydatafield(J);var ad=O._getfiltertype(ab);var X=1;var N=true;var ac=J.filtertype;var S=function(f,c,h){var g=true;if(f._filterwidget){var l=f._filterwidget.val();if(l!=""){var e="equal";if(c=="stringfilter"){var e="contains"}if(c=="numericfilter"){if(O.gridlocalization.decimalseparator==","){if(l.indexOf(O.gridlocalization.decimalseparator)>=0){l=l.replace(O.gridlocalization.decimalseparator,".")}}}if(c!="stringfilter"){var d=0;if(l.indexOf(">")!=-1){e="greater_than";d=1}if(l.indexOf("<")!=-1){e="less_than";d=1}if(l.indexOf("=")!=-1){if(e=="greater_than"){e="greater_than_or_equal";d=2}else{if(e=="less_than"){e="less_than_or_equal";d=2}else{e="equal";d=1}}}if(d!=0){l=l.substring(d);if(l.length<1){return false}}}if(f.filtercondition!=undefined){e=f.filtercondition}if(c=="datefilter"){var k=h.createfilter(c,l,e,null,f.cellsformat,O.gridlocalization)}else{var k=h.createfilter(c,l,e)}h.addfilter(X,k)}else{g=false}}return g};switch(J.filtertype){case"date":if(J._filterwidget.jqxDateTimeInput){var T=J._filterwidget.jqxDateTimeInput("getRange");if(T!=null&&T.from!=null&&T.to!=null){var U="GREATER_THAN_OR_EQUAL";var P=new Date(0);P.setHours(0);P.setFullYear(T.from.getFullYear(),T.from.getMonth(),T.from.getDate());var R=new Date(0);R.setHours(0);R.setFullYear(T.to.getFullYear(),T.to.getMonth(),T.to.getDate());R.setHours(T.to.getHours());R.setMinutes(T.to.getMinutes());R.setSeconds(T.to.getSeconds());var F=Y.createfilter(ad,P,U);Y.addfilter(0,F);var ae="LESS_THAN_OR_EQUAL";var G=Y.createfilter(ad,R,ae);Y.addfilter(0,G)}else{N=false}}else{N=S(J,ad,Y)}break;case"number":if(J._filterwidget){var T=J._filterwidget.find("input").val();if(O.gridlocalization.decimalseparator==","){if(T.indexOf(O.gridlocalization.decimalseparator)>=0){T=T.replace(O.gridlocalization.decimalseparator,".")}}var Z=J._filterwidget.find(".filter").jqxDropDownList("selectedIndex");var H=Y.getoperatorsbyfiltertype(ad)[Z];if(O.updatefilterconditions){var K=O.updatefilterconditions(ad,Y.getoperatorsbyfiltertype(ad));if(K!=undefined){Y.setoperatorsbyfiltertype(ad,K)}var H=Y.getoperatorsbyfiltertype(ad)[Z]}var V=H=="NULL"||H=="NOT_NULL";var M=H=="EMPTY"||H=="NOT_EMPTY";if(T!=undefined&&T.length>0||V||M){F=Y.createfilter(ad,new Number(T),H,null,J.cellsformat,O.gridlocalization);Y.addfilter(0,F)}else{N=false}}else{N=false}break;case"textbox":case"default":N=S(J,ad,Y);break;case"bool":case"boolean":if(J._filterwidget.jqxCheckBox){var T=J._filterwidget.jqxCheckBox("checked");if(T!=null){var U="equal";var W=Y.createfilter(ad,T,U);Y.addfilter(X,W)}else{N=false}}else{N=S(J,ad,Y)}break;case"list":var aa=J._filterwidget.jqxDropDownList("listBox");if(aa.selectedIndex>0){var af=aa.getItem(aa.selectedIndex);var T=af.label;var U="equal";if(T===""){U="NULL"}var W=Y.createfilter(ad,T,U);Y.addfilter(X,W)}else{N=false}break;case"checkedlist":if(J._filterwidget.jqxDropDownList){var aa=J._filterwidget.jqxDropDownList("listBox");var Q=aa.getCheckedItems();if(Q.length==0){for(var I=1;I<aa.items.length;I++){var T=aa.items[I].label;var U="not_equal";if(T===""){U="NULL"}var W=Y.createfilter(ad,T,U);Y.addfilter(0,W)}N=true}else{if(Q.length!=aa.items.length){for(var I=0;I<Q.length;I++){var T=Q[I].label;var U="equal";if(T===""){U="NULL"}var W=Y.createfilter(ad,T,U);Y.addfilter(X,W)}}else{N=false}}}else{N=S(J,ad,Y)}break}if(!this._loading){if(N){this.addfilter(J.displayfield,Y,false)}else{this.removefilter(J.displayfield,false)}}}if(!this._loading){this.applyfilters("filterrow")}},_updatefilterrow:function(){var G=b('<div style="position: relative;" id="row00'+this.element.id+'"></div>');var C=0;var u=this.columns.records.length;var w=this.toThemeProperty("jqx-grid-cell");w+=" "+this.toThemeProperty("jqx-grid-cell-pinned");w+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var s=u+10;var a=new Array();var v=this.that;this.filterrow[0].cells=a;G.height(this.filterrowheight);this.filterrow.children().detach();this.filterrow.append(G);if(!this._filterrowcache){this._filterrowcache=new Array()}this._initcolumntypes();var B=false;var E=new Array();for(var A=0;A<u;A++){var D=this.columns.records[A];var F=D.width;if(F<D.minwidth){F=D.minwidth}if(F>D.maxwidth){F=D.maxwidth}var x=b('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+w+'"></div>');G.append(x);x.css("left",C);if(this.rtl){x.css("z-index",s++);x.css("border-left-width","1px")}else{x.css("z-index",s--)}x[0].style.width=parseFloat(F)+"px";x[0].left=C;if(!(D.hidden&&D.hideable)){C+=F}else{x.css("display","none")}a[a.length]=x[0];var y=true;if(!this.rtl){if(this.groupable){var t=(this.showrowdetailscolumn&&this.rowdetails)?1:0;if(this.groups.length+t>A){y=false}}if(this.showrowdetailscolumn&&this.rowdetails&&A==0){y=false}}else{if(this.groupable){var t=(this.showrowdetailscolumn&&this.rowdetails)?1:0;if(this.groups.length+t+A>u-1){y=false}}if(this.showrowdetailscolumn&&this.rowdetails&&A==u-1){y=false}}if(y){if(D.filtertype=="custom"&&D.createfilterwidget){var z=function(){v._applyfilterfromfilterrow()};D.createfilterwidget(D,x,z)}else{if(D.filterable){if(this._filterrowcache[D.datafield]){B=true;x.append(this._filterrowcache[D.datafield]);D._filterwidget=this._filterrowcache[D.datafield]}else{this._addfilterwidget(D,x,F);E[D.datafield]=D._filterwidget}}}}}this._filterrowcache=E;if(b.jqx.browser.msie&&b.jqx.browser.version<8){G.css("z-index",s--)}G.width(parseFloat(C)+2);this.filterrow.addClass(w);this.filterrow.css("border-top-width","1px");this.filterrow.css("border-right-width","0px");if(B){this._updatefilterrowui(true)}},_addfilterwidget:function(S,af,a){var K=this.that;var f="";for(var O=0;O<K.dataview.filters.length;O++){var H=K.dataview.filters[O];if(H.datafield&&H.datafield==S.datafield){f=H.filter.getfilters()[0].value;break}}var ad=function(d,c){var e=b('<input autocomplete="off" type="textarea"/>');e[0].id=b.jqx.utilities.createId();e.addClass(d.toThemeProperty("jqx-widget"));e.addClass(d.toThemeProperty("jqx-input"));e.addClass(d.toThemeProperty("jqx-rc-all"));e.addClass(d.toThemeProperty("jqx-widget-content"));if(d.rtl){e.css("direction","rtl")}if(d.disabled){e.attr("disabled",true)}e.attr("disabled",false);e.appendTo(c);e.width(a-10);e.height(d.filterrowheight-10);e.css("margin","4px");if(S.createfilterwidget){S.createfilterwidget(S,c,e)}S._filterwidget=e;e.focus(function(){d.content[0].scrollLeft=0;setTimeout(function(){d.content[0].scrollLeft=0},10);d.focusedfilter=e;e.addClass(d.toThemeProperty("jqx-fill-state-focus"));return false});e.blur(function(){e.removeClass(d.toThemeProperty("jqx-fill-state-focus"))});e.keydown(function(g){if(g.keyCode=="13"){d._applyfilterfromfilterrow()}if(e[0]._writeTimer){clearTimeout(e[0]._writeTimer)}e[0]._writeTimer=setTimeout(function(){if(!d._loading){if(d["_oldWriteText"+e[0].id]!=e.val()){d._applyfilterfromfilterrow();d["_oldWriteText"+e[0].id]=e.val()}}},800);d.focusedfilter=e});d.host.removeClass("jqx-disableselect");d.content.removeClass("jqx-disableselect");e.val(f)};if(S.datatype!=null){if(S.filtertype=="number"){if(S.datatype=="string"||S.datatype=="date"||S.datatype=="bool"){S.filtertype="textbox"}}if(S.filtertype=="date"){if(S.datatype=="string"||S.datatype=="number"||S.datatype=="bool"){S.filtertype="textbox"}}if(S.filtertype=="bool"){if(S.datatype=="string"||S.datatype=="number"||S.datatype=="date"){S.filtertype="textbox"}}}switch(S.filtertype){case"number":var X=b("<div></div>");X.width(af.width());X.height(this.filterrowheight);af.append(X);var a=af.width()-20;var Q=function(d,c,g){var e=b('<input style="float: left;" autocomplete="off" type="textarea"/>');if(K.rtl){e.css("float","right");e.css("direction","rtl")}e[0].id=b.jqx.utilities.createId();e.addClass(K.toThemeProperty("jqx-widget"));e.addClass(K.toThemeProperty("jqx-input"));e.addClass(K.toThemeProperty("jqx-rc-all"));e.addClass(K.toThemeProperty("jqx-widget-content"));e.appendTo(d);e.width(c-10);if(K.disabled){e.attr("disabled",true)}e.attr("disabled",false);e.height(K.filterrowheight-10);e.css("margin","4px");e.css("margin-right","2px");e.focus(function(){K.focusedfilter=e;e.addClass(K.toThemeProperty("jqx-fill-state-focus"))});e.blur(function(){e.removeClass(K.toThemeProperty("jqx-fill-state-focus"))});e.keydown(function(h){if(h.keyCode=="13"){K._applyfilterfromfilterrow()}if(e[0]._writeTimer){clearTimeout(e[0]._writeTimer)}e[0]._writeTimer=setTimeout(function(){if(!K._loading){if(K["_oldWriteText"+e[0].id]!=e.val()){K._applyfilterfromfilterrow();K["_oldWriteText"+e[0].id]=e.val()}}},800);K.focusedfilter=e});e.val(f);return e};Q(X,a);var U=K._getfiltersbytype("number");var N=b("<div class='filter' style='float: left;'></div>");N.css("margin-top","4px");N.appendTo(X);if(K.rtl){N.css("float","right")}var ac=0;if(S.filtercondition!=null){var ae=U.indexOf(S.filtercondition);if(ae!=-1){ac=ae}}N.jqxDropDownList({disabled:K.disabled,touchMode:K.touchmode,rtl:K.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:true,selectedIndex:ac,width:18,height:21,dropDownHeight:150,dropDownWidth:170,source:U,theme:K.theme});N.jqxDropDownList({selectionRenderer:function(c){return""}});N.jqxDropDownList("setContent","");N.find(".jqx-dropdownlist-content").hide();if(S.createfilterwidget){S.createfilterwidget(S,af,X)}S._filterwidget=X;var aa=null;this.addHandler(N,"select",function(){var c=N.jqxDropDownList("getSelectedItem").label;if(S._filterwidget.find("input").val().length>0&&!K.refreshingfilter){K._applyfilterfromfilterrow()}else{if(S._filterwidget.find("input").val().length==0&&!K.refreshingfilter){if(aa=="null"||aa=="not null"||c=="null"||c=="not null"){K._applyfilterfromfilterrow()}}}aa=c});break;case"textbox":case"default":default:ad(this,af);break;case"none":break;case"date":if(this.host.jqxDateTimeInput){var ah=b("<div></div>");ah.css("margin","4px");ah.appendTo(af);var W={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};ah.jqxDateTimeInput({disabled:K.disabled,localization:W,rtl:K.rtl,showFooter:true,formatString:S.cellsformat,selectionMode:"range",value:null,theme:this.theme,width:a-10,height:this.filterrowheight-10});if(S.createfilterwidget){S.createfilterwidget(S,af,ah)}S._filterwidget=ah;this.addHandler(ah,"valuechanged",function(c){if(!K.refreshingfilter){K._applyfilterfromfilterrow();K.focusedfilter=null}})}else{ad(this,af)}break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var R=this._getfilterdataadapter(S);var Y=false;var N=b("<div></div>");N.css("margin","4px");var M=S.datafield;var J=S.filtertype=="checkedlist"?true:false;var P=a<150?220:"auto";R.dataBind();var T=R.records;var Z=T.length<8?true:false;Y=Z;N.appendTo(af);N.jqxDropDownList({disabled:K.disabled,touchMode:K.touchmode,rtl:K.rtl,checkboxes:J,dropDownWidth:P,source:R.records,autoDropDownHeight:Z,theme:this.theme,width:a-10,height:this.filterrowheight-10,displayMember:S.displayfield,valueMember:M});var ag=N.jqxDropDownList("listBox");if(J){N.jqxDropDownList({selectionRenderer:function(){var c='<span class="'+K.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+K.gridlocalization.filterselectstring+"</span>";return c}});var G=b('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+K.gridlocalization.filterselectstring+"</span>");G.addClass(this.toThemeProperty("jqx-item"));if(ag!=undefined){if(!Y){ag.host.height(200)}ag.insertAt(K.gridlocalization.filterselectallstring,0);N.jqxDropDownList("setContent",G);var ab=true;var L=new Array();ag.checkAll(false);K.addHandler(ag.host,"checkChange",function(c){N[0]._selectionChanged=true;if(!ab){return}if(c.args.label!=K.gridlocalization.filterselectallstring){ab=false;ag.host.jqxListBox("checkIndex",0,true,false);var e=ag.host.jqxListBox("getCheckedItems");var d=ag.host.jqxListBox("getItems");if(e.length==1){ag.host.jqxListBox("uncheckIndex",0,true,false)}else{if(d.length!=e.length){ag.host.jqxListBox("indeterminateIndex",0,true,false)}}ab=true}else{ab=false;if(c.args.checked){ag.host.jqxListBox("checkAll",false)}else{ag.host.jqxListBox("uncheckAll",false)}ab=true}})}}else{ag.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0);N.jqxDropDownList({selectedIndex:0})}if(S.createfilterwidget){S.createfilterwidget(S,af,N)}S._filterwidget=N;var V=N.jqxDropDownList("dropdownlistWrapper");if(S.filtertype=="list"){this.addHandler(N,"select",function(c){if(!K.refreshingfilter){if(c.args&&c.args.type!="none"){K._applyfilterfromfilterrow();K.focusedfilter=null}}})}else{this.addHandler(N,"close",function(c){if(N[0]._selectionChanged){K._applyfilterfromfilterrow();K.focusedfilter=null;N[0]._selectionChanged=false}})}}else{ad(this,af)}break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=b('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');I.appendTo(af);I.jqxCheckBox({disabled:K.disabled,enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,hasThreeStates:true,theme:this.theme,checked:null});if(S.createfilterwidget){S.createfilterwidget(S,af,I)}if(f===true||f=="true"){I.jqxCheckBox({checked:true})}else{if(f===false||f=="false"){I.jqxCheckBox({checked:false})}}S._filterwidget=I;this.addHandler(I,"change",function(c){if(!K.refreshingfilter){if(c.args){K.focusedfilter=null;K._applyfilterfromfilterrow()}}})}else{ad(this,af)}break}},_getfilterdataadapter:function(a){var h=this.source._source?true:false;if(!h){dataadapter=new b.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[a.displayfield],autoSort:true,autoSortField:a.displayfield,async:false})}else{var f={localdata:this.source.records,datatype:this.source.datatype,async:false};var g=this;dataadapter=new b.jqx.dataAdapter(f,{autoBind:false,autoSort:true,autoSortField:a.displayfield,async:false,uniqueDataFields:[a.displayfield],beforeLoadComplete:function(m){var c=new Array();if(a.cellsformat){var d=g._getcolumntypebydatafield(a);for(var l=0;l<m.length;l++){c.push(m[l]);var e=m[l][a.displayfield];m[l][a.displayfield+"JQValue"]=e;if(d==="date"){m[l][a.displayfield]=dataadapter.formatDate(e,a.cellsformat,g.gridlocalization)}else{if(d==="number"||d==="float"||d==="int"){m[l][a.displayfield]=dataadapter.formatNumber(e,a.cellsformat,g.gridlocalization)}}}return c}else{return m}}})}if(a.filteritems&&a.filteritems.length>0){var f={localdata:a.filteritems,datatype:this.source.datatype,async:false};dataadapter=new b.jqx.dataAdapter(f,{autoBind:false,async:false})}else{if(a.filteritems){if(a.filteritems._source){a.filteritems._options.autoBind=false;a.filteritems._options.async=false;return a.filteritems}else{if(b.isFunction(a.filteritems)){return a.filteritems()}}}}return dataadapter},refreshfilterrow:function(){if(!this.showfilterrow){return}this.refreshingfilter=true;this._updatefilterrowui();this._updatelistfilters(true,true);var o=this.that;var a=this.columns.records.length;for(var t=0;t<a;t++){var u=this.columns.records[t];if(u.filterable){if(u.filter){var v=u.filter.getfilters();if(v.length>0){var m=v[0].value;var s=u._filterwidget;var q=u._filterwidget.parent();if(s!=null){switch(u.filtertype){case"number":q.find("input").val(m);if(this.host.jqxDropDownList){var n=u.filter.getoperatorsbyfiltertype("numericfilter");s.find(".filter").jqxDropDownList("selectIndex",n.indexOf(v[0].condition))}break;case"date":if(this.host.jqxDateTimeInput){var m=u.filter.getfilterat(0).filtervalue;if(m!=undefined){if(u.filter.getfilterat(1)){var p=u.filter.getfilterat(1).filtervalue}else{p=m}b(q.children()[0]).jqxDateTimeInput("setRange",new Date(m),new Date(p))}}else{s.val(m)}break;case"textbox":case"default":s.val(m);o["_oldWriteText"+s[0].id]=m;break;case"bool":case"boolean":if(!this.host.jqxCheckBox){s.val(m)}else{b(q.children()[0]).jqxCheckBox({checked:m})}break}}}}}}this.refreshingfilter=false},_destroyedfilters:function(){var l=this.that;var a=this.columns.records.length;for(var m=0;m<a;m++){var p=this.columns.records[m];if(p.filterable){var k=p._filterwidget;if(p.filtertype=="list"||p.filtertype=="checkedlist"){this.removeHandler(k,"select");this.removeHandler(k,"close");k.jqxDropDownList("destroy")}else{if(p.filtertype=="date"){this.removeHandler(k,"valuechanged");k.jqxDateTimeInput("destroy")}else{if(p.filtertype=="bool"){this.removeHandler(k,"change");k.jqxCheckBox("destroy")}else{if(p.filtertype=="number"){var o=k.find(".jqx-input");this.removeHandler(o,"keydown");var n=b(k.children()[1]);n.jqxDropDownList("destroy")}else{this.removeHandler(k,"keydown")}}}}k.remove()}}},_updatelistfilters:function(D,E){var a=this.that;var w=this.columns.records.length;for(var A=0;A<w;A++){var z=this.columns.records[A];if(z.filterable){if(z.filtertype=="list"||z.filtertype=="checkedlist"){var F=z._filterwidget;if(!D){if(z.filter==undefined){F.jqxDropDownList("renderSelection");continue}}else{var I=this._getfilterdataadapter(z);F.jqxDropDownList({source:I});var J=F.jqxDropDownList("getItems");var B=true;if(J.length!=I.records.length+1){B=false}if(B){for(var x=1;x<J.length;x++){if(J[x].label!=I.records[x-1][z.displayfield]){B=false;break}}}if(B&&!E){continue}}var C=z.filtertype=="checkedlist"?true:false;var J=F.jqxDropDownList("getItems");var L=F.jqxDropDownList("listBox");F.jqxDropDownList("dataBind");if(C){F.jqxDropDownList({selectionRenderer:function(){return a.gridlocalization.filterselectstring}});L.insertAt(this.gridlocalization.filterselectallstring,0);F.jqxDropDownList("setContent",this.gridlocalization.filterselectstring);L.checkAll(false);if(z.filter){var G=z.filter.getfilters();for(var x=0;x<L.items.length;x++){var H=L.items[x].label;var y=undefined;b.each(G,function(){var c;if(this.condition=="NOT_EQUAL"){if(H==this.value){c=false}else{c=true}}else{if(this.condition=="EQUAL"){if(H==this.value){c=true}else{c=false}}}if(y==undefined&&c!==undefined){y=c}else{if(this.condition=="EQUAL"){y=y||c}else{y=y&&c}}});if(y){L.checkIndex(x,false,false)}else{L.uncheckIndex(x,false,false)}}L._updateCheckedItems();var v=L.getCheckedItems().length;if(L.items.length!=v&&v>0){L.host.jqxListBox("indeterminateIndex",0,true,false)}}}else{L.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0);F.jqxDropDownList({selectedIndex:0});if(z.filter){var G=z.filter.getfilters();var K=-1;for(var x=0;x<L.items.length;x++){var H=L.items[x].label;b.each(G,function(){if(this.condition=="NOT_EQUAL"){return true}if(H==this.value){K=x;return false}})}if(K!=-1){L.selectIndex(K)}}}if(J.length<8){F.jqxDropDownList("autoDropDownHeight",true)}else{F.jqxDropDownList("autoDropDownHeight",false)}}}}},_renderfiltercolumn:function(){var a=this.that;if(this.filterable){if(!this.columns.records){return}b.each(this.columns.records,function(g,f){var h=false;if(a.autoshowfiltericon){if(this.filter){b(this.filtericon).show();h=true}else{b(this.filtericon).hide()}}else{if(this.filterable){b(this.filtericon).show();h=true}}if(this.align=="right"&&!this.renderer){if(this.element){if(!h){this.element.firstChild.firstChild.style.marginRight="2px"}else{this.element.firstChild.firstChild.style.marginRight="18px"}}}})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var a=this.source._source.datafields;if(a){for(var h=0;h<this.columns.records.length;h++){var g=this.columns.records[h];if(g.datatype){continue}var f="";b.each(a,function(){if(this.name==g.displayfield){if(this.type){f=this.type}return false}});if(f!=""){g.datatype=f}else{g.datatype=""}}}}},_getcolumntypebydatafield:function(n){var m=this.that;var o="string";var p=m.source.datafields||((m.source._source)?m.source._source.datafields:null);if(p){var k="";b.each(p,function(){if(this.name==n.displayfield){if(this.type){k=this.type}return false}});if(k){return k}}if(n!=null){if(this.dataview.cachedrecords==undefined){return o}var a=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return o}a=this.dataview.cachedrecords[0][n.displayfield];if(a!=null&&a.toString()==""){return"string"}}else{b.each(this.dataview.cachedrecords,function(){a=this[n.displayfield];return false})}if(a!=null){if(typeof a=="boolean"){o="boolean"}else{if(b.jqx.dataFormat.isNumber(a)){o="number"}else{var l=new Date(a);if(l.toString()=="NaN"||l.toString()=="Invalid Date"){if(b.jqx.dataFormat){l=b.jqx.dataFormat.tryparsedate(a);if(l!=null){if(l&&l.getFullYear()){if(l.getFullYear()==1970&&l.getMonth()==0&&l.getDate()==1){var q=new Number(a);if(!isNaN(q)){return"number"}return"string"}}return"date"}else{o="string"}}else{o="string"}}else{o="date"}}}}}return o},_getfiltersbytype:function(a){var f=this.that;var e="";switch(a){case"number":case"float":case"int":e=f.gridlocalization.filternumericcomparisonoperators;break;case"date":e=f.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":e=f.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:e=f.gridlocalization.filterstringcomparisonoperators;break}return e},_getfiltertype:function(a){var d="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":d="numericfilter";break;case"boolean":case"bool":d="booleanfilter";break;case"date":case"time":d="datefilter";break;case"string":d="stringfilter";break}return d},_buildfilter:function(af,al,R){var aq=b(al).find("#filter1"+af.element.id);var Q=b(al).find("#filter2"+af.element.id);var N=b(al).find("#filter3"+af.element.id);var am=b(al).find(".filtertext1"+af.element.id);var an=b(al).find(".filtertext2"+af.element.id);var W=am.val();var Y=an.val();var a=af._getcolumntypebydatafield(R);var ad=af._getfiltersbytype(a);var O=new b.jqx.filter();var aa=af._getfiltertype(a);if(af.filtermode==="default"){var S=aq.jqxDropDownList("selectedIndex");var au=Q.jqxDropDownList("selectedIndex");var T=N.jqxDropDownList("selectedIndex");var ar=null;var at=null;if(af.updatefilterconditions){var ah=af.updatefilterconditions(aa,O.getoperatorsbyfiltertype(aa));if(ah!=undefined){O.setoperatorsbyfiltertype(aa,ah)}}var ag=false;var M=O.getoperatorsbyfiltertype(aa)[S];var N=O.getoperatorsbyfiltertype(aa)[T];var ab=M=="NULL"||M=="NOT_NULL";var ao=M=="EMPTY"||M=="NOT_EMPTY";if(M==undefined){M=O.getoperatorsbyfiltertype(aa)[0]}if(N==undefined){N=O.getoperatorsbyfiltertype(aa)[0]}if(W.length>0||ab||ao){ar=O.createfilter(aa,W,M,null,R.cellsformat,af.gridlocalization);O.addfilter(au,ar);ag=true}var ac=N=="NULL"||N=="NOT_NULL";var ap=N=="EMPTY"||N=="NOT_EMPTY";if(Y.length>0||ac||ap){at=O.createfilter(aa,Y,N,null,R.cellsformat,af.gridlocalization);O.addfilter(au,at);ag=true}if(ag){var U=R.displayfield;this.addfilter(U,O,true)}else{this._clearfilter(af,al,R)}}else{var V=this;var aj=false;var Z=aq.data().jqxListBox.instance;var ai=Z.getCheckedItems();if(ai.length==0){for(var P=1;P<Z.items.length;P++){var ak=Z.items[P].value;var av="not_equal";var X=O.createfilter(aa,ak,av,null);O.addfilter(0,X)}aj=true}else{if(ai.length!=Z.items.length){aj=true;for(var P=0;P<ai.length;P++){if(af.gridlocalization.filterselectallstring===ai[P].value){continue}var ak=ai[P].value;var av="equal";var X=O.createfilter(aa,ak,av,null);var ae=1;O.addfilter(ae,X)}}else{aj=false}}if(aj){var U=R.displayfield;this.addfilter(U,O,true)}else{var U=R.displayfield;this.removefilter(U,true)}}},_clearfilter:function(f,h,g){var a=g.displayfield;this.removefilter(a,true)},addfilter:function(k,h,l){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}var g=this.getcolumn(k);var a=this._getcolumn(k);if(g==undefined||g==null){return}g.filter=h;a.filter=h;this.dataview.addfilter(k,h);if(l==true&&l!=undefined){this.applyfilters("add")}},removefilter:function(g,h){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}var f=this.getcolumn(g);var a=this._getcolumn(g);if(f==undefined||f==null){return}if(f.filter==null){return}this.dataview.removefilter(g,f.filter);f.filter=null;a.filter=null;if(this.showfilterrow){this.clearfilterrow(g)}if(h==true||h!==false){this.applyfilters("remove")}},applyfilters:function(k){var n=false;if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)){if(this.source!=null&&this.source.filter){var h=-1;if(this.pageable){h=this.dataview.pagenum;this.dataview.pagenum=0}else{this.vScrollInstance.setPosition(0);this.loadondemand=true;this._renderrows(this.virtualsizeinfo)}if(this.pageable&&this.virtualmode){this.dataview.pagenum=0}this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length);if(this.pageable&&!this.virtualmode){this.dataview.pagenum=h}}}if(this.dataview.clearsortdata){this.dataview.clearsortdata()}if(!this.virtualmode){var a=this.selectedrowindexes;var m=this.that;this.dataview.refresh();if(this.dataview.clearsortdata){if(this.sortcolumn&&this.sortdirection){var l=this.sortdirection.ascending?"asc":"desc";if(!this._loading){this.sortby(this.sortcolumn,l,null,false)}else{this.sortby(this.sortcolumn,l,null,false,false)}}}}else{if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0)}}this.rendergridcontent(false,false);if(this.showfilterrow){if(typeof k!="string"&&b.isEmptyObject(k)){this.refreshfilterrow()}}this._raiseEvent(13,{filters:this.dataview.filters});return}if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0);this.updatepagerdetails()}}this._updaterowsproperties();if(!this.groupable||(this.groupable&&this.groups.length==0)){this._rowdetailscache=new Array();this.virtualsizeinfo=null;this._pagescache=new Array();if(this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon){this.prerenderrequired=true}this.rendergridcontent(true,false);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}}else{this._rowdetailscache=new Array();this._render(true,true,false,false,false);if(this.showfilterrow){this._updatefocusedfilter()}this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}if(this.showfilterrow){if(typeof k!="string"&&b.isEmptyObject(k)){this.refreshfilterrow()}}this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){var e=new Array();for(var a=0;a<this.dataview.filters.length;a++){var f=this.getcolumn(this.dataview.filters[a].datafield);e[a]={filter:this.dataview.filters[a].filter,filtercolumn:f.datafield,filtercolumntext:f.text}}return e},clearfilters:function(a){var e=this.that;if(this.showfilterrow){this.clearfilterrow()}if(this.columns.records){var f=a==true||a!==false;b.each(this.columns.records,function(){e.removefilter(this.displayfield,!f)})}if(a===false){return}if(a==true||a!==false){this.applyfilters("clear")}},_destroyfilterpanel:function(){var n=b(b.find("#filterclearbutton"+this.element.id));var o=b(b.find("#filterbutton"+this.element.id));var k=b(b.find("#filter1"+this.element.id));var p=b(b.find("#filter2"+this.element.id));var l=b(b.find("#filter3"+this.element.id));var m=b(b.find(".filtertext1"+this.element.id));var a=b(b.find(".filtertext2"+this.element.id));if(m.length>0&&a.length>0){m.removeClass();a.removeClass();m.remove();a.remove()}if(n.length>0){n.jqxButton("destroy");o.jqxButton("destroy");this.removeHandler(n,"click");this.removeHandler(o,"click")}if(k.length>0){k.jqxDropDownList("destroy")}if(p.length>0){p.jqxDropDownList("destroy")}if(l.length>0){l.jqxDropDownList("destroy")}},_updatefilterpanel:function(ai,al,W){if(ai==null||ai==undefined){ai=this}var a=ai._getcolumntypebydatafield(W);var ag=ai._getfiltersbytype(a);if(!ai.host.jqxDropDownList){throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");return}var at=b(al);var P=at.find("#filterclearbutton"+ai.element.id);var ap=at.find("#filterbutton"+ai.element.id);var au=at.find("#filter1"+ai.element.id);var ao=at.find("#filter2"+ai.element.id);var c=at.find("#filter3"+ai.element.id);var aq=at.find(".filtertext1"+ai.element.id);var ar=at.find(".filtertext2"+ai.element.id);if(this._hasdatefilter){var av=aq.parent();var aw=ar.parent();av.children().remove();aw.children().remove();if(W.filtertype=="date"){ai._showwhere.text(ai.gridlocalization.filtershowrowdatestring);var ax=b("<div class='filtertext1"+ai.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");av.append(ax);var an=function(e){var d={calendar:ai.gridlocalization,todayString:ai.gridlocalization.todaystring,clearString:ai.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:ai.disabled,localization:d,rtl:ai.rtl,width:ai._filterpanelwidth-15,height:20,value:null,formatString:W.cellsformat,theme:ai.theme})};an(ax);var ax=b("<div class='filtertext2"+ai.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");aw.append(ax);an(ax)}else{ai._showwhere.text(ai.gridlocalization.filtershowrowstring);var ax=b("<input class='filtertext1"+ai.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");av.append(ax);var an=function(d){d.addClass(ai.toThemeProperty("jqx-input"));d.addClass(ai.toThemeProperty("jqx-widget-content"));d.addClass(ai.toThemeProperty("jqx-rc-all"));d.width(ai._filterpanelwidth-15)};an(ax);var ax=b("<input class='filtertext2"+ai.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");aw.append(ax);an(ax)}var aq=at.find(".filtertext1"+ai.element.id);var ar=at.find(".filtertext2"+ai.element.id)}aq.val("");ar.val("");this.removeHandler(ap,"click");this.addHandler(ap,"click",function(){ai._buildfilter(ai,al,W);ai._closemenu()});this.removeHandler(P,"click");this.addHandler(P,"click",function(){ai._clearfilter(ai,al,W);ai._closemenu()});if(this.filtermode==="default"){if(au.jqxDropDownList("source")!=ag){au.jqxDropDownList({enableBrowserBoundsDetection:false,source:ag});c.jqxDropDownList({enableBrowserBoundsDetection:false,source:ag})}if(a=="boolean"||a=="bool"){au.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0});c.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0})}else{var T=false;if(ag&&ag.length){if(ag.length<5){T=true}}au.jqxDropDownList({autoDropDownHeight:T,selectedIndex:2});c.jqxDropDownList({autoDropDownHeight:T,selectedIndex:2})}ao.jqxDropDownList({selectedIndex:0});var ab=W.filter;var Q=new b.jqx.filter();var ad="";switch(a){case"number":case"int":case"float":case"decimal":ad="numericfilter";am=Q.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":ad="booleanfilter";am=Q.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":ad="datefilter";am=Q.getoperatorsbyfiltertype("datefilter");break;case"string":ad="stringfilter";am=Q.getoperatorsbyfiltertype("stringfilter");break}if(ab!=null){var av=ab.getfilterat(0);var aw=ab.getfilterat(1);var S=ab.getoperatorat(0);if(ai.updatefilterconditions){var am=[];var aj=ai.updatefilterconditions(ad,am);if(aj!=undefined){for(var O=0;O<aj.length;O++){aj[O]=aj[O].toUpperCase()}ab.setoperatorsbyfiltertype(ad,aj);am=aj}}var ae="default";if(av!=null){var X=am.indexOf(av.comparisonoperator);var aa=av.filtervalue;aq.val(aa);au.jqxDropDownList({selectedIndex:X,animationType:ae})}if(aw!=null){var Y=am.indexOf(aw.comparisonoperator);var ac=aw.filtervalue;ar.val(ac);c.jqxDropDownList({selectedIndex:Y,animationType:ae})}if(ab.getoperatorat(0)==undefined){ao.jqxDropDownList({selectedIndex:0,animationType:ae})}else{if(ab.getoperatorat(0)=="and"||ab.getoperatorat(0)==0){ao.jqxDropDownList({selectedIndex:0})}else{ao.jqxDropDownList({selectedIndex:1})}}}if(ai.updatefilterpanel){ai.updatefilterpanel(au,c,ao,aq,ar,ap,P,ab,ad,am)}if(!this._hasdatefilter||(this._hasdatefilter&&W.filtertype!="date")){aq.focus();setTimeout(function(){aq.focus()},10)}}else{var af=ai._getfilterdataadapter(W);var ad=ai._getfiltertype(a);if(W.cellsformat){au.jqxListBox({displayMember:W.displayfield,valueMember:W.displayfield+"JQValue",source:af})}else{au.jqxListBox({displayMember:W.displayfield,valueMember:W.displayfield,source:af})}au.jqxListBox("insertAt",ai.gridlocalization.filterselectallstring,0);var V=au.data().jqxListBox.instance;V.checkAll(false);var Z=this;if(W.filter){V.uncheckAll(false);var ah=W.filter.getfilters();for(var R=0;R<V.items.length;R++){var U=V.items[R].value;b.each(ah,function(){if(this.condition=="NOT_EQUAL"){if(U!=this.value){V.uncheckIndex(R,false,false);return false}}else{if(this.condition=="EQUAL"){if(U==this.value){V.checkIndex(R,false,false);return false}}}})}V._updateCheckedItems();var ak=V.getCheckedItems().length;if(V.items.length!=ak&&ak>0){V.host.jqxListBox("indeterminateIndex",0,true,false)}if(ak===V.items.length-1){V.host.jqxListBox("checkIndex",0,true,false)}}}},_initfilterpanel:function(a,S,R,G){if(a==null||a==undefined){a=this}S[0].innerHTML="";var C=b("<div class='filter' style='margin-left: 7px;'></div>");S.append(C);var H=b("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");H.text(a.gridlocalization.filtershowrowstring);this._showwhere=H;var A=b("<div class='filter' id='filter1"+a.element.id+"'></div>");var M=b("<div class='filter' id='filter2"+a.element.id+"' style='margin-bottom: 3px;'></div>");var D=b("<div class='filter' id='filter3"+a.element.id+"'></div>");var P=a._getcolumntypebydatafield(R);if(!A.jqxDropDownList){throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");return}var F=a._getfiltersbytype(P);this._hasdatefilter=false;this._filterpanelwidth=G;if(this.columns&&this.columns.records){for(var B=0;B<this.columns.records.length;B++){if(this.columns.records[B].filtertype=="date"){this._hasdatefilter=true;break}}}var K=b("<div class='filter'><input class='filtertext1"+a.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>");var I=K.find("input");I.addClass(this.toThemeProperty("jqx-input"));I.addClass(this.toThemeProperty("jqx-widget-content"));I.addClass(this.toThemeProperty("jqx-rc-all"));I.width(G-15);var J=b("<div class='filter'><input class='filtertext2"+a.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>");var L=J.find("input");L.addClass(this.toThemeProperty("jqx-input"));L.addClass(this.toThemeProperty("jqx-widget-content"));L.addClass(this.toThemeProperty("jqx-rc-all"));L.width(G-15);if(a.rtl){I.css("direction","rtl");L.css("direction","rtl")}var N=b("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>");var O=b('<span tabIndex=0 id="filterbutton'+a.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+a.gridlocalization.filterstring+"</span>");N.append(O);var z=b('<span tabIndex=0 id="filterclearbutton'+a.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+a.gridlocalization.filterclearstring+"</span>");N.append(z);O.jqxButton({height:20,theme:a.theme});z.jqxButton({height:20,theme:a.theme});var y=function(d){if(d){if(d.text().indexOf("case sensitive")!=-1){var c=d.text();c=c.replace("case sensitive","match case");d.text(c)}d.css("font-family",a.host.css("font-family"));d.css("font-size",a.host.css("font-size"));d.css("top","1px");d.css("position","relative");return d}return""};if(this.filtermode==="default"){C.append(H);C.append(A);A.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,selectedIndex:2,width:G-15,height:20,dropDownHeight:150,dropDownWidth:G-15,selectionRenderer:y,source:F,theme:a.theme});C.append(K);var E=new Array();E[0]=a.gridlocalization.filterandconditionstring;E[1]=a.gridlocalization.filterorconditionstring;M.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,autoDropDownHeight:true,selectedIndex:0,width:60,height:20,source:E,selectionRenderer:y,theme:a.theme});C.append(M);D.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,selectedIndex:2,width:G-15,height:20,dropDownHeight:150,dropDownWidth:G-15,selectionRenderer:y,source:F,theme:a.theme});C.append(D);C.append(J)}else{C.append(H);C.append(A);A.jqxListBox({rtl:a.rtl,_checkForHiddenParent:false,checkboxes:true,selectedIndex:2,width:G-15,height:120,theme:a.theme});var Q=true;a.addHandler(A,"checkChange",function(d){if(!Q){return}if(d.args.label!=a.gridlocalization.filterselectallstring){Q=false;A.jqxListBox("checkIndex",0,true,false);var c=A.jqxListBox("getCheckedItems");var e=A.jqxListBox("getItems");if(c.length==1){A.jqxListBox("uncheckIndex",0,true,false)}else{if(e.length!=c.length){A.jqxListBox("indeterminateIndex",0,true,false)}}Q=true}else{Q=false;if(d.args.checked){A.jqxListBox("checkAll",false)}else{A.jqxListBox("uncheckAll",false)}Q=true}})}C.append(N);if(a.updatefilterpanel){a.updatefilterpanel(A,D,M,K,J,O,z,null,null,F)}}})})(jQuery);(function(b){b.jqx.jqxWidget("jqxExpander","",{});b.extend(b.jqx._jqxExpander.prototype,{defineInstance:function(){this.width="auto";this.height="auto";this.expanded=true;this.expandAnimationDuration=259;this.collapseAnimationDuration=250;this.animationType="slide";this.toggleMode="click";this.showArrow=true;this.arrowPosition="right";this.headerPosition="top";this.disabled=false;this.initContent=null;this.rtl=false;this.easing="easeInOutSine";this.aria={"aria-disabled":{name:"disabled",type:"boolean"}};this.events=["expanding","expanded","collapsing","collapsed","resize"]},createInstance:function(a){this._isTouchDevice=b.jqx.mobile.isTouchDevice();b.jqx.aria(this);this._cachedHTMLStructure=this.host.html();this.render()},expand:function(){if(this.disabled==false&&this.expanded==false&&this._expandChecker==1){var a=this;this._expandChecker=0;this._raiseEvent("0");this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal"));this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))}}switch(this.animationType){case"slide":if(this.headerPosition=="top"){this._content.slideDown(this.expandAnimationDuration,this.easing,function(){a.expanded=true;b.jqx.aria(a._header,"aria-expanded",true);b.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}else{if(this.headerPosition=="bottom"){this._content.css({display:"inherit",height:0});if(b.jqx.browser.msie&&b.jqx.browser.version<8){this._content.css("display","block")}if(this._cntntEmpty==true){this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){a.expanded=true;b.jqx.aria(a._header,"aria-expanded",true);b.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}else{this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){a.expanded=true;b.jqx.aria(a._header,"aria-expanded",true);b.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}}}break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){a.expanded=true;b.jqx.aria(a._header,"aria-expanded",true);b.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}});break;case"none":this._content.css("display","inherit");this.expanded=true;b.jqx.aria(a._header,"aria-expanded",true);b.jqx.aria(a._content,"aria-hidden",false);this._raiseEvent("1");if(this.initContent&&this._initialized==false){this.initContent();this._initialized=true}break}}},collapse:function(){if(this.disabled==false&&this.expanded==true&&this._expandChecker==0){var a=this;this._expandChecker=1;this._raiseEvent("2");this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));if(a._hovered){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))}this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));if(a._hovered){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))}}}switch(this.animationType){case"slide":if(this.headerPosition=="top"){this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){a.expanded=false;b.jqx.aria(a._header,"aria-expanded",false);b.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")})}else{if(this.headerPosition=="bottom"){this._content.animate({height:0},this.expandAnimationDuration,function(){a._content.css("display","none");a.expanded=false;b.jqx.aria(a._header,"aria-expanded",false);b.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")})}}break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){a.expanded=false;b.jqx.aria(a._header,"aria-expanded",false);b.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")});break;case"none":this._content.css("display","none");this.expanded=false;b.jqx.aria(a._header,"aria-expanded",false);b.jqx.aria(a._content,"aria-hidden",true);this._raiseEvent("3");break}}},setHeaderContent:function(a){this._header_text.html(a);this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(a){this._content.html(a);this._checkContent();this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=false;this.refresh();b.jqx.aria(this,"aria-disabled",false)},disable:function(){this.disabled=true;this.refresh();b.jqx.aria(this,"aria-disabled",true)},invalidate:function(){if(b.jqx.isHidden(this.host)){return}this._setSize()},refresh:function(a){if(a==true){return}this._removeHandlers();if(this.showArrow==true){this._arrow.css("display","inherit")}else{this._arrow.css("display","none")}this._setTheme();this._setSize();if(this.disabled==false){this._toggle()}this._keyBoard()},render:function(){this.widgetID=this.element.id;if(this._header){this._header.removeClass(this.toThemeProperty("jqx-expander-header-content"));this._header.removeClass(this.toThemeProperty("jqx-expander-header"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.removeClass(this.toThemeProperty("jqx-widget-header"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header"));this._header_text.removeClass(this.toThemeProperty("jqx-widget-header"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.attr("tabindex",null);this._content.attr("tabindex",null);this._header.css("margin-top",0);this._header[0].innerHTML=this._header_text[0].innerHTML;if(this.headerPosition=="bottom"){this._header.detach();this.host.prepend(this._header)}}this._header_temp=this.host.children("div:eq(0)");this._header_temp.wrap("<div></div>");this._header=this.host.children("div:eq(0)");this._content=this.host.children("div:eq(1)");if(this.headerPosition=="bottom"){this._header.detach();this.host.append(this._header)}this._header_text=this._header.children("div:eq(0)");var g=this._header_text[0].className;this._header.addClass(g);this._header_text.removeClass();if(!this.rtl){this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content"))}else{this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content-rtl"))}this._header.append("<div></div>");this._arrow=this._header.children("div:eq(1)");if(this.showArrow==true){this._arrow.css("display","inherit")}else{this._arrow.css("display","none")}this.tI=-1;if(this._header.attr("tabindex")==undefined){this.tI++;this._header.attr("tabindex",this.tI)}if(this._content.attr("tabindex")==undefined){this.tI++;this._content.attr("tabindex",this.tI)}this._setTheme();this._checkContent();var a="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(this._header.length==0||this._content.length==0||this.host.children().length<2||this.host.children().length>2){throw a}}catch(h){alert(h)}this._expandChecker;this._initialized;if(this.expanded==true){if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))}}if(this.initContent){this._setSize();this.initContent()}this._initialized=true;this._expandChecker=0}else{if(this.expanded==false){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))}}this._initialized=false;this._expandChecker=1;this._content.css("display","none")}}this._setSize();if(this.disabled==false){this._toggle()}this._keyBoard();var f=this;b.jqx.utilities.resize(this.host,function(){f.invalidate()})},destroy:function(){this.removeHandler(b(window),"resize.expander"+this.widgetID);this.host.remove();b(this.element).removeData("jqxExpander")},focus:function(){try{if(this.disabled==false){this._header.focus()}}catch(a){}},propertyChangedHandler:function(a,h,f,g){if(h=="expanded"){if(g==true&&f==false){this.expanded=false;this.expand()}else{if(g==false&&f==true){this.expanded=true;this.collapse()}}}else{this.refresh()}},_raiseEvent:function(h,l){var n=this.events[h];var k=new jQuery.Event(n);k.owner=this;k.args=l;try{var a=this.host.trigger(k)}catch(m){}return a},resize:function(d,a){this.width=d;this.height=a;this._setSize()},_setSize:function(){this.host.width(this.width);this.host.height(this.height);this._header.height("auto");this._header.css("min-height",this._arrow.height());var d=this.arrowPosition;if(this.rtl){switch(d){case"left":d="right";break;case"right":d="left";break}}if(d=="right"){this._header_text.css({"float":"left","margin-left":"0px"});this._arrow.css({"float":"right",position:"relative"})}else{if(d=="left"){if(this.width=="auto"){this._header_text.css({"float":"left","margin-left":"17px"});this._arrow.css({"float":"left",position:"absolute"})}else{this._header_text.css({"float":"right","margin-left":"0px"});this._arrow.css({"float":"left",position:"relative"})}}}this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2);if(this.height=="auto"){this._content.height("auto");this._contentHeight=this._content.height()}else{this._content.height("auto");var a=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1;if(a<0){a=0}if(!this._contentHeight){this._contentHeight=this._content.height()}if(a!=this._contentHeight){this._content.height(a);this._contentHeight=Math.round(this._content.outerHeight())}else{this._content.height(this._contentHeight)}}},_toggle:function(){var a=this;if(this._isTouchDevice==false){this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));switch(this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){a._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){a._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"));break}}else{if(this.toggleMode!="none"){this.addHandler(this._header,b.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){a._animate()})}else{return}}},_animate:function(){if(this.expanded==true){this.collapse();this._header.addClass(this.toThemeProperty("jqx-fill-state-hover"));this._header.addClass(this.toThemeProperty("jqx-expander-header-hover"));if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))}}}else{this.expand();this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))}}}},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID);this.removeHandler(this._header,"dblclick.expander"+this.widgetID);this.removeHandler(this._header,"mouseenter.expander"+this.widgetID);this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-widget"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));if(this.rtl==true){this.host.addClass(this.toThemeProperty("jqx-rtl"))}if(this.disabled==false){this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.expanded==true){this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))}else{this._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))}this._hovered=false;if(!a._isTouchDevice){this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){a._hovered=true;if(a._expandChecker==1){a._header.removeClass(a.toThemeProperty("jqx-fill-state-normal"));a._header.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._header.addClass(a.toThemeProperty("jqx-fill-state-hover"));a._header.addClass(a.toThemeProperty("jqx-expander-header-hover"));if(a.headerPosition=="top"){if(a.expanded){a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover"))}else{a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))}a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(a.headerPosition=="bottom"){if(a.expanded){a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))}a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover"));a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))}}}});this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){a._hovered=false;a._header.removeClass(a.toThemeProperty("jqx-fill-state-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover"));a._header.removeClass(a.toThemeProperty("jqx-expander-header-hover"));if(a.headerPosition=="top"){a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(a.headerPosition=="bottom"){a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))}}if(a._expandChecker==1){a._header.addClass(a.toThemeProperty("jqx-fill-state-normal"))}else{a._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}})}}else{this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}this.host.addClass(this.toThemeProperty("jqx-expander"));this._header.addClass(this.toThemeProperty("jqx-expander-header"));this._content.addClass(this.toThemeProperty("jqx-expander-content"));if(this.headerPosition=="top"){this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom"))}else{if(this.headerPosition=="bottom"){this._content.addClass(this.toThemeProperty("jqx-expander-content-top"))}}this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html());if(this._cntntEmpty==true){this._content.height(0);this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))}else{this._content.height(this._contentHeight);this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_keyBoard:function(){var a=this;this._focus();this.addHandler(this.host,"keydown.expander"+this.widgetID,function(f){var e=false;if((a.focusedH==true||a.focusedC==true)&&a.disabled==false){switch(f.keyCode){case 13:case 32:if(a.toggleMode!="none"){if(a.focusedH==true){a._animate()}e=true}break;case 38:if(f.ctrlKey==true&&a.focusedC==true){a._header.focus()}e=true;break;case 40:if(f.ctrlKey==true&&a.focusedH==true){a._content.focus()}e=true;break}return true}if(e&&f.preventDefault){f.preventDefault()}return !e})},_focus:function(){var a=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){a.focusedH=true;b.jqx.aria(a._header,"aria-selected",true);a._header.addClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header,"blur.expander"+this.widgetID,function(){a.focusedH=false;b.jqx.aria(a._header,"aria-selected",false);a._header.removeClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){a._header.focus()});this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){a._header.focus()});this.addHandler(this._content,"focus.expander"+this.widgetID,function(){a.focusedC=true;a._content.addClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._content,"blur.expander"+this.widgetID,function(){a.focusedC=false;a._content.removeClass(a.toThemeProperty("jqx-fill-state-focus"))})}})})(jQuery);(function(c){c.jqx.jqxWidget("jqxDataTable","",{});c.extend(c.jqx._jqxDataTable.prototype,{defineInstance:function(){this.altrows=false;this.aggregatesheight=34;this.autoshowloadelement=true;this.autorowheight=true;this.columnsheight=30;this.columns=[];this.columngroups=null;this.columnsresize=false;this.columnsreorder=false;this.dataview=null;this.disabled=false;this.editable=false;this.editSettings={saveOnPageChange:true,saveOnBlur:true,saveOnSelectionChange:true,cancelOnEsc:true,saveOnEnter:true,editSingleCell:false,editOnDoubleClick:true,editOnF2:true};this.enablehover=true;this.enablebrowserselection=false;this.filterheight=30;this.filterable=false;this.filtermode="default";this.groupsrenderer=null;this.groups=new Array();this.headerZIndex=59;this.height=null;this.handlekeyboardnavigation=null;this.indentwidth=25;this.initrowdetails=false;this.loadingerrormessage="The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.";this.localization=null;this.pagerheight=28;this.pagesize=10;this.pagesizeoptions=["5","10","20"];this.pageable=false;this.pagerposition="bottom";this.pagermode="default";this.pagerbuttonscount=5;this.pagerrenderer=null;this.ready=null;this.rendertoolbar=null;this.rowdetails=false;this.renderstatusbar=null;this.rendered=null;this.rendering=null;this.rtl=false;this.sortable=false;this.showtoolbar=false;this.showstatusbar=false;this.statusbarheight=34;this.serverProcessing=false;this.selectionmode="multiplerows";this.scrollbarsize=c.jqx.utilities.scrollBarSize;this.touchscrollbarsize=c.jqx.utilities.touchScrollBarSize;this.showaggregates=false;this.showheader=true;this.maxHeight=999999;this.maxWidth=999999;this.autobind=true;this.autokoupdates=true;this.exportSettings={columnsHeader:true,hiddenColumns:false,serverURL:null,characterSet:null,collapsedRecords:false,recordsInView:true,fileName:"jqxDataTable"};this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null};this.toolbarheight=34;this.tableZIndex=69;this._updating=false;this.touchmode="auto";this.width=null;this.that=this;this.incrementalSearch=true;this.events=["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]},createInstance:function(R){if(c.jqx.utilities.scrollBarSize!=15){this.scrollbarsize=c.jqx.utilities.scrollBarSize}if(this.element.nodeName.toLowerCase()=="table"){var K=this.host.find("tbody tr");var S=this.host.find("th");var B=new Array();if(S.length===0){S=K[0];K.splice(0,1)}if(this.localizestrings){this.localizestrings();if(this.localization!=null){this.localizestrings(this.localization,false)}}var a=[];for(var D=0;D<K.length;D++){var N=K[D];var O={};for(var E=0;E<S.length;E++){var P=c.trim(c(S[E]).text());if(D===0){var F={name:P};if(this.columns[E]&&this.columns[E].cellsFormat){var C=this.columns[E].cellsFormat.toLowerCase();if(C.indexOf("p")!=-1||C.indexOf("c")!=-1||C.indexOf("n")!=-1||C.indexOf("f")!=-1){F.type="number"}if(C.indexOf("d")!=-1||C.indexOf("m")!=-1||C.indexOf("y")!=-1||C.indexOf("h")!=-1||C.indexOf("m")!=-1||C.indexOf("s")!=-1||C.indexOf("t")!=-1){F.type="date"}}B.push(F)}var T=c(N).find("td:eq("+E+")");var Q=B[E].type;if(Q){var I=this.getvaluebytype(c.trim(T.text()),B[E]);O[P]=I}else{O[P]=c.trim(T.text())}}a[a.length]=O}this.host.wrap("<div></div>");var L=this.host.parent();var H=this.host.data();H.jqxDataTable.host=L;H.jqxDataTable.element=L[0];this.host.parent()[0].id=this.element.id;try{this.host.parent()[0].style=this.element.style}catch(G){}this.element=L[0];this.host=L;this.host.data(H);if(this.source==null||this.source._source==null){var J={dataFields:B,localdata:a,datatype:"array"};var b=new c.jqx.dataAdapter(J);this.source=b}}if(this.source&&!this.source.dataBind){this.source=new c.jqx.dataAdapter(this.source)}var A=this.source._source.datafields;if(A&&A.length>0){this._camelCase=this.source._source.dataFields!==undefined;this.selectionmode=this.selectionmode.toLowerCase()}if(this.host.attr("tabindex")==null){this.host.attr("tabindex","0")}this.host.attr("role","grid");this.host.attr("align","left");this.host.addClass(this.toTP("jqx-grid"));this.host.addClass(this.toTP("jqx-reset"));this.host.addClass(this.toTP("jqx-rc-all"));this.host.addClass(this.toTP("jqx-widget"));this.host.addClass(this.toTP("jqx-widget-content"));if(this._testmodules()){return}this.render(true);var M=this;c.jqx.utilities.resize(this.host,function(){var e=c(window).width();var g=c(window).height();var f=M.host.width();var h=M.host.height();if(M._lastHostWidth!=f||M._lastHostHeight!=h){M._updatesize(M._lastHostWidth!=f,M._lastHostHeight!=h)}M._lastWidth=e;M._lastHeight=g;M._lastHostWidth=f;M._lastHostHeight=h})},getvaluebytype:function(a,m){var k=a;if(a==null){return a}if(this.gridlocalization.decimalseparator==","){if(a.indexOf(this.gridlocalization.decimalseparator)>=0){a=a.replace(this.gridlocalization.decimalseparator,".")}}if(a.indexOf(this.gridlocalization.currencysymbol)>=0){a=a.replace(this.gridlocalization.currencysymbol,"")}if(a.indexOf(this.gridlocalization.percentagesymbol)>=0){a=a.replace(this.gridlocalization.percentagesymbol,"")}if(c.isArray(a)&&m.type!="array"){for(var l=0;l<a.length;l++){a[l]=this.getvaluebytype(a[l],m)}return a}if(m.type=="date"){if(a=="NaN"){a=""}else{var b=new Date(a);if(typeof a=="string"){if(m.format){var n=c.jqx.dataFormat.parsedate(a,m.format);if(n!=null){b=n}}}if(b.toString()=="NaN"||b.toString()=="Invalid Date"){if(c.jqx.dataFormat){a=c.jqx.dataFormat.tryparsedate(a)}else{a=b}}else{a=b}if(a==null){a=k}}}else{if(m.type=="float"||m.type=="number"||m.type=="decimal"){if(a=="NaN"){a=""}else{var a=parseFloat(a);if(isNaN(a)){a=k}}}else{if(m.type=="int"||m.type=="integer"){var a=parseInt(a);if(isNaN(a)){a=k}}else{if(m.type=="bool"||m.type=="boolean"){if(a!=null){if(a.toLowerCase!=undefined){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}}if(a==1){a=true}else{if(a==0&&a!==""){a=false}else{a=""}}}}}}return a},_builddataloadelement:function(){if(this.dataloadelement){this.dataloadelement.remove()}this.dataloadelement=c('<div style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var b=c('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");b.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));b.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(b);this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement);if(this.source._source.url!=""){var f=false;if(this.height==="auto"||this.height===null||this.autoheight){if(this.maxHeight==999999){f=true}}if(f){this.host.height(100);this.dataloadelement.height(100)}else{this.host.height(this.height);this.dataloadelement.height(this.height)}var a=false;if(this.width==="auto"||this.width===null||this.autoWidth){a=true}if(a){this.host.width(300);this.dataloadelement.width(300)}else{this.host.width(this.width);this.dataloadelement.width(this.width)}}},_measureElement:function(a){var b=c("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");b.addClass(this.toTP("jqx-widget"));c(document.body).append(b);if(a=="cell"){this._cellheight=b.height()}else{this._columnheight=b.height()}b.remove()},_testmodules:function(){var a="";var h=this;var l=function(){if(a.length!=""){a+=","}};if(!this.host.jqxScrollBar){l();a+=" jqxscrollbar.js"}if(!this.host.jqxButton){l();a+=" jqxbuttons.js"}if(!c.jqx.dataAdapter){l();a+=" jqxdata.js"}if(a!=""||this.editable||this.filterable||this.pageable){var k=[];var b=function(e){switch(e){case"checkbox":if(!h.host.jqxCheckBox&&!k.checkbox){k.checkbox=true;l();a+=" jqxcheckbox.js"}break;case"dropdownlist":if(!h.host.jqxDropDownList&&!k.dropdownlist){l();k.dropdownlist=true;a+=" jqxdropdownlist.js(requires: jqxlistbox.js)"}else{if(!h.host.jqxListBox&&!k.listbox){l();k.listbox=true;a+=" jqxlistbox.js"}}break}};if((this.filterable&&this.filtermode!="simple")||(this.pagermode=="advanced"&&this.pageable)){b("dropdownlist")}if(a!=""){throw new Error("jqxDataTable: Missing references to the following module(s): "+a);this.host.remove();return true}}return false},focus:function(){try{this.wrapper.focus();var a=this;setTimeout(function(){a.wrapper.focus()},10);this.focused=true}catch(b){}},hiddenParent:function(){return c.jqx.isHidden(this.host)},_updatesize:function(a,b){if(this._loading){return}var l=this;var k=l.host.width();var m=l.host.height();if(!l._oldWidth){l._oldWidth=k}if(!l._oldHeight){l._oldHeight=m}if(l._resizeTimer!=undefined){clearTimeout(l._resizeTimer);l._resizeTimer=null}var n=c.jqx.browser.msie?30:30;l._resizeTimer=setTimeout(function(){clearTimeout(l._resizeTimer);l.resizingGrid=true;if(c.jqx.isHidden(l.host)){return}l._updatecolumnwidths();l.refresh();l._oldWidth=k;l._oldHeight=m;l.resizingGrid=false},n)},resize:function(a,b){if(a!=undefined){this.width=a}if(b!=undefined){this.height=b}this._updatecolumnwidths();this.refresh()},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var a=c.jqx.mobile.isTouchDevice();this.touchDevice=a;if(this.touchmode==true){a=true;c.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else{if(this.touchmode==false){a=false}}if(a){this.touchDevice=true;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"));this.scrollbarsize=this.touchscrollbarsize}return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(f,b){this._cellscache=new Array();if(c.jqx.dataFormat){c.jqx.dataFormat.cleardatescache()}if(this._loading){throw new Error("jqxDataTable: "+this.loadingerrormessage);return false}if(f!=null){for(var a in f){if(a.toLowerCase()!==a){f[a.toLowerCase()]=f[a]}}if(f.pagergotopagestring){this.gridlocalization.pagergotopagestring=f.pagergotopagestring}if(f.pagershowrowsstring){this.gridlocalization.pagershowrowsstring=f.pagershowrowsstring}if(f.pagerrangestring){this.gridlocalization.pagerrangestring=f.pagerrangestring}if(f.pagernextbuttonstring){this.gridlocalization.pagernextbuttonstring=f.pagernextbuttonstring}if(f.pagerpreviousbuttonstring){this.gridlocalization.pagerpreviousbuttonstring=f.pagerpreviousbuttonstring}if(f.pagerfirstbuttonstring){this.gridlocalization.pagerfirstbuttonstring=f.pagerfirstbuttonstring}if(f.pagerlastbuttonstring){this.gridlocalization.pagerlastbuttonstring=f.pagerlastbuttonstring}if(f.toppagerstring){this.gridlocalization.toppagerstring=f.toppagerstring}if(f.firstDay){this.gridlocalization.firstDay=f.firstDay}if(f.days){this.gridlocalization.days=f.days}if(f.months){this.gridlocalization.months=f.months}if(f.AM){this.gridlocalization.AM=f.AM}if(f.PM){this.gridlocalization.PM=f.PM}if(f.patterns){this.gridlocalization.patterns=f.patterns}if(f.percentsymbol){this.gridlocalization.percentsymbol=f.percentsymbol}if(f.currencysymbol){this.gridlocalization.currencysymbol=f.currencysymbol}if(f.currencysymbolposition){this.gridlocalization.currencysymbolposition=f.currencysymbolposition}if(f.decimalseparator){this.gridlocalization.decimalseparator=f.decimalseparator}if(f.thousandsseparator){this.gridlocalization.thousandsseparator=f.thousandsseparator}if(f.filterapplystring){this.gridlocalization.filterapplystring=f.filterapplystring}if(f.filteraddnew){this.gridlocalization.filteraddnew=f.filteraddnew}if(f.filtercancelstring){this.gridlocalization.filtercancelstring=f.filtercancelstring}if(f.filterclearstring){this.gridlocalization.filterclearstring=f.filterclearstring}if(f.filterstring){this.gridlocalization.filterstring=f.filterstring}if(f.filterstringcomparisonoperators){this.gridlocalization.filterstringcomparisonoperators=f.filterstringcomparisonoperators}if(f.filternumericcomparisonoperators){this.gridlocalization.filternumericcomparisonoperators=f.filternumericcomparisonoperators}if(f.filterdatecomparisonoperators){this.gridlocalization.filterdatecomparisonoperators=f.filterdatecomparisonoperators}if(f.filterbooleancomparisonoperators){this.gridlocalization.filterbooleancomparisonoperators=f.filterbooleancomparisonoperators}if(f.emptydatastring){this.gridlocalization.emptydatastring=f.emptydatastring}if(f.filterselectstring){this.gridlocalization.filterselectstring=f.filterselectstring}if(f.todaystring){this.gridlocalization.todaystring=f.todaystring}if(f.clearstring){this.gridlocalization.clearstring=f.clearstring}if(f.validationstring){this.gridlocalization.validationstring=f.validationstring}if(f.loadtext){this.gridlocalization.loadtext=f.loadtext}if(f.filtersearchstring){this.gridlocalization.filtersearchstring=f.filtersearchstring}if(f.loadingerrormessage){this.gridlocalization.loadingerrormessage=f.loadingerrormessage;this.loadingerrormessage=f.loadingerrormessage}if(b!==false){this._builddataloadelement();c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingerrormessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}}},_updateScrollbars:function(u){var q=false;if(this.width==="auto"||this.width===null||this.autowidth){if(this.maxWidth==999999){q=true}}var B=parseInt(this.scrollbarsize);var w=this.table?this.table.height():0;var t=0;var A="inherit";var x=this.vScrollBar[0].style.visibility;var v=this.hScrollBar[0].style.visibility;if(!u){var y=this.host.height()}else{var y=u}if(!this.columngroups){y-=this.showheader?this.columnsheight:0}else{y-=this.showheader?this.columnsheader.height():0}if(this.filterable){y-=this.filter.height()}if(this.pageable){y-=this.pagerheight;if(this.pagerposition==="both"){y-=this.pagerheight}}if(this.showtoolbar){y-=this.toolbarheight}if(this.showstatusbar){y-=this.statusbarheight}if(this.showaggregates){y-=this.aggregatesheight}var b=false;if(this.height==="auto"||this.height===null||this.autoheight){if(this.maxHeight==999999){b=true}}if(!b&&w>y&&(this.source.records.length>0||this.source.hierarchy.length>0)){this.vScrollBar[0].style.visibility=A;t=4+parseInt(B);this.vScrollBar.jqxScrollBar({max:w-y})}else{this.vScrollBar[0].style.visibility="hidden"}if((x!=this.vScrollBar[0].style.visibility)){this._updatecolumnwidths()}var s=this.table?this.table.width():0;if(s>3){s-=3}var C=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width"));var a=C+this.host.width()-t;if(s>a&&!q){this.hScrollBar[0].style.visibility=A;this.hScrollBar.jqxScrollBar({max:s-a});t=4+parseInt(B);if(!b){if(w>y-t+4&&(this.source.records.length>0||this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:C+s-a});var z=this.vScrollBar[0].style.visibility==="hidden";this.vScrollBar[0].style.visibility=A;this._updatecolumnwidths();if(z){this.hScrollBar.jqxScrollBar({max:s-a+t+C})}}this.vScrollBar.jqxScrollBar({max:w-y+t})}}else{this.hScrollBar[0].style.visibility="hidden"}if(this.source.records.length===0&&(this.source.hierarchy&&this.source.hierarchy.length===0)){this.vScrollBar[0].style.visibility="hidden";this.bottomRight[0].style.visibility="hidden"}if(this.vScrollBar[0].style.visibility=="hidden"){if(this.vScrollInstance.value!=0){this.vScrollInstance.setPosition(0)}}},_measureElementWidth:function(a){var b=c("<span style='visibility: hidden; white-space: nowrap;'>"+a+"</span>");b.addClass(this.toTP("jqx-widget"));b.addClass(this.toTP("jqx-grid"));b.addClass(this.toTP("jqx-grid-column-header"));b.addClass(this.toTP("jqx-widget-header"));c(document.body).append(b);var f=b.outerWidth()+20;b.remove();return f},_arrangeAutoHeight:function(l){if(!l){l=0}if(this.height==="auto"||this.height===null||this.autoheight){var a=this.table.height();var b=0;if(!this.columngroups){b+=this.showheader?this.columnsheight:-1}else{b+=this.showheader?this.columnsheader.height():-1}b+=this.showstatusbar?this.statusbarheight:0;b+=this.showaggregates?this.aggregatesheight:0;b+=this.showtoolbar?this.toolbarheight:0;b+=this.pageable?this.pagerheight:0;if(this.pagerposition==="both"){b+=this.pageable?this.pagerheight:0}b+=a;if(this.filterable){var k=this.filter.find(".filterrow");var n=this.filter.find(".filterrow-hidden");var m=1;if(n.length>0){m=0}b+=this.filterheight-1+this.filterheight*k.length*m}if(b+l>this.maxHeight){this.host.height(this.maxHeight)}else{this.host.height(b+l)}return true}return false},_arrangeAutoWidth:function(b){if(!b){b=0}if(this.width==="auto"||this.width===null||this.autowidth){var g=0;for(var a=0;a<this.columns.records.length;a++){var h=this.columns.records[a].width;if(this.columns.records[a].hidden){continue}if(h=="auto"){h=this._measureElementWidth(this.columns.records[a].text);g+=h}else{g+=h}}width=g;if(width+b>this.maxWidth){this.host.width(this.maxWidth)}else{this.host.width(width+b)}return true}return false},_measureTopAndHeight:function(){var m=this.host.height();var a=0;if(this.showtoolbar){a+=this.toolbarheight;m-=parseInt(this.toolbarheight)}if(this.filterable){var b=this.filter.find(".filterrow");var l=this.filter.find(".filterrow-hidden");var k=1;if(l.length>0){k=0}a+=this.filterheight;m-=parseInt(this.filterheight);var n=k==1?b.length:0;a+=this.filterheight*n;m-=this.filterheight*n}if(this.pageable&&this.pagerposition!="bottom"){a+=parseInt(this.pagerheight)+1;if(m>this.pagerheight&&this.pagerposition==="both"){m-=parseInt(this.pagerheight)}}return{top:a,height:m}},_arrange:function(){if(!this.table){return}this._arrangeAutoHeight();this._arrangeAutoWidth();var D=this.host.width();var H=this.host.height();var R=H;var S=this;if(this.pageable){if(this.pagerposition==="bottom"){this.toppager[0].style.visibility="hidden";this.pager[0].style.visibility="inherit"}else{if(this.pagerposition==="both"){this.toppager[0].style.visibility="inherit";this.pager[0].style.visibility="inherit"}else{if(this.pagerposition==="top"){this.toppager[0].style.visibility="inherit";this.pager[0].style.visibility="hidden"}}}}else{this.toppager[0].style.visibility="hidden";this.pager[0].style.visibility="hidden"}var I=0;if(this.showtoolbar){this.toolbar.width(D);this.toolbar.height(this.toolbarheight-1);this.toolbar.css("top",0);I+=this.toolbarheight;H-=parseInt(this.toolbarheight)}else{this.toolbar[0].style.height="0px"}if(this.filterable){this.filter.width(D);this.filter.css("top",I);var F=this.filter.find(".filterrow");var U=this.filter.find(".filterrow-hidden");var M=1;if(U.length>0){M=0}this.filter.height(this.filterheight-1+this.filterheight*F.length*M);I+=this.filterheight;H-=parseInt(this.filterheight);var b=M==1?F.length:0;I+=this.filterheight*b;H-=this.filterheight*b}if(this.showstatusbar){this.statusbar.width(!this.table?D:Math.max(D,this.table.width()));this.statusbar.height(this.statusbarheight-1)}else{this.statusbar[0].style.height="0px"}if(this.showaggregates){this.aggregates.height(this.aggregatesheight-1)}else{this.aggregates[0].style.height="0px"}if(this.pageable&&this.pagerposition!="bottom"){this.toppager[0].style.width=D+"px";this.toppager[0].style.height=parseInt(this.pagerheight)+"px";this.toppager[0].style.top=parseInt(I)+"px";I+=parseInt(this.pagerheight)+1;if(H>this.pagerheight){H-=parseInt(this.pagerheight)}}else{if(this.toppager[0].style.width!=D+"px"){this.toppager[0].style.width=parseInt(D)+"px"}if(this.toppager[0].style.height!=this.pagerheight+"px"){this.toppager[0].style.height=parseInt(this.pagerheight)+"px"}if(this.toppager[0].style.top!=I+"px"){this.toppager[0].style.top=I+"px"}var T=this.pagerposition!="bottom"?this.pagerheight:0;var Y=I+T+"px";if(this.content[0].style.top!=Y){this.content[0].style.top=I+this.pagerheight+"px"}}this._updateScrollbars(R);var Z=parseInt(this.scrollbarsize);var N=4;var X=2;var W=0;if(this.vScrollBar[0].style.visibility!="hidden"){W=Z+N}if(this.hScrollBar[0].style.visibility!="hidden"){X=Z+N+2}if(this.showaggregates){if(this.hScrollBar[0].style.visibility==="hidden"){this.aggregates.width(!this.table?D:Math.max(D,this.table.width())+4)}else{this.aggregates.width("auto")}}if("hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var C=this._arrangeAutoHeight(X-2);var G=this._arrangeAutoWidth(W+1);if(C||G){var D=this.host.width();this.toppager[0].style.width=parseInt(D)+"px";this.toolbar[0].style.width=parseInt(D)+"px";this.statusbar[0].style.width=parseInt(D)+"px";this.filter[0].style.width=parseInt(D)+"px"}if(C){var K=this._measureTopAndHeight();I=K.top;H=K.height}}var O=0;if(this.pageable){O=this.pagerheight;if(this.pagerposition!="top"){X+=this.pagerheight}}if(this.showaggregates){X+=this.aggregatesheight;O+=this.aggregatesheight}if(this.showstatusbar){X+=this.statusbarheight;O+=this.statusbarheight}if(this.hScrollBar[0].style.height!=Z+"px"){this.hScrollBar[0].style.height=parseInt(Z)+"px"}if(this.hScrollBar[0].style.top!=I+H-N-Z-O+"px"||this.hScrollBar[0].style.left!="0px"){this.hScrollBar[0].style.top=I+H-N-Z-O-1+"px";this.hScrollBar[0].style.left="0px"}var P=this.hScrollBar[0].style.width;var V=false;var a=false;if(W==0){if(P!=(D-2)+"px"){this.hScrollBar[0].style.width=(D-2)+"px";V=true}}else{if(P!=(D-Z-N)+"px"){this.hScrollBar[0].style.width=(D-Z-N+"px");V=true}}if(this.vScrollBar[0].style.width!=Z+"px"){this.vScrollBar[0].style.width=Z+"px";a=true}if(this.vScrollBar[0].style.height!=parseInt(H)-X+"px"){this.vScrollBar[0].style.height=(parseInt(H)-X+"px");a=true}if(this.vScrollBar[0].style.left!=parseInt(D)-parseInt(Z)-N+"px"||this.vScrollBar[0].style.top!=I+"px"){this.vScrollBar[0].style.top=I+"px";this.vScrollBar[0].style.left=parseInt(D)-parseInt(Z)-N+"px"}if(this.rtl){this.vScrollBar.css({left:"0px",top:I});if(this.vScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({left:Z+2})}}var Q=this.vScrollInstance;Q.disabled=this.disabled;var E=this.hScrollInstance;E.disabled=this.disabled;if(V){E.refresh()}if(a){Q.refresh()}var L=function(e){if((e.vScrollBar[0].style.visibility!="hidden")&&(e.hScrollBar[0].style.visibility!="hidden")){e.bottomRight[0].style.visibility="inherit";e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px";e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px";if(e.rtl){e.bottomRight.css("left","0px")}e.bottomRight[0].style.width=parseInt(Z)+3+"px";e.bottomRight[0].style.height=parseInt(Z)+4+"px";if(e.showaggregates){e.bottomRight.css("z-index",99);e.bottomRight.height(parseInt(Z)+4+e.aggregatesheight);e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesheight})}}else{e.bottomRight[0].style.visibility="hidden"}};L(this);if(this.content[0].style.width!=D-W+"px"){this.content[0].style.width=D-W+"px"}if(this.content[0].style.height!=H-X+3+"px"){this.content[0].style.height=H-X+3+"px"}if(this.content[0].style.top!=I+"px"){this.content[0].style.top=parseInt(I)+"px"}if(this.rtl){this.content.css("left",W);if(this.table){var J=this.table.width();if(J<D-W){this.content.css("left",D-J+2)}}}if(this.showaggregates){this.aggregates.css("top",I+H-this.aggregatesheight-(this.pageable?this.pagerheight:0)-(this.showstatusbar?(this.statusbarheight+1):0));if(this.rtl){this.aggregates.css("left","0px")}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({top:I+H-N-Z-O+this.aggregatesheight+"px"});this.aggregates.css("top",1+I+H-Z-5-this.aggregatesheight-(this.pageable?this.pagerheight:0)-(this.showstatusbar?(this.statusbarheight+1):0))}L(this)}if(this.showstatusbar){this.statusbar.css("top",I+H-this.statusbarheight-(this.pageable?this.pagerheight:0));if(this.rtl){if(this.hScrollBar.css("visibility")=="hidden"){this.statusbar.css("left",this.content.css("left"))}else{this.statusbar.css("left","0px")}}}if(this.pageable){this.pager[0].style.width=D+"px";this.pager[0].style.height=this.pagerheight+"px";this.pager[0].style.top=parseInt(I)+parseInt(H)-parseInt(this.pagerheight)-1+"px"}else{this.pager[0].style.height="0px"}this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;if(D!=parseInt(this.dataloadelement[0].style.width)){this.dataloadelement[0].style.width=this.element.style.width}if(H!=parseInt(this.dataloadelement[0].style.height)){this.dataloadelement[0].style.height=this.element.style.height}this._hostwidth=D},scrolloffset:function(a,b){if(arguments.length==0||(a!=null&&typeof(a)=="object"&&!a.top)){return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")}}if(a!=null&&typeof(a)=="object"){var b=a.left;var f=a.top;var a=f}if(a==null||b==null||a==undefined||b==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",a);this.hScrollBar.jqxScrollBar("setPosition",b)},scrollleft:function(a){if(a==null||a==undefined){return}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.jqxScrollBar("setPosition",a)}},scrolltop:function(a){if(a==null||a==undefined){return}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar("setPosition",a)}},beginupdate:function(){this._updating=true;this._datachanged=false},endupdate:function(a){this._updating=false;if(a===false){return}this._rendercolumnheaders();this.refresh()},updating:function(){return this._updating},databind:function(k,a,o){if(this.loadingstate===true){return}if(this.host.css("display")=="block"){if(this.autoshowloadelement){c(this.dataloadelement).css("visibility","visible");c(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height())}else{c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}var l=this;if(k==null){k={}}if(k.sortcomparer==undefined||k.sortcomparer==null){k.sortcomparer=null}if(k.filter==undefined||k.filter==null){k.filter=null}if(k.sort==undefined||k.sort==null){k.sort=null}if(k.data==undefined||k.data==null){k.data=null}var n=null;if(k!=null){n=k._source!=undefined?k._source.url:k.url}this.dataview=this.dataview||new c.jqx.dataView();this.dataview.pageable=this.pageable;this.dataview.grid=this;if(!l.initializedcall){if(k._source){if(this.sortable){if(k._source.sortcolumn!=undefined){this.sortcolumn=k._source.sortcolumn;this.source.sortcolumn=this.sortcolumn;this.dataview.sortfield=k._source.sortcolumn;k._source.sortcolumn=null}if(k._source.sortdirection!=undefined){this.dataview.sortfielddirection=k._source.sortdirection;var b=k._source.sortdirection;if(b=="a"||b=="asc"||b=="ascending"||b==true){var m=true}else{var m=false}if(b!=null){this.sortdirection={ascending:m,descending:!m}}else{this.sortdirection={ascending:false,descending:false}}}}}if(this.pageable){if(k._source){if(k._source.pagenum!=undefined){this.dataview.pagenum=k._source.pagenum}if(k._source.pagesize!=undefined){this.pagesize=k._source.pagesize;this.dataview.pagesize=k._source.pagesize}else{this.dataview.pagesize=k._source.pagesize;if(this.dataview.pagesize==undefined){this.dataview.pagesize=this.pagesize}}}}if(this.sortable){if(k.sortcolumn){this.dataview.sortfield=k.sortcolumn}if(k.sortdirection){this.dataview.sortfielddirection=k.sortdirection}}}this._loading=true;this.dataview.update=function(E){l._loading=false;l.rowsByKey=new Array();var A=l.source._source.datafields;if(l.groups&&l.groups.length>0){var J=Object.prototype.toString;var H=l.groups[0];Object.prototype.toString=(typeof H=="function")?H:function(){return this[H]};if(!l.source.records.sort){var I=new Array();var e=0;c.each(data,function(){I[startindex+e++]=this});data=I}l.source.records.sort(function(s,q){if(s===undefined){s=null}if(q===undefined){q=null}if(s===null&&q===null){return 0}if(s===null&&q!==null){return -1}if(s!==null&&q===null){return 1}s=s.toString();q=q.toString();if(c.jqx.dataFormat.isNumber(s)&&c.jqx.dataFormat.isNumber(q)){if(s<q){return -1}if(s>q){return 1}return 0}else{if(c.jqx.dataFormat.isDate(s)&&c.jqx.dataFormat.isDate(q)){if(s<q){return -1}if(s>q){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(s)&&!c.jqx.dataFormat.isNumber(q)){s=String(s).toLowerCase();q=String(q).toLowerCase()}}}try{if(s<q){return -1}if(s>q){return 1}}catch(p){var t=p}return 0});Object.prototype.toString=J}for(var f=0;f<l.source.records.length;f++){var D=l.source.records[f];l.rowsByKey[D.uid]=D;if(D.records&&D.records.length>0){var B=function(q){for(var p=0;p<q.length;p++){if(!q[p]){continue}l.rowsByKey[q[p].uid]=q[p];if(q[p].records&&q[p].records.length>0){B(q[p].records)}}};B(D.records)}if(f===0){var C=false;if(A){for(var h=0;h<A.length;h++){if(!A[h].type){C=true;A[h].type="string";var F=D[A[h].name];if(F==undefined){continue}if(F===true||F===false){A[h].type="boolean"}if(F!=null&&F.toString().indexOf(l.gridlocalization.currencysymbol)>-1||F.toString().indexOf(l.gridlocalization.percentsymbol)>-1){F=new Number(l._toNumber(F.toString()));if(!isNaN(F)){A[h].type="number"}}if(c.jqx.dataFormat.isNumber(F)||(!isNaN(parseFloat(F))&&isFinite(F))){A[h].type="number"}if(c.jqx.dataFormat.isDate(F)){A[h].type="date"}}}}if(C){for(var h=0;h<A.length;h++){var G=l.source.getvaluebytype(D[A[h].name],A[h]);if(G!=null&&A[h].type=="number"){var g=G;g=new Number(l._toNumber(g.toString()));if(!isNaN(g)){G=g}}D[A[h].name]=G}}}}if(a==="pager"||a==="filter"||a==="sort"){l.refresh()}else{l._render()}if(l.autoshowloadelement&&!l._loading){c(l.dataloadelement).css("visibility","hidden");c(l.dataloadelement).css("display","none")}if(l.pageable){if(!l.disabled){if(l.pagernexttop){l.pagerfirsttop.jqxButton({disabled:false});l.pagerfirstbottom.jqxButton({disabled:false});l.pagerlasttop.jqxButton({disabled:false});l.pagerlastbottom.jqxButton({disabled:false});l.pagernexttop.jqxButton({disabled:false});l.pagerprevioustop.jqxButton({disabled:false});if(l.pagershowrowscombotop.jqxDropDownList){if(l.pagermode=="advanced"){l.pagershowrowscombotop.jqxDropDownList({disabled:false});l.pagershowrowscombobottom.jqxDropDownList({disabled:false})}}l.pagernextbottom.jqxButton({disabled:false});l.pagerpreviousbottom.jqxButton({disabled:false})}}}l._updateTouchScrolling();l._raiseEvent("bindingComplete");if(o){o()}if(!l.initializedcall){l.initializedcall=true;l.isInitialized=true;if(l.ready){l.ready()}if((l.width!=null&&l.width.toString().indexOf("%")!=-1)||(l.height!=null&&l.height.toString().indexOf("%")!=-1)){l._updatesize(true)}if(l.host.css("visibility")=="hidden"){var z=c.jqx.browser.msie&&c.jqx.browser.version<8;if(l.vScrollBar.css("visibility")=="visible"){l.vScrollBar.css("visibility","inherit")}if(l.hScrollBar.css("visibility")=="visible"){l.hScrollBar.css("visibility","inherit")}l._intervalTimer=setInterval(function(){if(l.host.css("visibility")=="visible"){l._updatesize(true);clearInterval(l._intervalTimer)}},100)}}};this.dataview.databind(k)},_raiseEvent:function(a,k){if(k==undefined){k={owner:null}}var h=a;args=k;args.owner=this;var b=new jQuery.Event(h);b.owner=this;b.args=args;var l=this.host.trigger(b);k=b.args;return l},ensurecolumnvisible:function(m){var b=0;var n=0;for(var k=0;k<this.columns.records.length;k++){if(this.columns.records[k].datafield!=m){b+=this.columns.records[k].width}else{b+=this.columns.records[k].width;n=this.columns.records[k].width;break}}if(this.hScrollBar.css("visibility")!="hidden"){var a=this.hScrollBar.jqxScrollBar("value");var l=a+this.host.width();if(a>b-n){this.hScrollBar.jqxScrollBar("setPosition",b-n)}else{if(b>l){this.hScrollBar.jqxScrollBar("setPosition",a+b-l)}}}},ensurerowvisiblebykey:function(b){if(this.vScrollBar[0].style.visibility==="hidden"){return false}var a=this._getuirow(b);if(!a){return}var s=this.vScrollBar.jqxScrollBar("value");var A=this.host.height();var y=0;if(!this.columngroups){y+=this.showheader?this.columnsheight:0}else{y+=this.showheader?this.columnsheader.height():0}if(this.filterable){y+=this.filter.height()}if(this.pageable){if(this.pagerposition==="top"){y+=this.pagerheight}}if(this.showtoolbar){y+=this.toolbarheight}A-=y;if(this.pageable&&this.pagerposition!=="top"){A-=this.pagerheight}if(this.showstatusbar){A-=this.statusbarheightt}if(this.showaggregates){A-=this.aggregatesheight}if(this.hScrollBar.css("visibility")!="hidden"){A-=20}var q=this.host.coord().top+y;var z=s;var C=A+z;var w=a.coord().top+s-q;w=Math.round(w);var t=w+a.outerHeight();t=Math.round(t);if(Math.round(a.position().top)===0){return this.vScrollBar.jqxScrollBar("setPosition",0)}else{var v=c(this._table.children()[1]).children().length-1;var B=this._getuikey(v);var u=this._getuirow(B);if(u){if(u[0]===a[0]){return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"))}}}if(w<z){var x=w-a.height();if(x<0){x=0}return this.vScrollBar.jqxScrollBar("setPosition",x)}if(t>C){return this.vScrollBar.jqxScrollBar("setPosition",4+t-A)}},ensurerowvisible:function(b){var a=this._getkey(b);this.ensurerowvisiblebykey(a)},getcolumn:function(b){var a=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b){a=this;return false}})}return a},_setcolumnproperty:function(m,k,b){if(m==null||k==null||b==null){return null}k=k.toLowerCase();var l=this.getcolumn(m);if(l==null){return}var a=l[k];l[k]=b;var n=this.getcolumn(m);if(n!=null){n[k]=b}switch(k){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":if(k=="align"){this._rendercolumnheaders();this.refresh()}else{if(k=="hidden"||k=="pinned"||k=="resizable"||k=="renderer"){this._rendercolumnheaders();this.refresh()}else{if(k=="width"||k=="maxwidth"||k=="minwidth"){l._width=null;l._percentagewidth=null;this._updatecolumnwidths();this.refresh()}else{this.refresh()}}}break}},getcolumnproperty:function(f,a){if(f==null||a==null){return null}a=a.toLowerCase();var b=this.getcolumn(f);return b[a]},setcolumnproperty:function(f,b,a){this._setcolumnproperty(f,b,a)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",true)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",false)},updatebounddata:function(a,b){this.databind(this.source,a,b)},refresh:function(a){if(a!=true){if(c.jqx.isHidden(this.host)){return}this.vScrollInstance.setPosition(0);this._renderrows();this.updatepagerdetails();this._arrange();this._renderhorizontalscroll();this._showicons();if(this.showaggregates){this._updateaggregates()}this._updateTouchScrolling()}},_updateTouchScrolling:function(){var g=this.that;if(g.isTouchDevice()){var a=c.jqx.mobile.getTouchEventName("touchstart");var b=c.jqx.mobile.getTouchEventName("touchend");var h=c.jqx.mobile.getTouchEventName("touchmove");if(g.gridcontent){g.removeHandler(g.gridcontent,a+".touchScroll");g.removeHandler(g.gridcontent,h+".touchScroll");g.removeHandler(g.gridcontent,b+".touchScroll");g.removeHandler(g.gridcontent,"touchcancel.touchScroll");c.jqx.mobile.touchScroll(g.gridcontent[0],Math.max(g.vScrollInstance.max,g.hScrollInstance.max),function(e,f){if(g.vScrollBar.css("visibility")!="hidden"){var k=g.vScrollInstance.value;g.vScrollInstance.setPosition(k+f)}if(g.hScrollBar.css("visibility")!="hidden"){var k=g.hScrollInstance.value;g.hScrollInstance.setPosition(k+e)}g.scrolled=new Date();g.vScrollInstance.thumbCapture=true},this.element.id,this.hScrollBar,this.vScrollBar)}}},_showicons:function(){if(!this.table){return}for(var l=0;l<this.columns.records.length;l++){var b=this.columns.records[l];c(b.filtericon).hide();c(b.sortasc).hide();c(b.sortdesc).hide();if(this.filtermode!=="simple"){for(var m=0;m<this.dataview.filters.length;m++){var k=this.dataview.filters[m];if(k.datafield===b.displayfield){c(b.filtericon).show();break}}}if(this.sortcolumn!==null){if(this.sortcolumn===b.displayfield){if(this.sortdirection!=null){if(this.sortdirection.ascending){c(b.sortasc).show()}else{c(b.sortdesc).show()}}}}if((b.align!="left"&&b.align!="center"&&!this.rtl)||(this.rtl&&b.align!="right"&&b.align!="center")){var a=c.jqx.isHidden(c(b.filtericon))?0:16;a+=c.jqx.isHidden(c(b.sortasc))?0:16;a+=c.jqx.isHidden(c(b.sortdesc))?0:16;var n=c(c(c(b.element).children()[0]).children()[0]);if(!this.rtl){if(a>0){n.css("margin-right",4+a+"px")}else{n.css("margin-right","4px")}}else{if(a>0){n.css("margin-left",4+a+"px")}else{n.css("margin-left","4px")}}}}},render:function(m){var q="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="";this.element.innerHTML=q;this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var o=this.host.find("#verticalScrollBar"+this.element.id);var a=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal"));if(this.vScrollBar){this.vScrollBar.jqxScrollBar("destroy")}if(this.hScrollBar){this.hScrollBar.jqxScrollBar("destroy")}this.vScrollBar=o.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=a.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:false});this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=c.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=c.data(this.hScrollBar[0],"jqxScrollBar").instance;this.filter=this.host.find("#filter");this.filter[0].id="filter"+this.element.id;this.filter.addClass(this.toTP("jqx-widget-header"));this.filter.addClass(this.toTP("jqx-grid-toolbar"));this.pager=this.host.find("#pager");this.pager[0].id="pager"+this.element.id;this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-grid-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.aggregates=this.host.find("#aggregates");this.aggregates[0].id="aggregates"+this.element.id;this.aggregates.addClass(this.toTP("jqx-grid-statusbar"));this.aggregates.addClass(this.toTP("jqx-widget-header"));this.statusbar=this.host.find("#statusbar");this.statusbar[0].id="statusbar"+this.element.id;this.statusbar.addClass(this.toTP("jqx-grid-statusbar"));this.statusbar.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.toppager=this.host.find("#toppager");this.toppager.addClass(this.toTP("jqx-grid-pager-top"));this.toppager.addClass(this.toTP("jqx-widget-header"));this.gridtable=null;if(this.localizestrings){this.localizestrings();if(this.localization!=null){this.localizestrings(this.localization,false)}}this._builddataloadelement();this._cachedcolumns=this.columns;var u=this.source.datafields;if(u==null&&this.source._source){u=this.source._source.datafields}if(u){for(var t=0;t<this.columns.length;t++){var s=this.columns[t];if(s&&s.cellsformat&&s.cellsformat.length>2){for(var b=0;b<u.length;b++){if(u[b].name==s.datafield&&!u[b].format){u[b].format=s.cellsformat;break}}}}}this.databind(this.source);if(this.showtoolbar){this.toolbar.css("visibility","inherit")}if(this.showstatusbar){this.statusbar.css("visibility","inherit")}if(this.showaggregates){this.aggregates.css("visibility","inherit")}this.tableheight=null;var p=this;var n=function(){if(p.content){p.content[0].scrollTop=0;p.content[0].scrollLeft=0}if(p.gridcontent){p.gridcontent[0].scrollLeft=0;p.gridcontent[0].scrollTop=0}};this.removeHandler(this.content,"scroll");this.removeHandler(this.content,"mousedown");this.addHandler(this.content,"scroll",function(e){n();return false});if(m!==true){this._render()}},_render:function(){if(this.dataview==null){return}if(this._loading){return}if(this.columnsheight!=25||this.columngroups){this._measureElement("column")}if(this.filterable){this.filter[0].style.visibility="inherit"}else{this.filter[0].style.visibility="hidden"}this.rowinfo=new Array();this._removeHandlers();if(this.columns==null){this.columns=new c.jqx.collection(this.element)}else{this._initializeColumns()}this.host.height(this.height);this.host.width(this.width);c.jqx.utilities.html(this.content,"");this.columnsheader=this.columnsheader||c('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"));if(!this.showheader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||c('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();var a=this.columnsheight;a=this._preparecolumngroups();this.columnsheader.height(a);this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._rendercolumnheaders();this.tableheight=null;this.gridcontent.find("#contenttable"+this.element.id).remove();if(this.table!=null){this.table.remove();this.table=null}this.table=c('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>');this.gridcontent.addClass(this.toTP("jqx-grid-content"));this.gridcontent.addClass(this.toTP("jqx-widget-content"));this.gridcontent.append(this.table);this._renderrows();if(this.filterable){this._renderfilter()}if(this.pageable){this._initpager()}this._arrange();if(this.renderstatusbar){this.renderstatusbar(this.statusbar)}if(this.rendertoolbar){this.rendertoolbar(this.toolbar)}if(this.showaggregates){this._updateaggregates()}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._renderhorizontalscroll();this._showicons();this._addHandlers()},clear:function(){if(this.source){this.source.records=new Array();this.source.hierarchy=new Array()}this.dataview._filteredData=new Array();this.databind(null);this._render()},_initpager:function(){var k=this;var o=this.gridlocalization.pagergotopagestring;var a=this.gridlocalization.pagerrangestring;var n=this.gridlocalization.pagershowrowsstring;var b=(this.pagerheight-17)/2;this.pagerdiv=this.pagerdiv||c('<div style="width: 100%; height: 100%; position: relative;"></div>');this.toppagerdiv=this.toppagerdiv||c('<div style="width: 100%; height: 100%; position: relative;"></div>');if(!this.pageable){this.pagerdiv.remove();this.toppagerdiv.remove();return}if(!this.pagerrenderer){this.pagerdiv.css("top",b);this.toppagerdiv.css("top",b);var l=function(J,H){var S=this;var M=c('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>');var K=c('<div style="float: right; margin-right: 7px;"></div>');var I=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var W=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var T=c('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var O=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var e=c('<div style="margin-right: 7px; float: right;"></div>');var g=c('<div style="margin-right: 7px; float: right;"></div>');var Q=c('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');M.attr("disabled",S.disabled);var P=c('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');P[0].id="gridpagerlist"+H+S.element.id;S.removeHandler(I,"mousedown");S.removeHandler(I,"mouseup");S.removeHandler(I,"click");S.removeHandler(W,"mousedown");S.removeHandler(W,"mouseup");S.removeHandler(W,"click");S.removeHandler(T,"mousedown");S.removeHandler(T,"mouseup");S.removeHandler(T,"click");S.removeHandler(O,"mousedown");S.removeHandler(O,"mouseup");S.removeHandler(O,"click");if(!S.rtl){W.attr("title",S.gridlocalization.pagerpreviousbuttonstring);I.attr("title",S.gridlocalization.pagernextbuttonstring)}else{I.attr("title",S.gridlocalization.pagerpreviousbuttonstring);W.attr("title",S.gridlocalization.pagernextbuttonstring)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){Q.css("padding-top","3px")}this["pagerfirst"+H]=T;this["pagerlast"+H]=O;this["pagernext"+H]=I;this["pagerprevious"+H]=W;this["pagergotoinput"+H]=M;this["pagerdetails"+H]=e;this["pagershowrows"+H]=g;this["pagergotolabel"+H]=K;this["pagershowrowscombo"+H]=P;this["pagerbuttons"+H]=Q;if(S.pagermode=="default"){if(!S.rtl){T.attr("title",S.gridlocalization.pagerfirstbuttonstring);O.attr("title",S.gridlocalization.pagerlastbuttonstring)}else{O.attr("title",S.gridlocalization.pagerfirstbuttonstring);T.attr("title",S.gridlocalization.pagerlastbuttonstring)}var F=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");F.addClass(S.toThemeProperty("jqx-icon-arrow-first"));T.wrapInner(F);var R=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");R.addClass(S.toThemeProperty("jqx-icon-arrow-last"));O.wrapInner(R);if(!S.rtl){J.append(T);J.append(W);J.append(Q);J.append(I);J.append(O)}else{J.append(O);J.append(I);J.append(Q);J.append(W);J.append(T)}O.jqxButton({cursor:"pointer",disabled:S.disabled,theme:S.theme});T.jqxButton({cursor:"pointer",disabled:S.disabled,theme:S.theme});var L=!S.rtl?"left":"right";Q.css("float",L);O.css("float",L);T.css("float",L);I.css("float",L);W.css("float",L);e.css("float",S.rtl?"left":"right");if(S.rtl){e.css("margin-left","7px");e.css("margin-right","0px")}else{e.css("margin-left","0px");e.css("margin-right","7px")}}else{if(!S.rtl){J.append(I);J.append(W)}}I.jqxButton({cursor:"pointer",disabled:S.disabled,theme:S.theme});W.jqxButton({cursor:"pointer",disabled:S.disabled,theme:S.theme});var V=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");V.addClass(S.toThemeProperty("jqx-icon-arrow-left"));W.wrapInner(V);var U=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");U.addClass(S.toThemeProperty("jqx-icon-arrow-right"));I.wrapInner(U);if(!S.rtl){J.append(e)}if(S.pagermode!="default"){if(!S.rtl){J.append(P);J.append(g);J.append(M);J.append(K)}else{J.append(K);J.append(M);J.append(g);J.append(P);J.append(e);J.append(I);J.append(W)}var G=S.pagesizeoptions;P.jqxDropDownList({_checkForHiddenParent:false,rtl:S.rtl,disabled:S.disabled,source:G,enableBrowserBoundsDetection:true,keyboardSelection:false,autoDropDownHeight:true,width:44,height:16,theme:S.theme});var N=0;for(var f=0;f<G.length;f++){if(this.pagesize>=G[f]){N=f}}K[0].innerHTML=o;P.jqxDropDownList({selectedIndex:N});var h=M.find("input");h.addClass(S.toThemeProperty("jqx-input"));h.addClass(S.toThemeProperty("jqx-widget-content"));if(this.rtl){h.css("direction","rtl")}var S=this;this.removeHandler(P,"select");this.addHandler(P,"select",function(s){if(s.args){if(S.vScrollInstance){S.vScrollInstance.setPosition(0)}var u=s.args.index;S.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(u);S.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(u);S.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse");S.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var q=S.dataview.pagenum*S.dataview.pagesize;var t=G[u];var p=S.pagesize;S.pagesize=parseInt(t);if(isNaN(S.pagesize)){S.pagesize=10}if(t>=100){S.pagershowrowscombotop.jqxDropDownList({width:55});S.pagershowrowscombobottom.jqxDropDownList({width:55})}else{S.pagershowrowscombotop.jqxDropDownList({width:44});S.pagershowrowscombobottom.jqxDropDownList({width:44})}S.dataview.pagesize=S.pagesize;var v=Math.floor(q/S.dataview.pagesize);if(v!==S.dataview.pagenum||parseInt(t)!==parseInt(p)){S._raiseEvent("pageSizeChanged",{pagenum:v,oldpagesize:p,pagesize:S.dataview.pagesize});var w=S.gotopage(v);if(!w){if(!S.serverProcessing){S.refresh()}else{S.updatebounddata("pager")}}}}});var M=M.find("input");M.addClass(S.toThemeProperty("jqx-grid-pager-input"));M.addClass(S.toThemeProperty("jqx-rc-all"));this.removeHandler(M,"keydown");this.removeHandler(M,"change");S.addHandler(M,"keydown",function(q){if(q.keyCode>=65&&q.keyCode<=90){return false}if(q.keyCode=="13"){var p=M.val();p=parseInt(p);if(!isNaN(p)){S.gotopage(p-1)}return false}});S.addHandler(M,"change",function(){var p=M.val();p=parseInt(p);if(!isNaN(p)){S.gotopage(p-1)}})}g[0].innerHTML=n;S.addHandler(I,"mouseenter",function(){U.addClass(S.toThemeProperty("jqx-icon-arrow-right-hover"))});S.addHandler(W,"mouseenter",function(){V.addClass(S.toThemeProperty("jqx-icon-arrow-left-hover"))});S.addHandler(I,"mouseleave",function(){U.removeClass(S.toThemeProperty("jqx-icon-arrow-right-hover"))});S.addHandler(W,"mouseleave",function(){V.removeClass(S.toThemeProperty("jqx-icon-arrow-left-hover"))});S.addHandler(I,"mousedown",function(){U.addClass(S.toThemeProperty("jqx-icon-arrow-right-selected"))});S.addHandler(I,"mouseup",function(){U.removeClass(S.toThemeProperty("jqx-icon-arrow-right-selected"))});S.addHandler(W,"mousedown",function(){V.addClass(S.toThemeProperty("jqx-icon-arrow-left-selected"))});S.addHandler(W,"mouseup",function(){V.removeClass(S.toThemeProperty("jqx-icon-arrow-left-selected"))});if(S.pagermode==="default"){S.addHandler(O,"mouseenter",function(){R.addClass(S.toThemeProperty("jqx-icon-arrow-last-hover"))});S.addHandler(T,"mouseenter",function(){F.addClass(S.toThemeProperty("jqx-icon-arrow-first-hover"))});S.addHandler(O,"mouseleave",function(){R.removeClass(S.toThemeProperty("jqx-icon-arrow-last-hover"))});S.addHandler(T,"mouseleave",function(){F.removeClass(S.toThemeProperty("jqx-icon-arrow-first-hover"))});S.addHandler(O,"mousedown",function(){R.addClass(S.toThemeProperty("jqx-icon-arrow-last-selected"))});S.addHandler(T,"mousedown",function(){F.addClass(S.toThemeProperty("jqx-icon-arrow-first-selected"))});S.addHandler(O,"mouseup",function(){R.removeClass(S.toThemeProperty("jqx-icon-arrow-last-selected"))});S.addHandler(T,"mouseup",function(){F.removeClass(S.toThemeProperty("jqx-icon-arrow-first-selected"))})}S.addHandler(c(document),"mouseup.pagerbuttons"+H+this.element.id,function(){U.removeClass(S.toThemeProperty("jqx-icon-arrow-right-selected"));V.removeClass(S.toThemeProperty("jqx-icon-arrow-left-selected"));if(R){R.removeClass(S.toThemeProperty("jqx-icon-arrow-last-selected"));F.removeClass(S.toThemeProperty("jqx-icon-arrow-first-selected"))}});S.addHandler(I,"click",function(){if(!I.jqxButton("disabled")){if(!S.rtl){S.gotonextpage()}else{S.gotoprevpage()}}});S.addHandler(W,"click",function(){if(!W.jqxButton("disabled")){if(!S.rtl){S.gotoprevpage()}else{S.gotonextpage()}}});if(this.pagermode==="default"){S.addHandler(T,"click",function(){if(!T.jqxButton("disabled")){if(!S.rtl){S.gotopage(0)}else{var p=S.dataview.totalrecords;var q=Math.ceil(p/S.pagesize);S.gotopage(q-1)}}});S.addHandler(O,"click",function(){if(!O.jqxButton("disabled")){if(!S.rtl){var p=S.dataview.totalrecords;var q=Math.ceil(p/S.pagesize);S.gotopage(q-1)}else{S.gotopage(0)}}})}};this.pagerdiv.children().remove();this.toppagerdiv.children().remove();l.call(this,this.pagerdiv,"bottom");l.call(this,this.toppagerdiv,"top");this.pager.append(this.pagerdiv);this.toppager.append(this.toppagerdiv);this.updatepagerdetails()}else{this.pagerdiv.children().remove();this.toppager.children().remove();var m=this.pagerrenderer();if(m!=null){this.pagerdiv.append(c(m))}this.pager.append(this.pagerdiv);var m=this.pagerrenderer();if(m!=null){this.toppagerdiv.append(c(m))}this.toppager.append(this.toppagerdiv)}},_updatepagertheme:function(){},gotopage:function(k,a){if(this._loading){return false}if(this.editKey!=undefined){if(this.editSettings.saveOnPageChange){var l=this.endroweditbykey(this.editKey);if(!l){return false}}else{return false}}if(k==null||k==undefined){k=0}if(k==-1){k=0}if(k<0){return false}var m=this.dataview.totalrecords;var b=this.dataview.pagenum;var n=Math.ceil(m/this.pagesize);if(k>=n){if(this.dataview.totalrecords==0){this.dataview.pagenum=0;this.updatepagerdetails()}if(k>0){k=n-1}}if(this.dataview.pagenum!=k){if(this.pageable){this.dataview.pagenum=k;this._raiseEvent("pageChanged",{pagenum:k,oldpagenum:b,pagesize:this.dataview.pagesize})}if(!this.serverProcessing){this.refresh();if(a){if(c.isFunction(a)){a()}}}else{this.updatebounddata("pager",a)}return true}return false},gotoprevpage:function(a){if(this.dataview.pagenum>0){return this.gotopage(this.dataview.pagenum-1,a)}else{if(this.pagermode!="default"&&this.pagermode!="advanced"){var b=this.dataview.totalrecords;var f=Math.ceil(b/this.pagesize);return this.gotopage(f-1,a)}}return false},gotonextpage:function(a){var b=this.dataview.totalrecords;if(this.summaryrows){b+=this.summaryrows.length}var f=Math.ceil(b/this.pagesize);if(this.dataview.pagenum<f-1){return this.gotopage(this.dataview.pagenum+1,a)}else{if(this.pagermode!="default"&&this.pagermode!="advanced"){return this.gotopage(0,a)}}return false},updatepagerdetails:function(){if(!this.pageable){return}var G=this;if(!this.serverProcessing){if(this.source.hierarchy){var D=G._names();var I=0;var y=function(g,f){for(var e=0;e<f.length;e++){if(G.dataview.filters.length==0){f[e]._visible=true}if(f[e]._visible!==false){I++}if(f[e].records&&(f[e][D.expanded]||f[e][D.leaf])){if(f[e]._visible!==false){y(g+1,f[e].records);if(this.treeGrid&&c(this.treeGrid).jqxTreeGrid("showSubAggregates")){if(g!=0){I--}}}}}};y(0,this.dataview.rows);this.dataview.totalrecords=I}else{this.dataview.totalrecords=this.dataview.rows.length}}var L=this.dataview.pagenum*this.pagesize;var b=(this.dataview.pagenum+1)*this.pagesize;if(b>=this.dataview.totalrecords){b=this.dataview.totalrecords}var a=this.dataview.totalrecords;L++;var w=Math.ceil(a/this.dataview.pagesize);if(w>=1){w--}w++;if(this.pagermode!="default"){if(this["pagergotoinputbottom"]){var F=this["pagergotoinputbottom"].find("input");F.val(this.dataview.pagenum+1);F.attr("title","1 - "+w);F=this["pagergotoinputtop"].find("input");F.val(this.dataview.pagenum+1);F.attr("title","1 - "+w)}}else{var B="";var C=this.pagerbuttonscount;if(C==0||!C){C=5}var x=0;if(this.rtl){x=C-1}while((this.rtl&&x>=0)||(!this.rtl&&x<C)){var K=1+x;var A=this.dataview.pagenum/C;var J=Math.floor(A);K+=J*C;var M=this.toTP("jqx-grid-pager-number");M+=" "+this.toTP("jqx-rc-all");if(K>w&&!this.rtl){break}else{if(this.rtl&&K>w){x--;continue}}if(!this.rtl){if(x==0&&K>C){B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+(-1+K)+"'>...</a>"}}if(this.dataview.pagenum===K-1){M+=" "+this.toTP("jqx-fill-state-pressed")}if(!this.rtl){B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+K+"'>"+K+"</a>";if(x===C-1){var M=this.toTP("jqx-grid-pager-number");if(w>=1+K){B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+(1+K)+"'>...</a>"}}}else{if(x===C-1){var M=this.toTP("jqx-grid-pager-number");if(w>=1+K){B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+(1+K)+"'>...</a>"}}if(this.dataview.pagenum===K-1){M+=" "+this.toTP("jqx-fill-state-pressed")}B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+K+"'>"+K+"</a>"}if(this.rtl){var M=this.toTP("jqx-grid-pager-number");if(x==0&&K>C){B+="<a class='"+M+"' tabindex=-1 href='javascript:;' data-page='"+(-1+K)+"'>...</a>"}}if(!this.rtl){x++}else{x--}}if(!this["pagerbuttonsbottom"]){return}var H=this["pagerbuttonsbottom"].find("a");this.removeHandler(H,"click");this.removeHandler(H,"mouseenter");this.removeHandler(H,"mouseleave");var H=this["pagerbuttonstop"].find("a");this.removeHandler(H,"click");this.removeHandler(H,"mouseenter");this.removeHandler(H,"mouseleave");this["pagerbuttonsbottom"][0].innerHTML=B;this["pagerbuttonstop"][0].innerHTML=B;if(this.disabled){this.host.find(".jqx-grid-pager-number").css("cursor","default")}var z=function(){H.click(function(f){if(G.disabled){return}var e=c(f.target).attr("data-page");G.gotopage(parseInt(e)-1)});H.mouseenter(function(e){if(G.disabled){return}c(e.target).addClass(G.toTP("jqx-fill-state-hover"))});H.mouseleave(function(e){if(G.disabled){return}c(e.target).removeClass(G.toTP("jqx-fill-state-hover"))})};if(this.pagerposition==="both"||this.pagerposition==="bottom"){var H=this["pagerbuttonsbottom"].find("a");z(H)}if(this.pagerposition==="both"||this.pagerposition==="top"){var H=this["pagerbuttonstop"].find("a");z(H)}}if(b==0&&b<L){L=0}if(this["pagerdetailsbottom"]){if(!this.rtl){this["pagerdetailsbottom"][0].innerHTML=L+"-"+b+this.gridlocalization.pagerrangestring+a;this["pagerdetailstop"][0].innerHTML=L+"-"+b+this.gridlocalization.pagerrangestring+a}else{this["pagerdetailsbottom"][0].innerHTML=a+this.gridlocalization.pagerrangestring+b+"-"+L;this["pagerdetailstop"][0].innerHTML=a+this.gridlocalization.pagerrangestring+b+"-"+L}}if(this.pagermode=="default"){var E=this["pagerbuttonsbottom"].width()+c(this["pagerdetailsbottom"]).width()+160;this.pagerdiv.css("min-width",E);this.toppagerdiv.css("min-width",E)}if(L>b){this.gotoprevpage()}},_preparecolumngroups:function(){var v=this.columnsheight;if(this.columngroups){this.columnshierarchy=new Array();if(this.columngroups.length){var w=this;for(var A=0;A<this.columngroups.length;A++){this.columngroups[A].parent=null;this.columngroups[A].groups=null}for(var A=0;A<this.columns.records.length;A++){this.columns.records[A].parent=null;this.columns.records[A].groups=null}var u=function(f){for(var g=0;g<w.columngroups.length;g++){var e=w.columngroups[g];if(e.name===f){return e}}return null};for(var A=0;A<this.columngroups.length;A++){var t=this.columngroups[A];if(!t.groups){t.groups=null}if(t.parentGroup){t.parentgroup=t.parentGroup}if(t.parentgroup){var a=u(t.parentgroup);if(a){t.parent=a;if(!a.groups){a.groups=new Array()}if(a.groups.indexOf(t)===-1){a.groups.push(t)}}}}for(var A=0;A<this.columns.records.length;A++){var t=this.columns.records[A];if(t.columngroup){var a=u(t.columngroup);if(a){if(!a.groups){a.groups=new Array()}t.parent=a;if(a.groups.indexOf(t)===-1){a.groups.push(t)}}}}var b=0;for(var A=0;A<this.columns.records.length;A++){var t=this.columns.records[A];var D=t;t.level=0;while(D.parent){D=D.parent;t.level++}var D=t;var E=t.level;b=Math.max(b,t.level);while(D.parent){D=D.parent;if(D){D.level=--E}}}var x=function(e){var f=new Array();if(e.columngroup){f.push(e)}if(!e.groups){return new Array()}for(var g=0;g<e.groups.length;g++){if(e.groups[g].columngroup){f.push(e.groups[g])}else{if(e.groups[g].groups){var h=x(e.groups[g]);for(var k=0;k<h.length;k++){f.push(h[k])}}}}return f};for(var A=0;A<this.columngroups.length;A++){var t=this.columngroups[A];var C=x(t);t.columns=C;var z=new Array();var F=0;for(var B=0;B<C.length;B++){z.push(this.columns.records.indexOf(C[B]));if(C[B].pinned){F++}}if(F!=0){throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.")}z.sort(function(e,f){e=parseInt(e);f=parseInt(f);if(e<f){return -1}if(e>f){return 1}return 0});for(var y=1;y<z.length;y++){if(z[y]!=z[y-1]+1){throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.");this.host.remove()}}}}this.columngroupslevel=1+b;v=this.columngroupslevel*this.columnsheight}return v},wheel:function(b,g){if(g.autoheight&&g.hScrollBar.css("visibility")=="hidden"){b.returnValue=true;return true}var a=0;if(!b){b=window.event}if(b.originalEvent&&b.originalEvent.wheelDelta){b.wheelDelta=b.originalEvent.wheelDelta}if(b.wheelDelta){a=b.wheelDelta/120}else{if(b.detail){a=-b.detail/3}}if(a){var h=g._handleDelta(a);if(h){if(b.preventDefault){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}}if(h){h=false;b.returnValue=h;return h}else{return false}}if(b.preventDefault){b.preventDefault()}b.returnValue=false},_handleDelta:function(a){if(this.vScrollBar.css("visibility")!="hidden"){var b=this.vScrollInstance.value;if(a<0){this.vScrollInstance.setPosition(this.vScrollInstance.value+2*10)}else{this.vScrollInstance.setPosition(this.vScrollInstance.value-2*10)}var f=this.vScrollInstance.value;if(b!=f){return true}}else{if(this.hScrollBar.css("visibility")!="hidden"){var b=this.hScrollInstance.value;if(a>0){if(this.hScrollInstance.value>2*10){this.hScrollInstance.setPosition(this.hScrollInstance.value-2*10)}else{this.hScrollInstance.setPosition(0)}}else{if(this.hScrollInstance.value<this.hScrollInstance.max){this.hScrollInstance.setPosition(this.hScrollInstance.value+2*10)}else{this.hScrollInstance.setPosition(this.hScrollInstance.max)}}var f=this.hScrollInstance.value;if(b!=f){return true}}}return false},_removeHandlers:function(){this.removeHandler(this.host,"focus");this.removeHandler(c(window),"jqxReady");if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}var a="mousedown";if(this.isTouchDevice()){a=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.host,"dragstart."+this.element.id);this.removeHandler(this.host,"keydown");if(this.table){this.removeHandler(this.table,"mouseleave");this.removeHandler(this.table,"mousemove");this.removeHandler(this.table,a);this.removeHandler(this.table,"selectstart."+this.element.id);if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.removeHandler(this.table,"dblclick")}}},_addHandlers:function(){var h=this;this._mousewheelfunc=this._mousewheelfunc||function(e){h.wheel(e,h);return false};this.addHandler(this.host,"dragstart."+this.element.id,function(e){return false});this.addHandler(this.table,"selectstart."+this.element.id,function(e){if(h.enablebrowserselection){return true}if(h.filterable){if(c(e.target).ischildof(h.filterrow)){return true}}if(h.rowdetails){if(c(e.target).parents("[data-role=details]").length>0){return true}}if(undefined==h.editKey){return false}});this.addHandler(c(window),"jqxReady",function(){h._updatecolumnwidths();h.refresh()});if(this.editable){this.addHandler(c(document),"mousedown.gridedit"+this.element.id,function(A){if(h.editable&&h.editSettings.saveOnBlur){if(h.editKey!=null){if(!h.vScrollInstance.isScrolling()&&!h.vScrollInstance.isScrolling()){var e=h.host.coord();var v=h.host.width();var z=h.host.height();var D=false;var B=false;var E=false;if(A.pageY<e.top||A.pageY>e.top+z){D=true;B=true}if(A.pageX<e.left||A.pageX>e.left+v){D=true;E=true}if(D){var y=function(m){var n=c(m.children()[0]).data();if(n&&!n.jqxWidget){n=m.data()}if(!n){n=m.data()}if(n.jqxWidget&&n.jqxWidget.container&&n.jqxWidget.container[0].style.display=="block"){var p=n.jqxWidget;var q=p.container.coord().top;var o=p.container.coord().top+p.container.height();if(B&&(A.pageY<q||A.pageY>o)){D=true;p.close();return true}else{return false}}};var f=h._editors;if(f){for(var x=0;x<f.length;x++){var w=f[x].editor;var C=y(w);var g=w.attr("aria-owns");if(g){if(g==document.activeElement.id){return true}if(c(document.activeElement).ischildof(c("#"+g))){return true}}else{g=w.children().attr("aria-owns");if(g){if(g==document.activeElement.id){return true}if(c(document.activeElement).ischildof(c("#"+g))){return true}}}if(C===false){return}}}}if(D){h.endroweditbykey(h.editKey)}}}}})}this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"focus",function(e){if(e.preventDefault){e.preventDefault()}});this.vScrollInstance.valuechanged=function(e){if(h._timer){clearTimeout(h._timer)}h._timer=setTimeout(function(){if(h.table){h.table[0].style.top=0-h.vScrollInstance.value+"px"}},5)};this.hScrollInstance.valuechanged=function(e){if(h._timer){clearTimeout(h._timer)}h._timer=setTimeout(function(){if(h.table){h._renderhorizontalscroll()}},5)};var k="mousedown";if(this.isTouchDevice()){k=c.jqx.mobile.getTouchEventName("touchend");if(c.jqx.browser.msie&&c.jqx.browser.version<10){k="mousedown"}}var a=function(e,f){var D=null;var C=h._table.coord();var K=C.top;var G=C.left;var y=h._table[0].rows;for(var B=0;B<y.length;B++){var H=y[B];var I=H.cells;for(var x=0;x<I.length;x++){var L=I[x];var E=L.offsetLeft+G;var g=L.offsetTop+K;var F=L.offsetWidth;var J=L.offsetHeight;if(F===0||J===0){continue}if(g<=f&&f<g+J){if(E<=e&&e<E+F){D=L;break}}else{break}}}return D};var l=function(){if(h.hoveredRow){var f=h.hoveredRow[0].cells;var g=function(p){for(var o=0;o<p.length;o++){var q=p[o];var s=q.className;s=s.replace(" "+h.toTP("jqx-fill-state-hover"),"");s=s.replace(" "+h.toTP("jqx-grid-cell-hover"),"");q.className=s}};g(f);if(h._pinnedTable&&f.length>0){var e=h._pinnedTable[0].rows[h.hoveredRow[0].rowIndex].cells;g(e)}}h.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){l();if(h.wrapper){h.wrapper.parent().removeAttr("tabindex",0);h.wrapper.removeAttr("tabindex",1);h.content.removeAttr("tabindex",2)}});var b=function(v){if(!h.enablehover){return true}h.hoveredRow=v;var g=v[0].cells;var e=h.rowdetails&&!h.treeGrid;var t=e&&!h.treeGrid?1:0;var q=0;if(t>0&&h.rtl){t=0;q=1}for(var f=t;f<g.length-q;f++){var s=g[f];s.className+=" "+h.toTP("jqx-fill-state-hover")+" "+h.toTP("jqx-grid-cell-hover")}if(h._pinnedTable){if(h._pinnedTable[0].rows.length){var u=h._pinnedTable[0].rows[h.hoveredRow[0].rowIndex].cells;for(var f=t;f<u.length-q;f++){var s=u[f];s.className+=" "+h.toTP("jqx-fill-state-hover")+" "+h.toTP("jqx-grid-cell-hover")}}}};if(h.isTouchDevice()){h.enablehover=false}this.addHandler(this.table,"mousemove",function(g){var m=g.pageX;var e=g.pageY;if(h.disabled){return true}if(!h.enablehover){return true}if(h.hScrollInstance.isScrolling()||h.vScrollInstance.isScrolling()){return true}td=a(m,e);if(!td){return true}var f=c(td).parent();l();if(h.rowdetails&&h.treeGrid){if(f.attr("data-role")=="row-details"){return true}}if(h.renderedRecords&&h.renderedRecords.length===0){return true}if(h.editKey!=null){if(h.editKey===f.attr("data-key")){return true}}b(f);return true});this.addHandler(this.host,"keydown",function(e){return h._handleKey(e)});if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.addHandler(this.table,"dblclick",function(e){h.table.trigger("mousedown",e)})}this.addHandler(this.table,k,function(M){var I=M.target;var N=null;if(h.disabled){return true}var V=h.table.coord();var J=M.pageX;var L=M.pageY;if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(arguments&&arguments.length==2){J=arguments[1].pageX;L=arguments[1].pageY}}if(h.isTouchDevice()){var H=c.jqx.position(M);J=H.left;L=H.top;if(isNaN(J)||isNaN(L)){var H=c.jqx.position(M.originalEvent);J=H.left;L=H.top}}N=a(J,L);var P=c(N).parent();var y=P.attr("data-key");if(h.rowdetails&&h.treeGrid){if(P.attr("data-role")=="row-details"){return true}}var x=function(){if(!h.enablebrowserselection){if(M.preventDefault){M.preventDefault()}}var m=c(document).scrollTop();h.host.focus();c(document).scrollTop(m)};if(y!==undefined){if(y==h.editKey){if(h.editSettings.editSingleCell){if(h.clickedTD==N){return true}else{if(h.editKey!=null&&h.editSettings.saveOnSelectionChange){var F=h.endroweditbykey(h.editKey);if(!F){return true}}}}else{return true}}else{if(h.editKey!=null&&h.editSettings.saveOnSelectionChange){var F=h.endroweditbykey(h.editKey);if(!F){return true}}}h.clickedTD=N;var S=h.rowinfo[y];if(S&&S.group){return true}var e=false;if(S){var K=h.getrowdisplayindex(S.row);var G=h.getrowindex(S.row);h._raiseEvent("rowClick",{index:K,boundIndex:G,key:y,row:S.row,originalEvent:M});var O=new Date().getTime();var g=300;if(!h.clickTime){h.clickTime=new Date()}if(h._lastSelectedKey==y&&(O-h.clickTime.getTime()<g)){h._raiseEvent("rowDoubleClick",{index:K,boundIndex:G,key:y,row:S.row,originalEvent:M});e=true;if(M.preventDefault){M.preventDefault()}}}h.clickTime=new Date();if(N.className.indexOf("jqx-grid-group")>=0){if(!S.expanded){h.showdetailsbykey(y)}else{h.hidedetailsbykey(y)}}else{if(M.target&&M.target.className.indexOf("jqx-grid-group")>=0&&h.treeGrid){if(!S.expanded){h.treeGrid.expandrow(y)}else{h.treeGrid.collapserow(y)}b(h._getuirow(y));if(M.stopPropagation){M.stopPropagation()}}else{if(M.target&&M.target.className.indexOf("checkbox")>=0&&h.treeGrid){if(!S.checked){h.treeGrid.checkrow(y)}else{h.treeGrid.uncheckrow(y)}b(h._getuirow(y));if(M.stopPropagation){M.stopPropagation()}}else{var R=c(N).index();var T=h.columns.records[R];if(M.stopPropagation){M.stopPropagation()}if(h.editable&&h.editKey==null){if(h._lastSelectedKey==y&&h.editSettings.editOnDoubleClick&&e){var F=h.beginroweditbykey(y,T);return true}}if(h.isTouchDevice()){if(h.scrolled&&new Date()-h.scrolled<500){if(!h.enablebrowserselection){if(M.preventDefault){M.preventDefault()}}return false}}if(h.selectionmode==="singlerow"&&h.selectionmode!=="custom"){h.selectrowbykey(y,"mouse",false);h._lastSelectedKey=y;h._updateSelection();if(M.preventDefault){M.preventDefault()}x();return true}else{if(h.selectionmode!=="custom"){if(!M.ctrlKey){h.clearselection(false)}if(M.shiftKey){if(h._lastSelectedKey){var S=h.rowinfo[h._lastSelectedKey];h._doSelection(h._lastSelectedKey,true,false);var U=c(h._table.children()[1]).children(("[data-key="+h._lastSelectedKey+"]"));var Q=U.index();var f=P.index();h._selectRange(f,Q);h.selectrowbykey(y,"mouse",false);h._updateSelection();if(M.preventDefault){M.preventDefault()}x();return true}}}h._lastSelectedKey=y;h.clickTime=new Date();if(h.selectionmode!=="custom"){if(S){if(S.selected){h.unselectrowbykey(y,"mouse",false)}else{h.selectrowbykey(y,"mouse",false)}x()}}else{return true}h._updateSelection();if(!h.enablebrowserselection){if(M.preventDefault){M.preventDefault()}}return true}}}}}})},_updateSelection:function(){var w=this;var a=c(w._table.children()[1]).children();var u=w._pinnedTable?c(w._pinnedTable.children()[1]).children():null;var B=w.rowdetails&&!w.treeGrid;var C=B?1:0;var A=0;if(C>0&&w.rtl){C=0;A=1}for(var y=0;y<a.length;y++){var b=a[y].cells;if(u){var D=u[y].cells}var s=null;if(a[y].getAttribute){s=a[y].getAttribute("data-key")}if(w.rowinfo[s]&&w.selectionmode!=="none"){if(w.rowinfo[s].selected){for(var z=C;z<b.length-A;z++){var t=b[z];c(t).addClass(w.toTP("jqx-grid-cell-selected")+" "+w.toTP("jqx-fill-state-pressed"));if(D){c(D[z]).addClass(w.toTP("jqx-grid-cell-selected")+" "+w.toTP("jqx-fill-state-pressed"))}}}else{for(var z=C;z<b.length-A;z++){var t=b[z];if(D){var x=D[z]}var v=t.className;v=v.replace(" jqx-fill-state-pressed","");v=v.replace(" jqx-fill-state-pressed-"+w.theme,"");v=v.replace(" jqx-grid-cell-selected","");v=v.replace(" jqx-grid-cell-selected-"+w.theme,"");t.className=v;if(x){x.className=v}}}}}},_selectRange:function(l,m){var o=c(c(this._table.children()[1]).children()[m]);var a=this;if(l>m){var b=m;var n=o;while(b<l){var n=n.next();var k=n.attr("data-key");a._doSelection(k,true,false);b++}}else{if(l<m){var b=m;var n=o;while(b>l){var n=n.prev();var k=n.attr("data-key");this._doSelection(k,true,false);b--}}}},_getuikey:function(m,b){var k=null;var l=c(this._table.children()[1]).children();k=c(l[m]).attr("data-key");if(c(l[m]).attr("data-role")){var n=c(l[m]);if(b=="next"){while(n){n=n.next();if(n){var a=n.attr("data-role");if(!a){k=n.attr("data-key");return k}}}}else{if(b=="prev"){while(n){n=n.prev();if(n){var a=n.attr("data-role");if(!a){k=n.attr("data-key");return k}}}}}return null}return k},getRows:function(){return this.source.records},getView:function(){var b=this._names();var a=new Array();var f=function(e,l){for(var k=0;k<l.length;k++){if(l[k]._visible!==false){var m=c.extend({},l[k]);e.push(m);if(l[k][b.expanded]){m.records=new Array();f(m.records,l[k].records)}}}};f(a,this.dataViewRecords);return a},getKeys:function(){var b=new Array();var a=this.source.records;for(var f=0;f<a.length;f++){b.push(a[f].uid)}return b},getKey:function(b){var a=this.getRows();if(a){return a[b].uid}else{return -1}},_getkey:function(h){if(this._loading){throw new Error("jqxDataTable: "+this.loadingerrormessage);return false}var b=null;var k=function(){var f=c(this._table.children()[1]).children();var g=null;var t=0;if(this.pageable){t-=this.dataview.pagenum*this.dataview.pagesize}if(this.groups.length>0){var q=0;for(var p=0;p<f.length;p++){var s=c(f[p]);var e=s.children()[0].getAttribute("colspan");if(e>0){continue}if(q===t+h){g=s.attr("data-key");return g}q++}return g}if(this.rowdetails){var q=0;for(var p=0;p<f.length;p++){if(q===h+t){g=c(f[p]).attr("data-key");return g}if(p%2==1){q++}}}else{g=c(f[t+h]).attr("data-key")}return g};b=k.call(this);if(b==null){if(this.pageable){var l=Math.floor(h/this.dataview.pagesize);if(this.dataview.pagenum!=l){var a=this.getRows()[h];if(a&&a.uid!=null){return a.uid}else{if(isNaN(l)){return null}this.gotopage(l);b=k.call(this)}}}}return b},_getuirow:function(k){try{var o=c(this._table.children()[1]).children(("[data-key="+k+"]"));if(o.length>0){return o}}catch(m){var n=c(this._table.children()[1]).children();for(var l=0;l<n.length;l++){var a=n[l];var b=a.getAttribute("data-key");if(k==b){return c(a)}}return null}return null},_getpinneduirow:function(k){if(!this._pinnedTable){return null}try{var o=c(this._pinnedTable.children()[1]).children(("[data-key="+k+"]"));if(o.length>0){return o}}catch(m){var n=c(this._pinnedTable.children()[1]).children();for(var l=0;l<n.length;l++){var a=n[l];var b=a.getAttribute("data-key");if(k==b){return c(a)}}return null}return null},_names:function(){var a={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||(this.source&&!this.source._source.hierarchy)){return a}var b=this.source._source.hierarchy.reservedNames;if(!b){return a}return b},_getMatches:function(k,b){if(k==undefined||k.length==0){return -1}var n=this.renderedRecords;if(b!=undefined){n=n.slice(b)}var l=0;if(this.rowdetails&&!this.treeGrid){l++}if(l<this.columns.records.length){var m=this.columns.records[l].datafield}else{new Array()}var a=new Array();c.each(n,function(f){var e=this[m];if(!e){e=""}var g=c.jqx.string.startsWithIgnoreCase(e.toString(),k);if(g){a.push(this.uid)}});return a},_handleKey:function(b){if(this._loading){return true}if(c(b.target).ischildof(this.filter)){return true}if(c(b.target).ischildof(this.toolbar)){return true}if(c(b.target).ischildof(this.statusbar)){return true}var aa=this._names();var al=this;var aC=b.charCode?b.charCode:b.keyCode?b.keyCode:0;var aF=this._lastSelectedKey;var Y=this.rowinfo[aF];var az=this._getuirow(aF);var ax=b.shiftKey&&this.selectionmode!="singlerow";var ad=b.ctrlKey;if(!az){return}if(this.handlekeyboardnavigation){var aA=this.handlekeyboardnavigation(aC);if(aA){return true}}if(this.editable&&this.editKey==undefined&&aC===113&&this.editSettings.editOnF2){this.beginroweditbykey(az.attr("data-key"))}if(this.editKey==undefined){if(!ad&&!ax&&this.incrementalSearch&&(!(aC>=33&&aC<=40))){var av=-1;if(!this._searchString){this._searchString=""}if((aC==8||aC==46)&&this._searchString.length>=1){this._searchString=this._searchString.substr(0,this._searchString.length-1)}var aM=String.fromCharCode(aC);var am=(!isNaN(parseInt(aM)));var ak=false;if((aC>=65&&aC<=97)||am||aC==8||aC==32||aC==46){if(!b.shiftKey){aM=aM.toLocaleLowerCase()}if(aC!=8&&aC!=32&&aC!=46){if(!(this._searchString.length>0&&this._searchString.substr(0,1)==aM)){this._searchString+=aM}}if(aC==32){this._searchString+=" "}this._searchTime=new Date();var aF=this.getselection();if(aF.length>=1){var aB=aF[0].uid;var ar=-1;for(var ab=0;ab<this.renderedRecords.length;ab++){if(this.renderedRecords[ab].uid==aB){ar=ab;break}}var at=this._getMatches(this._searchString,ar);if(at.length==0||(at.length>0&&at[0]==aB)){var at=this._getMatches(this._searchString)}}else{var at=this._getMatches(this._searchString)}if(at.length>0){var aF=this.getselection();if(aF.length>=1){var aO=at.indexOf(aF[0].uid);if(aO==-1){this.clearselection(false);this.selectrowbykey(at[0])}else{var aJ=aO+1;if(aJ>=at.length){aJ=0}this.clearselection(false);this.selectrowbykey(at[aJ])}}else{this.clearselection(false);this.selectrowbykey(at[0])}this._lastSearchString=this._searchString}}if(this._searchTimer!=undefined){clearTimeout(this._searchTimer)}if(aC==27||aC==13){this._searchString="";this._lastSearchString=""}this._searchTimer=setTimeout(function(){al._searchString="";al._lastSearchString=""},500);if(av>=0){return}if(ak){return false}}}if(this.editKey!=undefined){if(aC===27&&this.editSettings.cancelOnEsc){this.endroweditbykey(this.editKey,true)}else{if(aC===13&&this.editSettings.saveOnEnter){if(b.target&&b.target.nodeName.toLowerCase()!="div"&&b.target.nodeName.toLowerCase()!="input"){return true}this.endroweditbykey(this.editKey,false)}else{if(this.editSettings.editSingleCell){if(this.editColumn){var ae=this.columns.records.indexOf(this.editColumn);if(aC==9&&ae<this.columns.records.length-1&&!b.shiftKey){var ah=this.editKey;var aw=null;for(var ab=ae+1;ab<this.columns.records.length;ab++){if(this.columns.records[ab].editable&&!this.columns.records[ab].hidden){aw=this.columns.records[ab];break}}if(aw){this.endroweditbykey(this.editKey,false);this.beginroweditbykey(ah,aw)}}else{if(aC==9&&b.shiftKey&&ae>0){var ah=this.editKey;var ap=null;for(var ab=ae-1;ab>=0;ab--){if(this.columns.records[ab].editable&&!this.columns.records[ab].hidden){ap=this.columns.records[ab];break}}if(ap){this.endroweditbykey(this.editKey,false);this.beginroweditbykey(ah,ap)}}}if(aC==9){var aE=this.rowinfo[this.editKey];var ar=this.getrowindex(aE);var az=this._getuirow(this.editKey);if(!b.shiftKey&&!aw){var ag=null;for(var ab=0;ab<this.columns.records.length;ab++){if(this.columns.records[ab].editable&&!this.columns.records[ab].hidden){ag=this.columns.records[ab];break}}if(ag){while(az){az=az.next();if(az){var aq=az.attr("data-role");if(!aq){var ao=az.attr("data-key");break}}}if(ao){this.clearselection(false);this._lastSelectedKey=ao;var aE=this.rowsByKey[ao];var ar=this.getrowindex(aE);var ai=this.getrowdisplayindex(aE);this._raiseEvent("rowSelect",{key:ao,index:ai,boundIndex:ar,row:this.rowsByKey[ao]});this.endroweditbykey(this.editKey,false);this._doSelection(ao,true,true);this.beginroweditbykey(ao,ag)}}}else{if(!ap&&b.shiftKey){var ag=null;for(var ab=this.columns.records.length-1;ab>=0;ab--){if(this.columns.records[ab].editable&&!this.columns.records[ab].hidden){ag=this.columns.records[ab];break}}if(ag){while(az){az=az.prev();if(az){var aq=az.attr("data-role");if(!aq){var ao=az.attr("data-key");break}}}if(ao){this.clearselection(false);this._lastSelectedKey=ao;var aE=this.rowsByKey[ao];var ar=this.getrowindex(aE);var ai=this.getrowdisplayindex(aE);this._raiseEvent("rowSelect",{key:ao,index:ai,boundIndex:ar,row:this.rowsByKey[ao]});this.endroweditbykey(this.editKey,false);this._doSelection(ao,true,true);this.beginroweditbykey(ao,ag)}}}}return false}}}}}return true}if(b.ctrlKey){var aL=String.fromCharCode(aC).toLowerCase();if(aL=="c"||aL=="x"){var aF=this.getselection();if(aF.length>=1){var ay="";for(var aj=0;aj<this.renderedRecords.length;aj++){var a=this.renderedRecords[aj];for(var ab=0;ab<aF.length;ab++){var aE=aF[ab];if(aE.uid===a.uid){for(var ac=0;ac<this.columns.records.length;ac++){var au=this.getcelltextbykey(aE.uid,this.columns.records[ac].displayfield);ay+=au;if(ac<this.columns.records.length-1){ay+="\t"}}ay+="\n";break}}}if(ay!=""){ay=ay.substring(0,ay.length-1)}if(window.clipboardData){window.clipboardData.setData("Text",ay)}else{var af=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');af.val(ay);c("body").append(af);af.select();setTimeout(function(){document.designMode="off";af.select();af.remove()},100)}}}}if(aC===32&&this.treeGrid){if(this.treeGrid.checkboxes){var aF=this.getselection();if(aF.length>1){for(var ab=0;ab<aF.length;ab++){var an=aF[ab].uid;if(this.rowinfo[an].checked){this.treeGrid.uncheckrow(an,false)}else{this.treeGrid.checkrow(an,false)}}this._renderrows();return false}else{var aB=az.attr("data-key");if(aB){if(this.rowinfo[aB].checked){this.treeGrid.uncheckrow(aB)}else{this.treeGrid.checkrow(aB)}return false}}}}var aN=az.index();var p=function(k){var e=null;var h=c(al._table.children()[1]).children().length-1;var f=c(c(al._table.children()[1]).children()[h]);var g=f.attr("data-role");if(!g){e=f.attr("data-key")}else{while(f){f=f.prev();if(f){var g=f.attr("data-role");if(!g){e=f.attr("data-key");break}}}}if(k=="all"){return{row:f,key:e}}return e};var aK=function(g){var e=null;var f=c(c(al._table.children()[1]).children()[0]);var h=f.attr("data-role");if(!h){e=f.attr("data-key")}else{while(f){f=f.next();if(f){var h=f.attr("data-role");if(!h){e=f.attr("data-key");break}}}}if(g=="all"){return{row:f,key:e}}return e};var aB=null;var aH=function(){if(!ad&&!ax){al.clearselection(false)}if(aC==33||aC==37){var e=aN;aB=al._getuikey(e,"prev");if(!aB){aB=aK()}}else{if(aC==34||aC==39){var e=aN;aB=al._getuikey(e,"next");if(!aB){aB=p()}}else{if(aC==38){aB=p()}else{if(aC==40){aB=aK()}}}}al._lastSelectedKey=aB;var g=al.rowsByKey[aB];var e=al.getrowindex(g);var f=al.getrowdisplayindex(g);al._raiseEvent("rowSelect",{key:aB,index:f,boundIndex:e,row:al.rowsByKey[aB]});al._doSelection(aB,true,true);al.host.focus()};var aI=function(){al.clearselection(false);var e=aK();if(ax||ad){al._selectRange(az.index(),0)}else{al._lastSelectedKey=e}al.selectrowbykey(e,"keyboard")};var aD=function(){al.clearselection(false);var f=p("all");var e=f.key;if(ax||ad){al._selectRange(az.index(),f.row.index())}else{al._lastSelectedKey=e}al.selectrowbykey(e,"keyboard")};if(this.treeGrid&&this.rtl){if(aC==37){aC=39}else{if(aC==39){aC=37}}}if(aC==36||(ad&&aC==38)){aI();return false}else{if(aC==35||(ad&&aC==40)){aD();return false}else{if(aC==33||aC==37){var aB=az.attr("data-key");if(this.rowdetails&&aC==37&&!this.treeGrid){this.hidedetailsbykey(aB);return false}else{if(this.treeGrid&&aC==37){if(this.rowinfo[aB].row&&!this.rowinfo[aB].row[aa.parent]&&!this.rowinfo[aB][aa.leaf]&&!this.rowinfo[aB].expanded){return false}if(this.rowinfo[aB].expanded&&!this.rowinfo[aB][aa.leaf]){this.treeGrid.collapserow(aB);return false}else{if(this.rowinfo[aB].row&&this.rowinfo[aB].row[aa.parent]){aB=this.rowinfo[aB].row[aa.parent].uid}}if(this.rowinfo[aB][aa.leaf]){return false}}}if(this.pageable&&!this.treeGrid){if(!this.rtl){this.gotoprevpage(aH)}else{this.gotonextpage(aH)}return false}if(this.treeGrid&&this.pageable&&aC==33){this.gotoprevpage(aH);return false}}else{if(aC==34||aC==39){var aB=az.attr("data-key");if(this.rowdetails&&aC==39&&!this.treeGrid){this.showdetailsbykey(aB);return false}else{if(this.treeGrid&&aC==39){if(this.rowinfo[aB][aa.leaf]){return false}if(!this.rowinfo[aB].expanded){this.treeGrid.expandrow(aB);return false}else{if(this.rowinfo[aB].row&&this.rowinfo[aB].row.records&&this.rowinfo[aB].row.records.length>0){if(this.dataview.filters.length>0){var aG=this.rowinfo[aB].row.records;for(var ab=0;ab<aG.length;ab++){if(aG[ab]._visible){aB=aG[ab].uid;break}}}else{aB=this.rowinfo[aB].row.records[0].uid}}}}}if(this.pageable&&!this.treeGrid){if(!this.rtl){this.gotonextpage(aH)}else{this.gotoprevpage(aH)}return false}if(this.treeGrid&&this.pageable&&aC==34){this.gotonextpage(aH);return false}}else{if(aC==38){while(az){az=az.prev();if(az){var aq=az.attr("data-role");if(!aq){aB=az.attr("data-key");break}}}if(this.pageable&&aB==null){this.gotoprevpage(aH);return false}}else{if(aC==40){while(az){az=az.next();if(az){var aq=az.attr("data-role");if(!aq){aB=az.attr("data-key");break}}}if(this.pageable&&aB==null){this.gotonextpage(aH);return false}}}}}}}if(aB!=null){if(!ad&&!ax){this.clearselection(false)}if(this.rowinfo[aB]){if(this.rowinfo[aB].selected&&(ad||ax)){this._doSelection(this._lastSelectedKey,false,false);this._lastSelectedKey=aB;var aE=this.rowsByKey[aB];var ar=this.getrowindex(aE);al._updateSelection();var ai=this.getrowdisplayindex(aE);this._raiseEvent("rowUnselect",{key:aB,index:ai,boundIndex:ar,row:aE});return false}}this._lastSelectedKey=aB;var aE=this.rowsByKey[aB];var ar=this.getrowindex(aE);this._doSelection(aB,true,false);al._updateSelection();var ai=this.getrowdisplayindex(aE);this._raiseEvent("rowSelect",{key:aB,index:ai,boundIndex:ar,row:aE});if(this.treeGrid){if(aC==37){var az=this._getuirow(aB);var Z=null;if(az){var aq=az.attr("data-role");if(!aq){Z=az.attr("data-key")}}if(this.pageable&&Z==null&&this.dataview.pagenum>0){while(this._getuirow(aB)==null&&this.dataview.pagenum>0){this.gotoprevpage()}}}else{if(aC==39){var az=this._getuirow(aB);var Z=null;if(az){var aq=az.attr("data-role");if(!aq){Z=az.attr("data-key")}}if(this.pageable&&Z==null){this.gotonextpage()}}}}return false}},_selection:function(m){if("selectionStart" in m[0]){var b=m[0];var a=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:a,text:b.value}}else{var k=document.selection.createRange();if(k==null){return{start:0,end:b.value.length,length:0}}var l=m[0].createTextRange();var e=l.duplicate();l.moveToBookmark(k.getBookmark());e.setEndPoint("EndToStart",l);var a=k.text.length;return{start:e.text.length,end:e.text.length+k.text.length,length:a,text:k.text}}},_doSelection:function(h,b,g){if(h==null){this.clearselection();return}if(this.selectionmode==="singlerow"){this.clearselection(false)}var a=this.rowinfo[h];if(a){a.selected=b;this.ensurerowvisiblebykey(h)}else{this.ensurerowvisiblebykey(h);var a=this.rowinfo[h];if(a){a.selected=b}else{this.rowinfo[h]={selected:b}}}if(this.selectionmode!="none"){if(g!==false){this._renderrows()}}},clearselection:function(l){if(this.rowinfo){var k=this.getRows();for(var a in this.rowinfo){var b=this.rowinfo[a];if(b.selected){b.selected=false;var m=k.indexOf(b.row);var n=this.getrowdisplayindex(b.row);this._raiseEvent("rowUnselect",{key:a,index:n,boundIndex:m,row:b.row})}}}if(l!==false){this._renderrows()}},exportdata:function(aK){if(!c.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid){throw"jqxDataTable: Missing reference to jqxdata.export.js!"}throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var aT=this.exportSettings.columnsHeader;if(aT==undefined){aT=true}var aH=this.exportSettings.hiddenColumns;if(aH==undefined){aH=false}var al=this.exportSettings.serverURL;var at=this.exportSettings.characterSet;var aC=this.exportSettings.collapsedRecords;if(aC==undefined){aC=false}var aw=this.exportSettings.fileName;if(aw===undefined){aw=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data"}var aL=this;var ad=this.getRows();if(this.exportSettings.recordsInView==true){ad=this.getView()}if(this.groups&&this.groups.length>0){var aS=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",ad);var aQ=function(l,k){for(var g=0;g<l.length;g++){var f=c.extend({},l[g]);k.push(f);if(f.records&&f.records.length>0){var e=aQ(f.records,new Array());for(var h=0;h<e.length;h++){if(e[h].leaf){k.push(e[h])}else{k.push(e[h])}}}}return k};var aj=aQ.call(this,aS,new Array());ad=aj}if(ad.length==0){throw"No data to export."}this.exporting=true;if(this.altrows){this._renderrows()}var aO=new Array();for(var ae=0;ae<this.columns.records.length;ae++){if(!aH&&this.columns.records[ae].hidden){continue}aO.push(c.extend({},this.columns.records[ae]))}if(this.groups&&this.groups.length>0){if(aO.length>0){var b=this._names();for(var ae=0;ae<ad.length;ae++){if(!ad[ae][b.leaf]){if(!aL.rtl){ad[ae][aO[0].displayfield]=ad[ae].label}else{ad[ae][aO[aO.length-1].displayfield]=ad[ae].label}}}}}var aU=0;if(this.treeGrid){var ap=this.treeGrid.getRows();if(this.exportSettings.recordsInView==true){ap=this.getView()}var b=this._names();var aX=function(g){for(var f=0;f<g.length;f++){var e=g[f];var h=e[b.expanded]||(!e[b.expanded]&&aC);if(e[b.leaf]){aU=Math.max(aU,e[b.level])}if(e.records&&e.records.length>0&&h){aU=Math.max(aU,e[b.level]);aX(g[f].records)}}};aX(ap);if(aU!=0){aU++}if(aK!="xml"&&aK!="json"){var aJ=aO.length;for(var ae=0;ae<aU;ae++){var ak=new d(this,this);ak.width=this.indentwidth;ak.datafield="Level"+ae;ak.displayfield="Level"+ae;ak.align="center";ak.cellsalign="center";ak.text="";if(!this.rtl){aO.splice(ae,0,ak)}else{aO.splice(aJ,0,ak)}}var aF=new Array();var aG=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?true:false;var ah=function(k){for(var g=0;g<k.length;g++){var m=c.extend({},k[g]);for(var h=0;h<m[b.level];h++){m["Level"+h]=""}var l=m[b.expanded]||(!m[b.expanded]&&aC);if(aK=="xls"||aK=="html"){if(m.records&&m.records.length>0){m["Level"+m[b.level]]=l?"-":"+"}else{m["Level"+m[b.level]]=""}}else{m["Level"+m[b.level]]=""}if(m[b.leaf]){m["Level"+m[b.level]]=""}for(var h=m[b.level]+1;h<aU;h++){m["Level"+h]=""}if(aG&&!m[b.leaf]){if(!aL.rtl){m[aO[aU].displayfield]=m.label}else{m[aO[aO.length-aU-1].displayfield]=m.label}}if(m.aggregate){var e=aK=="xls"?"AG":"";for(var h=aU;h<aO.length;h++){var f=h;if(aL.rtl){f=aO.length-h-1}if(m[aO[f].displayfield]!=undefined){m[aO[f].displayfield]=e+m[aO[f].displayfield]}}}aF.push(m);if(l&&!m[b.leaf]){ah(m.records)}}};ah(ap);ad=aF}else{ad=ap}}var aV=aH!=undefined?aH:false;var ac={};var az={};var aR=[];var ao=this.host.find(".jqx-grid-cell:first");var aP=this.host.find(".jqx-grid-cell-alt:first");var aA=this.toThemeProperty;ao.removeClass(aA("jqx-grid-cell-selected"));ao.removeClass(aA("jqx-fill-state-pressed"));aP.removeClass(aA("jqx-grid-cell-selected"));aP.removeClass(aA("jqx-fill-state-pressed"));ao.removeClass(aA("jqx-grid-cell-hover"));ao.removeClass(aA("jqx-fill-state-hover"));aP.removeClass(aA("jqx-grid-cell-hover"));aP.removeClass(aA("jqx-fill-state-hover"));var ax="cell";var aB=1;var aq="column";var aE=1;var aD=[];for(var ag=0;ag<aO.length;ag++){var ak=aO[ag];if(ak.cellclassname!=""){ak.customCellStyles=new Array();if(typeof ak.cellclassname=="string"){ak.customCellStyles.push(ak.cellclassname)}else{for(var ae=0;ae<ad.length;ae++){var aY=ae;var af=ak.cellclassname(aY,ak.displayfield,ad[ae][ak.displayfield],ad[ae]);if(af){ak.customCellStyles[ae]=af}}}}}c.each(aO,function(n){var k=n;if(n>=aU){k=aO.length-aU-1}else{if(aU>0&&n<aU){k=0}}var h=c(aL._table[0].rows[0].cells[k]);if(aL._table[0].rows.length>1){var e=c(aL._table[0].rows[1].cells[k]);if(e.length==0){var e=c(aL._table[0].rows[1].cells[0])}}if(h.length==0){var h=c(aL._table[0].rows[0].cells[0])}var o=this;var m=function(t){var q=aL.toThemeProperty;t.removeClass(q("jqx-cell"));t.removeClass(q("jqx-grid-cell-selected"));t.removeClass(q("jqx-fill-state-pressed"));t.removeClass(q("jqx-grid-cell-hover"));t.removeClass(q("jqx-fill-state-hover"));if(o.customCellStyles){for(var s in o.customCellStyles){t.removeClass(o.customCellStyles[s])}}};m(h);if(e){m(e)}if(this.displayfield==null){return true}if(aL.showaggregates){if(aL.getcolumnaggregateddata){aD.push(aL.getcolumnaggregateddata(this.displayfield,this.aggregates,true,ad))}}var l=aL._getexportcolumntype(this);if(this.exportable&&(!this.hidden||aV)){ac[this.displayfield]={};ac[this.displayfield].text=this.text;ac[this.displayfield].width=parseInt(this.width);if(isNaN(ac[this.displayfield].width)){ac[this.displayfield].width=60}ac[this.displayfield].formatString=this.cellsformat;ac[this.displayfield].localization=aL.gridlocalization;ac[this.displayfield].type=l;ac[this.displayfield].cellsAlign=this.cellsalign;ac[this.displayfield].hidden=!aT;ac[this.displayfield].index=k;ac[this.displayfield].maxIndex=aO.length}ax="cell"+aB;var g=this.element;if(aK!="json"&&aK!="xml"){aq="column"+aE;var f=function(z,q,s,y,t,w,x,v,u){az[z]={index:1+x,maxIndex:aO.length};if(w.rtl){az[z].index=aO.length-x}if(aK=="html"||aK=="xls"||aK=="pdf"){if(q){az[z]["font-size"]=q.css("font-size");az[z]["font-weight"]=q.css("font-weight");az[z]["font-style"]=q.css("font-style");az[z]["background-color"]=w._getexportcolor(q.css("background-color"));az[z]["color"]=w._getexportcolor(q.css("color"));az[z]["border-color"]=w._getexportcolor(q.css("border-top-color"))}if(s){az[z]["text-align"]=t.align}else{az[z]["text-align"]=t.cellsalign;az[z]["formatString"]=t.cellsformat;az[z]["dataType"]=l}if(aK=="html"||aK=="pdf"){az[z]["border-top-width"]="0px";if(!w.rtl){az[z]["border-left-width"]="0px";az[z]["border-right-width"]="1px"}else{az[z]["border-left-width"]="1px";az[z]["border-right-width"]="0px";if(x==aO.length-aU-1&&s){az[z]["border-right-width"]="1px"}}az[z]["border-bottom-width"]="1px";if(q){az[z]["border-top-style"]=q.css("border-top-style");az[z]["border-left-style"]=q.css("border-left-style");az[z]["border-right-style"]=q.css("border-right-style");az[z]["border-bottom-style"]=q.css("border-bottom-style")}if(s){if(x==0&&!w.rtl){az[z]["border-left-width"]="1px"}else{if(x==aO.length-1&&w.rtl){az[z]["border-right-width"]="1px"}}if(q){az[z]["border-top-width"]="1px";az[z]["border-bottom-width"]=q.css("border-bottom-width")}}else{if(x==0&&!w.rtl){az[z]["border-left-width"]="1px"}else{if(x==aO.length-1&&w.rtl){az[z]["border-right-width"]="1px"}}}if(q){az[z]["height"]=q.css("height")}if(w.treeGrid&&!s){if(az[z].index-1<aU){if(w.rtl){az[z]["border-left-width"]="0px"}else{az[z]["border-right-width"]="0px"}}else{if(az[z].index-1==aU){if(!w.rtl){az[z]["border-left-width"]="0px"}else{az[z]["border-right-width"]="0px"}}}}}}if(t.exportable&&(!t.hidden||aV)){if(v==true){if(!ac[t.displayfield].customCellStyles){ac[t.displayfield].customCellStyles=new Array()}ac[t.displayfield].customCellStyles[u]=z}else{if(s){ac[t.displayfield].style=z}else{if(!y){ac[t.displayfield].cellStyle=z}else{ac[t.displayfield].cellAltStyle=z}}}}};f(aq,g,true,false,this,aL,n);aE++;f(ax,h,false,false,this,aL,n);if(aL.altrows){ax="cellalt"+aB;f(ax,e,false,true,this,aL,n)}if(this.customCellStyles){for(var p in o.customCellStyles){h.removeClass(o.customCellStyles[p])}for(var p in o.customCellStyles){h.addClass(o.customCellStyles[p]);f(ax+o.customCellStyles[p],h,false,false,this,aL,n,true,p);h.removeClass(o.customCellStyles[p])}}aB++}});if(aK!="json"&&aK!="xml"){if(aU>0&&this.treeGrid){var a=aU+1;if(this.rtl){a=aO.length-aU}if(az["column"+a]){var aW=az["column"+a];aW.merge=aU;aW["border-left-width"]="1px";var au=az["cell"+a];for(var ae=0;ae<aO.length;ae++){var a=ae+1;if(this.rtl){a=aO.length-ae}az["column"+a].level=ae;az["column"+a].maxLevel=aU;az["cell"+a].maxLevel=aU;if(az["cellalt"+a]){az["cellalt"+a].maxLevel=aU}}for(var ae=0;ae<aU;ae++){var a=ae+1;var ay=ae;if(this.rtl){a=aO.length-ae}var aM=az["column"+a];aM.disabled=true;az["cell"+a].level=ay;az["cell"+a].maxLevel=aU;az["column"+a].level=ay;if(az["cellalt"+a]){az["cellalt"+a].level=ay;az["cellalt"+a].maxLevel=aU}if(aK=="html"||aK=="pdf"||aK=="xls"){aM["font-size"]=aW["font-size"];aM["font-weight"]=aW["font-weight"];aM["font-style"]=aW["font-style"];aM["background-color"]=aW["background-color"];aM.color=aW.color;aM["border-color"]=aW["border-color"];if(aK=="html"||aK=="pdf"){aM["border-top-width"]=aW["border-top-width"];aM["border-left-width"]=aW["border-left-width"];if(this.rtl){aM["border-right-width"]=aW["border-right-width"];if(ae==0){aM["border-right-width"]="1px"}}if(ae==0&&!this.rtl){aM["border-left-width"]="0px"}else{if(ae==0&&this.rtl){aM["border-left-width"]="0px"}}if(!this.rtl){aM["border-right-width"]="0px"}else{if(this.rtl){aM["border-left-width"]="0px"}}aM["border-bottom-width"]="0px";var aM=az["cell"+a];if(!this.rtl){aM["border-right-width"]="0px"}else{if(this.rtl){aM["border-left-width"]="0px"}}}}}}}}if(this.showaggregates){var av=[];var an=aK=="xls"?"AG":"";var am=0;if(this.rowdetails&&!this.treeGrid){am++}if(aD.length>0){c.each(aO,function(f){if(this.aggregates){for(var h=0;h<this.aggregates.length;h++){if(!av[h]){av[h]={}}if(av[h]){var g=aL._getaggregatename(this.aggregates[h]);var e=aL._getaggregatetype(this.aggregates[h]);var k=aD[f-am];if(k){av[h][this.displayfield]=an+g+": "+k[e]}}}}});c.each(aO,function(e){for(var f=0;f<av.length;f++){if(av[f][this.displayfield]==undefined){av[f][this.displayfield]=an}}})}c.each(av,function(){ad.push(this)})}var ar=this;var ai=c.jqx.dataAdapter.ArrayExporter(ad,ac,az,al,this.treeGrid&&(aK=="xml"||aK=="json"));if(aw==undefined){this._renderrows();var aI=ai.exportTo(aK);if(this.showaggregates){c.each(av,function(){ad.pop(this)})}setTimeout(function(){ar.exporting=false},50);return aI}else{var aN=this.treeGrid&&(aK=="xml"||aK=="json");ai.exportToFile(aK,aw,al,at,aN)}if(this.showaggregates){c.each(av,function(){ad.pop(this)})}this._renderrows();setTimeout(function(){ar.exporting=false},50)},_getexportcolor:function(b){var q=b;if(b=="transparent"){q="#FFFFFF"}if(!q||!q.toString()){q="#FFFFFF"}if(q.toString().indexOf("rgb")!=-1){var o=q.split(",");if(q.toString().indexOf("rgba")!=-1){var t=parseInt(o[0].substring(5));var p=parseInt(o[1]);var n=parseInt(o[2]);var g=parseInt(o[3].substring(1,4));var a={r:t,g:p,b:n};var s=this._rgbToHex(a);if(t==0&&p==0&&n==0&&g==0){return"#ffffff"}return"#"+s}var t=parseInt(o[0].substring(4));var p=parseInt(o[1]);var n=parseInt(o[2].substring(1,4));var a={r:t,g:p,b:n};var s=this._rgbToHex(a);return"#"+s}else{if(q.toString().indexOf("#")!=-1){if(q.toString().length==4){var u=q.toString().substring(1,4);q+=u}}}return q},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=(parseInt(a).toString(16));if(b.length==1){b=("0"+b)}return b.toUpperCase()},_getexportcolumntype:function(l){var k=this;var m="string";var n=k.source.datafields||((k.source._source)?k.source._source.datafields:null);if(n){var a="";c.each(n,function(){if(this.name==l.displayfield){if(this.type){a=this.type}return false}});if(a){return a}}if(l!=null){if(this.dataview.cachedrecords==undefined){return m}var p=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return m}p=this.dataview.cachedrecords[0][l.displayfield];if(p!=null&&p.toString()==""){return"string"}}else{c.each(this.dataview.cachedrecords,function(){p=this[l.displayfield];return false})}if(p!=null){if(l.cellsformat.indexOf("c")!=-1){return"number"}if(l.cellsformat.indexOf("n")!=-1){return"number"}if(l.cellsformat.indexOf("p")!=-1){return"number"}if(l.cellsformat.indexOf("d")!=-1){return"date"}if(l.cellsformat.indexOf("y")!=-1){return"date"}if(l.cellsformat.indexOf("M")!=-1){return"date"}if(l.cellsformat.indexOf("m")!=-1){return"date"}if(l.cellsformat.indexOf("t")!=-1){return"date"}if(typeof p=="boolean"){m="boolean"}else{if(c.jqx.dataFormat.isNumber(p)){m="number"}else{var b=new Date(p);if(b.toString()=="NaN"||b.toString()=="Invalid Date"){if(c.jqx.dataFormat){b=c.jqx.dataFormat.tryparsedate(p);if(b!=null){if(b&&b.getFullYear()){if(b.getFullYear()==1970&&b.getMonth()==0&&b.getDate()==1){var o=new Number(p);if(!isNaN(o)){return"number"}return"string"}}return"date"}else{m="string"}}else{m="string"}}else{m="date"}}}}}return m},showdetails:function(b){var a=this._getkey(b);this.showdetailsbykey(a)},hidedetails:function(b){var a=this._getkey(b);this.hidedetailsbykey(a)},setcellvaluebykey:function(I,J,E){var S=this.rowsByKey[I];var R=this.getrowindex(S);var U=S;if(U!=null&&U[J]==E){return false}if(U!=null&&U[J]===null&&E===""){return}var O="";if(U!=null&&U[J]!==E){var X=this.getcolumn(J);var W="string";var a=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(a){var H="";c.each(a,function(){if(this.name==X.displayfield){if(this.type){H=this.type}return false}});if(H){W=H}}O=U[J];if(!X.nullable||(E!=null&&E!==""&&X.nullable&&E.label===undefined)){if(c.jqx.dataFormat.isNumber(O)||W=="number"||W=="float"||W=="int"||W=="decimal"&&W!="date"){E=new Number(E);E=parseFloat(E);if(isNaN(E)){E=0}}else{if(c.jqx.dataFormat.isDate(O)||W=="date"){if(E!=""){var b=E;b=new Date(b);if(b!="Invalid Date"&&b!=null){E=b}else{if(b=="Invalid Date"){b=new Date();E=b}}}}}if(U[J]===E){return}}U[J]=E;if(this.treeGrid){var L=this.treeGrid.getrow(I);if(L){L[J]=E}}if(E!=null&&E.label!=null){var X=this.getcolumn(J);U[X.displayfield]=E.label;U[J]=E.value;if(this.treeGrid){var L=this.treeGrid.getrow(I);if(L){L[X.displayfield]=E.label;L[J]=E.value}}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates){if(this.source._source._localdata){var p=R;var F=this.source._source._localdata()[p];this.source.suspendKO=true;var Q=F;if(Q[J]&&Q[J].subscribe){if(E!=null&&E.label!=null){Q[X.displayfield](E.label);Q[J](E.value)}else{Q[J](E)}}else{var a=this.source._source.datafields;var Y=null;var M=null;if(a){c.each(a,function(){if(this.name==J){M=this.map;return false}})}if(M==null){if(E!=null&&E.label!=null){Q[J]=E.value;Q[X.displayfield]=E.label}else{Q[J]=E}}else{var V=M.split(this.source.mapChar);if(V.length>0){var Z=Q;for(var G=0;G<V.length-1;G++){Z=Z[V[G]]}Z[V[V.length-1]]=E}}this.source._source._localdata.replace(F,c.extend({},Q))}this.source.suspendKO=false}}if(this.source.updaterow&&(sync==undefined||sync==true)){var P=false;var N=function(e){if(false==e){this.setcellvalue(S,J,O,true,false)}};try{var T=I;P=this.source.updaterow(T,U,N);if(P==undefined){P=true}}catch(D){P=false;this.setcellvalue(S,J,O);return}}var K=this.getrowdisplayindex(S);this._raiseEvent("cellValueChanged",{value:E,oldValue:O,key:I,boundIndex:R,index:K,row:this.rowsByKey[I]});this._renderrows()},setcellvalue:function(a,k,b){if(a==null||k==null){return false}var l=parseInt(a);var h=this._getkey(l);this.setcellvaluebykey(h,k,b)},getcelltext:function(a,g){if(a==null||g==null){return false}var h=parseInt(a);var b=this._getkey(h);return this.getcelltextbykey(b,g)},getcelltextbykey:function(b,g){if(b==null||g==null){return null}var h=this.getcellvaluebykey(b,g);var a=this.getcolumn(g);if(a&&a.cellsformat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(h)){h=c.jqx.dataFormat.formatdate(h,a.cellsformat,this.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(h)||(!isNaN(parseFloat(h))&&isFinite(h))){h=c.jqx.dataFormat.formatnumber(h,a.cellsformat,this.gridlocalization)}}}}return h},getcellvalue:function(a,g){if(a==null||g==null){return false}var h=parseInt(a);var b=this._getkey(h);return this.getcellvaluebykey(b,g)},getcellvaluebykey:function(l,m){var a=this.rowsByKey[l];if(!a&&this.treeGrid){a=this.treeGrid.getrow(l)}var n=this.getrowindex(a);var k=a;var b="";if(k!=null){return k[m]}return null},beginrowedit:function(b){var a=this._getkey(b);this.beginroweditbykey(a)},begincelledit:function(g,h){var b=this._getkey(g);var a=this.getcolumn(h);this.beginroweditbykey(b,a)},endcelledit:function(b,f,a){this.endrowedit(b,a)},endrowedit:function(f,a){var b=this._getkey(f);this.endroweditbykey(b,a)},getrowindex:function(a){var g=this.getRows().indexOf(a);if(g!=-1){return g}if(this.groups&&this.groups.length>0){var h=this.getRows();for(var b=0;b<h.length;b++){if(a.originalRecord){if(h[b].uid==a.originalRecord.uid){g=b;break}}else{if(h[b].uid==a.uid){g=b;break}}}}return g},getrowdisplayindex:function(a){var g=this.getView().indexOf(a);if(g!=-1){return g}if(a==undefined){return g}var h=this.getView();for(var b=0;b<h.length;b++){if(h[b].uid==a.uid||(a.originalRecord&&h[b].uid==a.originalRecord.uid)){g=b;break}}return g},beginroweditbykey:function(J,Q){if(this._lastSelectedKey==null){this.selectrowbykey(J)}if(this.editKey===J&&this.editKey!=undefined){return false}if(this.rowinfo[J]&&this.rowinfo[J].locked){return false}if(this.editKey!=null){this.endroweditbykey(J,true);return false}var N=this.editSettings.editSingleCell;if(!Q&&N&&this.columns.records&&this.columns.records.length>0){for(var b=0;b<this.columns.records.length;b++){Q=this.columns.records[b];if(Q.editable&&!Q.hidden){break}}if(!Q){return false}}if(N&&Q&&!Q.editable){this.editKey=null;return false}if(N){this.editColumn=Q}var T=this;var V=this.rowsByKey[J];if(this.treeGrid){var V=this.treeGrid.getrow(J)}var U=this.getrowindex(V);var P=this._getuirow(J);var M=this._getpinneduirow(J);this._editors=new Array();var S=false;if(P){var Z=P[0].cells;var K=0;for(var b=0;b<Z.length;b++){var aa=this.columns.records[b];var ad=Z[b];if(aa.rowdetailscolumn){continue}if(aa.checkboxcolumn){continue}if(aa.pinned){ad=M[0].cells[b]}if(N&&Q&&aa.datafield!=Q.datafield){continue}c(ad).removeClass(this.toTP("jqx-grid-cell-selected"));c(ad).removeClass(this.toTP("jqx-fill-state-pressed"));c(ad).removeClass(this.toTP("jqx-grid-cell-hover"));c(ad).removeClass(this.toTP("jqx-fill-state-hover"));if(aa.columntype=="none"){continue}var I=c(ad).outerWidth();var G=c(ad).width();if(K===0){K=c(ad).outerHeight()-1}c(ad).css("padding","0px");cellContent="<div style='height:"+K+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var O=this.getcelltextbykey(J,aa.displayfield);ad.innerHTML=cellContent;var ac=c(ad.firstChild);switch(aa.columntype){case"textbox":case"default":var Y=c("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(ac);if(this.rtl){Y.css("direction","rtl")}Y.addClass(this.toThemeProperty("jqx-input"));Y.addClass(this.toThemeProperty("jqx-widget-content"));Y.addClass(this.toThemeProperty("jqx-cell-editor"));Y[0].onfocus=function(e){setTimeout(function(){if(e){var f=c(e.target).parent().parent().index();if(f>=0){T.ensurecolumnvisible(T.columns.records[f].datafield)}}else{var f=c(document.activeElement).parent().parent().index();if(f>=0){T.ensurecolumnvisible(T.columns.records[f].datafield)}}if(T.content){T.content[0].scrollTop=0;T.content[0].scrollLeft=0}if(T.gridcontent){T.gridcontent[0].scrollLeft=0;T.gridcontent[0].scrollTop=0}},10)};if(!aa.editable){Y.attr("disabled",true);Y.attr("readOnly",true);Y.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{if(!S){S=true;var ab=c.jqx.browser.msie&&c.jqx.browser.version>10;if(!ab){Y.focus()}var ae=Y;setTimeout(function(){if(!ab){ae.focus()}try{if("selectionStart" in ae[0]){ae[0].setSelectionRange(0,0)}else{var e=ae[0].createTextRange();e.collapse(true);e.moveEnd("character",0);e.moveStart("character",0);e.select()}}catch(g){var f=g}},10)}}Y.width(G);Y.height(K);if(c.jqx.browser.msie&&c.jqx.browser.version<9){Y.css("line-height",parseInt(K)+"px")}Y.css("text-align",aa.cellsalign);if(O===null){O=""}if(O==undefined){O=""}Y.val(O);if(aa.createeditor){var R=O;var O=this.getcellvaluebykey(J,aa.displayfield);aa.createeditor(!this.treeGrid?U:J,O,Y,R,G,K)}this._editors.push({column:aa,editor:Y});if(aa.cellsformat!=""){if(aa.cellsformat.indexOf("p")!=-1||aa.cellsformat.indexOf("c")!=-1||aa.cellsformat.indexOf("n")!=-1||aa.cellsformat.indexOf("f")!=-1){Y.keydown(function(o){var g=o.charCode?o.charCode:o.keyCode?o.keyCode:0;var l=String.fromCharCode(g);var k=parseInt(l);if(isNaN(k)){return true}if(T._selection(Y).length>0){return true}var m="";var n=Y.val();if(aa.cellsformat.length>1){var h=parseInt(aa.cellsformat.substring(1));if(isNaN(h)){h=0}}else{var h=0}if(h>0){if(n.indexOf(T.gridlocalization.decimalseparator)!=-1){if(T._selection(Y).start>n.indexOf(T.gridlocalization.decimalseparator)){return true}}}for(var f=0;f<n.length-h;f++){var e=n.substring(f,f+1);if(e.match(/^[0-9]+$/)!=null){m+=e}}if(m.length>=11){return false}})}}if(aa.initeditor){var R=O;var O=this.getcellvaluebykey(J,aa.displayfield);aa.initeditor(!this.treeGrid?U:J,O,Y,R,G,K)}break;case"custom":case"template":if(!this.editorsCache){this.editorsCache=new Array()}var X=c("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(ac);var F=c.trim(aa.datafield).split(" ").join("");if(F.indexOf(".")!=-1){F=F.replace(".","")}var a=this.editorsCache["templateeditor_"+F];if(aa.columntype=="custom"){var a=this.editorsCache["customeditor_"+F+"_"+J]}var R=O;var O=this.getcellvaluebykey(J,aa.displayfield);if(!a){var Y=c("<div style='border: none;'></div>");Y.width(I);Y.height(K);a=Y;if(O===null){O=""}if(aa.columntype!="custom"){this.editorsCache["templateeditor_"+F]=Y}else{this.editorsCache["customeditor_"+F+"_"+J]=Y}Y.appendTo(X);if(aa.createeditor){aa.createeditor(!this.treeGrid?U:J,O,Y,R,I,K)}}else{var Y=a;Y.width(I);Y.height(K);Y.appendTo(X)}if(aa.initeditor){aa.initeditor(!this.treeGrid?U:J,O,Y,R,I,K)}this._editors.push({column:aa,editor:Y});break}}}this.editKey=J;this.beginupdate();var L=this.getrowdisplayindex(V);this._raiseEvent("rowBeginEdit",{key:J,index:L,boundIndex:U,row:this.rowsByKey[J]});if(N){var V=this.rowsByKey[J];var H=null;var W=null;if(V){H=V[Q.datafield];W=V[Q.displayfield]}this._raiseEvent("cellBeginEdit",{value:H,displayValue:W,key:J,index:L,dataField:Q.datafield,displayField:Q.displayfield,boundIndex:U,row:this.rowsByKey[J]})}this.endupdate(false)},_toNumber:function(b){if(!b.indexOf&&b!=undefined){b=b.toString()}if(b.indexOf(this.gridlocalization.currencysymbol)>-1){b=b.replace(this.gridlocalization.currencysymbol,"")}var l=function(e,g,f){var n=e;if(g==f){return e}var m=n.indexOf(g);while(m!=-1){n=n.replace(g,f);m=n.indexOf(g)}return n};b=l(b,this.gridlocalization.thousandsseparator,"");b=b.replace(this.gridlocalization.decimalseparator,".");if(b.indexOf(this.gridlocalization.percentsymbol)>-1){b=b.replace(this.gridlocalization.percentsymbol,"")}var a="";for(var k=0;k<b.length;k++){var h=b.substring(k,k+1);if(h==="-"){a+="-"}if(h==="."){a+="."}if(h.match(/^[0-9]+$/)!=null){a+=h}}b=a;b=b.replace(/ /g,"");return b},_geteditorvalue:function(t,q,p,x){var b=new String();if(q){if(!t.geteditorvalue){switch(t.columntype){case"textbox":default:b=q.val();if(t.cellsformat!=""){var o="string";var u=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(u){var a="";c.each(u,function(){if(this.name==t.displayfield){if(this.type){a=this.type}return false}});if(a){o=a}}var s=o==="number"||o==="float"||o==="int"||o==="integer";var v=o==="date"||o==="time";if(s||(o==="string"&&(t.cellsformat.indexOf("p")!=-1||t.cellsformat.indexOf("c")!=-1||t.cellsformat.indexOf("n")!=-1||t.cellsformat.indexOf("f")!=-1))){if(b===""&&t.nullable){return""}b=this._toNumber(b);b=new Number(b);if(isNaN(b)){b=""}}if(v||(o==="string"&&(t.cellsformat.indexOf("H")!=-1||t.cellsformat.indexOf("m")!=-1||t.cellsformat.indexOf("M")!=-1||t.cellsformat.indexOf("y")!=-1||t.cellsformat.indexOf("h")!=-1||t.cellsformat.indexOf("d")!=-1))){if(b===""&&t.nullable){return""}var w=b;b=new Date(b);if(b=="Invalid Date"||b==null||t.cellsformat.length>1){if(c.jqx.dataFormat){b=c.jqx.dataFormat.parsedate(w,t.cellsformat,this.gridlocalization)}if(b=="Invalid Date"||b==null){b=""}}}}if(t.displayfield!=t.datafield){b={label:b,value:b}}break}}if(t.geteditorvalue){var y=this.getcellvaluebykey(x,t.displayfield);b=t.geteditorvalue(!this.treeGrid?p:x,y,q)}}return b},endroweditbykey:function(J,U){var R=this.rowsByKey[J];var Q=this.getrowindex(R);var P=this;if(U!==true){var K=this._editors;var V=true;if(K){var I=this.editKey;var C=this._getuirow(I);for(var D=0;D<K.length;D++){var T=K[D].editor;var W=K[D].column;var F=this._geteditorvalue(W,T,Q,I);if(W.validation){T.removeClass(this.toThemeProperty("jqx-grid-validation-label"));var L=W.datafield;try{var G=W.validation({value:F,row:I,datafield:W.datafield,displayfield:W.displayfield,column:W},F);var O=this.gridlocalization.validationstring;if(G.message!=undefined){O=G.message}var N=typeof G=="boolean"?G:G.result;if(!N){if(G.showmessage==undefined||G.showmessage==true){this._showvalidationpopup(C,L,O,T)}V=false}}catch(E){this._showvalidationpopup(C,L,this.gridlocalization.validationstring,T);V=false}}}if(V){this.dataview._sortHierarchyData=null;this.dataview._sortData=null;for(var D=0;D<K.length;D++){var T=K[D].editor;var W=K[D].column;var F=this._geteditorvalue(W,T,Q,I);var H=R[W.displayfield];if(F&&F.label!=undefined){R[W.displayfield]=F.label;R[W.datafield]=F.value}else{R[W.displayfield]=F}if(this.treeGrid){var M=this.treeGrid.getrow(I);if(M){M[W.displayfield]=F}}if(F!=H){if(this.editorsCache){var b="customeditor_"+W.displayfield+"_"+J;var B="templateeditor_"+W.displayfield;if(this.editorsCache[b]){this.editorsCache[b].detach()}if(this.editorsCache[B]){this.editorsCache[B].detach()}}this.beginupdate();this._raiseEvent("cellValueChanged",{value:F,oldValue:H,key:J,index:Q,row:R});this.endupdate(false)}}}}if(!V){return false}this.updaterowbykey(this.editKey,R,false)}if(this.editorsCache){for(var T in this.editorsCache){c(this.editorsCache[T]).detach()}}this.beginupdate();var a=this.getrowdisplayindex(R);this._raiseEvent("rowEndEdit",{key:J,index:a,boundIndex:Q,row:this.rowsByKey[J]});if(this.editSettings.editSingleCell){var R=this.rowsByKey[J];var F=null;var S=null;if(R){F=R[this.editColumn.datafield];S=R[this.editColumn.displayfield]}this._raiseEvent("cellEndEdit",{value:F,displayValue:S,key:J,index:a,dataField:this.editColumn.datafield,displayField:this.editColumn.displayfield,boundIndex:Q,row:this.rowsByKey[J]})}this.endupdate(false);this.editColumn=null;this.editKey=null;this._renderrows();this._renderhorizontalscroll();this.host.focus();setTimeout(function(){P.host.focus()},10);return true},_showvalidationpopup:function(b,D,a,v){if(a==undefined){var a=this.gridlocalization.validationstring}v.addClass(this.toThemeProperty("jqx-grid-validation-label"));var s=c("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>");var t=c("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(a);t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));s.addClass(this.toThemeProperty("jqx-grid-validation"));s.addClass(this.toThemeProperty("jqx-rc-all"));s.hide();t.hide();s.prependTo(this.table);t.prependTo(this.table);var A=this.hScrollInstance;var y=A.value;var B=parseInt(y);var w=this.getcolumn(D).uielement;var x=b;s.css("top",parseInt(x.position().top)+30+"px");var F=parseInt(s.css("top"));t.css("top",F-11);t.removeClass();t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var C=false;if(F>=this._table.height()){t.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));F=parseInt(x.position().top)-x.outerHeight()-5;if(F<0){F=0;t.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));C=true}s.css("top",F+"px");t.css("top",F+s.outerHeight()-9)}var u=-B+parseInt(c(w).position().left);t.css("left",B+u+30);var E=s.width();if(E+u>this.host.width()-20){var z=E+u-this.host.width()+40;u-=z}if(!C){s.css("left",B+u)}else{s.css("left",B+parseInt(c(w).position().left)-s.outerWidth())}v.mouseenter(function(){if(v.hasClass("jqx-grid-validation-label")){s.show();t.show()}});v.mouseleave(function(){s.hide();t.hide()});if(!this.popups){this.popups=new Array()}this.popups[this.popups.length]={validation:s,validationrow:t}},addrow:function(z,a,u,e){if(a!=undefined){this._datachanged=true;if(u==undefined){u="last"}var b=false;var t=this.that;if(z==null){var y=this.dataview.filters&&this.dataview.filters.length>0;var q=!y?this.dataview.totalrecords:this.source.records.length;if(!this.pageable){if(this.source._source.totalrecords){this.dataview.totalrecords=this.source._source.totalrecords}else{if(this.source._source.totalRecords){this.dataview.totalrecords=this.source._source.totalRecords}else{if(this.source.hierarchy.length!==0){this.dataview.totalrecords=this.source.hierarchy.length}else{this.dataview.totalrecords=this.source.records.length}}}var q=!y?this.dataview.totalrecords:this.source.records.length}if(!c.isArray(a)){z=this.dataview.getid(this.dataview.source.id,a,q);if(this.getcolumn(this.dataview.source.id)){a[this.dataview.source.id]=z}}else{var A=new Array();c.each(a,function(h,g){var f=t.dataview.getid(t.dataview.source.id,a[h],q+h);A.push(f);if(t.getcolumn(t.dataview.source.id)){a[h][t.dataview.source.id]=f}});z=A}}else{if(!c.isArray(a)){if(this.getcolumn(this.dataview.source.id)){a[this.dataview.source.id]=z}}else{c.each(a,function(h,g){var f=z[h];if(t.getcolumn(t.dataview.source.id)){a[h][t.dataview.source.id]=f}})}}var v=this.treeGrid?(this.treeGrid.virtualModeCreateRecords?true:false):false;var x=function(k,l,f,m){if(k._loading){throw new Error("jqxDataTable: "+k.loadingerrorthatssage);return false}var g=k.vScrollInstance.value;var h=false;if(!c.isArray(f)){f.uid=l;k.rowsByKey[l]=f;if(l==e){e=null}h=k.source.addRecord(f,m,e,v)}else{c.each(f,function(p,o){var n=null;if(l!=null&&l[p]!=null){n=l[p]}this.uid=n;k.rowsByKey[n]=this;if(l==e){e=null}h=k.source.addRecord(this,m,e,v)})}if(k._updating==undefined||k._updating==false){k.refresh()}if(k.source&&k.source._knockoutdatasource&&!k._updateFromAdapter&&k.autokoupdates){if(k.source._source._localdata){k.source.suspendKO=true;k.source._source._localdata.push(f);k.source.suspendKO=false}}k.vScrollInstance.setPosition(g);return h};if(this.source.addrow){var w=function(g,f){if(g==true||g==undefined){if(f!=undefined){z=f}x(t,z,a,u)}};try{if(!t.treeGrid){b=this.source.addrow(z,a,u,w)}else{b=this.source.addrow(z,a,u,e,w)}if(b==undefined){b=true}}catch(s){b=false}if(b==false){return false}}else{x(this,z,a,u)}return b}return false},deleterow:function(b){var a=this._getkey(b);this.deleterowbykey(a)},deleterowbykey:function(b){if(b!=undefined){this._datachanged=true;var a=false;var k=this.that;var m=function(f,g){if(f._loading){throw new Error("jqxDataTable: "+f.loadingerrorthatssage);return false}var e=false;var p=f.vScrollInstance.value;if(!c.isArray(g)){var e=false;if(f.rowsByKey[g]){e=true;if(f.rowinfo[g].selected){f.unselectrowbykey(g,false)}delete f.rowsByKey[g];if(f.treeGrid){if(f.rowinfo[g]){var o=f.rowinfo[g].row.records;var h=function(u){for(var t=0;t<u.length;t++){var s=u[t].uid;delete f.rowsByKey[s];delete f.rowinfo[s];if(u[t].records){h(u[t].records)}}};if(o){h(o)}}}delete f.rowinfo[g];f.source.deleteRecord(g)}}else{c.each(g,function(){var s=this;if(f.rowsByKey[s]){e=true;if(f.rowinfo[s].selected){f.unselectrowbykey(s,false)}delete f.rowsByKey[s];if(f.treeGrid){if(f.rowinfo[s]){var u=f.rowinfo[s].row.records;var t=function(w){for(var v=0;v<w.length;v++){var q=w[v].uid;delete f.rowsByKey[q];delete f.rowinfo[q];if(w[v].records){t(w[v].records)}}};if(u){t(u);delete f.rowinfo[s]}}}f.source.deleteRecord(s)}})}f.refresh();if(f.source&&f.source._knockoutdatasource&&!f._updateFromAdapter&&f.autokoupdates){if(f.source._source._localdata){f.source.suspendKO=true;f.source._source._localdata.pop(rowdata);f.source.suspendKO=false}}f.vScrollInstance.setPosition(p);return e};if(this.source.deleterow){var n=function(e){if(e==true||e==undefined){m(k,b)}};try{this.source.deleterow(b,n);if(a==undefined){a=true}}catch(l){a=false}}else{a=m(k,b)}return a}return false},updaterow:function(f,a){var b=this._getkey(f);this.updaterowbykey(b,a)},updaterowbykey:function(k,a,m){if(k!=undefined&&a!=undefined){var l=this.that;var b=false;var o=function(t,w,x){if(t._loading){throw new Error("jqxDataTable: "+t.loadingerrorthatssage);return false}var f=false;if(!c.isArray(w)){var u=t.rowsByKey[w];var e=function(q){if(!q){f=false}else{for(var s=0;s<t.columns.records.length;s++){q[t.columns.records[s].datafield]=x[t.columns.records[s].datafield];if(t.groups.length>0&&q.originalRecord){q.originalRecord[t.columns.records[s].datafield]=x[t.columns.records[s].datafield]}}}};e(u);if(t.treeGrid){u=t.treeGrid.getrow(w);e(u)}}else{c.each(w,function(s,q){var y=t.rowsByKey[this];var z=function(B,A){if(!y){f=false}else{y[this]=x[s]}};z(this,y);if(t.treeGrid){y=t.treeGrid.getrow(this);z(this,y)}})}var v=t.vScrollInstance.value;if(m==undefined||m==true){if(t._updating==undefined||t._updating==false){t._renderrows()}}if(t.showaggregates&&t._updatecolumnsaggregates){t._updatecolumnsaggregates()}if(t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates){if(t.source._source._localdata){var u=t.rowsByKey[w];var h=t.getrowindex(u);var g=t.source._source._localdata()[h];t.source.suspendKO=true;t.source._source._localdata.replace(g,c.extend({},u));t.source.suspendKO=false}}t.vScrollInstance.setPosition(v);return f};if(this.source.updaterow){var p=function(e){if(e==true||e==undefined){o(l,k,a)}};try{b=this.source.updaterow(k,a,p);if(b==undefined){b=true}}catch(n){b=false}}else{b=o(l,k,a)}return b}return false},lockrow:function(b){var a=this._getkey(b);this.lockrowbykey(a)},unlockrow:function(b){var a=this._getkey(b);this.unlockrowbykey(a)},lockrowbykey:function(a){if(this.rowinfo[a]){this.rowinfo[a].locked=true}else{this.rowinfo[a]={locked:true}}this._renderrows()},unlockrowbykey:function(a){if(this.rowinfo[a]){this.rowinfo[a].locked=false}else{this.rowinfo[a]={locked:false}}this._renderrows()},selectrow:function(b){var a=this._getkey(b);this.selectrowbykey(a)},unselectrow:function(b){var a=this._getkey(b);this.unselectrowbykey(a)},selectrowbykey:function(m,b,l){if(b!="keyboard"&&b!="mouse"){this._lastSelectedKey=m}var k=l!==false?true:false;this._doSelection(m,true,k);var a=this.rowsByKey[m];var n=this.getrowindex(a);var o=this.getrowdisplayindex(a);this._raiseEvent("rowSelect",{key:m,index:o,boundIndex:n,row:this.rowsByKey[m]})},unselectrowbykey:function(l,k){var b=k!==false?true:false;this._doSelection(l,false,b);var a=this.rowsByKey[l];var m=this.getrowindex(a);var n=this.getrowdisplayindex(a);this._raiseEvent("rowUnselect",{key:l,index:n,boundIndex:m,row:this.rowsByKey[l]})},getselection:function(){var f=new Array();if(this.rowinfo){for(var a in this.rowinfo){var b=this.rowinfo[a];if(b.selected){f.push(b.row)}}}return f},showdetailsbykey:function(n){if(!this.rowdetails){return}var b=this.rowinfo[n];if(b){b.expanded=true;var u=c(this._table.children()[1]).children(("[data-key="+n+"]"));var q=c(this._pinnedTable.children()[1]).children(("[data-key="+n+"]"));if(u){var w=q.children();var s=c(w[0]);if(this.rtl){var s=c(w[w.length-1])}if(!this.rtl){s.removeClass(this.toThemeProperty("jqx-grid-group-collapse"));s.addClass(this.toThemeProperty("jqx-grid-group-expand"));s.removeClass(this.toThemeProperty("jqx-icon-arrow-right"));s.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}else{s.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl"));s.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl"));s.removeClass(this.toThemeProperty("jqx-icon-arrow-left"));s.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}u.next().show();var p=q.next();p.show();if(c.jqx.browser.msie&&c.jqx.browser.version<8){u.next().children().show();q.next().children().show()}if(!b.initialized){var o=b.detailsHeight;var a=this.initrowdetails(n,b.row,c(c(p).children().children().children()[0]),b);b.details=c(p).children().children().children()[0];b.initialized=true;if(a===false||b.detailsHeight!=o){if(a===false){b.expanded=false;b.nodetails=true;p.hide()}this._renderrows()}}this._updateScrollbars();if(this.height==="auto"||this.height===null||this.autoheight){this._arrange()}var t=this.getrowindex(b.row);var v=this.getrowdisplayindex(b.row);this._raiseEvent("rowExpand",{row:b.row,index:v,boundIndex:t,rowKey:n})}}},hidedetailsbykey:function(k){if(!this.rowdetails){return}var a=this.rowinfo[k];if(a){a.expanded=false;var o=c(this._table.children()[1]).children(("[data-key="+k+"]"));var n=c(this._pinnedTable.children()[1]).children(("[data-key="+k+"]"));if(o){var l=n.children();var b=c(l[0]);if(this.rtl){var b=c(l[l.length-1])}if(!this.rtl){b.addClass(this.toThemeProperty("jqx-grid-group-collapse"));b.removeClass(this.toThemeProperty("jqx-grid-group-expand"));b.addClass(this.toThemeProperty("jqx-icon-arrow-right"));b.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))}else{b.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl"));b.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl"));b.addClass(this.toThemeProperty("jqx-icon-arrow-left"));b.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))}o.next().hide();n.next().hide();if(c.jqx.browser.msie&&c.jqx.browser.version<8){o.next().children().hide();n.next().children().hide()}this._updateScrollbars();if(this.height==="auto"||this.height===null||this.autoheight){this._arrange()}var m=this.getrowindex(a.row);var p=this.getrowdisplayindex(a.row);this._raiseEvent("rowCollapse",{row:a.row,index:p,boundIndex:m,rowKey:k})}}},_renderhorizontalscroll:function(){var y=this.hScrollInstance;var u=y.value;if(this.hScrollBar.css("visibility")==="hidden"){y.value=0;u=0}var B=parseInt(u);if(this.table==null){return}var b=this.columnsrow;var v=0;var q=this.columns.records.length-v;var z=this.columns.records;var s=this.source.records.length==0;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){B=y.max-B}}if(s&&!this._haspinned){this.table[0].style.left=-B+"px";b[0].style.marginLeft=-B+"px"}else{if(this._haspinned||this._haspinned==undefined){for(var w=0;w<v+q;w++){var A=z[w];if(A.pinned){var a=null;if(this.showaggregates){if(this.statusbar[0].cells){a=this.statusbar[0].cells[w]}}if(this.filterrow){if(this.filterrow[0].cells){filtercell=this.filterrow[0].cells[w]}}if(!this.rtl){var t=b[0].cells[w];t.style.marginLeft=B+"px";if(a){a.style.marginLeft=B+"px"}if(this.filterrow&&filtercell){filtercell.style.marginLeft=B+"px"}}else{var t=b[0].cells[w];t.style.marginLeft=-parseInt(u)+"px";if(a){a.style.marginLeft=-parseInt(u)+"px"}if(this.filterrow&&filtercell){filtercell.style.marginLeft=-parseInt(u)+"px"}}}}this._table[0].style.left=-B+"px";b[0].style.marginLeft=-B+"px"}else{if(this._haspinned==false){this.table[0].style.left=-B+"px";b[0].style.marginLeft=-B+"px"}}if(this.filterrow){this.filterrow[0].style.left=-B+"px"}}if(this.showaggregates){if(this.aggregates[0].cells){var x=0;if(this.rtl){if(this.vScrollBar.css("visibility")!="hidden"){if(this.hScrollBar.css("visibility")!="hidden"){x=2+parseInt(this.hScrollBar.css("left"))}else{x=3+parseInt(this.vScrollBar.width())}}}this.aggregates[0].style.marginLeft=-B+x+"px"}}},_initializeColumns:function(){var p=this.source.datafields;if(p==null&&this.source._source){p=this.source._source.datafields}var a=p?p.length>0:false;if(this.columns&&this.columns.records){for(var o=0;o<this.columns.records.length;o++){this._removecolumnhandlers(this.columns.records[o])}}var b=this;var q=new c.jqx.collection(this.element);var l=0;this._haspinned=false;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.selectionmode=="checkbox"){var n=new d(b,this);n.visibleindex=l++;n.width=b.indentwidth;n.checkboxcolumn=true;n.editable=false;n.columntype="checkbox";n.groupable=false;n.draggable=false;n.filterable=false;n.resizable=false;n.datafield="_checkboxcolumn";q.add(n)}if(this.rowdetails&&!this.treeGrid){var n=new d(b,this);n.visibleindex=l++;n.width=b.indentwidth;n.editable=false;n.rowdetailscolumn=true;n.groupable=false;n.draggable=false;n.pinned=true;n.filterable=false;n.resizable=false;q.add(n)}var m=new Array();c.each(this.columns,function(f){if(b.columns[f]!=undefined){var e=new d(b,this);e.visibleindex=l++;if(this.dataField!=undefined){this.datafield=this.dataField}if(this.pinned){b._haspinned=true}if(this.datafield==null){if(b.source&&b.source._source&&(b.source._source.datatype=="array")){if(!a){if(!b.source._source.datafields){b.source._source.datafields=new Array();b.source._source.datafields.push({name:f.toString()})}else{b.source._source.datafields.push({name:f.toString()})}}this.datafield=f.toString();this.displayfield=f.toString();e.datafield=this.datafield;e.displayfield=this.displayfield}}else{if(m[this.datafield]){throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");b.host.remove();return false}else{m[this.datafield]=true}}q.add(e)}});if(this.rtl){q.records.reverse()}this.columns=q},addfilter:function(f,a){var b=this.getcolumn(f);if(!b){return}this.dataview.addfilter(f,a)},removefilter:function(b){var a=this.getcolumn(b);if(!a){return}this.dataview.removefilter(b)},clearfilters:function(a,b){this.dataview.filters=new Array();this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(b!==false){this.resetfilter()}if(a===false){return}this.applyfilters()},resetfilter:function(){if(this.filterinput){this.filterinput.val("")}if(this.filterrow){for(var o=0;o<this.filterrow[0].cells.length;o++){var q=this.filterrow[0].cells[o];var p=c(q).find("input:first");var l=c(q).find(".filterconditions");var m=this.columns.records[o];var a="";if(!m.filterable){continue}p.val("");var b=this.getcolumntypebydatafield(m);var n=new c.jqx.filter();switch(b){case"number":case"int":case"float":case"decimal":filtertype="numericfilter";conditions=n.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter";conditions=n.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter";conditions=n.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter";conditions=n.getoperatorsbyfiltertype("stringfilter");break}if(l.length>0){if(filtertype==="stringfilter"){l.jqxDropDownList({selectedIndex:2})}else{l.jqxDropDownList({selectedIndex:0})}}}}},applyfilters:function(){if(this.editable){if(this.editKey!=null){var b=this.endroweditbykey(this.editKey)}}this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(this.serverProcessing){this.dataview.pagenum=0;this.updatebounddata("filter")}else{this.gotopage(0);this.refresh()}if(arguments&&arguments.length>0){if(this._updateSimpleFilter){if(this.filtercolumnsList){var a=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(a)}}if(this._updateFilterRow){this._updateFilterRow()}}this._raiseEvent("filter",{filters:this.dataview.filters})},sortby:function(g,a){this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(this._loading){throw new Error("jqxDataTable: "+this.loadingerrormessage);return false}if(this.editable){if(this.editKey!=null){var h=this.endroweditbykey(this.editKey)}}if(g==null){a=null;g=this.sortcolumn}if(g){var b=this;if(a=="a"||a=="asc"||a=="ascending"||a==true){ascending=true}else{ascending=false}if(a!=null){b.sortdirection={ascending:ascending,descending:!ascending}}else{b.sortdirection={ascending:false,descending:false}}if(a!=null){b.sortcolumn=g}else{b.sortcolumn=null}if(b.source.sort){b.dataview.sortfield=g;if(a==null){b.dataview.sortfielddirection=""}else{b.dataview.sortfielddirection=ascending?"asc":"desc"}if(b.source.sort&&!this._loading){b.source.sort(g,a)}}b.dataview.sortby(g,a);b._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}if(!this.serverProcessing){this.refresh()}else{this.updatebounddata("sort")}},_togglesort:function(g){var a=this;if(this.disabled){return}if(g.sortable&&a.sortable){var h={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection};var b=null;if(h.sortcolumn!=null&&h.sortcolumn==g.displayfield){b=h.sortdirection.ascending;if(b==true){b=false}else{b=null}}else{b=true}a.sortby(g.displayfield,b)}},_renderfilter:function(){var w=this;var v=c("<div style='position: relative; margin: 4px;'><input role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");v.height(22);var b=v.find("input");var x=v.find("div:first");v.addClass(this.toThemeProperty("jqx-rc-all"));v.addClass(this.toThemeProperty("jqx-widget"));v.addClass(this.toThemeProperty("jqx-input-group"));b.addClass(this.toThemeProperty("jqx-input"));b.addClass(this.toThemeProperty("jqx-rc-l"));b.addClass(this.toThemeProperty("jqx-input-group-addon"));b.addClass(this.toThemeProperty("jqx-widget"));b.addClass(this.toThemeProperty("jqx-widget-content"));x.addClass(this.toThemeProperty("jqx-fill-state-normal"));x.addClass(this.toThemeProperty("jqx-rc-r"));x.addClass(this.toThemeProperty("jqx-input-group-addon"));x.find("div").addClass(this.toThemeProperty("jqx-icon-search"));this.filter.children().remove();this.filterbutton=x;var A=new Array();for(var y=0;y<w.columns.records.length;y++){if(w.columns.records[y].datafield&&w.columns.records[y].filterable){A.push({label:w.columns.records[y].text,value:w.columns.records[y].displayfield})}}var a=A.length<10?true:false;var t=c("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(t);var B=c("<div class='filtercolumns' style='margin: 4px; float: left;'></div>");this.filter.append(B);if(B.jqxDropDownList){B.jqxDropDownList({theme:this.theme,autoDropDownHeight:a,rtl:w.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:A,displayMember:"label",valueMember:"value"})}this.filtercolumnsList=B;var q=function(g){w.filterinput.val("");for(var f=0;f<w.dataview.filters.length;f++){var e=w.dataview.filters[f];if(e.datafield===g){w.filterinput.val(e.filter.getfilterat(0).filtervalue)}}};w._updateSimpleFilter=q;this.addHandler(B,"select",function(f){var e=f.args.item.value;q(e)});if(this.filtermode==="simple"){this.filtercolumnsList.hide();t.show();t.css("margin-top",-this.filter.height()/2)}else{this.filtercolumnsList.show();t.hide()}var s=function(){if(!x.hasClass("jqx-fill-state-disabled")){var l=b.val();if(B.jqxDropDownList){var g=B.jqxDropDownList("getSelectedItem")}var e=function(G,o,p){var n=new c.jqx.filter();var E=w.getcolumntypebydatafield(G);var D=w._getfiltertype(E);if(D=="datefilter"){var F=n.createfilter(D,o,"EQUAL",null,G.cellsformat,w.gridlocalization)}else{if(D=="numericfilter"||D=="booleanfilter"){if(D=="numericfilter"){if(w.gridlocalization.decimalseparator==","){if(o.indexOf(w.gridlocalization.decimalseparator)>=0){o=o.replace(w.gridlocalization.decimalseparator,".")}}if(o.indexOf(w.gridlocalization.currencysymbol)>=0){o=o.replace(w.gridlocalization.currencysymbol,"")}if(o.indexOf(w.gridlocalization.percentagesymbol)>=0){o=o.replace(w.gridlocalization.percentagesymbol,"")}}var F=n.createfilter(D,o,"EQUAL",null,G.cellsformat,w.gridlocalization)}else{var F=n.createfilter(D,o,"CONTAINS")}}n.operator=p;n.addfilter(0,F);return n};if(w.filtermode!=="simple"){if(g){var f=g.value;var h=w.getcolumn(f);var k=e(h,l,"and");if(l.length>0){w.removefilter(f);w.addfilter(f,k);w.applyfilters()}else{w.removefilter(f);w.applyfilters()}if(w.filtermode==="advanced"){if(w._updateFilterRow){w._updateFilterRow(true)}}}}else{w.clearfilters(false,false);if(l.length>0){for(var m=0;m<w.columns.records.length;m++){var h=w.columns.records[m];var k=e(h,l,"or");w.addfilter(h.datafield,k)}}w.applyfilters()}if(w.dataview.filters.length==0){w.filtericon.fadeOut(200)}else{w.filtericon.fadeIn(200)}}};b.keydown(function(e){if(e.keyCode===13){s();if(e.preventDefault){e.preventDefault()}return false}});x.click(function(){s()});this.filterinput=b;this.filter.append(v);if(this.filtermode=="advanced"){var z=c("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");v.append(z);this.addHandler(z,"click",function(g){var e=function(n){if(w.filterrow){for(var k=0;k<w.filterrow[0].cells.length;k++){var o=w.filterrow[0].cells[k];var m=c(o).find("input:first");var p=w.columns.records[k];if(!p.filterable){continue}if(n===true){m.val("")}for(var l=0;l<w.dataview.filters.length;l++){var h=w.dataview.filters[l];if(h.datafield===p.displayfield){m.val(h.filter.getfilterat(0).filtervalue);break}}}}};w._updateFilterRow=e;var f=function(){w.filtercolumnsList.jqxDropDownList({disabled:true});w.filterinput.addClass(w.toThemeProperty("jqx-fill-state-disabled"));w.filterinput.attr("disabled",true);w.filterbutton.addClass(w.toThemeProperty("jqx-fill-state-disabled"))};if(w.filter.find(".filterrow").length===0){w._renderadvancedfilter();f();e();w._arrange()}else{if(w.filter.find(".filterrow").css("display")==="none"){f();w.filter.find(".filterrow").removeClass("filterrow-hidden");e();w.filter.find(".filterrow").show()}else{w.filtercolumnsList.jqxDropDownList({disabled:false});w.filterinput.removeClass(w.toThemeProperty("jqx-fill-state-disabled"));w.filterinput.attr("disabled",false);w.filterbutton.removeClass(w.toThemeProperty("jqx-fill-state-disabled"));q(w.filtercolumnsList.jqxDropDownList("getSelectedItem").value);w.filter.find(".filterrow").addClass("filterrow-hidden");w.filter.find(".filterrow").hide()}w._arrange()}return false})}var u=c("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");u.attr("title",w.gridlocalization.filterclearstring);u.addClass(w.toThemeProperty("jqx-icon-close"));v.append(u);u.hide();w.filtericon=u;u.click(function(){w.clearfilters();w.filtericon.fadeOut(200)})},_renderadvancedfilter:function(){var b=this;var n=function(){b.clearfilters(false,false);var x=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value;var g=b.filterinput.val();for(var y=0;y<b.filterrow[0].cells.length;y++){var F=b.filterrow[0].cells[y];var G=c(F).find("input:first");var f=c(F).find(".filterconditions");var z=b.columns.records[y];var A="";if(!z.filterable){continue}if(z.displayfield===x){b.filterinput.val(G.val())}var h=b.getcolumntypebydatafield(z);var B=new c.jqx.filter();switch(h){case"number":case"int":case"float":case"decimal":filtertype="numericfilter";conditions=B.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter";conditions=B.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter";conditions=B.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter";conditions=B.getoperatorsbyfiltertype("stringfilter");break}if(f.length==0){if(filtertype==="stringfilter"){A=conditions[2]}else{A=conditions[0]}}else{var C=f.jqxDropDownList("getSelectedItem");if(C){A=conditions[C.index]}else{if(filtertype==="stringfilter"){A=conditions[2]}else{A=conditions[0]}}}var E=G.val();if(E.length>0){var e=z.displayfield;var D=new c.jqx.filter();if(filtertype=="numericfilter"){if(b.gridlocalization.decimalseparator==","){if(E.indexOf(b.gridlocalization.decimalseparator)>=0){E=E.replace(b.gridlocalization.decimalseparator,".")}}if(E.indexOf(b.gridlocalization.currencysymbol)>=0){E=E.replace(b.gridlocalization.currencysymbol,"")}if(E.indexOf(b.gridlocalization.percentagesymbol)>=0){E=E.replace(b.gridlocalization.percentagesymbol,"")}}var B=D.createfilter(filtertype,E,A,null,z.cellsformat,b.gridlocalization);D.addfilter(0,B);if(E.length>0){b.addfilter(e,D)}}}if(b.dataview.filters.length>0){b.applyfilters()}else{b.clearfilters()}if(b.dataview.filters.length==0){b.filtericon.fadeOut(200)}else{b.filtericon.fadeIn(200)}};var m=function(){var e=c("<div style='position: relative;' class='filterrow'></div>").appendTo(b.filter);b.filterrow=e;e[0].cells=new Array();e.height(24);e.width(b.table.width());var g=0;var h=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value;var f=b.filterinput.val();c.each(b.columns.records,function(){var t=this;var q=c("<div></div>").appendTo(e);q.css("position","absolute");q.css("left",t.uielement[0].style.left);if(t.pinned){q.css("z-index",b.tableZIndex+b.columns.records.length);q.addClass(b.toThemeProperty("jqx-widget-header"))}e[0].cells.push(q[0]);if(!this.filterable){return true}var u=c("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(q);u.keydown(function(o){if(o.keyCode===13){n()}});if(t.displayfield===h){u.val(f)}u.addClass(b.toThemeProperty("jqx-input"));u.addClass(b.toThemeProperty("jqx-rc-all"));u.addClass(b.toThemeProperty("jqx-widget"));u.addClass(b.toThemeProperty("jqx-widget-content"));var s=c("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(q);s.append(c("<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"));u.focus(function(){b.ensurecolumnvisible(t.displayfield);b.filter[0].scrollLeft=0;b.ensurecolumnvisible(t.displayfield);setTimeout(function(){b.filter[0].scrollLeft=0;b.ensurecolumnvisible(t.displayfield)},10)});s.click(function(){var o=c("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");o.insertAfter(s);s.remove();var v=b.getcolumntypebydatafield(t);var p=b._getfiltersbytype(v);if(v==="string"){index=2}else{index=0}o.jqxDropDownList({theme:b.theme,enableBrowserBoundsDetection:true,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:b.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:p,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}});b.addHandler(o,"close",function(w){u.focus();setTimeout(function(){u.focus()},10)});o.removeAttr("tabindex");o.find("div").removeAttr("tabindex");o.jqxDropDownList("open")});u[0].style.width=t.width-6-22+"px"});c("<div style='clear: both;'></div>").appendTo(e)};m();var a=c("<div class='filterrow'></div>").appendTo(b.filter);var l=c("<input type='button' style='float: left; margin-top: 4px; margin-left: 4px;' value='"+b.gridlocalization.filterapplystring+"'/>").appendTo(a);var k=c("<input type='button' style='float: left; margin-top: 4px;  margin-left: 4px;' value='"+b.gridlocalization.filtercancelstring+"'/>").appendTo(a);l.jqxButton({theme:b.theme});k.jqxButton({theme:b.theme});k.click(function(){b.filtercolumnsList.jqxDropDownList({disabled:false});b.filterinput.removeClass(b.toThemeProperty("jqx-fill-state-disabled"));b.filterinput.attr("disabled",false);b.filterbutton.removeClass(b.toThemeProperty("jqx-fill-state-disabled"));b.filter.find(".filterrow").addClass("filterrow-hidden");b.filter.find(".filterrow").hide();b._arrange()});l.click(function(){n()});b._renderhorizontalscroll()},_getfiltertype:function(b){var a="stringfilter";switch(b){case"number":case"int":case"float":case"decimal":a="numericfilter";break;case"boolean":case"bool":a="booleanfilter";break;case"date":case"time":a="datefilter";break;case"string":a="stringfilter";break}return a},getcolumntypebydatafield:function(h){var b=this;var k="string";var l=b.source.datafields||((b.source._source)?b.source._source.datafields:null);if(l){var a="";c.each(l,function(){if(this.name==h.displayfield){if(this.type){a=this.type}return false}});if(a){return a}}return k},_getfiltersbytype:function(f){var b=this;var a="";switch(f){case"number":case"float":case"int":a=b.gridlocalization.filternumericcomparisonoperators;break;case"date":a=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":a=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:a=b.gridlocalization.filterstringcomparisonoperators;break}return a},_getcellvalue:function(f,a){var b=null;b=a[f.datafield];if(f.displayfield!=null){b=a[f.displayfield]}if(b==null){b=""}return b},_renderrows:function(){if(this.editable){if(this.editKey!=null){var aF=this.endroweditbykey(this.editKey)}}if(this.treeGrid){this.treeGrid._renderrows();return}if(this._loading){return}if(this._updating){return}if(this.rendering){this.rendering()}var b=this;var au=0;this.table[0].rows=new Array();var aP=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");if(this.rtl){aP+=" "+this.toTP("jqx-cell-rtl")}var aJ=this.columns.records.length;var aE=c.jqx.browser.msie&&c.jqx.browser.version<8;if(aE){this.host.attr("hideFocus","true")}var aw=b.groups.length;var aO=new Array();var be=this.source.records;be=this.dataview.evaluate(be);this.dataViewRecords=be;if(this.dataview.pagesize=="all"||!this.pageable||this.serverProcessing){var a4=be;if(this.pageable&&this.serverProcessing&&be.length>this.dataview.pagesize){var a4=be.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}}else{var a4=be.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}if(b.groups&&b.groups.length>0){var az=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;var a3=b.source.getGroupedRecords(b.groups,"records","label",null,"data",null,"parent",a4,az);var a2=function(g,e){for(var h=0;h<g.length;h++){var l=g[h];e.push(l);if(l.records&&l.records.length>0){var f=a2(l.records,new Array());for(var k=0;k<f.length;k++){if(f[k].leaf){e.push(f[k])}else{e.push(f[k])}}}}return e};var aO=a2.call(b,a3,new Array());a4=aO;this.rowsByKey=new Array();for(var aH=0;aH<a4.length;aH++){var aR=a4[aH];this.rowsByKey[aR.uid]=aR}}var aO=a4;this.renderedRecords=aO;var t=aO.length;var at=this.tableZIndex;var aD=0;var w=0;if(aE){for(var aI=0;aI<aJ;aI++){var ao=this.columns.records[aI];var bg=ao.width;if(bg<ao.minwidth){bg=ao.minwidth}if(bg>ao.maxwidth){bg=ao.maxwidth}var bd=c('<table><tr><td role="gridcell" style="max-width: '+bg+"px; width:"+bg+'px;" class="'+aP+'"></td></tr></table>');c(document.body).append(bd);var bb=bd.find("td");aD=1+parseInt(bb.css("padding-left"))+parseInt(bb.css("padding-right"));bd.remove();break}}var aL=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"";var a0="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+aL+"' id='table"+this.element.id+"'><colgroup>";var aB="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+aL+"' id='pinnedtable"+this.element.id+"'><colgroup>";var aN=0;var a5=aJ;for(var aI=0;aI<aJ;aI++){var ao=this.columns.records[aI];if(ao.hidden){aN++;a5--;continue}var bg=ao.width;if(bg<ao.minwidth){bg=ao.minwidth}if(bg>ao.maxwidth){bg=ao.maxwidth}bg-=aD;if(bg<0){bg=0}if(aE){var a=bg;if(aI==aN){a++}if(ao.rowdetailscolumn){var a=a+4;aB+="<col style='max-width: "+a+"px; width: "+a+"px;'>";a0+="<col style='max-width: "+a+"px; width: "+a+"px;'>"}else{aB+="<col style='max-width: "+a+"px; width: "+a+"px;'>";a0+="<col style='max-width: "+a+"px; width: "+a+"px;'>"}}else{aB+="<col style='max-width: "+bg+"px; width: "+bg+"px;'>";a0+="<col style='max-width: "+bg+"px; width: "+bg+"px;'>"}w+=bg}a0+="</colgroup>";aB+="</colgroup>";this._hiddencolumns=false;var bf=false;if(this.rowdetails&&this._pinnedTable){this._pinnedTable.find("[data-role=details]").detach();this._table.find("[data-role=details]").detach()}if(t===0){var a9='<tr role="row">';var bc=this.host.height();if(this.pageable){bc-=this.pagerheight;if(this.pagerposition==="both"){bc-=this.pagerheight}}bc-=this.columnsheight;if(this.filterable){var aT=this.filter.find(".filterrow");var aX=this.filter.find(".filterrow-hidden");var aZ=1;if(aX.length>0){aZ=0}bc-=this.filterheight+this.filterheight*aT.length*aZ}if(this.showstatusbar){bc-=this.statusbarheight}if(this.showaggregates){bc-=this.aggregatesheight}if(bc<25){bc=25}if(this.hScrollBar[0].style.visibility!="hidden"){bc-=this.hScrollBar.outerHeight()}if(this.height==="auto"||this.height===null||this.autoheight){bc=300}var bd='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+bc+"px; height: "+bc+"px; max-width:"+w+"px; width:"+w+"px;";var aP=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");aP+=" "+this.toTP("jqx-center-align");bd+='" class="'+aP+'">';bd+=this.gridlocalization.emptydatastring;bd+="</td>";a9+=bd;a0+=a9;aB+=a9;this.table[0].style.width=w+2+"px";au=w}var a7=this.getRows();for(var aH=0;aH<aO.length;aH++){var aR=aO[aH];var aG=aR.uid;if(undefined===aR.uid){aR.uid=this.dataview.generatekey()}var a9='<tr data-key="'+aG+'" role="row" id="row'+aH+this.element.id+'">';var aV='<tr data-key="'+aG+'" role="row" id="row'+aH+this.element.id+'">';if(aw>0){if(aR.level<aw){var a9='<tr data-role="row-group" data-key="'+aG+'" role="row" id="row'+aH+this.element.id+'">';var aV='<tr data-role="row-group" data-key="'+aG+'" role="row" id="row'+aH+this.element.id+'">'}}var a8=0;var av=0;for(var aI=0;aI<aJ;aI++){var aW=this.columns.records[aI];if(aW.pinned||(this.rtl&&this.columns.records[aJ-1].pinned)){bf=true}var bg=aW.width;if(bg<aW.minwidth){bg=aW.minwidth}if(bg>aW.maxwidth){bg=aW.maxwidth}bg-=aD;if(bg<0){bg=0}var aP=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");if(aW.pinned){aP+=" "+this.toTP("jqx-grid-cell-pinned")}if(this.sortcolumn===aW.displayfield){aP+=" "+this.toTP("jqx-grid-cell-sort")}if(this.altrows&&aH%2!=0){aP+=" "+this.toTP("jqx-grid-cell-alt")}if(this.rtl){aP+=" "+this.toTP("jqx-cell-rtl")}var aA="";if(aw>0){if(aR.level<aw){if(!aE){aP+=" "+this.toTP("jqx-grid-cell-pinned");aA+=' colspan="'+aJ+'"';var a=0;for(var aY=0;aY<aJ;aY++){var ay=b.columns.records[aY];var a1=ay.width;if(a1<ay.minwidth){bg=ay.minwidth}if(a1>ay.maxwidth){bg=ay.maxwidth}a1-=aD;if(a1<0){a1=0}if(!ay.hidden){a+=a1}}bg=a}else{aP+=" "+this.toTP("jqx-grid-cell-pinned")}}}var bd='<td role="gridcell" '+aA+' style="max-width:'+bg+"px; width:"+bg+"px;";var aU='<td role="gridcell" '+aA+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+bg+"px; width:"+bg+"px;";if(aI==aJ-1&&aJ==1){bd+="border-right-color: transparent;";aU+="border-right-color: transparent;"}var ap=false;if(aw>0){if(aR.level<aw){ap=true}}if(!ap){if(aW.cellsalign!="left"){if(aW.cellsalign==="right"){aP+=" "+this.toTP("jqx-right-align")}else{aP+=" "+this.toTP("jqx-center-align")}}}else{if(this.rtl){aP+=" "+this.toTP("jqx-right-align")}}if(this.rowinfo[aR.uid]){if(this.rowinfo[aR.uid].selected&&!aW.rowdetailscolumn){if(this.editKey!==aR.uid){if(this.selectionmode!=="none"){aP+=" "+this.toTP("jqx-grid-cell-selected");aP+=" "+this.toTP("jqx-fill-state-pressed")}}}if(this.rowinfo[aR.uid].locked){aP+=" "+this.toTP("jqx-grid-cell-locked")}}if(!(aW.hidden)){a8+=aD+bg;if(av==0){bd+="border-left-width: 0px;";aU+="border-left-width: 0px;"}av++}else{if(!ap){bd+="display: none;";aU+="display: none;";this._hiddencolumns=true}}if(aw>0&&aE&&ap&&aI>=aw){bd+="font-size: 1px; border-color: transparent;  color: transparent;";aU+="font-size: 1px; border-color: transparent; color: transparent;"}if(aW.pinned){bd+="pointer-events: auto;";aU+="pointer-events: auto;"}if(!ap&&aW.rowdetailscolumn){if(this.rowinfo[aR.uid]){if(!this.rowinfo[aR.uid].nodetails){if(this.rowinfo[aR.uid].expanded){if(!this.rtl){aP+=" "+this.toTP("jqx-grid-group-expand")}else{aP+=" "+this.toTP("jqx-grid-group-expand-rtl")}aP+=" "+this.toTP("jqx-icon-arrow-down")}else{if(!this.rtl){aP+=" "+this.toTP("jqx-grid-group-collapse");aP+=" "+this.toTP("jqx-icon-arrow-right")}else{aP+=" "+this.toTP("jqx-grid-group-collapse-rtl");aP+=" "+this.toTP("jqx-icon-arrow-left")}}}}else{if(!this.rtl){aP+=" "+this.toTP("jqx-grid-group-collapse");aP+=" "+this.toTP("jqx-icon-arrow-right")}else{aP+=" "+this.toTP("jqx-grid-group-collapse-rtl");aP+=" "+this.toTP("jqx-icon-arrow-left")}}}if(!this.autorowheight){aP+=" "+this.toTP("jqx-grid-cell-nowrap ")}var aM=b._getcellvalue(aW,aR);if(aw>0){if(aR.level<aw){aM=aR.label}}if(aW.cellsformat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(aM)){aM=c.jqx.dataFormat.formatdate(aM,aW.cellsformat,b.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(aM)||(!isNaN(parseFloat(aM))&&isFinite(aM))){aM=c.jqx.dataFormat.formatnumber(aM,aW.cellsformat,b.gridlocalization)}}}}if(!ap){if(aW.cellclassname!=""&&aW.cellclassname){if(typeof aW.cellclassname=="string"){aP+=" "+aW.cellclassname}else{var a6=aW.cellclassname(aH,aW.datafield,aM,aR);if(a6){aP+=" "+a6}}}if(aW.cellsrenderer!=""&&aW.cellsrenderer){var bh=a7.indexOf(aR);aM=aW.cellsrenderer(bh,aW.datafield,aM,aR)}}else{if(this.groupsrenderer){aM=this.groupsrenderer(aM,aR,aR.level)}}bd+='" class="'+aP+'">';bd+=aM;bd+="</td>";aU+='" class="'+aP+'">';aU+=aM;aU+="</td>";if(!aW.pinned){a9+=bd;if(bf){aV+=aU}}else{aV+=bd;a9+=bd}if(aw>0&&!aE){if(aR.level<aw){break}}}if(au==0){this.table[0].style.width=a8+2+"px";au=a8}a9+="</tr>";aV+="</tr>";a0+=a9;aB+=aV;if(!this.rowinfo[aR.uid]){this.rowinfo[aR.uid]={group:ap,row:aR,details:null,detailsHeight:200,initialized:false,expanded:false}}if(this.serverProcessing){this.rowinfo[aR.uid].row=aR}if(this.rowdetails){var aS=this.rowinfo[aR.uid].detailsHeight;if(this.rowinfo[aR.uid]){if(this.rowinfo[aR.uid].expanded){var aQ='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aS+"px; max-height: "+aS+"px; height: "+aS+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}else{var aQ='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aS+"px; max-height: "+aS+"px; height: "+aS+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}}else{var aQ='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aS+"px; max-height: "+aS+"px; height: "+aS+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}var aP=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");aP+=" "+this.toTP("jqx-details");aP+=" "+this.toTP("jqx-reset");aQ+='" class="'+aP+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+aS+"px; max-height: "+aS+"px; height: "+aS+'px;"><div data-role="details"></div></div></td></tr>';a0+=aQ;aB+=aQ}}a0+="</table>";aB+="</table>";if(bf){if(b.WinJS){MSApp.execUnsafeLocalFunction(function(){b.table.html(aB+a0)})}else{b.table[0].innerHTML=aB+a0}var ar=this.table.find("#table"+this.element.id);var aq=this.table.find("#pinnedtable"+this.element.id);aq.css("float","left");aq.css("pointer-events","none");ar.css("float","left");aq[0].style.position="absolute";ar[0].style.position="relative";ar[0].style.zIndex=at-10;aq[0].style.zIndex=at+10;this._table=ar;this._table[0].style.left="0px";this._pinnedTable=aq;this._pinnedTable[0].style.left="0px";this._pinnedTable[0].style.width=au+"px";this._table[0].style.width=au+"px";if(this.rtl){if(au>parseInt(this.element.style.width)&&this._haspinned){this._pinnedTable[0].style.left=3-au+parseInt(this.element.style.width)+"px"}}if(this.rowdetails){for(var aH=0;aH<t;aH++){var aR=aO[aH];var aG=aR.uid;if(this.rowinfo[aG].details){var aC=c(this._table.children()[1]).children(("[data-key="+aG+"]"));var ax=c(this._pinnedTable.children()[1]).children(("[data-key="+aG+"]"));if(aC){var ba=ax.next();var aK=c(c(ba).children().children());aK.children().detach();aK.append(this.rowinfo[aR.uid].details)}}}}}else{if(b.WinJS){MSApp.execUnsafeLocalFunction(function(){b.table.html(a0)})}else{b.table[0].innerHTML=a0}var aY=this.table.find("#table"+this.element.id);this._table=aY;if(c.jqx.browser.msie&&c.jqx.browser.version<10){this._table[0].style.width=au+"px"}if(t===0){this._table[0].style.width=(2+au)+"px"}}if(t===0){this._table[0].style.tableLayout="auto";if(this._pinnedTable){this._pinnedTable[0].style.tableLayout="auto"}}if(this.rendered){this.rendered()}},getcolumnindex:function(f){var b=this.getcolumn(f);var a=this.columns.records.indexOf(b);return a},setcolumnindex:function(w,s,q){var t=this.getcolumn(w);if(t.pinned){return}if(t.hidden){return}if(t.checkboxcolumn){return}if(t.grouped){return}var o=this.columns.records.indexOf(t);this.columns.records.splice(o,1);this.columns.records.splice(s,0,t);var v=0;var a=this.headerZIndex;this.columnsrow.children().detach();var p=this.toThemeProperty("jqx-grid-cell");p+=" "+this.toThemeProperty("jqx-grid-cell-pinned");p+=" "+this.toThemeProperty("jqx-item");if(this.filterrow){c(this.filterrow.children()[0]).children().detach();this.filterrow[0].cells=[]}var b=this;var y=null;if(b.filterrow!=undefined){var y=c(b.filterrow.children()[0])}this.columnsrow[0].cells=[];var u=false;c.each(this.columns.records,function(k,f){var h=this.uielement;b.columnsrow.append(h);if(!b.rtl){h.css("z-index",a--)}else{h.css("z-index",a++)}var g=this.width;h.css("left",v);b.columnsrow[0].cells[b.columnsrow[0].cells.length]=h[0];if(b.filterrow){var e=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+p+'"></div>');y.append(e);e.css("left",v);e.css("z-index",a+1);e.width(this.width);e[0].left=v;e.append(this._filterwidget);b.filterrow[0].cells[b.filterrow[0].cells.length]=e[0]}if(this.hidden){u=true}if(!(this.hidden&&this.hideable)){v+=g}});if(this.groupable){var x=this.groups.length;if(x>0){if(o-x>=0){o-=x;s-=x}}}if(this.rowdetails){if(o-1>=0){o--;s--}}if(this.selectionmode=="checkbox"){if(o-1>=0){o--;s--}}var t=this._columns[o];this._columns.splice(o,1);this._columns.splice(s,0,t);this.resize();this._rendercolumngroups();this._raiseEvent("columnReordered",{dataField:t.datafield,oldIndex:o,newIndex:s})},_pinnedColumnsLength:function(){var a=0;c.each(this.columns.records,function(){if(this.pinned){a++}if(this.grouped){a++}});if(this.rowdetails){a++}if(this.selectionmode=="checkbox"){a++}return a},_handlecolumnsreorder:function(){var k=this;var b=-1;var n=false;if(!k.columnsreorder){return}var l="mousemove.reorder"+this.element.id;var m="mousedown.reorder"+this.element.id;var a="mouseup.reorder"+this.element.id;var o=false;if(this.isTouchDevice()&&this.touchmode!==true){o=true;l=c.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;m=c.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;a=c.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id}this.removeHandler(c(document),l);this.addHandler(c(document),l,function(y){if(k.resizing){return true}if(k.reordercolumn!=null){var x=parseInt(y.pageX);var C=parseInt(y.pageY);if(o){var g=k.getTouches(y);var h=g[0];if(h!=undefined){x=parseInt(h.pageX);C=parseInt(h.pageY)}}var v=k.host.coord();var B=parseInt(v.left);var A=parseInt(v.top);if(k.dragmousedownoffset==undefined||k.dragmousedownoffset==null){k.dragmousedownoffset={left:0,top:0}}var e=parseInt(x)-parseInt(k.dragmousedownoffset.left);var z=parseInt(C)-parseInt(k.dragmousedownoffset.top);k.reordercolumn.css({left:e+"px",top:z+"px"});n=false;if(x>=B&&x<=B+k.host.width()){if(C>=A&&C<=A+k.host.height()){n=true}}b=-1;if(n){k.reordercolumnicon.removeClass(k.toThemeProperty("jqx-grid-dragcancel-icon"));k.reordercolumnicon.addClass(k.toThemeProperty("jqx-grid-drag-icon"));var f=k.columnsheader.coord();var w=f.top+k.columnsheader.height();if(k.columnsdropline!=null){if(C>=f.top&&C<=w){b=k._handlereordercolumnsdroplines(x)}else{k.columnsdropline.fadeOut("slow")}}}else{if(k.columnsdropline!=null){k.columnsdropline.fadeOut("slow")}k.reordercolumnicon.removeClass(k.toThemeProperty("jqx-grid-drag-icon"));k.reordercolumnicon.addClass(k.toThemeProperty("jqx-grid-dragcancel-icon"))}if(y.preventDefault){y.preventDefault();y.stopPropagation()}if(o){y.preventDefault();y.stopPropagation();return false}}});this.columnsbounds=new Array();this.removeHandler(c(document),m);this.addHandler(c(document),m,function(g){if(k.resizing){return true}k.columnsbounds=new Array();var e=k.host.coord().left;var f=k.host.coord().top;if(k.showtoolbar){f+=k.toolbarheight}var h=0;c.each(k.columns.records,function(s){var q=this;if(q.hidden){k.columnsbounds[k.columnsbounds.length]={top:f,column:q,left:e,width:0,height:2+k.rowsheight};return true}if(h==0){if(!k.rtl){e=parseInt(k.host.coord().left)-k.hScrollInstance.value}else{e=parseInt(k.host.coord().left)-k.hScrollInstance.max+k.hScrollInstance.value}}h++;var t=2+k.columnsheight;if(k.columnshierarchy){f=c(q.uielement).coord().top;t=c(q.uielement).height()}k.columnsbounds[k.columnsbounds.length]={top:f,column:q,left:e,width:q.width,height:t};e+=q.width})});this.removeHandler(c(document),a);this.addHandler(c(document),a,function(C){if(k.resizing){return true}k.__drag=false;c(document.body).removeClass("jqx-disableselect");var A=parseInt(C.pageX);var H=parseInt(C.pageY);if(o){var h=k.getTouches(C);var y=h[0];A=parseInt(y.pageX);H=parseInt(y.pageY)}var z=k.host.coord();var F=parseInt(z.left);var E=parseInt(z.top);if(k.showtoolbar){E+=k.toolbarheight}k.columndragstarted=false;k.dragmousedown=null;if(k.reordercolumn!=null){var B=c.data(k.reordercolumn[0],"reorderrecord");var D=k.columns.records.indexOf(k.getcolumn(B));k.reordercolumn.remove();k.reordercolumn=null;var g=0;g+=k._pinnedColumnsLength();if(B!=null){if(n){if(b!=-1){var f=b.index;if(f>=g){var I=k.columns.records[f];if(I!=undefined){var G=k.columns.records.indexOf(k.getcolumn(I.datafield));if(I.datafield==null){var G=k.columns.records.indexOf(k.getcolumnbytext(I.text))}if(k.columngroups){var e=I;if(D<G){if(b.position=="before"){e=k.columns.records[G-1]}}if(e.columngroup!=k.getcolumn(B).columngroup){if(k.columnsdropline!=null){k.columnsdropline.remove();k.columnsdropline=null}return}}if(D<G){if(b.position=="before"){k.setcolumnindex(B,G-1)}else{k.setcolumnindex(B,G)}}else{if(D>G){k.setcolumnindex(B,G)}}}}}}if(k.columnsdropline!=null){k.columnsdropline.remove();k.columnsdropline=null}}}})},getcolumnbytext:function(a){var b=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.text==a){b=this;return false}})}return b},_handlereordercolumnsdroplines:function(a){var o=this;var b=-1;var m=o._pinnedColumnsLength();var k=parseInt(o.host.coord().left);var n=k+o.host.width();var l=o.vScrollBar.css("visibility")!="hidden"?19:0;if(!o.rtl){l=0}c.each(o.columnsbounds,function(e){if(e>=m){if(this.width==0){return true}if(a<=this.left+this.width/2){if(a>n){o.columnsdropline.fadeOut();return false}o.columnsdropline.css("left",l+parseInt(this.left)+"px");o.columnsdropline.css("top",parseInt(this.top)+"px");o.columnsdropline.height(this.height);o.columnsdropline.fadeIn("slow");b={index:e,position:"before"};return false}else{if(a>=this.left+this.width/2){if(this.left+this.width>n){o.columnsdropline.fadeOut();return false}o.columnsdropline.css("left",l+1+this.left+this.width);o.columnsdropline.css("top",this.top);o.columnsdropline.height(this.height);o.columnsdropline.fadeIn("slow");b={index:e,position:"after"}}}}});return b},_createreordercolumn:function(q,o,l){var m=this;var n=o;if(m.reordercolumn){m.reordercolumn.remove()}if(m.columnsdropline){m.columnsdropline.remove()}m.reordercolumn=c("<div></div>");var a=q.clone();m.reordercolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var b=c(a.find("."+m.toThemeProperty("jqx-grid-column-menubutton")));if(b.length>0){b.css("display","none")}var s=c(a.find(".jqx-icon-close"));if(s.length>0){s.css("display","none")}m.reordercolumnicon=c('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');m.reordercolumnicon.addClass(m.toThemeProperty("jqx-grid-drag-icon"));m.reordercolumn.css("float","left");m.reordercolumn.css("position","absolute");var p=m.host.coord();a.width(q.width()+16);m.reordercolumn.append(a);m.reordercolumn.height(q.height());m.reordercolumn.width(a.width());m.reordercolumn.append(m.reordercolumnicon);c(document.body).append(m.reordercolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);m.reordercolumn.css("left",n.left+m.dragmousedown.left);m.reordercolumn.css("top",n.top+m.dragmousedown.top);if(l!=undefined&&l){m.columnsdropline=c('<div style="z-index: 9999; display: none; position: absolute;"></div>');m.columnsdropline.width(2);m.columnsdropline.addClass(m.toThemeProperty("jqx-grid-group-drag-line"));c(document.body).append(m.columnsdropline)}},_handlecolumnsdragreorder:function(m,b){if(this.reordercolumn){this.reordercolumn.remove()}if(this.columnsdropline){this.columnsdropline.remove()}this.dragmousedown=null;this.dragmousedownoffset=null;this.columndragstarted=false;this.reordercolumn=null;var a=this;var k;var n=false;if(this.isTouchDevice()&&this.touchmode!==true){n=true}var l="mousedown.drag";var k="mousemove.drag";if(n){l=c.jqx.mobile.getTouchEventName("touchstart")+".drag";k=c.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(b,"dragstart",function(e){return false})}this.addHandler(b,l,function(g){if(false==m.draggable){return true}if(a.resizing){return true}a.__drag=true;var h=g.pageX;var o=g.pageY;if(n){var f=a.getTouches(g);var p=f[0];h=p.pageX;o=p.pageY}a.dragmousedown={left:h,top:o};var e=c(g.target).coord();a.dragmousedownoffset={left:parseInt(h)-parseInt(e.left),top:parseInt(o-e.top)};if(g.preventDefault){g.preventDefault()}return true});this.addHandler(b,k,function(g){if(!m.draggable){return true}if(undefined==m.datafield){return true}if(m.pinned){return true}if(a.resizing){return true}if(a.dragmousedown){var h=g.pageX;var p=g.pageY;if(n){var e=a.getTouches(g);var q=e[0];if(q!=undefined){h=q.pageX;p=q.pageY}}k={left:h,top:p};if(!a.columndragstarted&&a.reordercolumn==null){var f=Math.abs(k.left-a.dragmousedown.left);var s=Math.abs(k.top-a.dragmousedown.top);if(f>3||s>3){a._createreordercolumn(b,k,true);c(document.body).addClass("jqx-disableselect");c.data(a.reordercolumn[0],"reorderrecord",m.datafield)}}}})},_handlecolumnsresize:function(){var l=this;if(this.columnsresize){var a=false;if(l.isTouchDevice()){a=true}var n="mousemove.resize"+this.element.id;var q="mousedown.resize"+this.element.id;var p="mouseup.resize"+this.element.id;if(a){var n=c.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var q=c.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var p=c.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id}this.removeHandler(c(document),n);this.addHandler(c(document),n,function(k){if(l.resizablecolumn!=null&&!l.disabled&&l.resizing){if(l.resizeline!=null){var D=l.resizablecolumn.columnelement;var g=l.host.coord();var A=parseInt(l.resizestartline.coord().left);var y=A-l._startcolumnwidth;var z=l.resizablecolumn.column.minwidth;if(z=="auto"){z=0}else{z=parseInt(z)}var x=l.resizablecolumn.column.maxwidth;if(x=="auto"){x=0}else{x=parseInt(x)}var f=k.pageX;if(a){var C=c.jqx.mobile.getTouches(k);var e=C[0];f=e.pageX}y+=z;var B=x>0?A+x:0;var h=x==0?true:l._startcolumnwidth+f-A<x?true:false;if(l.rtl){var h=true}if(h){if(!l.rtl){if(f>=g.left&&f>=y){if(B!=0&&k.pageX<B){l.resizeline.css("left",f)}else{if(B==0){l.resizeline.css("left",f)}}if(a){return false}}}else{if(f>=g.left&&f<=g.left+l.host.width()){l.resizeline.css("left",f);if(a){return false}}}}}}if(!a&&l.resizablecolumn!=null){return false}});this.removeHandler(c(document),q);this.addHandler(c(document),q,function(e){if(l.resizablecolumn!=null&&!l.disabled){var f=l.resizablecolumn.columnelement;if(f.coord().top+f.height()+5<e.pageY){l.resizablecolumn=null;return}if(f.coord().top-5>e.pageY){l.resizablecolumn=null;return}l._startcolumnwidth=l.resizablecolumn.column.width;l.resizablecolumn.column._width=null;c(document.body).addClass("jqx-disableselect");c(document.body).addClass("jqx-position-reset");l._mouseDownResize=new Date();l.resizing=true;l._resizecolumn=l.resizablecolumn.column;l.resizeline=l.resizeline||c('<div style="position: absolute;"></div>');l.resizestartline=l.resizestartline||c('<div style="position: absolute;"></div>');l.resizebackground=l.resizebackground||c('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');l.resizebackground.css("opacity",0.01);l.resizebackground.css("cursor","col-resize");l.resizeline.css("cursor","col-resize");l.resizestartline.css("cursor","col-resize");l.resizeline.addClass(l.toThemeProperty("jqx-grid-column-resizeline"));l.resizestartline.addClass(l.toThemeProperty("jqx-grid-column-resizestartline"));c(document.body).append(l.resizeline);c(document.body).append(l.resizestartline);c(document.body).append(l.resizebackground);var h=l.resizablecolumn.columnelement.coord();l.resizebackground.css("left",l.host.coord().left);l.resizebackground.css("top",l.host.coord().top);l.resizebackground.width(l.host.width());l.resizebackground.height(l.host.height());l.resizebackground.css("z-index",999999999);var g=function(A){if(!l.rtl){A.css("left",parseInt(h.left)+l._startcolumnwidth)}else{A.css("left",parseInt(h.left))}var x=0;var k=l.showtoolbar?l.toolbarheight:0;x+=k;var B=l.showstatusbar?l.statusbarheight:0;x+=B;var y=l.showaggregates?l.aggregatesheight:0;x+=y;if(l.pageable&&l.pagerposition!="bottom"){x+=l.pagerheight}var z=0;if(l.pageable&&l.pagerposition!="top"){z=l.pagerheight}var w=l.hScrollBar.css("visibility")!="hidden"?l.scrollbarsize:0;A.css("top",parseInt(h.top));A.css("z-index",9999999999);if(l.columngroups){A.height(l.host.height()+l.resizablecolumn.columnelement.height()-z-x-w-l.columngroupslevel*l.columnsheight)}else{A.height(l.host.height()-z-x-w)}A.show("fast")};g(l.resizeline);g(l.resizestartline);l.dragmousedown=null}});var o=function(){c(document.body).removeClass("jqx-disableselect");c(document.body).removeClass("jqx-position-reset");if(!l.resizing){return}l._mouseUpResize=new Date();var x=l._mouseUpResize-l._mouseDownResize;if(x<200){l.resizing=false;if(l._resizecolumn!=null&&l.resizeline!=null&&l.resizeline.css("display")=="block"){l._resizecolumn=null;l.resizeline.hide();l.resizestartline.hide();l.resizebackground.remove()}return}l.resizing=false;if(l.disabled){return}var k=l.host.width();if(l.vScrollBar[0].style.visibility!="hidden"){k-=20}if(k<0){k=0}if(l._resizecolumn!=null&&l.resizeline!=null&&l.resizeline.css("display")=="block"){var w=parseInt(l.resizeline.css("left"));var h=parseInt(l.resizestartline.css("left"));var y=l._startcolumnwidth+w-h;if(l.rtl){var y=l._startcolumnwidth-w+h}var e=l._resizecolumn.width;l._resizecolumn.width=y;if(l._resizecolumn._percentagewidth!=undefined){l._resizecolumn._percentagewidth=(y/k)*100}for(var f=0;f<l._columns.length;f++){if(l._columns[f].datafield===l._resizecolumn.datafield){l._columns[f].width=l._resizecolumn.width;break}}var v=l.hScrollBar[0].style.visibility;var g=l._resizecolumn.displayfield;l._updatecolumnwidths();l.refresh();l._resizecolumn=null;l.resizeline.hide();l.resizestartline.hide();l.resizebackground.remove();l.resizablecolumn=null;l._raiseEvent("columnResized",{dataField:g,oldWidth:e,newWidth:y})}else{l.resizablecolumn=null}};try{if(document.referrer!=""||window.frameElement){var s=null;if(window.top!=null&&window.top!=window.that){if(window.parent&&document.referrer){s=document.referrer}}if(s&&s.indexOf(document.location.host)!=-1){var m=function(e){o()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",m,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",m)}}}}}catch(b){}this.removeHandler(c(document),p);this.addHandler(c(document),p,function(e){var f=c.data(document.body,"contextmenu"+l.element.id);if(f!=null&&l.autoshowcolumnsmenubutton){return true}o()})}},_updatecolumnwidths:function(){var a=this.host.width();var s=a;if(this.vScrollBar.css("visibility")!=="hidden"){a-=parseInt(this.scrollbarsize)+6;s=a}var b="";if(this.columns==undefined||this.columns.records==undefined){return}var l=this;var m=false;c.each(this.columns.records,function(f,e){if(!(this.hidden)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var e=0;var g=l.vScrollBar[0].style.visibility=="hidden"?0:l.scrollbarsize+5;e=parseFloat(this.width)*s/100;if(this._percentagewidth!=undefined){e=parseFloat(this._percentagewidth)*(s)/100}if(e<this.minwidth&&this.minwidth!="auto"){e=this.minwidth}if(e>this.maxwidth&&this.maxwidth!="auto"){e=this.maxwidth}a-=Math.round(e)}else{if(this.width!="auto"&&!this._width){a-=this.width}else{b+=this.text}}}});var o=this.columnsheader.find("#columntable"+this.element.id);if(o.length==0){return}var q=0;var n=o.find(".jqx-grid-column-header");var p=0;c.each(this.columns.records,function(e,h){var u=c(n[e]);var f=false;var k=this.width;var t=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){k=parseFloat(this._percentagewidth)*s/100}else{k=parseFloat(this.width)*s/100}k=Math.round(k);f=true}if(this.width!="auto"&&!this._width&&!f){if(parseInt(u[0].style.width)!=this.width){u.width(this.width)}}else{if(f){if(k<this.minwidth&&this.minwidth!="auto"){k=this.minwidth;this.width=k}if(k>this.maxwidth&&this.maxwidth!="auto"){k=this.maxwidth;this.width=k}if(parseInt(u[0].style.width)!=k){u.width(k);this.width=k}}else{var v=Math.floor(a*(this.text.length/b.length));if(isNaN(v)){v=this.minwidth}var g=(a*(this.text.length/b.length))-v;q+=g;if(q>=1){q-=1;v++}if(q>=0.5&&e==l.columns.records.length-1){v++}if(v<0){$element=c("<span>"+this.text+"</span>");c(document.body).append($element);v=10+$element.width();$element.remove()}if(v<this.minwidth){v=this.minwidth}if(v>this.maxwidth){v=this.maxwidth}this._width="auto";this.width=v;u.width(this.width)}}if(parseInt(u[0].style.left)!=p){u.css("left",p)}if(!(this.hidden)){p+=this.width}this._requirewidthupdate=true;if(t!==this.width){m=true}});this.columnsheader.width(2+p);o.width(this.columnsheader.width());this._resizecolumngroups();if(m){this._renderrows()}if(this.showaggregates){this._refreshcolumnsaggregates()}},_rendercolumnheaders:function(){var a=this;if(this._updating){return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var A=c('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');A[0].cells=new Array();var y=0;var z=0;var J="";var H=this.host.width();var B=H;var F=new Array();var I=new Array();c.each(this.columns.records,function(f,e){if(!(this.hidden)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){H-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){H-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var e=0;e=parseFloat(this.width)*B/100;if(e<this.minwidth&&this.minwidth!="auto"){e=this.minwidth}if(e>this.maxwidth&&this.maxwidth!="auto"){e=this.maxwidth}H-=e}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}H-=this.width}}}}else{J+=this.text}}if(this.pinned||this.grouped||this.checkboxcolumn){if(a._haspinned){this.pinned=true}F[F.length]=this}else{I[I.length]=this}});if(!this.rtl){for(var k=0;k<F.length;k++){this.columns.replace(k,F[k])}for(var x=0;x<I.length;x++){this.columns.replace(F.length+x,I[x])}}else{var C=0;F.reverse();for(var k=this.columns.records.length-1;k>=this.columns.records.length-F.length;k--){this.columns.replace(k,F[C++])}for(var x=0;x<I.length;x++){this.columns.replace(x,I[x])}}var G=this.headerZIndex;var D=0;var p=a.columnsheight;var b=function(f,e){var g=a.columngroupslevel*a.columnsheight;g=g-(e.level*a.columnsheight);return g};var E=0;c.each(this.columns.records,function(n,s){this.height=a.columnsheight;if(a.columngroups){if(a.columngroups.length){this.height=b(this.datafield,this);p=this.height}}var f=a.toTP("jqx-grid-column-header")+" "+a.toTP("jqx-widget-header");if(a.rtl){f+=" "+a.toTP("jqx-grid-column-header-rtl")}if(!a.enablebrowserselection){f+=" "+a.toTP("jqx-disableselect")}var h=!self.rtl?150+G-1:150+G+1;var u=!a.rtl?G--:G++;var q=c('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+f+'"><div style="height: 100%; width: 100%;"></div></div>');if(a.rtl&&n===0){q[0].style.borderLeftColor="transparent"}if(a.columngroups){q[0].style.height=p+"px";q[0].style.bottom="0px";if(this.pinned){q[0].style.zIndex=h}}this.uielement=q;this.element=q;if(this.classname!=""&&this.classname){q.addClass(this.classname)}var O=this.width;var w=false;if(this.width===null){this.width="auto"}if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){O=parseFloat(this._percentagewidth)*B/100}else{O=parseFloat(this.width)*B/100}O=Math.round(O);w=true}if(this.width!="auto"&&!this._width&&!w){if(O<this.minwidth&&this.minwidth!="auto"){O=this.minwidth}if(O>this.maxwidth&&this.maxwidth!="auto"){O=this.maxwidth}q[0].style.width=parseInt(O)+"px"}else{if(w){if(O<this.minwidth&&this.minwidth!="auto"){O=this.minwidth}if(O>this.maxwidth&&this.maxwidth!="auto"){O=this.maxwidth}if(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1){this._percentagewidth=this.width}q.width(O);this.width=O}else{var t=Math.floor(H*(this.text.length/J.length));var v=(H*(this.text.length/J.length))-t;E+=v;if(E>=1){E-=1;t++}if(E>=0.5&&n==a.columns.records.length-1){t++}if(isNaN(t)){t=this.minwidth}if(t<0){$element=c("<span>"+this.text+"</span>");c(document.body).append($element);t=10+$element.width();$element.remove()}if(t<this.minwidth){t=this.minwidth}if(t>this.maxwidth){t=this.maxwidth}this._width="auto";this.width=parseInt(t);O=this.width;q.width(this.width)}}if(this.hidden){q.css("display","none")}var S=c(q.children()[0]);A[0].cells[n]=q[0];var R=false;var o=false;var l=this.renderer!=null?this.renderer(this.text,this.align,p):a._rendercolumnheader(this.text,this.align,p,a);if(l==null){l=a._rendercolumnheader(this.text,this.align,p,a)}if(this.renderer!=null){l=c(l)}R=true;if(a.WinJS){MSApp.execUnsafeLocalFunction(function(){S.append(c(l))})}else{if(this.renderer){S.append(c(l))}else{if(l){S[0].innerHTML=l}}}if(l!=null){var P=c('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+a.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+a.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+a.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');S.append(P);var e=P.children();this.sortasc=e[1];this.sortdesc=e[2];this.filtericon=e[0];this.iconscontainer=P;if(a.rtl){P.css("margin-left","0px");P.css("left","0px");c(this.sortasc).css("float","left");c(this.filtericon).css("float","left");c(this.sortdesc).css("float","left")}}A.append(q);if(a.columnsreorder&&this.draggable&&a._handlecolumnsdragreorder){a._handlecolumnsdragreorder(this,q)}var g=this;a.addHandler(q,"click",function(K){if(g.checkboxcolumn){return true}if(a._togglesort){if(!a._loading){a._togglesort(g)}}K.preventDefault()});if(g.resizable&&a.columnsresize&&!o){var m=false;var T="mousemove";if(a.isTouchDevice()){m=true;T=c.jqx.mobile.getTouchEventName("touchstart")}a.addHandler(q,T,function(W){var M=parseInt(W.pageX);var U=5;var K=parseInt(q.coord().left);if(a.hasTransform){K=c.jqx.utilities.getOffset(q).left}if(a._handlecolumnsresize){if(m){var V=c.jqx.mobile.getTouches(W);var L=V[0];M=L.pageX;U=40;if(M>=K+g.width-U){a.resizablecolumn={columnelement:q,column:g};q.css("cursor","col-resize")}else{q.css("cursor","");a.resizablecolumn=null}return true}var N=g.width;if(a.rtl){N=0}if(M>=K+N-U){if(M<=K+N+U){a.resizablecolumn={columnelement:q,column:g};q.css("cursor","col-resize");return false}else{q.css("cursor","");a.resizablecolumn=null}}else{q.css("cursor","");if(M<K+N-U){if(!g._animating&&!g._menuvisible){q.mouseenter()}}a.resizablecolumn=null}}})}q.css("left",z);if(!(this.hidden)){z+=O}if(g.rendered){var Q=g.rendered(c(S[0].firstChild),g.align,p);if(Q&&P!=null){P.hide()}}});if(z>0){this.columnsheader.width(2+z)}else{this.columnsheader.width(z)}this.columnsrow=A;a.columnsheader.append(A);A.width(z);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._handlecolumnsreorder){this._handlecolumnsreorder()}if(this._handlecolumnsresize){this._handlecolumnsresize()}if(this.columngroups){this._rendercolumngroups()}},_rendercolumngroups:function(){if(!this.columngroups){return}var v=0;for(var y=0;y<this.columns.records.length;y++){if(this.columns.records[y].pinned){v++}}var G=this.headerZIndex-v+this.columns.records.length;var w=this;var B=w.toTP("jqx-grid-column-header")+" "+w.toTP("jqx-grid-columngroup-header")+" "+w.toTP("jqx-widget-header");if(w.rtl){B+=" "+w.toTP("jqx-grid-columngroup-header-rtl")}var D=this.columnsheader.find("#columntable"+this.element.id);D.find("jqx-grid-columngroup-header").remove();for(var A=0;A<this.columngroupslevel-1;A++){for(var y=0;y<this.columngroups.length;y++){var b=this.columngroups[y];var F=b.level;if(F!==A){continue}var u=F*this.columnsheight;var E=99999;if(b.groups){var H=function(e){var f=0;for(var g=0;g<e.groups.length;g++){var h=e.groups[g];if(!h.groups){if(!h.hidden){f+=h.width;E=Math.min(parseInt(h.element[0].style.left),E)}}else{f+=H(h)}}return f};b.width=H(b);b.left=E;var a=this.columnsheight;var x=G--;var C=c('<div role="columnheader" style="z-index: '+x+';position: absolute;" class="'+B+'"></div>');var z=c(this._rendercolumnheader(b.text,b.align,this.columnsheight,this));C.append(z);C[0].style.left=E+"px";if(E===0){C[0].style.borderLeftColor="transparent"}C[0].style.top=u+"px";C[0].style.height=a+"px";C[0].style.width=-1+b.width+"px";D.append(C);b.element=C}}}},_resizecolumngroups:function(){if(!this.columngroups){return}for(var p=0;p<this.columngroups.length;p++){var b=this.columngroups[p];var a=b.level;var l=a*this.columnsheight;var m=99999;if(b.groups){var n=function(h){var e=0;for(var f=0;f<h.groups.length;f++){var g=h.groups[f];if(!g.groups){e+=g.width;m=Math.min(parseInt(g.element[0].style.left),m)}else{e+=n(g)}}return e};b.width=n(b);b.left=m;var q=this.columnsheight;var o=b.element;o[0].style.left=m+"px";o[0].style.top=l+"px";o[0].style.height=q+"px";o[0].style.width=-1+b.width+"px"}}},_removecolumnhandlers:function(a){var g=this;var h=c(a.element);if(h.length>0){g.removeHandler(h,"mouseenter");g.removeHandler(h,"mouseleave");var b=c(a.filtericon);g.removeHandler(b,"mousedown");g.removeHandler(b,"click");g.removeHandler(h,"click")}},_calculateaggregate:function(y,u,E,A){var D=y.aggregates;if(!D){D=u}if(D){var C=new Array();for(var v=0;v<D.length;v++){if(D[v]=="count"){continue}C[C.length]=y.cellsformat}if(this.source&&this.source.getAggregatedData){if(A==undefined){A=this.getRows();if(this.dataViewRecords){A=this.dataViewRecords}}var G=A;var F=-1;if(this.treeGrid){var b=new Array();var a=function(e){for(var f=0;f<e.length;f++){if(e[f]==undefined){continue}if(F==-1){F=e[f].level}if(!e[f].aggregate){b.push(e[f])}if(!e[f].leaf&&e[f].records&&e[f].records.length>0){a(e[f].records)}}};a(A);A=b}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var t=new Array();for(var v=0;v<A.length;v++){if(A[v]&&A[v]._visible!==false){t.push(A[v])}}A=t;var x=new Array();for(var v=0;v<G.length;v++){if(G[v]&&G[v]._visible!==false){x.push(G[v])}}G=x}if(E==undefined||E==true){var w=this.source.getAggregatedData([{name:y.datafield,aggregates:D,formatStrings:C}],this.gridlocalization,A,F);if(this.treeGrid){var B=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(B==0||F>=B){if(w[y.datafield].sum!=undefined||w[y.datafield].avg!=undefined){var z=this.source.getAggregatedData([{name:y.datafield,aggregates:D,formatStrings:C}],this.gridlocalization,G,F);if(w[y.datafield].sum!=undefined){w[y.datafield].sum=z[y.datafield].sum}if(w[y.datafield].avg!=undefined){w[y.datafield].avg=z[y.datafield].avg}}}}return w}else{var w=this.source.getAggregatedData([{name:y.datafield,aggregates:D}],this.gridlocalization,A,F);if(this.treeGrid){if(w[y.datafield].sum!=undefined||w[y.datafield].avg!=undefined){var B=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(B==0||F>=B){var z=this.source.getAggregatedData([{name:y.datafield,aggregates:D}],this.gridlocalization,G,F);if(w[y.datafield].sum!=undefined){w[y.datafield].sum=z[y.datafield].sum}if(w[y.datafield].avg!=undefined){w[y.datafield].avg=z[y.datafield].avg}}}}return w}}}return null},getcolumnaggregateddata:function(q,m,l,p){var o=this.getcolumn(q);if(!o){return""}var a=(l==undefined||l==false)?false:l;if(m==null){return""}var s=o.aggregates;o.aggregates=null;var b=this._calculateaggregate(o,m,a,p);var n={};if(b){n=b[q];o.aggregates=s}return n},_updatecolumnaggregates:function(l,a,n){var k=this;if(!a){n.children().remove();n.html("");if(l.aggregatesrenderer){var b={};if(l.aggregates){b=this.getcolumnaggregateddata(l.datafield,l.aggregates)}var m=l.aggregatesrenderer({},l,n,null);n.html(m)}return}n.children().remove();n.html("");if(l.aggregatesrenderer){if(a){var m=l.aggregatesrenderer(a[l.datafield],l,n,this.getcolumnaggregateddata(l.datafield,l.aggregates),"aggregates");n.html(m)}}else{c.each(a,function(){var f=this;for(b in f){var e=c('<div style="position: relative; margin: 4px; overflow: hidden;"></div>');var g=b;g=k._getaggregatename(g);e.html(g+":"+f[b]);if(k.rtl){e.addClass(k.toThemeProperty("jqx-rtl"))}n.append(e)}})}},_getaggregatetype:function(b){switch(b){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return b}var f=b;for(var a in b){f=a;break}return f},_getaggregatename:function(b){var f=b;switch(b){case"min":f="Min";break;case"max":f="Max";break;case"count":f="Count";break;case"avg":f="Avg";break;case"product":f="Product";break;case"var":f="Var";break;case"stdevp":f="StDevP";break;case"stdev":f="StDev";break;case"varp":f="VarP";case"sum":f="Sum";break}if(b===f&&typeof(f)!="string"){for(var a in b){f=a;break}}return f},_updatecolumnsaggregates:function(){var b=this.getRows();if(this.dataViewRecords){b=this.dataViewRecords}var n=this.columns.records.length;if(undefined!=this.aggregates[0].cells){for(var k=0;k<n;k++){var a=c(this.aggregates[0].cells[k]);var l=this.columns.records[k];var m=this._calculateaggregate(l,null,true,b);this._updatecolumnaggregates(l,m,a)}}},_refreshcolumnsaggregates:function(){var l=this.columns.records.length;if(undefined!=this.aggregates[0].cells){var b=0;for(var h=0;h<l;h++){var a=c(this.aggregates[0].cells[h]);var k=this.columns.records[h];if(a){a.width(k.width);a[0].style.left=b+"px";if(!(k.hidden&&k.hideable)){b+=k.width}else{a.css("display","none")}}}}},_updateaggregates:function(){var z=c('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>');var w=0;var p=this.columns.records.length;var q=this.toThemeProperty("jqx-grid-cell");if(this.rtl){q+=" "+this.toThemeProperty("jqx-grid-cell-rtl");w=0;z.css("border-left-width","0px");this.aggregates.css("border-left-color","transparent")}q+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var b=p+10;var a=new Array();this.aggregates[0].cells=a;for(var u=0;u<p;u++){var v=this.columns.records[u];var t=this._calculateaggregate(v);var y=v.width;if(y<v.minwidth){y=v.minwidth}if(y>v.maxwidth){y=v.maxwidth}var x=q;if(v.cellsalign){x+=" "+this.toThemeProperty("jqx-"+v.cellsalign+"-align")}var s=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+x+'"></div>');z.append(s);s.css("left",w);if(!this.rtl){s.css("z-index",b--)}else{s.css("z-index",b++);if(u==0){s.css("border-left-width","0px")}}s.width(y);s[0].style.left=w+"px";if(!(v.hidden&&v.hideable)){w+=y}else{s.css("display","none")}a[a.length]=s[0];this._updatecolumnaggregates(v,t,s)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){z.css("z-index",b--)}z.width(parseInt(w)+2);z.height(this.aggregatesheight);this.aggregates.children().remove();this.aggregates.append(z);this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header"));this.aggregates.addClass(q);this.aggregates.css("border-bottom-color","transparent");this.aggregates.css("border-top-width","1px");if(this.rtl&&this.hScrollBar.css("visibility")!="hidden"){this._renderhorizontalscroll()}},destroy:function(){if(this.columns&&this.columns.records){for(var g=0;g<this.columns.records.length;g++){this._removecolumnhandlers(this.columns.records[g])}}this.removeHandler(c(document),"mouseup.pagerbuttonstop");this.removeHandler(c(document),"mouseup.pagerbuttonsbottom");if(this.filterable){if(this.filterrow){for(var g=0;g<this.filterrow[0].cells.length;g++){var h=this.filterrow[0].cells[g];var a=c(h).find(".filterconditions");var b=this.columns.records[g];if(a.length>0){a.jqxDropDownList("destroy")}}}if(this.filtercolumnsList){this.filtercolumnsList.jqxDropDownList("destroy")}}if(this.pageable){if(this["pagershowrowscombotop"]){this["pagershowrowscombotop"].jqxDropDownList("destroy")}if(this["pagershowrowscombobottom"]){this["pagershowrowscombobottom"].jqxDropDownList("destroy")}}this._removeHandlers();c.jqx.utilities.resize(this.host,null,true);this.host.remove()},propertyChangedHandler:function(t,b,u,n){if(this.isInitialized==undefined||this.isInitialized==false){return}b=b.toLowerCase();if(n!==u){if(b==="height"){t.host.height(t.height);t.host.width(t.width);t._updatesize(false,true)}else{if(b==="width"){t.host.height(t.height);t.host.width(t.width);t._updatesize(true,false)}else{if(b==="source"){t.updatebounddata()}else{if(b==="columns"||b==="columngroups"){t._columns=null;t._render()}else{if(b==="pagermode"){t.pagermode=n.toLowerCase();t._initpager()}else{if(b=="pagesizeoptions"){t._initpager();var o=false;for(var s=0;s<n.length;s++){if(parseInt(n[s])==t.pagesize){o=true;break}}if(!o){c.jqx.set(t,[{pagesize:n[0]}])}}else{if(b=="pagesize"){var q=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pagesize;var p=Math.floor(q/t.dataview.pagesize);if(p!==t.dataview.pagenum||parseInt(n)!==parseInt(u)){t._raiseEvent("pageSizeChanged",{pagenum:n,oldpagesize:u,pagesize:t.dataview.pagesize});var a=t.gotopage(p);if(!a){if(!t.serverProcessing){t.refresh()}else{t.updatebounddata("pager")}}}}else{if(b==="pagerposition"){t.refresh()}else{if(b==="selectionmode"){t.selectionmode=n.toLowerCase()}else{if(b=="touchmode"){t._removeHandlers();t.touchDevice=null;t.vScrollBar.jqxScrollBar({touchMode:n});t.hScrollBar.jqxScrollBar({touchMode:n});t.refresh();t._addHandlers()}else{if(b=="enablehover"){return}else{if(b=="disabled"){if(n){t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(t.pageable){if(t.pagernexttop){t.pagernexttop.jqxButton({disabled:n});t.pagerprevioustop.jqxButton({disabled:n});t.pagernextbottom.jqxButton({disabled:n});t.pagerpreviousbottom.jqxButton({disabled:n});t.pagerfirsttop.jqxButton({disabled:n});t.pagerfirstbottom.jqxButton({disabled:n});t.pagerlasttop.jqxButton({disabled:n});t.pagerlastbottom.jqxButton({disabled:n});if(t.pagershowrowscombotop.jqxDropDownList){if(t.pagermode=="advanced"){t.pagershowrowscombotop.jqxDropDownList({disabled:false});t.pagershowrowscombobottom.jqxDropDownList({disabled:false})}}}t.host.find(".jqx-grid-pager-number").css("cursor",n?"default":"pointer")}t.host.find(".jqx-grid-group-collapse").css("cursor",n?"default":"pointer");t.host.find(".jqx-grid-group-expand").css("cursor",n?"default":"pointer")}else{if(b=="columnsheight"){t._render()}else{if(b=="theme"){c.jqx.utilities.setTheme(u,n,t.host);t.vScrollBar.jqxScrollBar({theme:t.theme});t.hScrollBar.jqxScrollBar({theme:t.theme});if(t.pageable&&t.pagernexttop){t.pagernexttop.jqxButton({theme:t.theme});t.pagerprevioustop.jqxButton({theme:t.theme});t.pagernextbottom.jqxButton({theme:t.theme});t.pagerpreviousbottom.jqxButton({theme:t.theme});t.pagerfirsttop.jqxButton({theme:t.theme});t.pagerfirstbottom.jqxButton({theme:t.theme});t.pagerlasttop.jqxButton({theme:t.theme});t.pagerlastbottom.jqxButton({theme:t.theme});if(t.pagershowrowscombotop.jqxDropDownList){if(t.pagermode=="advanced"){t.pagershowrowscombotop.jqxDropDownList({theme:t.theme});t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme})}}}if(t.filterable){var v=c(".filterconditions");if(v.length>0){v.jqxDropDownList({theme:t.theme})}if(t.filtercolumnsList){t.filtercolumnsList.jqxDropDownList({theme:t.theme})}}t.refresh()}else{t.refresh()}}}}}}}}}}}}}}}},_rendercolumnheader:function(b,a,l,k){var h="4px";if(k.columngroups){h=(l/2-this._columnheight/2);if(h<0){h=4}h+="px"}else{if(this.columnsheight!=25){h=(this.columnsheight/2-this._columnheight/2);if(h<0){h=4}h+="px"}}return'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+a+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+h+"; margin-top: "+h+';"><span style="text-overflow: ellipsis; cursor: default;">'+b+"</span></div>"}});function d(b,a){this.owner=b;this.datafield=null;this.displayfield=null;this.text="";this.sortable=true;this.editable=true;this.hidden=false;this.hideable=true;this.groupable=true;this.renderer=null;this.cellsrenderer=null;this.columntype=null;this.cellsformat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.resizable=true;this.draggable=true;this.initeditor=null;this.createeditor=null;this.destroyeditor=null;this.geteditorvalue=null;this.validation=null;this.classname="";this.cellclassname="";this.aggregates=null;this.aggregatesrenderer=null;this.rendered=null;this.exportable=true;this.nullable=true;this.columngroup=null;this.columntype="textbox";this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(l,k){if(this[l]){var h=this[l];this[l]=k;this.owner._columnPropertyChanged(this,l,k,h)}else{if(this[l.toLowerCase()]){var h=this[l.toLowerCase()];this[l.toLowerCase()]=k;this.owner._columnPropertyChanged(this,l.toLowerCase(),k,h)}}};this._initfields=function(k){if(k!=null){var l=this;if(c.jqx.hasProperty(k,"dataField")){this.datafield=c.jqx.get(k,"dataField")}if(c.jqx.hasProperty(k,"displayField")){this.displayfield=c.jqx.get(k,"displayField")}else{this.displayfield=this.datafield}if(c.jqx.hasProperty(k,"columnType")){this.columntype=c.jqx.get(k,"columnType")}if(c.jqx.hasProperty(k,"validation")){this.validation=c.jqx.get(k,"validation")}if(c.jqx.hasProperty(k,"text")){this.text=c.jqx.get(k,"text")}if(c.jqx.hasProperty(k,"sortable")){this.sortable=c.jqx.get(k,"sortable")}if(c.jqx.hasProperty(k,"hidden")){this.hidden=c.jqx.get(k,"hidden")}if(c.jqx.hasProperty(k,"groupable")){this.groupable=c.jqx.get(k,"groupable")}if(c.jqx.hasProperty(k,"renderer")){this.renderer=c.jqx.get(k,"renderer")}if(c.jqx.hasProperty(k,"align")){this.align=c.jqx.get(k,"align")}if(c.jqx.hasProperty(k,"cellsAlign")){this.cellsalign=c.jqx.get(k,"cellsAlign")}if(c.jqx.hasProperty(k,"cellsFormat")){this.cellsformat=c.jqx.get(k,"cellsFormat")}if(c.jqx.hasProperty(k,"width")){this.width=c.jqx.get(k,"width")}if(c.jqx.hasProperty(k,"minWidth")){this.minwidth=c.jqx.get(k,"minWidth")}if(c.jqx.hasProperty(k,"maxWidth")){this.maxwidth=c.jqx.get(k,"maxWidth")}if(c.jqx.hasProperty(k,"cellsRenderer")){this.cellsrenderer=c.jqx.get(k,"cellsRenderer")}if(c.jqx.hasProperty(k,"columnType")){this.columntype=c.jqx.get(k,"columnType")}if(c.jqx.hasProperty(k,"pinned")){this.pinned=c.jqx.get(k,"pinned")}if(c.jqx.hasProperty(k,"filterable")){this.filterable=c.jqx.get(k,"filterable")}if(c.jqx.hasProperty(k,"filter")){this.filter=c.jqx.get(k,"filter")}if(c.jqx.hasProperty(k,"resizable")){this.resizable=c.jqx.get(k,"resizable")}if(c.jqx.hasProperty(k,"draggable")){this.draggable=c.jqx.get(k,"draggable")}if(c.jqx.hasProperty(k,"editable")){this.editable=c.jqx.get(k,"editable")}if(c.jqx.hasProperty(k,"initEditor")){this.initeditor=c.jqx.get(k,"initEditor")}if(c.jqx.hasProperty(k,"createEditor")){this.createeditor=c.jqx.get(k,"createEditor")}if(c.jqx.hasProperty(k,"destroyEditor")){this.destroyeditor=c.jqx.get(k,"destroyEditor")}if(c.jqx.hasProperty(k,"getEditorValue")){this.geteditorvalue=c.jqx.get(k,"getEditorValue")}if(c.jqx.hasProperty(k,"className")){this.classname=c.jqx.get(k,"className")}if(c.jqx.hasProperty(k,"cellClassName")){this.cellclassname=c.jqx.get(k,"cellClassName")}if(c.jqx.hasProperty(k,"aggregates")){this.aggregates=c.jqx.get(k,"aggregates")}if(c.jqx.hasProperty(k,"aggregatesRenderer")){this.aggregatesrenderer=c.jqx.get(k,"aggregatesRenderer")}if(c.jqx.hasProperty(k,"rendered")){this.rendered=c.jqx.get(k,"rendered")}if(c.jqx.hasProperty(k,"exportable")){this.exportable=c.jqx.get(k,"exportable")}if(c.jqx.hasProperty(k,"nullable")){this.nullable=c.jqx.get(k,"nullable")}if(c.jqx.hasProperty(k,"columnGroup")){this.columngroup=c.jqx.get(k,"columnGroup")}if(!k instanceof String&&!(typeof k=="string")){for(var h in k){if(!l.hasOwnProperty(h)){if(!l.hasOwnProperty(h.toLowerCase())){b.host.remove();throw new Error("jqxDataTable: Invalid property name - "+h+".")}}}}}};this._initfields(a);return this}c.jqx.collection=function(a){this.records=new Array();this.owner=a;this.updating=false;this.beginupdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};this.clear=function(){this.records=new Array()};this.replace=function(b,f){this.records[b]=f};this.isempty=function(b){if(this.records[b]==undefined){return true}return false};this.initialize=function(b){if(b<1){b=1}this.records[b-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(b){return this.records.indexOf(b)};this.add=function(b){if(b==null){return false}this.records[this.records.length]=b;return true};this.insertAt=function(b,f){if(b==null||b==undefined){return false}if(f==null){return false}if(b>=0){if(b<this.records.length){this.records.splice(b,0,f);return true}else{return this.add(f)}}return false};this.remove=function(b){if(b==null||b==undefined){return false}var f=this.records.indexOf(b);if(f!=-1){this.records.splice(f,1);return true}return false};this.removeAt=function(b){if(b==null||b==undefined){return false}if(b<0){return false}if(b<this.records.length){var f=this.records[b];this.records.splice(b,1);return true}return false};return this};c.jqx.dataView=function(){this.that=this;this.grid=null;this.records=[];this.rows=[];this.columns=[];this.filters=new Array();this.pagesize=0;this.pagenum=0;this.source=null;this.databind=function(x,B){var y=x._source?true:false;var H=null;this._sortData=null;this._sortHierarchyData=null;if(y){H=x;x=x._source}else{H=new c.jqx.dataAdapter(x,{autoBind:false})}var J=function(e){H.recordids=[];H.records=new Array();H.cachedrecords=new Array();H.originaldata=new Array();H._options.totalrecords=e.totalrecords;H._options.originaldata=e.originaldata;H._options.recordids=e.recordids;H._options.cachedrecords=new Array();H._options.pagenum=e.pagenum;H._options.pageable=e.pageable;if(x.type!=undefined){H._options.type=x.type}if(x.formatdata!=undefined){H._options.formatData=x.formatdata}if(x.contenttype!=undefined){H._options.contentType=x.contenttype}if(x.async!=undefined){H._options.async=x.async}if(x.updaterow!=undefined){H._options.updaterow=x.updaterow}if(x.addrow!=undefined){H._options.addrow=x.addrow}if(x.deleterow!=undefined){H._options.deleterow=x.deleterow}if(e.pagesize==0){e.pagesize=10}H._options.pagesize=e.pagesize};var v=function(e){e.originaldata=H.originaldata;e.records=H.records;e.hierarchy=H.hierarchy;if(!e.hierarchy){e.hierarchy=new Array();H.hierarchy=new Array()}if(H._source.totalrecords){e.totalrecords=H._source.totalrecords}else{if(H._source.totalRecords){e.totalrecords=H._source.totalRecords}else{if(e.hierarchy.length!==0){e.totalrecords=e.hierarchy.length}else{e.totalrecords=e.records.length}}}e.cachedrecords=H.cachedrecords};J(this);this.source=x;if(B!==undefined){uniqueId=B}var G=this;switch(x.datatype){case"local":case"array":default:if(x.localdata==null){x.localdata=[]}if(x.localdata!=null){H.unbindBindingUpdate(G.grid.element.id);if((!G.grid.autobind&&G.grid.isInitialized)||G.grid.autobind){H.dataBind()}var C=function(){v(G);G.update()};C();H.bindBindingUpdate(G.grid.element.id,C)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(x.localdata!=null){H.unbindBindingUpdate(G.grid.element.id);if((!G.grid.autobind&&G.grid.isInitialized)||G.grid.autobind){H.dataBind()}var C=function(e){v(G);G.update()};C();H.bindBindingUpdate(G.grid.element.id,C);return}var m={};var z=0;var b={};for(var E=0;E<this.filters.length;E++){var I=this.filters[E].datafield;var D=this.filters[E].filter;var F=D.getfilters();b[I+"operator"]=D.operator;for(var w=0;w<F.length;w++){F[w].datafield=I;var A=F[w].value;b["filtervalue"+z]=A.toString();b["filtercondition"+z]=F[w].condition;b["filteroperator"+z]=F[w].operator;b["filterdatafield"+z]=I;z++}}b.filterslength=z;c.extend(b,{sortdatafield:G.sortfield,sortorder:G.sortfielddirection,pagenum:G.pagenum,pagesize:G.grid.pagesize});var a=H._options.data;if(H._options.data){c.extend(H._options.data,b)}else{if(x.data){c.extend(b,x.data)}H._options.data=b}var C=function(){var g=c.jqx.browser.msie&&c.jqx.browser.version<9;var f=function(){v(G);G.update()};if(g){try{f()}catch(e){}}else{f()}};H.unbindDownloadComplete(G.grid.element.id);H.bindDownloadComplete(G.grid.element.id,C);H._source.loaderror=function(f,e,g){C()};if((!G.grid.autobind&&G.grid.isInitialized)||G.grid.autobind){H.dataBind()}H._options.data=a}};this.addfilter=function(a,b){this._sortData=null;this._sortHierarchyData=null;var g=-1;for(var h=0;h<this.filters.length;h++){if(this.filters[h].datafield==a){g=h;break}}if(g==-1){this.filters[this.filters.length]={filter:b,datafield:a}}else{this.filters[g]={filter:b,datafield:a}}};this.removefilter=function(a){this._sortData=null;this._sortHierarchyData=null;for(var b=0;b<this.filters.length;b++){if(this.filters[b].datafield==a){this.filters.splice(b,1);break}}};this.sortby=function(a,f){var b=this;if(f==null){this.sortfield="";this.sortfielddirection="";return}if(f==undefined){f=true}if(f=="a"||f=="asc"||f=="ascending"||f==true){f=true}else{f=false}if(a=="constructor"){a=""}this.sortfield=a;this.sortfielddirection=f?"asc":"desc"};this._sort=function(n){if(!this.sortfield||!this.sortfielddirection){return n}if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData){return this._sortData}var k=this;var a=Object.prototype.toString;Object.prototype.toString=(typeof k.sortfield=="function")?k.sortfield:function(){return this[k.sortfield]};var l="";if(this.source.datafields){c.each(this.source.datafields,function(){if(this.name==k.sortfield){if(this.type){l=this.type}return false}})}var o=new Array();for(var m=0;m<n.length;m++){o.push(c.extend({originalRecord:n[m]},n[m]))}this._sortfield=this.sortfield;this._sortfielddirection=this.sortfielddirection;if(this.sortfielddirection==="desc"){var b=o.sort(function(e,f){return k._compare(e,f,l)}).reverse()}else{var b=o.sort(function(e,f){return k._compare(e,f,l)})}this._sortData=b;Object.prototype.toString=a;return b};this._compare=function(k,l,b){var k=k;var l=l;if(k===undefined){k=null}if(l===undefined){l=null}if(k===null&&l===null){return 0}if(k===null&&l!==null){return 1}if(k!==null&&l===null){return 1}k=k.toString();l=l.toString();if(c.jqx.dataFormat){if(b&&b!=""){switch(b){case"number":case"int":case"float":if(k<l){return -1}if(k>l){return 1}return 0;case"date":case"time":if(k<l){return -1}if(k>l){return 1}return 0;case"string":case"text":k=String(k).toLowerCase();l=String(l).toLowerCase();break}}else{if(c.jqx.dataFormat.isNumber(k)&&c.jqx.dataFormat.isNumber(l)){if(k<l){return -1}if(k>l){return 1}return 0}else{if(c.jqx.dataFormat.isDate(k)&&c.jqx.dataFormat.isDate(l)){if(k<l){return -1}if(k>l){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(k)&&!c.jqx.dataFormat.isNumber(l)){k=String(k).toLowerCase();l=String(l).toLowerCase()}}}}}try{if(k<l){return -1}if(k>l){return 1}}catch(h){var a=h}return 0};this._equals=function(a,b){return(this._compare(a,b)===0)};this.evaluate=function(a){if(this.grid.serverProcessing){if(a){if(this.grid.source._source.id==""||this.grid.source._source.id==null){if(this.grid.pageable){var B=this.grid.pagesize*this.pagenum;this.grid.rowsByKey=new Array();var w=this;c.each(a,function(e){this.uid=B;w.grid.rowsByKey[this.uid]=this;B++})}}}return a}var A=new Array();if(this.filters.length){var v=new Array();var b=function(o,k){for(var m=0;m<o.length;m++){var l=o[m];l._visible=true;var f=undefined;for(var n=0;n<this.filters.length;n++){var e=this.filters[n].filter;var h=l[this.filters[n].datafield];var g=e.evaluate(h);if(f==undefined){f=g}else{if(e.operator=="or"){f=f||g}else{f=f&&g}}}l._visible=false;if(f||l.aggregate){l._visible=true;k.push(l);v[l.uid]=l}}};if(!this._filteredData){if(this.source.hierarchy||(this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0)){var q=new Array();var u=function(g,f){for(var h=0;h<f.length;h++){var e=f[h];q.push(e);if(e.records&&e.records.length>0){u(e,e.records)}}};u(null,a);b.call(this,q,A);for(var z=0;z<A.length;z++){var x=A[z];while(x.parent){var s=x.parent;if(!v[s.uid]){s._visible=true;v[s.uid]=s}x=s}}A=a}else{b.call(this,a,A)}this._filteredData=A;this.rows=A}else{this.rows=this._filteredData}}else{this.rows=a}if(this.source.hierarchy||(this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0)){var w=this;var t=new Array();this._sortData=null;var y=function(e,h){w._sortData=null;var g=null;if(w.source.hierarchy.groupingDataFields){if(h&&h.length>0&&h[0].level<w.source.hierarchy.groupingDataFields.length){g=new Array();for(var f=0;f<h.length;f++){g.push(c.extend({originalRecord:h[f]},h[f]))}}else{g=w._sort(h)}}else{g=w._sort(h)}if(e.records){e.records=g}else{e=e.concat(g)}for(var f=0;f<g.length;f++){if(g[f].records&&g[f].records.length){y(g[f],g[f].records)}}return e};if(this.sortfield||this.sortfielddirection){if(this._sortHierarchyData){t=this._sortHierarchyData}else{t=y(t,a)}this.rows=t;this._sortHierarchyData=t}}else{this.rows=this._sort(this.rows)}return this.rows};this.getid=function(a,n,m){if(c(a,n).length>0){return c(a,n).text()}if(this.rows&&a!=""&&a!=undefined&&this.rows.length>0){var b=this.rows[this.rows.length-1][a];if(b==null){b=null}for(var l=1;l<=100;l++){var k=this.grid.rowsByKey[l+b];if(!k){return b+l}}}if(a){if(a.toString().length>0){var o=c(n).attr(a);if(o!=null&&o.toString().length>0){return o}}}return m};this.generatekey=function(){var a=function(){return(((1+Math.random())*16)|0)};return(""+a()+a()+"-"+a()+"-"+a())};return this}})(jQuery);(function(e){var a={rowsid:null,styleid:null,customTitle:null,dataset:null,fields:null,returnData:false,enCode:true,serverURL:"/CreditWeb/Common/ExportGridData",filename:"ExportData",worksheetName:"My Worksheet"};function h(l,m){return l.replace(/{(\w+)}/g,function(n,o){return m[o]})}function b(o,m,n){var l=document.createElement("input");l.name=m;l.value=o;l.type="hidden";n.appendChild(l);return l}function c(n,l,m){var o=document.createElement("textarea");o.name=l;o.value=n;m.appendChild(o);return o}function f(m,p,o,l){var n=document.createElement("form");b(m,"filename",n);a.enCode&&b("Base64","enCodeType",n);b(p,"format",n);c(o,"content",n);n.action=l;n.method="post";document.body.appendChild(n);return n}function d(){excelData=g(k(a.rowsid&&e("#"+a.rowsid).html().replace("<!--[CDATA[","").replace("-->","")),a.styleid&&e("#"+a.styleid).html().replace("<!--[CDATA[","").replace("-->",""));if(a.returnData){return a.enCode?Base64.encode(excelData):excelData}if(a.serverURL){var m=f(a.filename,"xls",a.enCode?Base64.encode(excelData):excelData,a.serverURL);m.submit();document.body.removeChild(m)}else{var l="data:application/vnd.ms-excel;base64,";window.open(l+Base64.encode(excelData))}}function k(n,u){var w="";var v=[];var s=[];var l="";var t='<Cell ss:StyleID="{style}"><Data ss:Type="{type}">{value}</Data></Cell>';var q="";if(a.customTitle){s=[];e.each(a.customTitle,function(){q={style:"title",type:"String",value:this};s.push(h(t,q));p++});n="<Row>"+s.join("")+"</Row>"}var p=0;n.replace(/title/g,function(x){p++;return x});var o=(function(y){var x=1000/y;(x>270)&&(x=270);(x<100)&&(x=100);return x})(p);var m='<Worksheet ss:Name="{sheet}"><Table ss:ExpandedColumnCount="30" ss:ExpandedRowCount="8000" x:FullColumns="1" x:FullRows="1" ss:DefaultRowHeight="15"><Column ss:Width="'+o+'" ss:Span="'+(p-1)+'"/>';m+=n+"{rows}</Table></Worksheet>";e.each(a.dataset,function(y,z){if(!z.length){return}var x={sheet:y,rows:""};var A="";e(z).each(function(B,C){s=[];A=B%2?"Alt":"";if(a.fields){e.each(a.fields,function(D,E){q={style:"defaultStr"+A,type:"String",value:C[E]||""};s.push(h(t,q))})}else{e.each(C,function(D,E){q={style:"defaultStr"+A,type:"String",value:E||""};if(E==parseFloat(E)){q.style="defaultNum"+A;q.type="Number"}s.push(h(t,q))})}x.rows+="<Row>"+s.join("")+"</Row>"});w+=h(m,x)});return w}function g(n,m){var l='<?xml version="1.0"?><?mso-application progid="Excel.Sheet"?><Workbook  xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><Styles>';l+='<Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font ss:FontName="Calibri" x:Family="Swiss" ss:Size="11" ss:Color="#000000"/><Interior/><NumberFormat/><Protection/></Style>';l+='<Style ss:ID="title" ss:Name="title"><Alignment ss:Horizontal="Left" ss:Vertical="Bottom"/><Borders><Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/></Borders><Font ss:FontName="Arial" ss:Color="#00006A" ss:Bold="1"/><Interior ss:Color="#dbf2f8" ss:Pattern="Solid"/></Style>';l+='<Style ss:ID="defaultStr" ss:Name="xls-style-99"><Alignment ss:Horizontal="Left" ss:Vertical="Bottom"/><Borders><Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/></Borders><Font ss:FontName="Arial" ss:Color="#000000"/><Interior ss:Color="#FFFFFF" ss:Pattern="Solid"/></Style>';l+='<Style ss:ID="defaultNum" ss:Name="xls-style-98"><Alignment ss:Horizontal="Left" ss:Vertical="Bottom"/><Borders><Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/></Borders><Font ss:FontName="Arial" ss:Color="#000000"/><Interior ss:Color="#FFFFFF" ss:Pattern="Solid"/><NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/></Style>';l+='<Style ss:ID="defaultStrAlt" ss:Name="xls-style-97"><Alignment ss:Horizontal="Left" ss:Vertical="Bottom"/><Borders><Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/></Borders><Font ss:FontName="Arial" ss:Color="#000000"/><Interior ss:Color="#eaf4f9" ss:Pattern="Solid"/></Style>';l+='<Style ss:ID="defaultNumAlt" ss:Name="xls-style-96"><Alignment ss:Horizontal="Left" ss:Vertical="Bottom"/><Borders><Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/><Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="#AAAAAA"/></Borders><Font ss:FontName="Arial" ss:Color="#000000"/><Interior ss:Color="#eaf4f9" ss:Pattern="Solid"/><NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/></Style>';l+=m||"";l+="</Styles>";l+=n||"";l+="</Workbook>";return l}e.exportExcel=function(m){a=e.extend({},a,m);var n=[];var l;return d()}})(jQuery);